# ğŸ”¥ MDFlare

**ë‚´ ë§ˆí¬ë‹¤ìš´ í´ë”ë¥¼ ì›¹ì—ì„œ ì—´ë‹¤.**

ë¡œì»¬ ë§ˆí¬ë‹¤ìš´ í´ë”ë¥¼ í´ë¼ìš°ë“œì™€ ì‹¤ì‹œê°„ ë™ê¸°í™”í•˜ê³ , ì–´ë””ì„œë“  ë¸Œë¼ìš°ì €ë¡œ í¸ì§‘.

ğŸŒ **https://mdflare.com**

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¸Œë¼ìš°ì €     â”‚â”€â”€â”€â”€â–¶â”‚  Cloudflare Pages â”‚â”€â”€â”€â”€â–¶â”‚  Cloudflare  â”‚
â”‚  (React)     â”‚â—€â”€â”€â”€â”€â”‚  + Workers API    â”‚â—€â”€â”€â”€â”€â”‚  R2 Storage  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                        â–²
                    Firebaseâ”‚Realtime DB             â”‚ ë™ê¸°í™”
                     (ë³€ê²½ ê°ì§€)                      â”‚
                           â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  macOS Agent â”‚
                                              â”‚  (Swift)     â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                                              â”‚  ë¡œì»¬ í´ë”   â”‚
                                              â”‚  ~/notes/    â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì„œë¹„ìŠ¤ êµ¬ì„±

| ê¸°ëŠ¥ | ì„œë¹„ìŠ¤ | ìš©ë„ | ë¹„ìš© |
|------|--------|------|------|
| **ì›¹ í˜¸ìŠ¤íŒ…** | Cloudflare Pages | React í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ | ë¬´ë£Œ |
| **API** | Cloudflare Workers (Pages Functions) | REST API ì—”ë“œí¬ì¸íŠ¸ | ë¬´ë£Œ (100K req/ì¼) |
| **íŒŒì¼ ì €ì¥** | Cloudflare R2 | ë§ˆí¬ë‹¤ìš´ íŒŒì¼ + ìœ ì € ë°ì´í„° ì €ì¥ | ë¬´ë£Œ (10GB) |
| **ë„ë©”ì¸** | Cloudflare DNS | mdflare.com | $10.44/ë…„ |
| **ë¡œê·¸ì¸** | Firebase Authentication | Google ì†Œì…œ ë¡œê·¸ì¸ | ë¬´ë£Œ |
| **ì‹¤ì‹œê°„ ë™ê¸°í™”** | Firebase Realtime Database | íŒŒì¼ ë³€ê²½ ê°ì§€ ë¦¬ìŠ¤ë„ˆ | ë¬´ë£Œ (100 ë™ì‹œì—°ê²°) |
| **ì•± ë‹¤ìš´ë¡œë“œ** | Firebase Storage (US) | macOS ì—ì´ì „íŠ¸ zip í˜¸ìŠ¤íŒ… | ë¬´ë£Œ (5GB) |
| **ì†ŒìŠ¤ ê´€ë¦¬** | GitHub | ì½”ë“œ ì €ì¥ì†Œ | ë¬´ë£Œ |

### ë¹„ìš© ìš”ì•½
- **ì´ˆê¸°:** ë„ë©”ì¸ $10.44/ë…„ë§Œ. ë‚˜ë¨¸ì§€ ì „ë¶€ ë¬´ë£Œ
- **ìœ ì € 1,000ëª…:** $0/ì›”
- **ìœ ì € 10,000ëª…:** R2 $1.35/ì›”

---

## ì£¼ìš” ê¸°ëŠ¥

- âœï¸ **ë§ˆí¬ë‹¤ìš´ ì—ë””í„°** â€” CodeMirror 6, ìë™ ì €ì¥ (1ì´ˆ debounce)
- ğŸ“‚ **íŒŒì¼/í´ë” ê´€ë¦¬** â€” ìƒì„±, ì´ë¦„ ë³€ê²½, ì‚­ì œ, ë³µì œ
- ğŸ–±ï¸ **ë“œë˜ê·¸ & ë“œë¡­** â€” íŒŒì¼ì„ í´ë”ë¡œ ëŒì–´ì„œ ì´ë™
- â‹® **ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´** â€” ë°ìŠ¤í¬íƒ‘ ìš°í´ë¦­ + ëª¨ë°”ì¼ â‹® ë²„íŠ¼
- ğŸ“ **í´ë” í¬ì»¤ìŠ¤** â€” í´ë” ì„ íƒ í›„ ê·¸ ì•ˆì— íŒŒì¼ ìƒì„±
- ğŸ‘ï¸ **ë¯¸ë¦¬ë³´ê¸°** â€” Edit / Split / Preview 3ëª¨ë“œ
- ğŸ“‹ **í´ë¦½ë³´ë“œ ë³µì‚¬** â€” ì›í´ë¦­ ì „ì²´ ë‚´ìš© ë³µì‚¬
- ğŸ”„ **ì‹¤ì‹œê°„ ë™ê¸°í™”** â€” Firebase Realtime DBë¡œ ë‹¤ì¤‘ í´ë¼ì´ì–¸íŠ¸ ê°ì§€
- ğŸ–¥ï¸ **macOS ì—ì´ì „íŠ¸** â€” ë©”ë‰´ë°” ì•±, ë¡œì»¬ í´ë” ì–‘ë°©í–¥ ë™ê¸°í™”
- ğŸ“± **ëª¨ë°”ì¼ ë°˜ì‘í˜•** â€” ì ‘ì´ì‹ ì‚¬ì´ë“œë°”, í„°ì¹˜ ìµœì í™”
- ğŸ” **Google ë¡œê·¸ì¸** â€” Firebase Authentication
- ğŸ² **ìƒ˜í”Œ ìƒì„±** â€” í…ŒìŠ¤íŠ¸ìš© íŒŒì¼/í´ë” ì›í´ë¦­ ìƒì„±
- ğŸ†“ **ê±°ì˜ ë¬´ë£Œ** â€” ë„ë©”ì¸ $10.44/ë…„, ë‚˜ë¨¸ì§€ ì „ë¶€ ë¬´ë£Œ í‹°ì–´

---

## ê¸°ëŠ¥ë³„ ìƒì„¸

### ğŸ” ë¡œê·¸ì¸ â€” Firebase Authentication
- Google OAuth ì†Œì…œ ë¡œê·¸ì¸
- ì²« ë¡œê·¸ì¸ ì‹œ username ì„¤ì • (`/setup`)
- ì›¹ í´ë¼ì´ì–¸íŠ¸: Firebase SDK (`signInWithPopup`)
- ì—ì´ì „íŠ¸: API í† í° ì¸ì¦ (`Authorization: Bearer {token}`)

### ğŸ“ íŒŒì¼ ì €ì¥ â€” Cloudflare R2
- ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ì›ë³¸ ì €ì¥ (ì ˆëŒ€ì €ì¥ì†Œ)
- ìœ ì € ë°ì´í„°: `_users/`, `_usernames/`, `_tokens/`
- R2 í‚¤ êµ¬ì¡°: `{uid}/{íŒŒì¼ê²½ë¡œ}`
- ì „ì†¡ë£Œ ë¬´ë£Œ (egress free)

### ğŸ”„ ì‹¤ì‹œê°„ ë™ê¸°í™” â€” Firebase Realtime Database
- íŒŒì¼ ì €ì¥ ì‹œ ë©”íƒ€ë°ì´í„°(í•´ì‹œ, í¬ê¸°, ì‹œê°„) ê¸°ë¡
- ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ ë¦¬ìŠ¤ë„ˆë¡œ ë³€ê²½ ê°ì§€
- DB êµ¬ì¡°: `mdflare/{userId}/files/{safeKey}`
- ë¬´ë£Œ 100 ë™ì‹œì—°ê²° â†’ ~2,000ëª…ê¹Œì§€ ì»¤ë²„

### ğŸ“¥ ì•± ë‹¤ìš´ë¡œë“œ â€” Firebase Storage
- macOS ì—ì´ì „íŠ¸ zip íŒŒì¼ í˜¸ìŠ¤íŒ…
- US ë¦¬ì „ (ê¸€ë¡œë²Œ ì ‘ê·¼ ìµœì í™”)
- ê²½ë¡œ: `downloads/mac/MDFlare-Agent-{version}-mac.zip`
- ë‹¤ìš´ë¡œë“œ í˜ì´ì§€: `mdflare.com/download`

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
mdflare/
â”œâ”€â”€ web/                    # ì›¹ í”„ë¡ íŠ¸ì—”ë“œ + API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx         # ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ firebase.js     # Firebase ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Landing.jsx     # ëœë”© í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ SetUsername.jsx # username ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ Workspace.jsx   # ì—ë””í„° (CodeMirror 6)
â”‚   â”‚   â”‚   â””â”€â”€ Download.jsx    # ë‹¤ìš´ë¡œë“œ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”œâ”€â”€ functions/          # Cloudflare Pages Functions (API)
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ [userId]/
â”‚   â”‚       â”‚   â”œâ”€â”€ _middleware.js  # usernameâ†’uid ë¦¬ì¡¸ë¸Œ + ì¸ì¦
â”‚   â”‚       â”‚   â”œâ”€â”€ files.js        # GET íŒŒì¼ íŠ¸ë¦¬
â”‚   â”‚       â”‚   â”œâ”€â”€ file/[[path]].js # GET/PUT/DELETE íŒŒì¼
â”‚   â”‚       â”‚   â””â”€â”€ rename.js       # POST ì´ë¦„ ë³€ê²½
â”‚   â”‚       â”œâ”€â”€ username/
â”‚   â”‚       â”‚   â”œâ”€â”€ check.js    # GET ì¤‘ë³µ ì²´í¬
â”‚   â”‚       â”‚   â”œâ”€â”€ register.js # POST ë“±ë¡
â”‚   â”‚       â”‚   â””â”€â”€ resolve.js  # GET uidâ†”username ì¡°íšŒ
â”‚   â”‚       â””â”€â”€ token/
â”‚   â”‚           â””â”€â”€ generate.js # POST API í† í° ë°œê¸‰
â”‚   â””â”€â”€ dist/               # ë¹Œë“œ ê²°ê³¼ë¬¼
â”œâ”€â”€ server/                 # ë¡œì»¬ ê°œë°œ ì„œë²„ (Express)
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ agent/                  # macOS ë™ê¸°í™” ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ MDFlareAgent/
â”‚   â”‚   â”œâ”€â”€ Sources/
â”‚   â”‚   â”‚   â”œâ”€â”€ main.swift  # ì „ì²´ ì½”ë“œ (AppKit ë©”ë‰´ë°” ì•±)
â”‚   â”‚   â”‚   â””â”€â”€ Info.plist
â”‚   â”‚   â””â”€â”€ project.yml     # xcodegen ì„¤ì •
â”‚   â”œâ”€â”€ build/              # ë¹Œë“œ ê²°ê³¼ë¬¼ (.app, .zip)
â”‚   â””â”€â”€ deploy.sh           # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ (ë²„ì „ì—…+ë¹Œë“œ+ì—…ë¡œë“œ)
â””â”€â”€ .env                    # Cloudflare API Token
```

---

## ì¸ì¦ íë¦„

### ì›¹ í´ë¼ì´ì–¸íŠ¸
```
Google ë¡œê·¸ì¸ â†’ Firebase Auth â†’ uid íšë“
â†’ ì“°ê¸° ìš”ì²­ ì‹œ X-Firebase-UID í—¤ë” ì „ì†¡
â†’ ë¯¸ë“¤ì›¨ì–´ì—ì„œ uid ê²€ì¦
```

### macOS ì—ì´ì „íŠ¸
```
ì›¹ì—ì„œ ğŸ”‘ API í† í° ë°œê¸‰ â†’ ì—ì´ì „íŠ¸ì— ì…ë ¥
â†’ ì“°ê¸° ìš”ì²­ ì‹œ Authorization: Bearer {token} ì „ì†¡
â†’ ë¯¸ë“¤ì›¨ì–´ì—ì„œ _tokens/{token} ì¡°íšŒ â†’ uid ê²€ì¦
```

### ê¶Œí•œ
- **GET (ì½ê¸°):** ê³µê°œ â€” ëˆ„êµ¬ë‚˜ ë§ˆí¬ë‹¤ìš´ ì—´ëŒ ê°€ëŠ¥
- **PUT/POST/DELETE (ì“°ê¸°):** ì¸ì¦ í•„ìˆ˜ â€” ë³¸ì¸ë§Œ ìˆ˜ì • ê°€ëŠ¥

---

## ê°œë°œ

### ë¡œì»¬ ì„œë²„
```bash
cd server && npm install && node index.js
# ğŸ”¥ http://localhost:3001
```

### ì›¹ í”„ë¡ íŠ¸ì—”ë“œ
```bash
cd web && npm install && npm run dev
# âš¡ http://localhost:5173
```

### ë°°í¬
```bash
# ì›¹ ë°°í¬
cd web && npm run build
CLOUDFLARE_API_TOKEN=xxx npx wrangler pages deploy dist --project-name=mdflare

# ì—ì´ì „íŠ¸ ë°°í¬ (íŒ¨ì¹˜ ë²„ì „ ìë™ ì¦ê°€)
cd agent && ./deploy.sh
```

---

## ì„¤ì •

### Cloudflare
- **Account ID:** 271486b4840b7f2c5af74ed0f11b87d0
- **R2 ë²„í‚·:** mdflare-vault
- **Pages í”„ë¡œì íŠ¸:** mdflare
- **ë„ë©”ì¸:** mdflare.com â†’ mdflare.pages.dev

### Firebase (markdownflare)
- **í”„ë¡œì íŠ¸:** markdownflare
- **Auth:** Google ë¡œê·¸ì¸
- **Realtime DB:** markdownflare-default-rtdb
- **Storage:** markdownflare.firebasestorage.app (US)

---

## ìˆ˜ìµ ëª¨ë¸

| í”Œëœ | ê°€ê²© | ìš©ëŸ‰ | ê¸°ëŠ¥ |
|------|------|------|------|
| Free | $0 | 10MB | ê¸°ë³¸ í¸ì§‘ |
| Pro | $5/ì›” | 1GB | ë²„ì „ íˆìŠ¤í† ë¦¬ |
| Team | $12/ì›”/ì¸ | ë¬´ì œí•œ | ê³µë™ í¸ì§‘ |

---

## ë¼ì´ì„ ìŠ¤

MIT Â© 2026 MDFlare
