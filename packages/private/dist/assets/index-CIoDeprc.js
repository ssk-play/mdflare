(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function X1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wy={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function f5(){if(lC)return dc;lC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return dc.Fragment=e,dc.jsx=t,dc.jsxs=t,dc}var aC;function d5(){return aC||(aC=1,wy.exports=f5()),wy.exports}var V=d5(),ky={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function p5(){if(oC)return Ne;oC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function k(M,Y,T){this.props=M,this.context=Y,this.refs=w,this.updater=T||S}k.prototype.isReactComponent={},k.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=k.prototype;function C(M,Y,T){this.props=M,this.context=Y,this.refs=w,this.updater=T||S}var X=C.prototype=new E;X.constructor=C,v(X,k.prototype),X.isPureReactComponent=!0;var N=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function te(M,Y,T){var he=T.ref;return{$$typeof:n,type:M,key:Y,ref:he!==void 0?he:null,props:T}}function L(M,Y){return te(M.type,Y,M.props)}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function H(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(T){return Y[T]})}var fe=/\/+/g;function oe(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?H(""+M.key):Y.toString(36)}function ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,Y,T,he,_e){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case n:case e:Be=!0;break;case d:return Be=M._init,B(Be(M._payload),Y,T,he,_e)}}if(Be)return _e=_e(M),Be=he===""?"."+oe(M,0):he,N(_e)?(T="",Be!=null&&(T=Be.replace(fe,"$&/")+"/"),B(_e,Y,T,"",function(kn){return kn})):_e!=null&&(F(_e)&&(_e=L(_e,T+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(fe,"$&/")+"/")+Be)),Y.push(_e)),1;Be=0;var pt=he===""?".":he+":";if(N(M))for(var rt=0;rt<M.length;rt++)he=M[rt],xe=pt+oe(he,rt),Be+=B(he,Y,T,xe,_e);else if(rt=y(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(he=M.next()).done;)he=he.value,xe=pt+oe(he,rt++),Be+=B(he,Y,T,xe,_e);else if(xe==="object"){if(typeof M.then=="function")return B(ne(M),Y,T,he,_e);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(M,Y,T){if(M==null)return M;var he=[],_e=0;return B(M,he,"","",function(xe){return Y.call(T,xe,_e++)}),he}function me(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(T){(M._status===0||M._status===-1)&&(M._status=1,M._result=T)},function(T){(M._status===0||M._status===-1)&&(M._status=2,M._result=T)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},A={map:ie,forEach:function(M,Y,T){ie(M,function(){Y.apply(this,arguments)},T)},count:function(M){var Y=0;return ie(M,function(){Y++}),Y},toArray:function(M){return ie(M,function(Y){return Y})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=m,Ne.Children=A,Ne.Component=k,Ne.Fragment=t,Ne.Profiler=r,Ne.PureComponent=C,Ne.StrictMode=i,Ne.Suspense=c,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,Y,T){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=v({},M.props),_e=M.key;if(Y!=null)for(xe in Y.key!==void 0&&(_e=""+Y.key),Y)!ae.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(he[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)he.children=T;else if(1<xe){for(var Be=Array(xe),pt=0;pt<xe;pt++)Be[pt]=arguments[pt+2];he.children=Be}return te(M.type,_e,he)},Ne.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Ne.createElement=function(M,Y,T){var he,_e={},xe=null;if(Y!=null)for(he in Y.key!==void 0&&(xe=""+Y.key),Y)ae.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=Y[he]);var Be=arguments.length-2;if(Be===1)_e.children=T;else if(1<Be){for(var pt=Array(Be),rt=0;rt<Be;rt++)pt[rt]=arguments[rt+2];_e.children=pt}if(M&&M.defaultProps)for(he in Be=M.defaultProps,Be)_e[he]===void 0&&(_e[he]=Be[he]);return te(M,xe,_e)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:o,render:M}},Ne.isValidElement=F,Ne.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:me}},Ne.memo=function(M,Y){return{$$typeof:f,type:M,compare:Y===void 0?null:Y}},Ne.startTransition=function(M){var Y=I.T,T={};I.T=T;try{var he=M(),_e=I.S;_e!==null&&_e(T,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(P,be)}catch(xe){be(xe)}finally{Y!==null&&T.types!==null&&(Y.types=T.types),I.T=Y}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(M){return I.H.use(M)},Ne.useActionState=function(M,Y,T){return I.H.useActionState(M,Y,T)},Ne.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Ne.useContext=function(M){return I.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Ne.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Ne.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(M,Y,T){return I.H.useImperativeHandle(M,Y,T)},Ne.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Ne.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Ne.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Ne.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Ne.useReducer=function(M,Y,T){return I.H.useReducer(M,Y,T)},Ne.useRef=function(M){return I.H.useRef(M)},Ne.useState=function(M){return I.H.useState(M)},Ne.useSyncExternalStore=function(M,Y,T){return I.H.useSyncExternalStore(M,Y,T)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.4",Ne}var uC;function Z1(){return uC||(uC=1,ky.exports=p5()),ky.exports}var D=Z1(),_y={exports:{}},pc={},Cy={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function m5(){return cC||(cC=1,(function(n){function e(B,ie){var me=B.length;B.push(ie);e:for(;0<me;){var be=me-1>>>1,A=B[be];if(0<r(A,ie))B[be]=ie,B[me]=A,me=be;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var ie=B[0],me=B.pop();if(me!==ie){B[0]=me;e:for(var be=0,A=B.length,M=A>>>1;be<M;){var Y=2*(be+1)-1,T=B[Y],he=Y+1,_e=B[he];if(0>r(T,me))he<A&&0>r(_e,T)?(B[be]=_e,B[he]=me,be=he):(B[be]=T,B[Y]=me,be=Y);else if(he<A&&0>r(_e,me))B[be]=_e,B[he]=me,be=he;else break e}}return ie}function r(B,ie){var me=B.sortIndex-ie.sortIndex;return me!==0?me:B.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();n.unstable_now=function(){return l.now()-o}}var c=[],f=[],d=1,m=null,g=3,y=!1,S=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function X(B){for(var ie=t(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=B)i(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=t(f)}}function N(B){if(v=!1,X(B),!S)if(t(c)!==null)S=!0,P||(P=!0,H());else{var ie=t(f);ie!==null&&ne(N,ie.startTime-B)}}var P=!1,I=-1,ae=5,te=-1;function L(){return w?!0:!(n.unstable_now()-te<ae)}function F(){if(w=!1,P){var B=n.unstable_now();te=B;var ie=!0;try{e:{S=!1,v&&(v=!1,E(I),I=-1),y=!0;var me=g;try{t:{for(X(B),m=t(c);m!==null&&!(m.expirationTime>B&&L());){var be=m.callback;if(typeof be=="function"){m.callback=null,g=m.priorityLevel;var A=be(m.expirationTime<=B);if(B=n.unstable_now(),typeof A=="function"){m.callback=A,X(B),ie=!0;break t}m===t(c)&&i(c),X(B)}else i(c);m=t(c)}if(m!==null)ie=!0;else{var M=t(f);M!==null&&ne(N,M.startTime-B),ie=!1}}break e}finally{m=null,g=me,y=!1}ie=void 0}}finally{ie?H():P=!1}}}var H;if(typeof C=="function")H=function(){C(F)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,oe=fe.port2;fe.port1.onmessage=F,H=function(){oe.postMessage(null)}}else H=function(){k(F,0)};function ne(B,ie){I=k(function(){B(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(B){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var me=g;g=ie;try{return B()}finally{g=me}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var me=g;g=B;try{return ie()}finally{g=me}},n.unstable_scheduleCallback=function(B,ie,me){var be=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=me+A,B={id:d++,callback:ie,priorityLevel:B,startTime:me,expirationTime:A,sortIndex:-1},me>be?(B.sortIndex=me,e(f,B),t(c)===null&&B===t(f)&&(v?(E(I),I=-1):v=!0,ne(N,me-be))):(B.sortIndex=A,e(c,B),S||y||(S=!0,P||(P=!0,H()))),B},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(B){var ie=g;return function(){var me=g;g=ie;try{return B.apply(this,arguments)}finally{g=me}}}})(Ty)),Ty}var hC;function g5(){return hC||(hC=1,Cy.exports=m5()),Cy.exports}var Ey={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function O5(){if(fC)return Cn;fC=1;var n=Z1();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:c,containerInfo:f,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,d)},Cn.flushSync=function(c){var f=l.T,d=i.p;try{if(l.T=null,i.p=2,c)return c()}finally{l.T=f,i.p=d,i.d.f()}},Cn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Cn.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Cn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):d==="script"&&i.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Cn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Cn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin);i.d.L(c,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Cn.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=o(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Cn.requestFormReset=function(c){i.d.r(c)},Cn.unstable_batchedUpdates=function(c,f){return c(f)},Cn.useFormState=function(c,f,d){return l.H.useFormState(c,f,d)},Cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Cn.version="19.2.4",Cn}var dC;function y5(){if(dC)return Ey.exports;dC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ey.exports=O5(),Ey.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function b5(){if(pC)return pc;pC=1;var n=g5(),e=Z1(),t=y5();function i(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function l(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function o(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(i(188))}function f(a){var u=a.alternate;if(!u){if(u=s(a),u===null)throw Error(i(188));return u!==a?null:a}for(var h=a,p=u;;){var O=h.return;if(O===null)break;var b=O.alternate;if(b===null){if(p=O.return,p!==null){h=p;continue}break}if(O.child===b.child){for(b=O.child;b;){if(b===h)return c(O),a;if(b===p)return c(O),u;b=b.sibling}throw Error(i(188))}if(h.return!==p.return)h=O,p=b;else{for(var x=!1,_=O.child;_;){if(_===h){x=!0,h=O,p=b;break}if(_===p){x=!0,p=O,h=b;break}_=_.sibling}if(!x){for(_=b.child;_;){if(_===h){x=!0,h=b,p=O;break}if(_===p){x=!0,p=b,h=O;break}_=_.sibling}if(!x)throw Error(i(189))}}if(h.alternate!==p)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList";case te:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case C:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case X:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return u=a.displayName||null,u!==null?u:oe(a.type)||"Memo";case ae:u=a._payload,a=a._init;try{return oe(a(u))}catch{}}return null}var ne=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],A=-1;function M(a){return{current:a}}function Y(a){0>A||(a.current=be[A],be[A]=null,A--)}function T(a,u){A++,be[A]=a.current,a.current=u}var he=M(null),_e=M(null),xe=M(null),Be=M(null);function pt(a,u){switch(T(xe,u),T(_e,a),T(he,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?Q_(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=Q_(u),a=A_(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(he),T(he,a)}function rt(){Y(he),Y(_e),Y(xe)}function kn(a){a.memoizedState!==null&&T(Be,a);var u=he.current,h=A_(u,a.type);u!==h&&(T(_e,a),T(he,h))}function Ui(a){_e.current===a&&(Y(he),Y(_e)),Be.current===a&&(Y(Be),uc._currentValue=me)}var Dt,Bt;function ji(a){if(Dt===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Dt=u&&u[1]||"",Bt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+a+Bt}var cr=!1;function Xt(a,u){if(!a||cr)return"";cr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(u){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var q=W}Reflect.construct(a,[],re)}else{try{re.call()}catch(W){q=W}a.call(re.prototype)}}else{try{throw Error()}catch(W){q=W}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&q&&typeof W.stack=="string")return[W.stack,q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),x=b[0],_=b[1];if(x&&_){var R=x.split(`
`),j=_.split(`
`);for(O=p=0;p<R.length&&!R[p].includes("DetermineComponentFrameRoot");)p++;for(;O<j.length&&!j[O].includes("DetermineComponentFrameRoot");)O++;if(p===R.length||O===j.length)for(p=R.length-1,O=j.length-1;1<=p&&0<=O&&R[p]!==j[O];)O--;for(;1<=p&&0<=O;p--,O--)if(R[p]!==j[O]){if(p!==1||O!==1)do if(p--,O--,0>O||R[p]!==j[O]){var G=`
`+R[p].replace(" at new "," at ");return a.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",a.displayName)),G}while(1<=p&&0<=O);break}}}finally{cr=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?ji(h):""}function hr(a,u){switch(a.tag){case 26:case 27:case 5:return ji(a.type);case 16:return ji("Lazy");case 13:return a.child!==u&&u!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Xt(a.type,!1);case 11:return Xt(a.type.render,!1);case 1:return Xt(a.type,!0);case 31:return ji("Activity");default:return""}}function Lr(a){try{var u="",h=null;do u+=hr(a,h),h=a,a=a.return;while(a);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Cs=Object.prototype.hasOwnProperty,Nr=n.unstable_scheduleCallback,Cl=n.unstable_cancelCallback,Tl=n.unstable_shouldYield,El=n.unstable_requestPaint,fn=n.unstable_now,ka=n.unstable_getCurrentPriorityLevel,J=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,Re=n.unstable_NormalPriority,Ue=n.unstable_LowPriority,tt=n.unstable_IdlePriority,_n=n.log,qi=n.unstable_setDisableYieldValue,dn=null,U=null;function se(a){if(typeof _n=="function"&&qi(a),U&&typeof U.setStrictMode=="function")try{U.setStrictMode(dn,a)}catch{}}var le=Math.clz32?Math.clz32:Le,ye=Math.log,Te=Math.LN2;function Le(a){return a>>>=0,a===0?32:31-(ye(a)/Te|0)|0}var mt=256,Nn=262144,Vi=4194304;function Ql(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function hf(a,u,h){var p=a.pendingLanes;if(p===0)return 0;var O=0,b=a.suspendedLanes,x=a.pingedLanes;a=a.warmLanes;var _=p&134217727;return _!==0?(p=_&~b,p!==0?O=Ql(p):(x&=_,x!==0?O=Ql(x):h||(h=_&~a,h!==0&&(O=Ql(h))))):(_=p&~b,_!==0?O=Ql(_):x!==0?O=Ql(x):h||(h=p&~a,h!==0&&(O=Ql(h)))),O===0?0:u!==0&&u!==O&&(u&b)===0&&(b=O&-O,h=u&-u,b>=h||b===32&&(h&4194048)!==0)?u:O}function xu(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function JL(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(){var a=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),a}function hg(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function wu(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function eN(a,u,h,p,O,b){var x=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var _=a.entanglements,R=a.expirationTimes,j=a.hiddenUpdates;for(h=x&~h;0<h;){var G=31-le(h),re=1<<G;_[G]=0,R[G]=-1;var q=j[G];if(q!==null)for(j[G]=null,G=0;G<q.length;G++){var W=q[G];W!==null&&(W.lane&=-536870913)}h&=~re}p!==0&&hx(a,p,0),b!==0&&O===0&&a.tag!==0&&(a.suspendedLanes|=b&~(x&~u))}function hx(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var p=31-le(u);a.entangledLanes|=u,a.entanglements[p]=a.entanglements[p]|1073741824|h&261930}function fx(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var p=31-le(h),O=1<<p;O&u|a[p]&u&&(a[p]|=u),h&=~O}}function dx(a,u){var h=u&-u;return h=(h&42)!==0?1:fg(h),(h&(a.suspendedLanes|u))!==0?0:h}function fg(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dg(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function px(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:J_(a.type))}function mx(a,u){var h=ie.p;try{return ie.p=a,u()}finally{ie.p=h}}var Ts=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ts,zn="__reactProps$"+Ts,_a="__reactContainer$"+Ts,pg="__reactEvents$"+Ts,tN="__reactListeners$"+Ts,nN="__reactHandles$"+Ts,gx="__reactResources$"+Ts,ku="__reactMarker$"+Ts;function mg(a){delete a[pn],delete a[zn],delete a[pg],delete a[tN],delete a[nN]}function Ca(a){var u=a[pn];if(u)return u;for(var h=a.parentNode;h;){if(u=h[_a]||h[pn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=L_(a);a!==null;){if(h=a[pn])return h;a=L_(a)}return u}a=h,h=a.parentNode}return null}function Ta(a){if(a=a[pn]||a[_a]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function _u(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(i(33))}function Ea(a){var u=a[gx];return u||(u=a[gx]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function sn(a){a[ku]=!0}var Ox=new Set,yx={};function Al(a,u){Qa(a,u),Qa(a+"Capture",u)}function Qa(a,u){for(yx[a]=u,a=0;a<u.length;a++)Ox.add(u[a])}var iN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bx={},Sx={};function rN(a){return Cs.call(Sx,a)?!0:Cs.call(bx,a)?!1:iN.test(a)?Sx[a]=!0:(bx[a]=!0,!1)}function ff(a,u,h){if(rN(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var p=u.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function df(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function zr(a,u,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+p)}}function xi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function vx(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function sN(a,u,h){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,b=p.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return O.call(this)},set:function(x){h=""+x,b.call(this,x)}}),Object.defineProperty(a,u,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function gg(a){if(!a._valueTracker){var u=vx(a)?"checked":"value";a._valueTracker=sN(a,u,""+a[u])}}function xx(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),p="";return a&&(p=vx(a)?a.checked?"true":"false":a.value),a=p,a!==h?(u.setValue(a),!0):!1}function pf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var lN=/[\n"\\]/g;function wi(a){return a.replace(lN,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Og(a,u,h,p,O,b,x,_){a.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?a.type=x:a.removeAttribute("type"),u!=null?x==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+xi(u)):a.value!==""+xi(u)&&(a.value=""+xi(u)):x!=="submit"&&x!=="reset"||a.removeAttribute("value"),u!=null?yg(a,x,xi(u)):h!=null?yg(a,x,xi(h)):p!=null&&a.removeAttribute("value"),O==null&&b!=null&&(a.defaultChecked=!!b),O!=null&&(a.checked=O&&typeof O!="function"&&typeof O!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.name=""+xi(_):a.removeAttribute("name")}function wx(a,u,h,p,O,b,x,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),u!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||u!=null)){gg(a);return}h=h!=null?""+xi(h):"",u=u!=null?""+xi(u):h,_||u===a.value||(a.value=u),a.defaultValue=u}p=p??O,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=_?a.checked:!!p,a.defaultChecked=!!p,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.name=x),gg(a)}function yg(a,u,h){u==="number"&&pf(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Aa(a,u,h,p){if(a=a.options,u){u={};for(var O=0;O<h.length;O++)u["$"+h[O]]=!0;for(h=0;h<a.length;h++)O=u.hasOwnProperty("$"+a[h].value),a[h].selected!==O&&(a[h].selected=O),O&&p&&(a[h].defaultSelected=!0)}else{for(h=""+xi(h),u=null,O=0;O<a.length;O++){if(a[O].value===h){a[O].selected=!0,p&&(a[O].defaultSelected=!0);return}u!==null||a[O].disabled||(u=a[O])}u!==null&&(u.selected=!0)}}function kx(a,u,h){if(u!=null&&(u=""+xi(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+xi(h):""}function _x(a,u,h,p){if(u==null){if(p!=null){if(h!=null)throw Error(i(92));if(ne(p)){if(1<p.length)throw Error(i(93));p=p[0]}h=p}h==null&&(h=""),u=h}h=xi(u),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p),gg(a)}function Pa(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var aN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cx(a,u,h){var p=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":p?a.setProperty(u,h):typeof h!="number"||h===0||aN.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function Tx(a,u,h){if(u!=null&&typeof u!="object")throw Error(i(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||u!=null&&u.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var O in u)p=u[O],u.hasOwnProperty(O)&&h[O]!==p&&Cx(a,O,p)}else for(var b in u)u.hasOwnProperty(b)&&Cx(a,b,u[b])}function bg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mf(a){return uN.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Br(){}var Sg=null;function vg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ra=null,Ma=null;function Ex(a){var u=Ta(a);if(u&&(a=u.stateNode)){var h=a[zn]||null;e:switch(a=u.stateNode,u.type){case"input":if(Og(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+wi(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var p=h[u];if(p!==a&&p.form===a.form){var O=p[zn]||null;if(!O)throw Error(i(90));Og(p,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(u=0;u<h.length;u++)p=h[u],p.form===a.form&&xx(p)}break e;case"textarea":kx(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Aa(a,!!h.multiple,u,!1)}}}var xg=!1;function Qx(a,u,h){if(xg)return a(u,h);xg=!0;try{var p=a(u);return p}finally{if(xg=!1,(Ra!==null||Ma!==null)&&(nd(),Ra&&(u=Ra,a=Ma,Ma=Ra=null,Ex(u),a)))for(u=0;u<a.length;u++)Ex(a[u])}}function Cu(a,u){var h=a.stateNode;if(h===null)return null;var p=h[zn]||null;if(p===null)return null;h=p[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,u,typeof h));return h}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=!1;if(Xr)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){wg=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{wg=!1}var Es=null,kg=null,gf=null;function Ax(){if(gf)return gf;var a,u=kg,h=u.length,p,O="value"in Es?Es.value:Es.textContent,b=O.length;for(a=0;a<h&&u[a]===O[a];a++);var x=h-a;for(p=1;p<=x&&u[h-p]===O[b-p];p++);return gf=O.slice(a,1<p?1-p:void 0)}function Of(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function yf(){return!0}function Px(){return!1}function Bn(a){function u(h,p,O,b,x){this._reactName=h,this._targetInst=O,this.type=p,this.nativeEvent=b,this.target=x,this.currentTarget=null;for(var _ in a)a.hasOwnProperty(_)&&(h=a[_],this[_]=h?h(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?yf:Px,this.isPropagationStopped=Px,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=yf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=yf)},persist:function(){},isPersistent:yf}),u}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=Bn(Pl),Eu=m({},Pl,{view:0,detail:0}),cN=Bn(Eu),_g,Cg,Qu,Sf=m({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qu&&(Qu&&a.type==="mousemove"?(_g=a.screenX-Qu.screenX,Cg=a.screenY-Qu.screenY):Cg=_g=0,Qu=a),_g)},movementY:function(a){return"movementY"in a?a.movementY:Cg}}),Rx=Bn(Sf),hN=m({},Sf,{dataTransfer:0}),fN=Bn(hN),dN=m({},Eu,{relatedTarget:0}),Tg=Bn(dN),pN=m({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),mN=Bn(pN),gN=m({},Pl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ON=Bn(gN),yN=m({},Pl,{data:0}),Mx=Bn(yN),bN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xN(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=vN[a])?!!u[a]:!1}function Eg(){return xN}var wN=m({},Eu,{key:function(a){if(a.key){var u=bN[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Of(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?SN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(a){return a.type==="keypress"?Of(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Of(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),kN=Bn(wN),_N=m({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=Bn(_N),CN=m({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),TN=Bn(CN),EN=m({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),QN=Bn(EN),AN=m({},Sf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),PN=Bn(AN),RN=m({},Pl,{newState:0,oldState:0}),MN=Bn(RN),$N=[9,13,27,32],Qg=Xr&&"CompositionEvent"in window,Au=null;Xr&&"documentMode"in document&&(Au=document.documentMode);var DN=Xr&&"TextEvent"in window&&!Au,Dx=Xr&&(!Qg||Au&&8<Au&&11>=Au),Ix=" ",Lx=!1;function Nx(a,u){switch(a){case"keyup":return $N.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $a=!1;function IN(a,u){switch(a){case"compositionend":return zx(u);case"keypress":return u.which!==32?null:(Lx=!0,Ix);case"textInput":return a=u.data,a===Ix&&Lx?null:a;default:return null}}function LN(a,u){if($a)return a==="compositionend"||!Qg&&Nx(a,u)?(a=Ax(),gf=kg=Es=null,$a=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Dx&&u.locale!=="ko"?null:u.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bx(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!NN[a.type]:u==="textarea"}function Xx(a,u,h,p){Ra?Ma?Ma.push(p):Ma=[p]:Ra=p,u=ud(u,"onChange"),0<u.length&&(h=new bf("onChange","change",null,h,p),a.push({event:h,listeners:u}))}var Pu=null,Ru=null;function zN(a){w_(a,0)}function vf(a){var u=_u(a);if(xx(u))return a}function Zx(a,u){if(a==="change")return u}var Ux=!1;if(Xr){var Ag;if(Xr){var Pg="oninput"in document;if(!Pg){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),Pg=typeof jx.oninput=="function"}Ag=Pg}else Ag=!1;Ux=Ag&&(!document.documentMode||9<document.documentMode)}function qx(){Pu&&(Pu.detachEvent("onpropertychange",Vx),Ru=Pu=null)}function Vx(a){if(a.propertyName==="value"&&vf(Ru)){var u=[];Xx(u,Ru,a,vg(a)),Qx(zN,u)}}function BN(a,u,h){a==="focusin"?(qx(),Pu=u,Ru=h,Pu.attachEvent("onpropertychange",Vx)):a==="focusout"&&qx()}function XN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vf(Ru)}function ZN(a,u){if(a==="click")return vf(u)}function UN(a,u){if(a==="input"||a==="change")return vf(u)}function jN(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ri=typeof Object.is=="function"?Object.is:jN;function Mu(a,u){if(ri(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),p=Object.keys(u);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var O=h[p];if(!Cs.call(u,O)||!ri(a[O],u[O]))return!1}return!0}function Yx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Wx(a,u){var h=Yx(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=u&&p>=u)return{node:h,offset:u-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Yx(h)}}function Hx(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Hx(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Fx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=pf(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=pf(a.document)}return u}function Rg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var qN=Xr&&"documentMode"in document&&11>=document.documentMode,Da=null,Mg=null,$u=null,$g=!1;function Gx(a,u,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$g||Da==null||Da!==pf(p)||(p=Da,"selectionStart"in p&&Rg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$u&&Mu($u,p)||($u=p,p=ud(Mg,"onSelect"),0<p.length&&(u=new bf("onSelect","select",null,u,h),a.push({event:u,listeners:p}),u.target=Da)))}function Rl(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var Ia={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},Dg={},Kx={};Xr&&(Kx=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ml(a){if(Dg[a])return Dg[a];if(!Ia[a])return a;var u=Ia[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in Kx)return Dg[a]=u[h];return a}var Jx=Ml("animationend"),ew=Ml("animationiteration"),tw=Ml("animationstart"),VN=Ml("transitionrun"),YN=Ml("transitionstart"),WN=Ml("transitioncancel"),nw=Ml("transitionend"),iw=new Map,Ig="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ig.push("scrollEnd");function Yi(a,u){iw.set(a,u),Al(u,[a])}var xf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ki=[],La=0,Lg=0;function wf(){for(var a=La,u=Lg=La=0;u<a;){var h=ki[u];ki[u++]=null;var p=ki[u];ki[u++]=null;var O=ki[u];ki[u++]=null;var b=ki[u];if(ki[u++]=null,p!==null&&O!==null){var x=p.pending;x===null?O.next=O:(O.next=x.next,x.next=O),p.pending=O}b!==0&&rw(h,O,b)}}function kf(a,u,h,p){ki[La++]=a,ki[La++]=u,ki[La++]=h,ki[La++]=p,Lg|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Ng(a,u,h,p){return kf(a,u,h,p),_f(a)}function $l(a,u){return kf(a,null,null,u),_f(a)}function rw(a,u,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var O=!1,b=a.return;b!==null;)b.childLanes|=h,p=b.alternate,p!==null&&(p.childLanes|=h),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(O=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,O&&u!==null&&(O=31-le(h),a=b.hiddenUpdates,p=a[O],p===null?a[O]=[u]:p.push(u),u.lane=h|536870912),b):null}function _f(a){if(50<nc)throw nc=0,YO=null,Error(i(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var Na={};function HN(a,u,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(a,u,h,p){return new HN(a,u,h,p)}function zg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zr(a,u){var h=a.alternate;return h===null?(h=si(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function sw(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Cf(a,u,h,p,O,b){var x=0;if(p=a,typeof a=="function")zg(a)&&(x=1);else if(typeof a=="string")x=e5(a,h,he.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case te:return a=si(31,h,u,O),a.elementType=te,a.lanes=b,a;case v:return Dl(h.children,O,b,u);case w:x=8,O|=24;break;case k:return a=si(12,h,u,O|2),a.elementType=k,a.lanes=b,a;case N:return a=si(13,h,u,O),a.elementType=N,a.lanes=b,a;case P:return a=si(19,h,u,O),a.elementType=P,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:x=10;break e;case E:x=9;break e;case X:x=11;break e;case I:x=14;break e;case ae:x=16,p=null;break e}x=29,h=Error(i(130,a===null?"null":typeof a,"")),p=null}return u=si(x,h,u,O),u.elementType=a,u.type=p,u.lanes=b,u}function Dl(a,u,h,p){return a=si(7,a,p,u),a.lanes=h,a}function Bg(a,u,h){return a=si(6,a,null,u),a.lanes=h,a}function lw(a){var u=si(18,null,null,0);return u.stateNode=a,u}function Xg(a,u,h){return u=si(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var aw=new WeakMap;function _i(a,u){if(typeof a=="object"&&a!==null){var h=aw.get(a);return h!==void 0?h:(u={value:a,source:u,stack:Lr(u)},aw.set(a,u),u)}return{value:a,source:u,stack:Lr(u)}}var za=[],Ba=0,Tf=null,Du=0,Ci=[],Ti=0,Qs=null,fr=1,dr="";function Ur(a,u){za[Ba++]=Du,za[Ba++]=Tf,Tf=a,Du=u}function ow(a,u,h){Ci[Ti++]=fr,Ci[Ti++]=dr,Ci[Ti++]=Qs,Qs=a;var p=fr;a=dr;var O=32-le(p)-1;p&=~(1<<O),h+=1;var b=32-le(u)+O;if(30<b){var x=O-O%5;b=(p&(1<<x)-1).toString(32),p>>=x,O-=x,fr=1<<32-le(u)+O|h<<O|p,dr=b+a}else fr=1<<b|h<<O|p,dr=a}function Zg(a){a.return!==null&&(Ur(a,1),ow(a,1,0))}function Ug(a){for(;a===Tf;)Tf=za[--Ba],za[Ba]=null,Du=za[--Ba],za[Ba]=null;for(;a===Qs;)Qs=Ci[--Ti],Ci[Ti]=null,dr=Ci[--Ti],Ci[Ti]=null,fr=Ci[--Ti],Ci[Ti]=null}function uw(a,u){Ci[Ti++]=fr,Ci[Ti++]=dr,Ci[Ti++]=Qs,fr=u.id,dr=u.overflow,Qs=a}var mn=null,At=null,et=!1,As=null,Ei=!1,jg=Error(i(519));function Ps(a){var u=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iu(_i(u,a)),jg}function cw(a){var u=a.stateNode,h=a.type,p=a.memoizedProps;switch(u[pn]=a,u[zn]=p,h){case"dialog":Ye("cancel",u),Ye("close",u);break;case"iframe":case"object":case"embed":Ye("load",u);break;case"video":case"audio":for(h=0;h<rc.length;h++)Ye(rc[h],u);break;case"source":Ye("error",u);break;case"img":case"image":case"link":Ye("error",u),Ye("load",u);break;case"details":Ye("toggle",u);break;case"input":Ye("invalid",u),wx(u,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ye("invalid",u);break;case"textarea":Ye("invalid",u),_x(u,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||p.suppressHydrationWarning===!0||T_(u.textContent,h)?(p.popover!=null&&(Ye("beforetoggle",u),Ye("toggle",u)),p.onScroll!=null&&Ye("scroll",u),p.onScrollEnd!=null&&Ye("scrollend",u),p.onClick!=null&&(u.onclick=Br),u=!0):u=!1,u||Ps(a,!0)}function hw(a){for(mn=a.return;mn;)switch(mn.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:mn=mn.return}}function Xa(a){if(a!==mn)return!1;if(!et)return hw(a),et=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||oy(a.type,a.memoizedProps)),h=!h),h&&At&&Ps(a),hw(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));At=I_(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));At=I_(a)}else u===27?(u=At,qs(a.type)?(a=dy,dy=null,At=a):At=u):At=mn?Ai(a.stateNode.nextSibling):null;return!0}function Il(){At=mn=null,et=!1}function qg(){var a=As;return a!==null&&(jn===null?jn=a:jn.push.apply(jn,a),As=null),a}function Iu(a){As===null?As=[a]:As.push(a)}var Vg=M(null),Ll=null,jr=null;function Rs(a,u,h){T(Vg,u._currentValue),u._currentValue=h}function qr(a){a._currentValue=Vg.current,Y(Vg)}function Yg(a,u,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,p!==null&&(p.childLanes|=u)):p!==null&&(p.childLanes&u)!==u&&(p.childLanes|=u),a===h)break;a=a.return}}function Wg(a,u,h,p){var O=a.child;for(O!==null&&(O.return=a);O!==null;){var b=O.dependencies;if(b!==null){var x=O.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=O;for(var R=0;R<u.length;R++)if(_.context===u[R]){b.lanes|=h,_=b.alternate,_!==null&&(_.lanes|=h),Yg(b.return,h,a),p||(x=null);break e}b=_.next}}else if(O.tag===18){if(x=O.return,x===null)throw Error(i(341));x.lanes|=h,b=x.alternate,b!==null&&(b.lanes|=h),Yg(x,h,a),x=null}else x=O.child;if(x!==null)x.return=O;else for(x=O;x!==null;){if(x===a){x=null;break}if(O=x.sibling,O!==null){O.return=x.return,x=O;break}x=x.return}O=x}}function Za(a,u,h,p){a=null;for(var O=u,b=!1;O!==null;){if(!b){if((O.flags&524288)!==0)b=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var x=O.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var _=O.type;ri(O.pendingProps.value,x.value)||(a!==null?a.push(_):a=[_])}}else if(O===Be.current){if(x=O.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(a!==null?a.push(uc):a=[uc])}O=O.return}a!==null&&Wg(u,a,h,p),u.flags|=262144}function Ef(a){for(a=a.firstContext;a!==null;){if(!ri(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Nl(a){Ll=a,jr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gn(a){return fw(Ll,a)}function Qf(a,u){return Ll===null&&Nl(a),fw(a,u)}function fw(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},jr===null){if(a===null)throw Error(i(308));jr=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else jr=jr.next=u;return h}var FN=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},GN=n.unstable_scheduleCallback,KN=n.unstable_NormalPriority,Vt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hg(){return{controller:new FN,data:new Map,refCount:0}}function Lu(a){a.refCount--,a.refCount===0&&GN(KN,function(){a.controller.abort()})}var Nu=null,Fg=0,Ua=0,ja=null;function JN(a,u){if(Nu===null){var h=Nu=[];Fg=0,Ua=JO(),ja={status:"pending",value:void 0,then:function(p){h.push(p)}}}return Fg++,u.then(dw,dw),u}function dw(){if(--Fg===0&&Nu!==null){ja!==null&&(ja.status="fulfilled");var a=Nu;Nu=null,Ua=0,ja=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function ez(a,u){var h=[],p={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return a.then(function(){p.status="fulfilled",p.value=u;for(var O=0;O<h.length;O++)(0,h[O])(u)},function(O){for(p.status="rejected",p.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),p}var pw=B.S;B.S=function(a,u){Gk=fn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&JN(a,u),pw!==null&&pw(a,u)};var zl=M(null);function Gg(){var a=zl.current;return a!==null?a:vt.pooledCache}function Af(a,u){u===null?T(zl,zl.current):T(zl,u.pool)}function mw(){var a=Gg();return a===null?null:{parent:Vt._currentValue,pool:a}}var qa=Error(i(460)),Kg=Error(i(474)),Pf=Error(i(542)),Rf={then:function(){}};function gw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ow(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(Br,Br),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,bw(a),a;default:if(typeof u.status=="string")u.then(Br,Br);else{if(a=vt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=u,a.status="pending",a.then(function(p){if(u.status==="pending"){var O=u;O.status="fulfilled",O.value=p}},function(p){if(u.status==="pending"){var O=u;O.status="rejected",O.reason=p}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,bw(a),a}throw Xl=u,qa}}function Bl(a){try{var u=a._init;return u(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Xl=h,qa):h}}var Xl=null;function yw(){if(Xl===null)throw Error(i(459));var a=Xl;return Xl=null,a}function bw(a){if(a===qa||a===Pf)throw Error(i(483))}var Va=null,zu=0;function Mf(a){var u=zu;return zu+=1,Va===null&&(Va=[]),Ow(Va,a,u)}function Bu(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function $f(a,u){throw u.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(u),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function Sw(a){function u(z,$){if(a){var Z=z.deletions;Z===null?(z.deletions=[$],z.flags|=16):Z.push($)}}function h(z,$){if(!a)return null;for(;$!==null;)u(z,$),$=$.sibling;return null}function p(z){for(var $=new Map;z!==null;)z.key!==null?$.set(z.key,z):$.set(z.index,z),z=z.sibling;return $}function O(z,$){return z=Zr(z,$),z.index=0,z.sibling=null,z}function b(z,$,Z){return z.index=Z,a?(Z=z.alternate,Z!==null?(Z=Z.index,Z<$?(z.flags|=67108866,$):Z):(z.flags|=67108866,$)):(z.flags|=1048576,$)}function x(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function _(z,$,Z,ee){return $===null||$.tag!==6?($=Bg(Z,z.mode,ee),$.return=z,$):($=O($,Z),$.return=z,$)}function R(z,$,Z,ee){var Qe=Z.type;return Qe===v?G(z,$,Z.props.children,ee,Z.key):$!==null&&($.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ae&&Bl(Qe)===$.type)?($=O($,Z.props),Bu($,Z),$.return=z,$):($=Cf(Z.type,Z.key,Z.props,null,z.mode,ee),Bu($,Z),$.return=z,$)}function j(z,$,Z,ee){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Xg(Z,z.mode,ee),$.return=z,$):($=O($,Z.children||[]),$.return=z,$)}function G(z,$,Z,ee,Qe){return $===null||$.tag!==7?($=Dl(Z,z.mode,ee,Qe),$.return=z,$):($=O($,Z),$.return=z,$)}function re(z,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Bg(""+$,z.mode,Z),$.return=z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return Z=Cf($.type,$.key,$.props,null,z.mode,Z),Bu(Z,$),Z.return=z,Z;case S:return $=Xg($,z.mode,Z),$.return=z,$;case ae:return $=Bl($),re(z,$,Z)}if(ne($)||H($))return $=Dl($,z.mode,Z,null),$.return=z,$;if(typeof $.then=="function")return re(z,Mf($),Z);if($.$$typeof===C)return re(z,Qf(z,$),Z);$f(z,$)}return null}function q(z,$,Z,ee){var Qe=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Qe!==null?null:_(z,$,""+Z,ee);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Qe?R(z,$,Z,ee):null;case S:return Z.key===Qe?j(z,$,Z,ee):null;case ae:return Z=Bl(Z),q(z,$,Z,ee)}if(ne(Z)||H(Z))return Qe!==null?null:G(z,$,Z,ee,null);if(typeof Z.then=="function")return q(z,$,Mf(Z),ee);if(Z.$$typeof===C)return q(z,$,Qf(z,Z),ee);$f(z,Z)}return null}function W(z,$,Z,ee,Qe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(Z)||null,_($,z,""+ee,Qe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return z=z.get(ee.key===null?Z:ee.key)||null,R($,z,ee,Qe);case S:return z=z.get(ee.key===null?Z:ee.key)||null,j($,z,ee,Qe);case ae:return ee=Bl(ee),W(z,$,Z,ee,Qe)}if(ne(ee)||H(ee))return z=z.get(Z)||null,G($,z,ee,Qe,null);if(typeof ee.then=="function")return W(z,$,Z,Mf(ee),Qe);if(ee.$$typeof===C)return W(z,$,Z,Qf($,ee),Qe);$f($,ee)}return null}function we(z,$,Z,ee){for(var Qe=null,lt=null,ke=$,Xe=$=0,Ke=null;ke!==null&&Xe<Z.length;Xe++){ke.index>Xe?(Ke=ke,ke=null):Ke=ke.sibling;var at=q(z,ke,Z[Xe],ee);if(at===null){ke===null&&(ke=Ke);break}a&&ke&&at.alternate===null&&u(z,ke),$=b(at,$,Xe),lt===null?Qe=at:lt.sibling=at,lt=at,ke=Ke}if(Xe===Z.length)return h(z,ke),et&&Ur(z,Xe),Qe;if(ke===null){for(;Xe<Z.length;Xe++)ke=re(z,Z[Xe],ee),ke!==null&&($=b(ke,$,Xe),lt===null?Qe=ke:lt.sibling=ke,lt=ke);return et&&Ur(z,Xe),Qe}for(ke=p(ke);Xe<Z.length;Xe++)Ke=W(ke,z,Xe,Z[Xe],ee),Ke!==null&&(a&&Ke.alternate!==null&&ke.delete(Ke.key===null?Xe:Ke.key),$=b(Ke,$,Xe),lt===null?Qe=Ke:lt.sibling=Ke,lt=Ke);return a&&ke.forEach(function(Fs){return u(z,Fs)}),et&&Ur(z,Xe),Qe}function Pe(z,$,Z,ee){if(Z==null)throw Error(i(151));for(var Qe=null,lt=null,ke=$,Xe=$=0,Ke=null,at=Z.next();ke!==null&&!at.done;Xe++,at=Z.next()){ke.index>Xe?(Ke=ke,ke=null):Ke=ke.sibling;var Fs=q(z,ke,at.value,ee);if(Fs===null){ke===null&&(ke=Ke);break}a&&ke&&Fs.alternate===null&&u(z,ke),$=b(Fs,$,Xe),lt===null?Qe=Fs:lt.sibling=Fs,lt=Fs,ke=Ke}if(at.done)return h(z,ke),et&&Ur(z,Xe),Qe;if(ke===null){for(;!at.done;Xe++,at=Z.next())at=re(z,at.value,ee),at!==null&&($=b(at,$,Xe),lt===null?Qe=at:lt.sibling=at,lt=at);return et&&Ur(z,Xe),Qe}for(ke=p(ke);!at.done;Xe++,at=Z.next())at=W(ke,z,Xe,at.value,ee),at!==null&&(a&&at.alternate!==null&&ke.delete(at.key===null?Xe:at.key),$=b(at,$,Xe),lt===null?Qe=at:lt.sibling=at,lt=at);return a&&ke.forEach(function(h5){return u(z,h5)}),et&&Ur(z,Xe),Qe}function yt(z,$,Z,ee){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Qe=Z.key;$!==null;){if($.key===Qe){if(Qe=Z.type,Qe===v){if($.tag===7){h(z,$.sibling),ee=O($,Z.props.children),ee.return=z,z=ee;break e}}else if($.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ae&&Bl(Qe)===$.type){h(z,$.sibling),ee=O($,Z.props),Bu(ee,Z),ee.return=z,z=ee;break e}h(z,$);break}else u(z,$);$=$.sibling}Z.type===v?(ee=Dl(Z.props.children,z.mode,ee,Z.key),ee.return=z,z=ee):(ee=Cf(Z.type,Z.key,Z.props,null,z.mode,ee),Bu(ee,Z),ee.return=z,z=ee)}return x(z);case S:e:{for(Qe=Z.key;$!==null;){if($.key===Qe)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){h(z,$.sibling),ee=O($,Z.children||[]),ee.return=z,z=ee;break e}else{h(z,$);break}else u(z,$);$=$.sibling}ee=Xg(Z,z.mode,ee),ee.return=z,z=ee}return x(z);case ae:return Z=Bl(Z),yt(z,$,Z,ee)}if(ne(Z))return we(z,$,Z,ee);if(H(Z)){if(Qe=H(Z),typeof Qe!="function")throw Error(i(150));return Z=Qe.call(Z),Pe(z,$,Z,ee)}if(typeof Z.then=="function")return yt(z,$,Mf(Z),ee);if(Z.$$typeof===C)return yt(z,$,Qf(z,Z),ee);$f(z,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,$!==null&&$.tag===6?(h(z,$.sibling),ee=O($,Z),ee.return=z,z=ee):(h(z,$),ee=Bg(Z,z.mode,ee),ee.return=z,z=ee),x(z)):h(z,$)}return function(z,$,Z,ee){try{zu=0;var Qe=yt(z,$,Z,ee);return Va=null,Qe}catch(ke){if(ke===qa||ke===Pf)throw ke;var lt=si(29,ke,null,z.mode);return lt.lanes=ee,lt.return=z,lt}finally{}}}var Zl=Sw(!0),vw=Sw(!1),Ms=!1;function Jg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eO(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $s(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ds(a,u,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ot&2)!==0){var O=p.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),p.pending=u,u=_f(a),rw(a,null,h),u}return kf(a,p,u,h),_f(a)}function Xu(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var p=u.lanes;p&=a.pendingLanes,h|=p,u.lanes=h,fx(a,h)}}function tO(a,u){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var O=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var x={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?O=b=x:b=b.next=x,h=h.next}while(h!==null);b===null?O=b=u:b=b.next=u}else O=b=u;h={baseState:p.baseState,firstBaseUpdate:O,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var nO=!1;function Zu(){if(nO){var a=ja;if(a!==null)throw a}}function Uu(a,u,h,p){nO=!1;var O=a.updateQueue;Ms=!1;var b=O.firstBaseUpdate,x=O.lastBaseUpdate,_=O.shared.pending;if(_!==null){O.shared.pending=null;var R=_,j=R.next;R.next=null,x===null?b=j:x.next=j,x=R;var G=a.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==x&&(_===null?G.firstBaseUpdate=j:_.next=j,G.lastBaseUpdate=R))}if(b!==null){var re=O.baseState;x=0,G=j=R=null,_=b;do{var q=_.lane&-536870913,W=q!==_.lane;if(W?(Ge&q)===q:(p&q)===q){q!==0&&q===Ua&&(nO=!0),G!==null&&(G=G.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var we=a,Pe=_;q=u;var yt=h;switch(Pe.tag){case 1:if(we=Pe.payload,typeof we=="function"){re=we.call(yt,re,q);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Pe.payload,q=typeof we=="function"?we.call(yt,re,q):we,q==null)break e;re=m({},re,q);break e;case 2:Ms=!0}}q=_.callback,q!==null&&(a.flags|=64,W&&(a.flags|=8192),W=O.callbacks,W===null?O.callbacks=[q]:W.push(q))}else W={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(j=G=W,R=re):G=G.next=W,x|=q;if(_=_.next,_===null){if(_=O.shared.pending,_===null)break;W=_,_=W.next,W.next=null,O.lastBaseUpdate=W,O.shared.pending=null}}while(!0);G===null&&(R=re),O.baseState=R,O.firstBaseUpdate=j,O.lastBaseUpdate=G,b===null&&(O.shared.lanes=0),Bs|=x,a.lanes=x,a.memoizedState=re}}function xw(a,u){if(typeof a!="function")throw Error(i(191,a));a.call(u)}function ww(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)xw(h[a],u)}var Ya=M(null),Df=M(0);function kw(a,u){a=es,T(Df,a),T(Ya,u),es=a|u.baseLanes}function iO(){T(Df,es),T(Ya,Ya.current)}function rO(){es=Df.current,Y(Ya),Y(Df)}var li=M(null),Qi=null;function Is(a){var u=a.alternate;T(Zt,Zt.current&1),T(li,a),Qi===null&&(u===null||Ya.current!==null||u.memoizedState!==null)&&(Qi=a)}function sO(a){T(Zt,Zt.current),T(li,a),Qi===null&&(Qi=a)}function _w(a){a.tag===22?(T(Zt,Zt.current),T(li,a),Qi===null&&(Qi=a)):Ls()}function Ls(){T(Zt,Zt.current),T(li,li.current)}function ai(a){Y(li),Qi===a&&(Qi=null),Y(Zt)}var Zt=M(0);function If(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||hy(h)||fy(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Vr=0,ze=null,gt=null,Yt=null,Lf=!1,Wa=!1,Ul=!1,Nf=0,ju=0,Ha=null,tz=0;function Lt(){throw Error(i(321))}function lO(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!ri(a[h],u[h]))return!1;return!0}function aO(a,u,h,p,O,b){return Vr=b,ze=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,B.H=a===null||a.memoizedState===null?ok:xO,Ul=!1,b=h(p,O),Ul=!1,Wa&&(b=Tw(u,h,p,O)),Cw(a),b}function Cw(a){B.H=Yu;var u=gt!==null&&gt.next!==null;if(Vr=0,Yt=gt=ze=null,Lf=!1,ju=0,Ha=null,u)throw Error(i(300));a===null||Wt||(a=a.dependencies,a!==null&&Ef(a)&&(Wt=!0))}function Tw(a,u,h,p){ze=a;var O=0;do{if(Wa&&(Ha=null),ju=0,Wa=!1,25<=O)throw Error(i(301));if(O+=1,Yt=gt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=uk,b=u(h,p)}while(Wa);return b}function nz(){var a=B.H,u=a.useState()[0];return u=typeof u.then=="function"?qu(u):u,a=a.useState()[0],(gt!==null?gt.memoizedState:null)!==a&&(ze.flags|=1024),u}function oO(){var a=Nf!==0;return Nf=0,a}function uO(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function cO(a){if(Lf){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Lf=!1}Vr=0,Yt=gt=ze=null,Wa=!1,ju=Nf=0,Ha=null}function Mn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ze.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function Ut(){if(gt===null){var a=ze.alternate;a=a!==null?a.memoizedState:null}else a=gt.next;var u=Yt===null?ze.memoizedState:Yt.next;if(u!==null)Yt=u,gt=a;else{if(a===null)throw ze.alternate===null?Error(i(467)):Error(i(310));gt=a,a={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Yt===null?ze.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(a){var u=ju;return ju+=1,Ha===null&&(Ha=[]),a=Ow(Ha,a,u),u=ze,(Yt===null?u.memoizedState:Yt.next)===null&&(u=u.alternate,B.H=u===null||u.memoizedState===null?ok:xO),a}function Bf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return qu(a);if(a.$$typeof===C)return gn(a)}throw Error(i(438,String(a)))}function hO(a){var u=null,h=ze.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var p=ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(u={data:p.data.map(function(O){return O.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=zf(),ze.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),p=0;p<a;p++)h[p]=L;return u.index++,h}function Yr(a,u){return typeof u=="function"?u(a):u}function Xf(a){var u=Ut();return fO(u,gt,a)}function fO(a,u,h){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=h;var O=a.baseQueue,b=p.pending;if(b!==null){if(O!==null){var x=O.next;O.next=b.next,b.next=x}u.baseQueue=O=b,p.pending=null}if(b=a.baseState,O===null)a.memoizedState=b;else{u=O.next;var _=x=null,R=null,j=u,G=!1;do{var re=j.lane&-536870913;if(re!==j.lane?(Ge&re)===re:(Vr&re)===re){var q=j.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),re===Ua&&(G=!0);else if((Vr&q)===q){j=j.next,q===Ua&&(G=!0);continue}else re={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(_=R=re,x=b):R=R.next=re,ze.lanes|=q,Bs|=q;re=j.action,Ul&&h(b,re),b=j.hasEagerState?j.eagerState:h(b,re)}else q={lane:re,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(_=R=q,x=b):R=R.next=q,ze.lanes|=re,Bs|=re;j=j.next}while(j!==null&&j!==u);if(R===null?x=b:R.next=_,!ri(b,a.memoizedState)&&(Wt=!0,G&&(h=ja,h!==null)))throw h;a.memoizedState=b,a.baseState=x,a.baseQueue=R,p.lastRenderedState=b}return O===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function dO(a){var u=Ut(),h=u.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var p=h.dispatch,O=h.pending,b=u.memoizedState;if(O!==null){h.pending=null;var x=O=O.next;do b=a(b,x.action),x=x.next;while(x!==O);ri(b,u.memoizedState)||(Wt=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),h.lastRenderedState=b}return[b,p]}function Ew(a,u,h){var p=ze,O=Ut(),b=et;if(b){if(h===void 0)throw Error(i(407));h=h()}else h=u();var x=!ri((gt||O).memoizedState,h);if(x&&(O.memoizedState=h,Wt=!0),O=O.queue,gO(Pw.bind(null,p,O,a),[a]),O.getSnapshot!==u||x||Yt!==null&&Yt.memoizedState.tag&1){if(p.flags|=2048,Fa(9,{destroy:void 0},Aw.bind(null,p,O,h,u),null),vt===null)throw Error(i(349));b||(Vr&127)!==0||Qw(p,u,h)}return h}function Qw(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=ze.updateQueue,u===null?(u=zf(),ze.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function Aw(a,u,h,p){u.value=h,u.getSnapshot=p,Rw(u)&&Mw(a)}function Pw(a,u,h){return h(function(){Rw(u)&&Mw(a)})}function Rw(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!ri(a,h)}catch{return!0}}function Mw(a){var u=$l(a,2);u!==null&&qn(u,a,2)}function pO(a){var u=Mn();if(typeof a=="function"){var h=a;if(a=h(),Ul){se(!0);try{h()}finally{se(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},u}function $w(a,u,h,p){return a.baseState=h,fO(a,gt,typeof p=="function"?p:Yr)}function iz(a,u,h,p,O){if(jf(a))throw Error(i(485));if(a=u.action,a!==null){var b={payload:O,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){b.listeners.push(x)}};B.T!==null?h(!0):b.isTransition=!1,p(b),h=u.pending,h===null?(b.next=u.pending=b,Dw(u,b)):(b.next=h.next,u.pending=h.next=b)}}function Dw(a,u){var h=u.action,p=u.payload,O=a.state;if(u.isTransition){var b=B.T,x={};B.T=x;try{var _=h(O,p),R=B.S;R!==null&&R(x,_),Iw(a,u,_)}catch(j){mO(a,u,j)}finally{b!==null&&x.types!==null&&(b.types=x.types),B.T=b}}else try{b=h(O,p),Iw(a,u,b)}catch(j){mO(a,u,j)}}function Iw(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){Lw(a,u,p)},function(p){return mO(a,u,p)}):Lw(a,u,h)}function Lw(a,u,h){u.status="fulfilled",u.value=h,Nw(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,Dw(a,h)))}function mO(a,u,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do u.status="rejected",u.reason=h,Nw(u),u=u.next;while(u!==p)}a.action=null}function Nw(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function zw(a,u){return u}function Bw(a,u){if(et){var h=vt.formState;if(h!==null){e:{var p=ze;if(et){if(At){t:{for(var O=At,b=Ei;O.nodeType!==8;){if(!b){O=null;break t}if(O=Ai(O.nextSibling),O===null){O=null;break t}}b=O.data,O=b==="F!"||b==="F"?O:null}if(O){At=Ai(O.nextSibling),p=O.data==="F!";break e}}Ps(p)}p=!1}p&&(u=h[0])}}return h=Mn(),h.memoizedState=h.baseState=u,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zw,lastRenderedState:u},h.queue=p,h=sk.bind(null,ze,p),p.dispatch=h,p=pO(!1),b=vO.bind(null,ze,!1,p.queue),p=Mn(),O={state:u,dispatch:null,action:a,pending:null},p.queue=O,h=iz.bind(null,ze,O,b,h),O.dispatch=h,p.memoizedState=a,[u,h,!1]}function Xw(a){var u=Ut();return Zw(u,gt,a)}function Zw(a,u,h){if(u=fO(a,u,zw)[0],a=Xf(Yr)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var p=qu(u)}catch(x){throw x===qa?Pf:x}else p=u;u=Ut();var O=u.queue,b=O.dispatch;return h!==u.memoizedState&&(ze.flags|=2048,Fa(9,{destroy:void 0},rz.bind(null,O,h),null)),[p,b,a]}function rz(a,u){a.action=u}function Uw(a){var u=Ut(),h=gt;if(h!==null)return Zw(u,h,a);Ut(),u=u.memoizedState,h=Ut();var p=h.queue.dispatch;return h.memoizedState=a,[u,p,!1]}function Fa(a,u,h,p){return a={tag:a,create:h,deps:p,inst:u,next:null},u=ze.updateQueue,u===null&&(u=zf(),ze.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,u.lastEffect=a),a}function jw(){return Ut().memoizedState}function Zf(a,u,h,p){var O=Mn();ze.flags|=a,O.memoizedState=Fa(1|u,{destroy:void 0},h,p===void 0?null:p)}function Uf(a,u,h,p){var O=Ut();p=p===void 0?null:p;var b=O.memoizedState.inst;gt!==null&&p!==null&&lO(p,gt.memoizedState.deps)?O.memoizedState=Fa(u,b,h,p):(ze.flags|=a,O.memoizedState=Fa(1|u,b,h,p))}function qw(a,u){Zf(8390656,8,a,u)}function gO(a,u){Uf(2048,8,a,u)}function sz(a){ze.flags|=4;var u=ze.updateQueue;if(u===null)u=zf(),ze.updateQueue=u,u.events=[a];else{var h=u.events;h===null?u.events=[a]:h.push(a)}}function Vw(a){var u=Ut().memoizedState;return sz({ref:u,nextImpl:a}),function(){if((ot&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}function Yw(a,u){return Uf(4,2,a,u)}function Ww(a,u){return Uf(4,4,a,u)}function Hw(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Fw(a,u,h){h=h!=null?h.concat([a]):null,Uf(4,4,Hw.bind(null,u,a),h)}function OO(){}function Gw(a,u){var h=Ut();u=u===void 0?null:u;var p=h.memoizedState;return u!==null&&lO(u,p[1])?p[0]:(h.memoizedState=[a,u],a)}function Kw(a,u){var h=Ut();u=u===void 0?null:u;var p=h.memoizedState;if(u!==null&&lO(u,p[1]))return p[0];if(p=a(),Ul){se(!0);try{a()}finally{se(!1)}}return h.memoizedState=[p,u],p}function yO(a,u,h){return h===void 0||(Vr&1073741824)!==0&&(Ge&261930)===0?a.memoizedState=u:(a.memoizedState=h,a=Jk(),ze.lanes|=a,Bs|=a,h)}function Jw(a,u,h,p){return ri(h,u)?h:Ya.current!==null?(a=yO(a,h,p),ri(a,u)||(Wt=!0),a):(Vr&42)===0||(Vr&1073741824)!==0&&(Ge&261930)===0?(Wt=!0,a.memoizedState=h):(a=Jk(),ze.lanes|=a,Bs|=a,u)}function ek(a,u,h,p,O){var b=ie.p;ie.p=b!==0&&8>b?b:8;var x=B.T,_={};B.T=_,vO(a,!1,u,h);try{var R=O(),j=B.S;if(j!==null&&j(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=ez(R,p);Vu(a,u,G,ci(a))}else Vu(a,u,p,ci(a))}catch(re){Vu(a,u,{then:function(){},status:"rejected",reason:re},ci())}finally{ie.p=b,x!==null&&_.types!==null&&(x.types=_.types),B.T=x}}function lz(){}function bO(a,u,h,p){if(a.tag!==5)throw Error(i(476));var O=tk(a).queue;ek(a,O,u,me,h===null?lz:function(){return nk(a),h(p)})}function tk(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:me},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function nk(a){var u=tk(a);u.next===null&&(u=a.alternate.memoizedState),Vu(a,u.next.queue,{},ci())}function SO(){return gn(uc)}function ik(){return Ut().memoizedState}function rk(){return Ut().memoizedState}function az(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=ci();a=$s(h);var p=Ds(u,a,h);p!==null&&(qn(p,u,h),Xu(p,u,h)),u={cache:Hg()},a.payload=u;return}u=u.return}}function oz(a,u,h){var p=ci();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},jf(a)?lk(u,h):(h=Ng(a,u,h,p),h!==null&&(qn(h,a,p),ak(h,u,p)))}function sk(a,u,h){var p=ci();Vu(a,u,h,p)}function Vu(a,u,h,p){var O={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(jf(a))lk(u,O);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var x=u.lastRenderedState,_=b(x,h);if(O.hasEagerState=!0,O.eagerState=_,ri(_,x))return kf(a,u,O,0),vt===null&&wf(),!1}catch{}finally{}if(h=Ng(a,u,O,p),h!==null)return qn(h,a,p),ak(h,u,p),!0}return!1}function vO(a,u,h,p){if(p={lane:2,revertLane:JO(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jf(a)){if(u)throw Error(i(479))}else u=Ng(a,h,p,2),u!==null&&qn(u,a,2)}function jf(a){var u=a.alternate;return a===ze||u!==null&&u===ze}function lk(a,u){Wa=Lf=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function ak(a,u,h){if((h&4194048)!==0){var p=u.lanes;p&=a.pendingLanes,h|=p,u.lanes=h,fx(a,h)}}var Yu={readContext:gn,use:Bf,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Yu.useEffectEvent=Lt;var ok={readContext:gn,use:Bf,useCallback:function(a,u){return Mn().memoizedState=[a,u===void 0?null:u],a},useContext:gn,useEffect:qw,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,Zf(4194308,4,Hw.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Zf(4194308,4,a,u)},useInsertionEffect:function(a,u){Zf(4,2,a,u)},useMemo:function(a,u){var h=Mn();u=u===void 0?null:u;var p=a();if(Ul){se(!0);try{a()}finally{se(!1)}}return h.memoizedState=[p,u],p},useReducer:function(a,u,h){var p=Mn();if(h!==void 0){var O=h(u);if(Ul){se(!0);try{h(u)}finally{se(!1)}}}else O=u;return p.memoizedState=p.baseState=O,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:O},p.queue=a,a=a.dispatch=oz.bind(null,ze,a),[p.memoizedState,a]},useRef:function(a){var u=Mn();return a={current:a},u.memoizedState=a},useState:function(a){a=pO(a);var u=a.queue,h=sk.bind(null,ze,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:OO,useDeferredValue:function(a,u){var h=Mn();return yO(h,a,u)},useTransition:function(){var a=pO(!1);return a=ek.bind(null,ze,a.queue,!0,!1),Mn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var p=ze,O=Mn();if(et){if(h===void 0)throw Error(i(407));h=h()}else{if(h=u(),vt===null)throw Error(i(349));(Ge&127)!==0||Qw(p,u,h)}O.memoizedState=h;var b={value:h,getSnapshot:u};return O.queue=b,qw(Pw.bind(null,p,b,a),[a]),p.flags|=2048,Fa(9,{destroy:void 0},Aw.bind(null,p,b,h,u),null),h},useId:function(){var a=Mn(),u=vt.identifierPrefix;if(et){var h=dr,p=fr;h=(p&~(1<<32-le(p)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Nf++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=tz++,u="_"+u+"r_"+h.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:SO,useFormState:Bw,useActionState:Bw,useOptimistic:function(a){var u=Mn();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=vO.bind(null,ze,!0,h),h.dispatch=u,[a,u]},useMemoCache:hO,useCacheRefresh:function(){return Mn().memoizedState=az.bind(null,ze)},useEffectEvent:function(a){var u=Mn(),h={impl:a};return u.memoizedState=h,function(){if((ot&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},xO={readContext:gn,use:Bf,useCallback:Gw,useContext:gn,useEffect:gO,useImperativeHandle:Fw,useInsertionEffect:Yw,useLayoutEffect:Ww,useMemo:Kw,useReducer:Xf,useRef:jw,useState:function(){return Xf(Yr)},useDebugValue:OO,useDeferredValue:function(a,u){var h=Ut();return Jw(h,gt.memoizedState,a,u)},useTransition:function(){var a=Xf(Yr)[0],u=Ut().memoizedState;return[typeof a=="boolean"?a:qu(a),u]},useSyncExternalStore:Ew,useId:ik,useHostTransitionStatus:SO,useFormState:Xw,useActionState:Xw,useOptimistic:function(a,u){var h=Ut();return $w(h,gt,a,u)},useMemoCache:hO,useCacheRefresh:rk};xO.useEffectEvent=Vw;var uk={readContext:gn,use:Bf,useCallback:Gw,useContext:gn,useEffect:gO,useImperativeHandle:Fw,useInsertionEffect:Yw,useLayoutEffect:Ww,useMemo:Kw,useReducer:dO,useRef:jw,useState:function(){return dO(Yr)},useDebugValue:OO,useDeferredValue:function(a,u){var h=Ut();return gt===null?yO(h,a,u):Jw(h,gt.memoizedState,a,u)},useTransition:function(){var a=dO(Yr)[0],u=Ut().memoizedState;return[typeof a=="boolean"?a:qu(a),u]},useSyncExternalStore:Ew,useId:ik,useHostTransitionStatus:SO,useFormState:Uw,useActionState:Uw,useOptimistic:function(a,u){var h=Ut();return gt!==null?$w(h,gt,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:hO,useCacheRefresh:rk};uk.useEffectEvent=Vw;function wO(a,u,h,p){u=a.memoizedState,h=h(p,u),h=h==null?u:m({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var kO={enqueueSetState:function(a,u,h){a=a._reactInternals;var p=ci(),O=$s(p);O.payload=u,h!=null&&(O.callback=h),u=Ds(a,O,p),u!==null&&(qn(u,a,p),Xu(u,a,p))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var p=ci(),O=$s(p);O.tag=1,O.payload=u,h!=null&&(O.callback=h),u=Ds(a,O,p),u!==null&&(qn(u,a,p),Xu(u,a,p))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=ci(),p=$s(h);p.tag=2,u!=null&&(p.callback=u),u=Ds(a,p,h),u!==null&&(qn(u,a,h),Xu(u,a,h))}};function ck(a,u,h,p,O,b,x){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,x):u.prototype&&u.prototype.isPureReactComponent?!Mu(h,p)||!Mu(O,b):!0}function hk(a,u,h,p){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,p),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,p),u.state!==a&&kO.enqueueReplaceState(u,u.state,null)}function jl(a,u){var h=u;if("ref"in u){h={};for(var p in u)p!=="ref"&&(h[p]=u[p])}if(a=a.defaultProps){h===u&&(h=m({},h));for(var O in a)h[O]===void 0&&(h[O]=a[O])}return h}function fk(a){xf(a)}function dk(a){console.error(a)}function pk(a){xf(a)}function qf(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(p){setTimeout(function(){throw p})}}function mk(a,u,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function _O(a,u,h){return h=$s(h),h.tag=3,h.payload={element:null},h.callback=function(){qf(a,u)},h}function gk(a){return a=$s(a),a.tag=3,a}function Ok(a,u,h,p){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var b=p.value;a.payload=function(){return O(b)},a.callback=function(){mk(u,h,p)}}var x=h.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){mk(u,h,p),typeof O!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var _=p.stack;this.componentDidCatch(p.value,{componentStack:_!==null?_:""})})}function uz(a,u,h,p,O){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(u=h.alternate,u!==null&&Za(u,h,O,!0),h=li.current,h!==null){switch(h.tag){case 31:case 13:return Qi===null?id():h.alternate===null&&Nt===0&&(Nt=3),h.flags&=-257,h.flags|=65536,h.lanes=O,p===Rf?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([p]):u.add(p),FO(a,p,O)),!1;case 22:return h.flags|=65536,p===Rf?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([p]):h.add(p)),FO(a,p,O)),!1}throw Error(i(435,h.tag))}return FO(a,p,O),id(),!1}if(et)return u=li.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=O,p!==jg&&(a=Error(i(422),{cause:p}),Iu(_i(a,h)))):(p!==jg&&(u=Error(i(423),{cause:p}),Iu(_i(u,h))),a=a.current.alternate,a.flags|=65536,O&=-O,a.lanes|=O,p=_i(p,h),O=_O(a.stateNode,p,O),tO(a,O),Nt!==4&&(Nt=2)),!1;var b=Error(i(520),{cause:p});if(b=_i(b,h),tc===null?tc=[b]:tc.push(b),Nt!==4&&(Nt=2),u===null)return!0;p=_i(p,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=O&-O,h.lanes|=a,a=_O(h.stateNode,p,a),tO(h,a),!1;case 1:if(u=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xs===null||!Xs.has(b))))return h.flags|=65536,O&=-O,h.lanes|=O,O=gk(O),Ok(O,a,h,p),tO(h,O),!1}h=h.return}while(h!==null);return!1}var CO=Error(i(461)),Wt=!1;function On(a,u,h,p){u.child=a===null?vw(u,null,h,p):Zl(u,a.child,h,p)}function yk(a,u,h,p,O){h=h.render;var b=u.ref;if("ref"in p){var x={};for(var _ in p)_!=="ref"&&(x[_]=p[_])}else x=p;return Nl(u),p=aO(a,u,h,x,b,O),_=oO(),a!==null&&!Wt?(uO(a,u,O),Wr(a,u,O)):(et&&_&&Zg(u),u.flags|=1,On(a,u,p,O),u.child)}function bk(a,u,h,p,O){if(a===null){var b=h.type;return typeof b=="function"&&!zg(b)&&b.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=b,Sk(a,u,b,p,O)):(a=Cf(h.type,null,p,u,u.mode,O),a.ref=u.ref,a.return=u,u.child=a)}if(b=a.child,!$O(a,O)){var x=b.memoizedProps;if(h=h.compare,h=h!==null?h:Mu,h(x,p)&&a.ref===u.ref)return Wr(a,u,O)}return u.flags|=1,a=Zr(b,p),a.ref=u.ref,a.return=u,u.child=a}function Sk(a,u,h,p,O){if(a!==null){var b=a.memoizedProps;if(Mu(b,p)&&a.ref===u.ref)if(Wt=!1,u.pendingProps=p=b,$O(a,O))(a.flags&131072)!==0&&(Wt=!0);else return u.lanes=a.lanes,Wr(a,u,O)}return TO(a,u,h,p,O)}function vk(a,u,h,p){var O=p.children,b=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((u.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,a!==null){for(p=u.child=a.child,O=0;p!==null;)O=O|p.lanes|p.childLanes,p=p.sibling;p=O&~b}else p=0,u.child=null;return xk(a,u,b,h,p)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&Af(u,b!==null?b.cachePool:null),b!==null?kw(u,b):iO(),_w(u);else return p=u.lanes=536870912,xk(a,u,b!==null?b.baseLanes|h:h,h,p)}else b!==null?(Af(u,b.cachePool),kw(u,b),Ls(),u.memoizedState=null):(a!==null&&Af(u,null),iO(),Ls());return On(a,u,O,h),u.child}function Wu(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function xk(a,u,h,p,O){var b=Gg();return b=b===null?null:{parent:Vt._currentValue,pool:b},u.memoizedState={baseLanes:h,cachePool:b},a!==null&&Af(u,null),iO(),_w(u),a!==null&&Za(a,u,p,!0),u.childLanes=O,null}function Vf(a,u){return u=Wf({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function wk(a,u,h){return Zl(u,a.child,null,h),a=Vf(u,u.pendingProps),a.flags|=2,ai(u),u.memoizedState=null,a}function cz(a,u,h){var p=u.pendingProps,O=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(et){if(p.mode==="hidden")return a=Vf(u,p),u.lanes=536870912,Wu(null,a);if(sO(u),(a=At)?(a=D_(a,Ei),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Qs!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},h=lw(a),h.return=u,u.child=h,mn=u,At=null)):a=null,a===null)throw Ps(u);return u.lanes=536870912,null}return Vf(u,p)}var b=a.memoizedState;if(b!==null){var x=b.dehydrated;if(sO(u),O)if(u.flags&256)u.flags&=-257,u=wk(a,u,h);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(i(558));else if(Wt||Za(a,u,h,!1),O=(h&a.childLanes)!==0,Wt||O){if(p=vt,p!==null&&(x=dx(p,h),x!==0&&x!==b.retryLane))throw b.retryLane=x,$l(a,x),qn(p,a,x),CO;id(),u=wk(a,u,h)}else a=b.treeContext,At=Ai(x.nextSibling),mn=u,et=!0,As=null,Ei=!1,a!==null&&uw(u,a),u=Vf(u,p),u.flags|=4096;return u}return a=Zr(a.child,{mode:p.mode,children:p.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Yf(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function TO(a,u,h,p,O){return Nl(u),h=aO(a,u,h,p,void 0,O),p=oO(),a!==null&&!Wt?(uO(a,u,O),Wr(a,u,O)):(et&&p&&Zg(u),u.flags|=1,On(a,u,h,O),u.child)}function kk(a,u,h,p,O,b){return Nl(u),u.updateQueue=null,h=Tw(u,p,h,O),Cw(a),p=oO(),a!==null&&!Wt?(uO(a,u,b),Wr(a,u,b)):(et&&p&&Zg(u),u.flags|=1,On(a,u,h,b),u.child)}function _k(a,u,h,p,O){if(Nl(u),u.stateNode===null){var b=Na,x=h.contextType;typeof x=="object"&&x!==null&&(b=gn(x)),b=new h(p,b),u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=kO,u.stateNode=b,b._reactInternals=u,b=u.stateNode,b.props=p,b.state=u.memoizedState,b.refs={},Jg(u),x=h.contextType,b.context=typeof x=="object"&&x!==null?gn(x):Na,b.state=u.memoizedState,x=h.getDerivedStateFromProps,typeof x=="function"&&(wO(u,h,x,p),b.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(x=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),x!==b.state&&kO.enqueueReplaceState(b,b.state,null),Uu(u,p,b,O),Zu(),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308),p=!0}else if(a===null){b=u.stateNode;var _=u.memoizedProps,R=jl(h,_);b.props=R;var j=b.context,G=h.contextType;x=Na,typeof G=="object"&&G!==null&&(x=gn(G));var re=h.getDerivedStateFromProps;G=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=u.pendingProps!==_,G||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||j!==x)&&hk(u,b,p,x),Ms=!1;var q=u.memoizedState;b.state=q,Uu(u,p,b,O),Zu(),j=u.memoizedState,_||q!==j||Ms?(typeof re=="function"&&(wO(u,h,re,p),j=u.memoizedState),(R=Ms||ck(u,h,R,p,q,j,x))?(G||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(u.flags|=4194308)):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=p,u.memoizedState=j),b.props=p,b.state=j,b.context=x,p=R):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),p=!1)}else{b=u.stateNode,eO(a,u),x=u.memoizedProps,G=jl(h,x),b.props=G,re=u.pendingProps,q=b.context,j=h.contextType,R=Na,typeof j=="object"&&j!==null&&(R=gn(j)),_=h.getDerivedStateFromProps,(j=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==re||q!==R)&&hk(u,b,p,R),Ms=!1,q=u.memoizedState,b.state=q,Uu(u,p,b,O),Zu();var W=u.memoizedState;x!==re||q!==W||Ms||a!==null&&a.dependencies!==null&&Ef(a.dependencies)?(typeof _=="function"&&(wO(u,h,_,p),W=u.memoizedState),(G=Ms||ck(u,h,G,p,q,W,R)||a!==null&&a.dependencies!==null&&Ef(a.dependencies))?(j||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,W,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,W,R)),typeof b.componentDidUpdate=="function"&&(u.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof b.componentDidUpdate!="function"||x===a.memoizedProps&&q===a.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&q===a.memoizedState||(u.flags|=1024),u.memoizedProps=p,u.memoizedState=W),b.props=p,b.state=W,b.context=R,p=G):(typeof b.componentDidUpdate!="function"||x===a.memoizedProps&&q===a.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&q===a.memoizedState||(u.flags|=1024),p=!1)}return b=p,Yf(a,u),p=(u.flags&128)!==0,b||p?(b=u.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:b.render(),u.flags|=1,a!==null&&p?(u.child=Zl(u,a.child,null,O),u.child=Zl(u,null,h,O)):On(a,u,h,O),u.memoizedState=b.state,a=u.child):a=Wr(a,u,O),a}function Ck(a,u,h,p){return Il(),u.flags|=256,On(a,u,h,p),u.child}var EO={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function QO(a){return{baseLanes:a,cachePool:mw()}}function AO(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=ui),a}function Tk(a,u,h){var p=u.pendingProps,O=!1,b=(u.flags&128)!==0,x;if((x=b)||(x=a!==null&&a.memoizedState===null?!1:(Zt.current&2)!==0),x&&(O=!0,u.flags&=-129),x=(u.flags&32)!==0,u.flags&=-33,a===null){if(et){if(O?Is(u):Ls(),(a=At)?(a=D_(a,Ei),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Qs!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},h=lw(a),h.return=u,u.child=h,mn=u,At=null)):a=null,a===null)throw Ps(u);return fy(a)?u.lanes=32:u.lanes=536870912,null}var _=p.children;return p=p.fallback,O?(Ls(),O=u.mode,_=Wf({mode:"hidden",children:_},O),p=Dl(p,O,h,null),_.return=u,p.return=u,_.sibling=p,u.child=_,p=u.child,p.memoizedState=QO(h),p.childLanes=AO(a,x,h),u.memoizedState=EO,Wu(null,p)):(Is(u),PO(u,_))}var R=a.memoizedState;if(R!==null&&(_=R.dehydrated,_!==null)){if(b)u.flags&256?(Is(u),u.flags&=-257,u=RO(a,u,h)):u.memoizedState!==null?(Ls(),u.child=a.child,u.flags|=128,u=null):(Ls(),_=p.fallback,O=u.mode,p=Wf({mode:"visible",children:p.children},O),_=Dl(_,O,h,null),_.flags|=2,p.return=u,_.return=u,p.sibling=_,u.child=p,Zl(u,a.child,null,h),p=u.child,p.memoizedState=QO(h),p.childLanes=AO(a,x,h),u.memoizedState=EO,u=Wu(null,p));else if(Is(u),fy(_)){if(x=_.nextSibling&&_.nextSibling.dataset,x)var j=x.dgst;x=j,p=Error(i(419)),p.stack="",p.digest=x,Iu({value:p,source:null,stack:null}),u=RO(a,u,h)}else if(Wt||Za(a,u,h,!1),x=(h&a.childLanes)!==0,Wt||x){if(x=vt,x!==null&&(p=dx(x,h),p!==0&&p!==R.retryLane))throw R.retryLane=p,$l(a,p),qn(x,a,p),CO;hy(_)||id(),u=RO(a,u,h)}else hy(_)?(u.flags|=192,u.child=a.child,u=null):(a=R.treeContext,At=Ai(_.nextSibling),mn=u,et=!0,As=null,Ei=!1,a!==null&&uw(u,a),u=PO(u,p.children),u.flags|=4096);return u}return O?(Ls(),_=p.fallback,O=u.mode,R=a.child,j=R.sibling,p=Zr(R,{mode:"hidden",children:p.children}),p.subtreeFlags=R.subtreeFlags&65011712,j!==null?_=Zr(j,_):(_=Dl(_,O,h,null),_.flags|=2),_.return=u,p.return=u,p.sibling=_,u.child=p,Wu(null,p),p=u.child,_=a.child.memoizedState,_===null?_=QO(h):(O=_.cachePool,O!==null?(R=Vt._currentValue,O=O.parent!==R?{parent:R,pool:R}:O):O=mw(),_={baseLanes:_.baseLanes|h,cachePool:O}),p.memoizedState=_,p.childLanes=AO(a,x,h),u.memoizedState=EO,Wu(a.child,p)):(Is(u),h=a.child,a=h.sibling,h=Zr(h,{mode:"visible",children:p.children}),h.return=u,h.sibling=null,a!==null&&(x=u.deletions,x===null?(u.deletions=[a],u.flags|=16):x.push(a)),u.child=h,u.memoizedState=null,h)}function PO(a,u){return u=Wf({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Wf(a,u){return a=si(22,a,null,u),a.lanes=0,a}function RO(a,u,h){return Zl(u,a.child,null,h),a=PO(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function Ek(a,u,h){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u),Yg(a.return,u,h)}function MO(a,u,h,p,O,b){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:O,treeForkCount:b}:(x.isBackwards=u,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=h,x.tailMode=O,x.treeForkCount=b)}function Qk(a,u,h){var p=u.pendingProps,O=p.revealOrder,b=p.tail;p=p.children;var x=Zt.current,_=(x&2)!==0;if(_?(x=x&1|2,u.flags|=128):x&=1,T(Zt,x),On(a,u,p,h),p=et?Du:0,!_&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ek(a,h,u);else if(a.tag===19)Ek(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(O){case"forwards":for(h=u.child,O=null;h!==null;)a=h.alternate,a!==null&&If(a)===null&&(O=h),h=h.sibling;h=O,h===null?(O=u.child,u.child=null):(O=h.sibling,h.sibling=null),MO(u,!1,O,h,b,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=u.child,u.child=null;O!==null;){if(a=O.alternate,a!==null&&If(a)===null){u.child=O;break}a=O.sibling,O.sibling=h,h=O,O=a}MO(u,!0,h,null,b,p);break;case"together":MO(u,!1,null,null,void 0,p);break;default:u.memoizedState=null}return u.child}function Wr(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Bs|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(Za(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(i(153));if(u.child!==null){for(a=u.child,h=Zr(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Zr(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function $O(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&Ef(a)))}function hz(a,u,h){switch(u.tag){case 3:pt(u,u.stateNode.containerInfo),Rs(u,Vt,a.memoizedState.cache),Il();break;case 27:case 5:kn(u);break;case 4:pt(u,u.stateNode.containerInfo);break;case 10:Rs(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,sO(u),null;break;case 13:var p=u.memoizedState;if(p!==null)return p.dehydrated!==null?(Is(u),u.flags|=128,null):(h&u.child.childLanes)!==0?Tk(a,u,h):(Is(u),a=Wr(a,u,h),a!==null?a.sibling:null);Is(u);break;case 19:var O=(a.flags&128)!==0;if(p=(h&u.childLanes)!==0,p||(Za(a,u,h,!1),p=(h&u.childLanes)!==0),O){if(p)return Qk(a,u,h);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),T(Zt,Zt.current),p)break;return null;case 22:return u.lanes=0,vk(a,u,h,u.pendingProps);case 24:Rs(u,Vt,a.memoizedState.cache)}return Wr(a,u,h)}function Ak(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Wt=!0;else{if(!$O(a,h)&&(u.flags&128)===0)return Wt=!1,hz(a,u,h);Wt=(a.flags&131072)!==0}else Wt=!1,et&&(u.flags&1048576)!==0&&ow(u,Du,u.index);switch(u.lanes=0,u.tag){case 16:e:{var p=u.pendingProps;if(a=Bl(u.elementType),u.type=a,typeof a=="function")zg(a)?(p=jl(a,p),u.tag=1,u=_k(null,u,a,p,h)):(u.tag=0,u=TO(null,u,a,p,h));else{if(a!=null){var O=a.$$typeof;if(O===X){u.tag=11,u=yk(null,u,a,p,h);break e}else if(O===I){u.tag=14,u=bk(null,u,a,p,h);break e}}throw u=oe(a)||a,Error(i(306,u,""))}}return u;case 0:return TO(a,u,u.type,u.pendingProps,h);case 1:return p=u.type,O=jl(p,u.pendingProps),_k(a,u,p,O,h);case 3:e:{if(pt(u,u.stateNode.containerInfo),a===null)throw Error(i(387));p=u.pendingProps;var b=u.memoizedState;O=b.element,eO(a,u),Uu(u,p,null,h);var x=u.memoizedState;if(p=x.cache,Rs(u,Vt,p),p!==b.cache&&Wg(u,[Vt],h,!0),Zu(),p=x.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:x.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=Ck(a,u,p,h);break e}else if(p!==O){O=_i(Error(i(424)),u),Iu(O),u=Ck(a,u,p,h);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(At=Ai(a.firstChild),mn=u,et=!0,As=null,Ei=!0,h=vw(u,null,p,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Il(),p===O){u=Wr(a,u,h);break e}On(a,u,p,h)}u=u.child}return u;case 26:return Yf(a,u),a===null?(h=X_(u.type,null,u.pendingProps,null))?u.memoizedState=h:et||(h=u.type,a=u.pendingProps,p=cd(xe.current).createElement(h),p[pn]=u,p[zn]=a,yn(p,h,a),sn(p),u.stateNode=p):u.memoizedState=X_(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return kn(u),a===null&&et&&(p=u.stateNode=N_(u.type,u.pendingProps,xe.current),mn=u,Ei=!0,O=At,qs(u.type)?(dy=O,At=Ai(p.firstChild)):At=O),On(a,u,u.pendingProps.children,h),Yf(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&et&&((O=p=At)&&(p=Xz(p,u.type,u.pendingProps,Ei),p!==null?(u.stateNode=p,mn=u,At=Ai(p.firstChild),Ei=!1,O=!0):O=!1),O||Ps(u)),kn(u),O=u.type,b=u.pendingProps,x=a!==null?a.memoizedProps:null,p=b.children,oy(O,b)?p=null:x!==null&&oy(O,x)&&(u.flags|=32),u.memoizedState!==null&&(O=aO(a,u,nz,null,null,h),uc._currentValue=O),Yf(a,u),On(a,u,p,h),u.child;case 6:return a===null&&et&&((a=h=At)&&(h=Zz(h,u.pendingProps,Ei),h!==null?(u.stateNode=h,mn=u,At=null,a=!0):a=!1),a||Ps(u)),null;case 13:return Tk(a,u,h);case 4:return pt(u,u.stateNode.containerInfo),p=u.pendingProps,a===null?u.child=Zl(u,null,p,h):On(a,u,p,h),u.child;case 11:return yk(a,u,u.type,u.pendingProps,h);case 7:return On(a,u,u.pendingProps,h),u.child;case 8:return On(a,u,u.pendingProps.children,h),u.child;case 12:return On(a,u,u.pendingProps.children,h),u.child;case 10:return p=u.pendingProps,Rs(u,u.type,p.value),On(a,u,p.children,h),u.child;case 9:return O=u.type._context,p=u.pendingProps.children,Nl(u),O=gn(O),p=p(O),u.flags|=1,On(a,u,p,h),u.child;case 14:return bk(a,u,u.type,u.pendingProps,h);case 15:return Sk(a,u,u.type,u.pendingProps,h);case 19:return Qk(a,u,h);case 31:return cz(a,u,h);case 22:return vk(a,u,h,u.pendingProps);case 24:return Nl(u),p=gn(Vt),a===null?(O=Gg(),O===null&&(O=vt,b=Hg(),O.pooledCache=b,b.refCount++,b!==null&&(O.pooledCacheLanes|=h),O=b),u.memoizedState={parent:p,cache:O},Jg(u),Rs(u,Vt,O)):((a.lanes&h)!==0&&(eO(a,u),Uu(u,null,null,h),Zu()),O=a.memoizedState,b=u.memoizedState,O.parent!==p?(O={parent:p,cache:p},u.memoizedState=O,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=O),Rs(u,Vt,p)):(p=b.cache,Rs(u,Vt,p),p!==O.cache&&Wg(u,[Vt],h,!0))),On(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Hr(a){a.flags|=4}function DO(a,u,h,p,O){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(O&335544128)===O)if(a.stateNode.complete)a.flags|=8192;else if(i_())a.flags|=8192;else throw Xl=Rf,Kg}else a.flags&=-16777217}function Pk(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!V_(u))if(i_())a.flags|=8192;else throw Xl=Rf,Kg}function Hf(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?cx():536870912,a.lanes|=u,eo|=u)}function Hu(a,u){if(!et)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Pt(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(u)for(var O=a.child;O!==null;)h|=O.lanes|O.childLanes,p|=O.subtreeFlags&65011712,p|=O.flags&65011712,O.return=a,O=O.sibling;else for(O=a.child;O!==null;)h|=O.lanes|O.childLanes,p|=O.subtreeFlags,p|=O.flags,O.return=a,O=O.sibling;return a.subtreeFlags|=p,a.childLanes=h,u}function fz(a,u,h){var p=u.pendingProps;switch(Ug(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(u),null;case 1:return Pt(u),null;case 3:return h=u.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),qr(Vt),rt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Xa(u)?Hr(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,qg())),Pt(u),null;case 26:var O=u.type,b=u.memoizedState;return a===null?(Hr(u),b!==null?(Pt(u),Pk(u,b)):(Pt(u),DO(u,O,null,p,h))):b?b!==a.memoizedState?(Hr(u),Pt(u),Pk(u,b)):(Pt(u),u.flags&=-16777217):(a=a.memoizedProps,a!==p&&Hr(u),Pt(u),DO(u,O,a,p,h)),null;case 27:if(Ui(u),h=xe.current,O=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==p&&Hr(u);else{if(!p){if(u.stateNode===null)throw Error(i(166));return Pt(u),null}a=he.current,Xa(u)?cw(u):(a=N_(O,p,h),u.stateNode=a,Hr(u))}return Pt(u),null;case 5:if(Ui(u),O=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==p&&Hr(u);else{if(!p){if(u.stateNode===null)throw Error(i(166));return Pt(u),null}if(b=he.current,Xa(u))cw(u);else{var x=cd(xe.current);switch(b){case 1:b=x.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:b=x.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":b=x.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":b=x.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":b=x.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?x.createElement(O,{is:p.is}):x.createElement(O)}}b[pn]=u,b[zn]=p;e:for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)b.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break e;for(;x.sibling===null;){if(x.return===null||x.return===u)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}u.stateNode=b;e:switch(yn(b,O,p),O){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Hr(u)}}return Pt(u),DO(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,h),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==p&&Hr(u);else{if(typeof p!="string"&&u.stateNode===null)throw Error(i(166));if(a=xe.current,Xa(u)){if(a=u.stateNode,h=u.memoizedProps,p=null,O=mn,O!==null)switch(O.tag){case 27:case 5:p=O.memoizedProps}a[pn]=u,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||T_(a.nodeValue,h)),a||Ps(u,!0)}else a=cd(a).createTextNode(p),a[pn]=u,u.stateNode=a}return Pt(u),null;case 31:if(h=u.memoizedState,a===null||a.memoizedState!==null){if(p=Xa(u),h!==null){if(a===null){if(!p)throw Error(i(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[pn]=u}else Il(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Pt(u),a=!1}else h=qg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return u.flags&256?(ai(u),u):(ai(u),null);if((u.flags&128)!==0)throw Error(i(558))}return Pt(u),null;case 13:if(p=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(O=Xa(u),p!==null&&p.dehydrated!==null){if(a===null){if(!O)throw Error(i(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[pn]=u}else Il(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Pt(u),O=!1}else O=qg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=O),O=!0;if(!O)return u.flags&256?(ai(u),u):(ai(u),null)}return ai(u),(u.flags&128)!==0?(u.lanes=h,u):(h=p!==null,a=a!==null&&a.memoizedState!==null,h&&(p=u.child,O=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(O=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==O&&(p.flags|=2048)),h!==a&&h&&(u.child.flags|=8192),Hf(u,u.updateQueue),Pt(u),null);case 4:return rt(),a===null&&iy(u.stateNode.containerInfo),Pt(u),null;case 10:return qr(u.type),Pt(u),null;case 19:if(Y(Zt),p=u.memoizedState,p===null)return Pt(u),null;if(O=(u.flags&128)!==0,b=p.rendering,b===null)if(O)Hu(p,!1);else{if(Nt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(b=If(a),b!==null){for(u.flags|=128,Hu(p,!1),a=b.updateQueue,u.updateQueue=a,Hf(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)sw(h,a),h=h.sibling;return T(Zt,Zt.current&1|2),et&&Ur(u,p.treeForkCount),u.child}a=a.sibling}p.tail!==null&&fn()>ed&&(u.flags|=128,O=!0,Hu(p,!1),u.lanes=4194304)}else{if(!O)if(a=If(b),a!==null){if(u.flags|=128,O=!0,a=a.updateQueue,u.updateQueue=a,Hf(u,a),Hu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!et)return Pt(u),null}else 2*fn()-p.renderingStartTime>ed&&h!==536870912&&(u.flags|=128,O=!0,Hu(p,!1),u.lanes=4194304);p.isBackwards?(b.sibling=u.child,u.child=b):(a=p.last,a!==null?a.sibling=b:u.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=fn(),a.sibling=null,h=Zt.current,T(Zt,O?h&1|2:h&1),et&&Ur(u,p.treeForkCount),a):(Pt(u),null);case 22:case 23:return ai(u),rO(),p=u.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(u.flags|=8192):p&&(u.flags|=8192),p?(h&536870912)!==0&&(u.flags&128)===0&&(Pt(u),u.subtreeFlags&6&&(u.flags|=8192)):Pt(u),h=u.updateQueue,h!==null&&Hf(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048),a!==null&&Y(zl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),qr(Vt),Pt(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function dz(a,u){switch(Ug(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return qr(Vt),rt(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Ui(u),null;case 31:if(u.memoizedState!==null){if(ai(u),u.alternate===null)throw Error(i(340));Il()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(ai(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(i(340));Il()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Y(Zt),null;case 4:return rt(),null;case 10:return qr(u.type),null;case 22:case 23:return ai(u),rO(),a!==null&&Y(zl),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return qr(Vt),null;case 25:return null;default:return null}}function Rk(a,u){switch(Ug(u),u.tag){case 3:qr(Vt),rt();break;case 26:case 27:case 5:Ui(u);break;case 4:rt();break;case 31:u.memoizedState!==null&&ai(u);break;case 13:ai(u);break;case 19:Y(Zt);break;case 10:qr(u.type);break;case 22:case 23:ai(u),rO(),a!==null&&Y(zl);break;case 24:qr(Vt)}}function Fu(a,u){try{var h=u.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var O=p.next;h=O;do{if((h.tag&a)===a){p=void 0;var b=h.create,x=h.inst;p=b(),x.destroy=p}h=h.next}while(h!==O)}}catch(_){dt(u,u.return,_)}}function Ns(a,u,h){try{var p=u.updateQueue,O=p!==null?p.lastEffect:null;if(O!==null){var b=O.next;p=b;do{if((p.tag&a)===a){var x=p.inst,_=x.destroy;if(_!==void 0){x.destroy=void 0,O=u;var R=h,j=_;try{j()}catch(G){dt(O,R,G)}}}p=p.next}while(p!==b)}}catch(G){dt(u,u.return,G)}}function Mk(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{ww(u,h)}catch(p){dt(a,a.return,p)}}}function $k(a,u,h){h.props=jl(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){dt(a,u,p)}}function Gu(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(O){dt(a,u,O)}}function pr(a,u){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(O){dt(a,u,O)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){dt(a,u,O)}else h.current=null}function Dk(a){var u=a.type,h=a.memoizedProps,p=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(O){dt(a,a.return,O)}}function IO(a,u,h){try{var p=a.stateNode;Dz(p,a.type,h,u),p[zn]=u}catch(O){dt(a,a.return,O)}}function Ik(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&qs(a.type)||a.tag===4}function LO(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ik(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&qs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function NO(a,u,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Br));else if(p!==4&&(p===27&&qs(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(NO(a,u,h),a=a.sibling;a!==null;)NO(a,u,h),a=a.sibling}function Ff(a,u,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(p!==4&&(p===27&&qs(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Ff(a,u,h),a=a.sibling;a!==null;)Ff(a,u,h),a=a.sibling}function Lk(a){var u=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,O=u.attributes;O.length;)u.removeAttributeNode(O[0]);yn(u,p,h),u[pn]=a,u[zn]=h}catch(b){dt(a,a.return,b)}}var Fr=!1,Ht=!1,zO=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,ln=null;function pz(a,u){if(a=a.containerInfo,ly=Od,a=Fx(a),Rg(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var O=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var x=0,_=-1,R=-1,j=0,G=0,re=a,q=null;t:for(;;){for(var W;re!==h||O!==0&&re.nodeType!==3||(_=x+O),re!==b||p!==0&&re.nodeType!==3||(R=x+p),re.nodeType===3&&(x+=re.nodeValue.length),(W=re.firstChild)!==null;)q=re,re=W;for(;;){if(re===a)break t;if(q===h&&++j===O&&(_=x),q===b&&++G===p&&(R=x),(W=re.nextSibling)!==null)break;re=q,q=re.parentNode}re=W}h=_===-1||R===-1?null:{start:_,end:R}}else h=null}h=h||{start:0,end:0}}else h=null;for(ay={focusedElem:a,selectionRange:h},Od=!1,ln=u;ln!==null;)if(u=ln,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,ln=a;else for(;ln!==null;){switch(u=ln,b=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)O=a[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,h=u,O=b.memoizedProps,b=b.memoizedState,p=h.stateNode;try{var we=jl(h.type,O);a=p.getSnapshotBeforeUpdate(we,b),p.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){dt(h,h.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)cy(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=u.sibling,a!==null){a.return=u.return,ln=a;break}ln=u.return}}function zk(a,u,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Kr(a,h),p&4&&Fu(5,h);break;case 1:if(Kr(a,h),p&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(x){dt(h,h.return,x)}else{var O=jl(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(O,u,a.__reactInternalSnapshotBeforeUpdate)}catch(x){dt(h,h.return,x)}}p&64&&Mk(h),p&512&&Gu(h,h.return);break;case 3:if(Kr(a,h),p&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{ww(a,u)}catch(x){dt(h,h.return,x)}}break;case 27:u===null&&p&4&&Lk(h);case 26:case 5:Kr(a,h),u===null&&p&4&&Dk(h),p&512&&Gu(h,h.return);break;case 12:Kr(a,h);break;case 31:Kr(a,h),p&4&&Zk(a,h);break;case 13:Kr(a,h),p&4&&Uk(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=wz.bind(null,h),Uz(a,h))));break;case 22:if(p=h.memoizedState!==null||Fr,!p){u=u!==null&&u.memoizedState!==null||Ht,O=Fr;var b=Ht;Fr=p,(Ht=u)&&!b?Jr(a,h,(h.subtreeFlags&8772)!==0):Kr(a,h),Fr=O,Ht=b}break;case 30:break;default:Kr(a,h)}}function Bk(a){var u=a.alternate;u!==null&&(a.alternate=null,Bk(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&mg(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Mt=null,Xn=!1;function Gr(a,u,h){for(h=h.child;h!==null;)Xk(a,u,h),h=h.sibling}function Xk(a,u,h){if(U&&typeof U.onCommitFiberUnmount=="function")try{U.onCommitFiberUnmount(dn,h)}catch{}switch(h.tag){case 26:Ht||pr(h,u),Gr(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ht||pr(h,u);var p=Mt,O=Xn;qs(h.type)&&(Mt=h.stateNode,Xn=!1),Gr(a,u,h),lc(h.stateNode),Mt=p,Xn=O;break;case 5:Ht||pr(h,u);case 6:if(p=Mt,O=Xn,Mt=null,Gr(a,u,h),Mt=p,Xn=O,Mt!==null)if(Xn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(h.stateNode)}catch(b){dt(h,u,b)}else try{Mt.removeChild(h.stateNode)}catch(b){dt(h,u,b)}break;case 18:Mt!==null&&(Xn?(a=Mt,M_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),oo(a)):M_(Mt,h.stateNode));break;case 4:p=Mt,O=Xn,Mt=h.stateNode.containerInfo,Xn=!0,Gr(a,u,h),Mt=p,Xn=O;break;case 0:case 11:case 14:case 15:Ns(2,h,u),Ht||Ns(4,h,u),Gr(a,u,h);break;case 1:Ht||(pr(h,u),p=h.stateNode,typeof p.componentWillUnmount=="function"&&$k(h,u,p)),Gr(a,u,h);break;case 21:Gr(a,u,h);break;case 22:Ht=(p=Ht)||h.memoizedState!==null,Gr(a,u,h),Ht=p;break;default:Gr(a,u,h)}}function Zk(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{oo(a)}catch(h){dt(u,u.return,h)}}}function Uk(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{oo(a)}catch(h){dt(u,u.return,h)}}function mz(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new Nk),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new Nk),u;default:throw Error(i(435,a.tag))}}function Gf(a,u){var h=mz(a);u.forEach(function(p){if(!h.has(p)){h.add(p);var O=kz.bind(null,a,p);p.then(O,O)}})}function Zn(a,u){var h=u.deletions;if(h!==null)for(var p=0;p<h.length;p++){var O=h[p],b=a,x=u,_=x;e:for(;_!==null;){switch(_.tag){case 27:if(qs(_.type)){Mt=_.stateNode,Xn=!1;break e}break;case 5:Mt=_.stateNode,Xn=!1;break e;case 3:case 4:Mt=_.stateNode.containerInfo,Xn=!0;break e}_=_.return}if(Mt===null)throw Error(i(160));Xk(b,x,O),Mt=null,Xn=!1,b=O.alternate,b!==null&&(b.return=null),O.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)jk(u,a),u=u.sibling}var Wi=null;function jk(a,u){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zn(u,a),Un(a),p&4&&(Ns(3,a,a.return),Fu(3,a),Ns(5,a,a.return));break;case 1:Zn(u,a),Un(a),p&512&&(Ht||h===null||pr(h,h.return)),p&64&&Fr&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var O=Wi;if(Zn(u,a),Un(a),p&512&&(Ht||h===null||pr(h,h.return)),p&4){var b=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){e:{p=a.type,h=a.memoizedProps,O=O.ownerDocument||O;t:switch(p){case"title":b=O.getElementsByTagName("title")[0],(!b||b[ku]||b[pn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=O.createElement(p),O.head.insertBefore(b,O.querySelector("head > title"))),yn(b,p,h),b[pn]=a,sn(b),p=b;break e;case"link":var x=j_("link","href",O).get(p+(h.href||""));if(x){for(var _=0;_<x.length;_++)if(b=x[_],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){x.splice(_,1);break t}}b=O.createElement(p),yn(b,p,h),O.head.appendChild(b);break;case"meta":if(x=j_("meta","content",O).get(p+(h.content||""))){for(_=0;_<x.length;_++)if(b=x[_],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){x.splice(_,1);break t}}b=O.createElement(p),yn(b,p,h),O.head.appendChild(b);break;default:throw Error(i(468,p))}b[pn]=a,sn(b),p=b}a.stateNode=p}else q_(O,a.type,a.stateNode);else a.stateNode=U_(O,p,a.memoizedProps);else b!==p?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,p===null?q_(O,a.type,a.stateNode):U_(O,p,a.memoizedProps)):p===null&&a.stateNode!==null&&IO(a,a.memoizedProps,h.memoizedProps)}break;case 27:Zn(u,a),Un(a),p&512&&(Ht||h===null||pr(h,h.return)),h!==null&&p&4&&IO(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Zn(u,a),Un(a),p&512&&(Ht||h===null||pr(h,h.return)),a.flags&32){O=a.stateNode;try{Pa(O,"")}catch(we){dt(a,a.return,we)}}p&4&&a.stateNode!=null&&(O=a.memoizedProps,IO(a,O,h!==null?h.memoizedProps:O)),p&1024&&(zO=!0);break;case 6:if(Zn(u,a),Un(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(we){dt(a,a.return,we)}}break;case 3:if(dd=null,O=Wi,Wi=hd(u.containerInfo),Zn(u,a),Wi=O,Un(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{oo(u.containerInfo)}catch(we){dt(a,a.return,we)}zO&&(zO=!1,qk(a));break;case 4:p=Wi,Wi=hd(a.stateNode.containerInfo),Zn(u,a),Un(a),Wi=p;break;case 12:Zn(u,a),Un(a);break;case 31:Zn(u,a),Un(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gf(a,p)));break;case 13:Zn(u,a),Un(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Jf=fn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gf(a,p)));break;case 22:O=a.memoizedState!==null;var R=h!==null&&h.memoizedState!==null,j=Fr,G=Ht;if(Fr=j||O,Ht=G||R,Zn(u,a),Ht=G,Fr=j,Un(a),p&8192)e:for(u=a.stateNode,u._visibility=O?u._visibility&-2:u._visibility|1,O&&(h===null||R||Fr||Ht||ql(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){R=h=u;try{if(b=R.stateNode,O)x=b.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=R.stateNode;var re=R.memoizedProps.style,q=re!=null&&re.hasOwnProperty("display")?re.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(we){dt(R,R.return,we)}}}else if(u.tag===6){if(h===null){R=u;try{R.stateNode.nodeValue=O?"":R.memoizedProps}catch(we){dt(R,R.return,we)}}}else if(u.tag===18){if(h===null){R=u;try{var W=R.stateNode;O?$_(W,!0):$_(R.stateNode,!1)}catch(we){dt(R,R.return,we)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Gf(a,h))));break;case 19:Zn(u,a),Un(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gf(a,p)));break;case 30:break;case 21:break;default:Zn(u,a),Un(a)}}function Un(a){var u=a.flags;if(u&2){try{for(var h,p=a.return;p!==null;){if(Ik(p)){h=p;break}p=p.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var O=h.stateNode,b=LO(a);Ff(a,b,O);break;case 5:var x=h.stateNode;h.flags&32&&(Pa(x,""),h.flags&=-33);var _=LO(a);Ff(a,_,x);break;case 3:case 4:var R=h.stateNode.containerInfo,j=LO(a);NO(a,j,R);break;default:throw Error(i(161))}}catch(G){dt(a,a.return,G)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function qk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;qk(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function Kr(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)zk(a,u.alternate,u),u=u.sibling}function ql(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Ns(4,u,u.return),ql(u);break;case 1:pr(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&$k(u,u.return,h),ql(u);break;case 27:lc(u.stateNode);case 26:case 5:pr(u,u.return),ql(u);break;case 22:u.memoizedState===null&&ql(u);break;case 30:ql(u);break;default:ql(u)}a=a.sibling}}function Jr(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var p=u.alternate,O=a,b=u,x=b.flags;switch(b.tag){case 0:case 11:case 15:Jr(O,b,h),Fu(4,b);break;case 1:if(Jr(O,b,h),p=b,O=p.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(j){dt(p,p.return,j)}if(p=b,O=p.updateQueue,O!==null){var _=p.stateNode;try{var R=O.shared.hiddenCallbacks;if(R!==null)for(O.shared.hiddenCallbacks=null,O=0;O<R.length;O++)xw(R[O],_)}catch(j){dt(p,p.return,j)}}h&&x&64&&Mk(b),Gu(b,b.return);break;case 27:Lk(b);case 26:case 5:Jr(O,b,h),h&&p===null&&x&4&&Dk(b),Gu(b,b.return);break;case 12:Jr(O,b,h);break;case 31:Jr(O,b,h),h&&x&4&&Zk(O,b);break;case 13:Jr(O,b,h),h&&x&4&&Uk(O,b);break;case 22:b.memoizedState===null&&Jr(O,b,h),Gu(b,b.return);break;case 30:break;default:Jr(O,b,h)}u=u.sibling}}function BO(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Lu(h))}function XO(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Lu(a))}function Hi(a,u,h,p){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Vk(a,u,h,p),u=u.sibling}function Vk(a,u,h,p){var O=u.flags;switch(u.tag){case 0:case 11:case 15:Hi(a,u,h,p),O&2048&&Fu(9,u);break;case 1:Hi(a,u,h,p);break;case 3:Hi(a,u,h,p),O&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Lu(a)));break;case 12:if(O&2048){Hi(a,u,h,p),a=u.stateNode;try{var b=u.memoizedProps,x=b.id,_=b.onPostCommit;typeof _=="function"&&_(x,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(R){dt(u,u.return,R)}}else Hi(a,u,h,p);break;case 31:Hi(a,u,h,p);break;case 13:Hi(a,u,h,p);break;case 23:break;case 22:b=u.stateNode,x=u.alternate,u.memoizedState!==null?b._visibility&2?Hi(a,u,h,p):Ku(a,u):b._visibility&2?Hi(a,u,h,p):(b._visibility|=2,Ga(a,u,h,p,(u.subtreeFlags&10256)!==0||!1)),O&2048&&BO(x,u);break;case 24:Hi(a,u,h,p),O&2048&&XO(u.alternate,u);break;default:Hi(a,u,h,p)}}function Ga(a,u,h,p,O){for(O=O&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var b=a,x=u,_=h,R=p,j=x.flags;switch(x.tag){case 0:case 11:case 15:Ga(b,x,_,R,O),Fu(8,x);break;case 23:break;case 22:var G=x.stateNode;x.memoizedState!==null?G._visibility&2?Ga(b,x,_,R,O):Ku(b,x):(G._visibility|=2,Ga(b,x,_,R,O)),O&&j&2048&&BO(x.alternate,x);break;case 24:Ga(b,x,_,R,O),O&&j&2048&&XO(x.alternate,x);break;default:Ga(b,x,_,R,O)}u=u.sibling}}function Ku(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,p=u,O=p.flags;switch(p.tag){case 22:Ku(h,p),O&2048&&BO(p.alternate,p);break;case 24:Ku(h,p),O&2048&&XO(p.alternate,p);break;default:Ku(h,p)}u=u.sibling}}var Ju=8192;function Ka(a,u,h){if(a.subtreeFlags&Ju)for(a=a.child;a!==null;)Yk(a,u,h),a=a.sibling}function Yk(a,u,h){switch(a.tag){case 26:Ka(a,u,h),a.flags&Ju&&a.memoizedState!==null&&t5(h,Wi,a.memoizedState,a.memoizedProps);break;case 5:Ka(a,u,h);break;case 3:case 4:var p=Wi;Wi=hd(a.stateNode.containerInfo),Ka(a,u,h),Wi=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Ju,Ju=16777216,Ka(a,u,h),Ju=p):Ka(a,u,h));break;default:Ka(a,u,h)}}function Wk(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function ec(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];ln=p,Fk(p,a)}Wk(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hk(a),a=a.sibling}function Hk(a){switch(a.tag){case 0:case 11:case 15:ec(a),a.flags&2048&&Ns(9,a,a.return);break;case 3:ec(a);break;case 12:ec(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Kf(a)):ec(a);break;default:ec(a)}}function Kf(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];ln=p,Fk(p,a)}Wk(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Ns(8,u,u.return),Kf(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Kf(u));break;default:Kf(u)}a=a.sibling}}function Fk(a,u){for(;ln!==null;){var h=ln;switch(h.tag){case 0:case 11:case 15:Ns(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Lu(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,ln=p;else e:for(h=a;ln!==null;){p=ln;var O=p.sibling,b=p.return;if(Bk(p),p===h){ln=null;break e}if(O!==null){O.return=b,ln=O;break e}ln=b}}}var gz={getCacheForType:function(a){var u=gn(Vt),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h},cacheSignal:function(){return gn(Vt).controller.signal}},Oz=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Ve=null,Ge=0,ft=0,oi=null,zs=!1,Ja=!1,ZO=!1,es=0,Nt=0,Bs=0,Vl=0,UO=0,ui=0,eo=0,tc=null,jn=null,jO=!1,Jf=0,Gk=0,ed=1/0,td=null,Xs=null,Jt=0,Zs=null,to=null,ts=0,qO=0,VO=null,Kk=null,nc=0,YO=null;function ci(){return(ot&2)!==0&&Ge!==0?Ge&-Ge:B.T!==null?JO():px()}function Jk(){if(ui===0)if((Ge&536870912)===0||et){var a=Nn;Nn<<=1,(Nn&3932160)===0&&(Nn=262144),ui=a}else ui=536870912;return a=li.current,a!==null&&(a.flags|=32),ui}function qn(a,u,h){(a===vt&&(ft===2||ft===9)||a.cancelPendingCommit!==null)&&(no(a,0),Us(a,Ge,ui,!1)),wu(a,h),((ot&2)===0||a!==vt)&&(a===vt&&((ot&2)===0&&(Vl|=h),Nt===4&&Us(a,Ge,ui,!1)),mr(a))}function e_(a,u,h){if((ot&6)!==0)throw Error(i(327));var p=!h&&(u&127)===0&&(u&a.expiredLanes)===0||xu(a,u),O=p?Sz(a,u):HO(a,u,!0),b=p;do{if(O===0){Ja&&!p&&Us(a,u,0,!1);break}else{if(h=a.current.alternate,b&&!yz(h)){O=HO(a,u,!1),b=!1;continue}if(O===2){if(b=u,a.errorRecoveryDisabledLanes&b)var x=0;else x=a.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){u=x;e:{var _=a;O=tc;var R=_.current.memoizedState.isDehydrated;if(R&&(no(_,x).flags|=256),x=HO(_,x,!1),x!==2){if(ZO&&!R){_.errorRecoveryDisabledLanes|=b,Vl|=b,O=4;break e}b=jn,jn=O,b!==null&&(jn===null?jn=b:jn.push.apply(jn,b))}O=x}if(b=!1,O!==2)continue}}if(O===1){no(a,0),Us(a,u,0,!0);break}e:{switch(p=a,b=O,b){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Us(p,u,ui,!zs);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(O=Jf+300-fn(),10<O)){if(Us(p,u,ui,!zs),hf(p,0,!0)!==0)break e;ts=u,p.timeoutHandle=P_(t_.bind(null,p,h,jn,td,jO,u,ui,Vl,eo,zs,b,"Throttled",-0,0),O);break e}t_(p,h,jn,td,jO,u,ui,Vl,eo,zs,b,null,-0,0)}}break}while(!0);mr(a)}function t_(a,u,h,p,O,b,x,_,R,j,G,re,q,W){if(a.timeoutHandle=-1,re=u.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Br},Yk(u,b,re);var we=(b&62914560)===b?Jf-fn():(b&4194048)===b?Gk-fn():0;if(we=n5(re,we),we!==null){ts=b,a.cancelPendingCommit=we(u_.bind(null,a,u,b,h,p,O,x,_,R,G,re,null,q,W)),Us(a,b,x,!j);return}}u_(a,u,b,h,p,O,x,_,R)}function yz(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var O=h[p],b=O.getSnapshot;O=O.value;try{if(!ri(b(),O))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Us(a,u,h,p){u&=~UO,u&=~Vl,a.suspendedLanes|=u,a.pingedLanes&=~u,p&&(a.warmLanes|=u),p=a.expirationTimes;for(var O=u;0<O;){var b=31-le(O),x=1<<b;p[b]=-1,O&=~x}h!==0&&hx(a,h,u)}function nd(){return(ot&6)===0?(ic(0),!1):!0}function WO(){if(Ve!==null){if(ft===0)var a=Ve.return;else a=Ve,jr=Ll=null,cO(a),Va=null,zu=0,a=Ve;for(;a!==null;)Rk(a.alternate,a),a=a.return;Ve=null}}function no(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,Nz(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),ts=0,WO(),vt=a,Ve=h=Zr(a.current,null),Ge=u,ft=0,oi=null,zs=!1,Ja=xu(a,u),ZO=!1,eo=ui=UO=Vl=Bs=Nt=0,jn=tc=null,jO=!1,(u&8)!==0&&(u|=u&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=u;0<p;){var O=31-le(p),b=1<<O;u|=a[O],p&=~b}return es=u,wf(),h}function n_(a,u){ze=null,B.H=Yu,u===qa||u===Pf?(u=yw(),ft=3):u===Kg?(u=yw(),ft=4):ft=u===CO?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,oi=u,Ve===null&&(Nt=1,qf(a,_i(u,a.current)))}function i_(){var a=li.current;return a===null?!0:(Ge&4194048)===Ge?Qi===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?a===Qi:!1}function r_(){var a=B.H;return B.H=Yu,a===null?Yu:a}function s_(){var a=B.A;return B.A=gz,a}function id(){Nt=4,zs||(Ge&4194048)!==Ge&&li.current!==null||(Ja=!0),(Bs&134217727)===0&&(Vl&134217727)===0||vt===null||Us(vt,Ge,ui,!1)}function HO(a,u,h){var p=ot;ot|=2;var O=r_(),b=s_();(vt!==a||Ge!==u)&&(td=null,no(a,u)),u=!1;var x=Nt;e:do try{if(ft!==0&&Ve!==null){var _=Ve,R=oi;switch(ft){case 8:WO(),x=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(u=!0);var j=ft;if(ft=0,oi=null,io(a,_,R,j),h&&Ja){x=0;break e}break;default:j=ft,ft=0,oi=null,io(a,_,R,j)}}bz(),x=Nt;break}catch(G){n_(a,G)}while(!0);return u&&a.shellSuspendCounter++,jr=Ll=null,ot=p,B.H=O,B.A=b,Ve===null&&(vt=null,Ge=0,wf()),x}function bz(){for(;Ve!==null;)l_(Ve)}function Sz(a,u){var h=ot;ot|=2;var p=r_(),O=s_();vt!==a||Ge!==u?(td=null,ed=fn()+500,no(a,u)):Ja=xu(a,u);e:do try{if(ft!==0&&Ve!==null){u=Ve;var b=oi;t:switch(ft){case 1:ft=0,oi=null,io(a,u,b,1);break;case 2:case 9:if(gw(b)){ft=0,oi=null,a_(u);break}u=function(){ft!==2&&ft!==9||vt!==a||(ft=7),mr(a)},b.then(u,u);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:gw(b)?(ft=0,oi=null,a_(u)):(ft=0,oi=null,io(a,u,b,7));break;case 5:var x=null;switch(Ve.tag){case 26:x=Ve.memoizedState;case 5:case 27:var _=Ve;if(x?V_(x):_.stateNode.complete){ft=0,oi=null;var R=_.sibling;if(R!==null)Ve=R;else{var j=_.return;j!==null?(Ve=j,rd(j)):Ve=null}break t}}ft=0,oi=null,io(a,u,b,5);break;case 6:ft=0,oi=null,io(a,u,b,6);break;case 8:WO(),Nt=6;break e;default:throw Error(i(462))}}vz();break}catch(G){n_(a,G)}while(!0);return jr=Ll=null,B.H=p,B.A=O,ot=h,Ve!==null?0:(vt=null,Ge=0,wf(),Nt)}function vz(){for(;Ve!==null&&!Tl();)l_(Ve)}function l_(a){var u=Ak(a.alternate,a,es);a.memoizedProps=a.pendingProps,u===null?rd(a):Ve=u}function a_(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=kk(h,u,u.pendingProps,u.type,void 0,Ge);break;case 11:u=kk(h,u,u.pendingProps,u.type.render,u.ref,Ge);break;case 5:cO(u);default:Rk(h,u),u=Ve=sw(u,es),u=Ak(h,u,es)}a.memoizedProps=a.pendingProps,u===null?rd(a):Ve=u}function io(a,u,h,p){jr=Ll=null,cO(u),Va=null,zu=0;var O=u.return;try{if(uz(a,O,u,h,Ge)){Nt=1,qf(a,_i(h,a.current)),Ve=null;return}}catch(b){if(O!==null)throw Ve=O,b;Nt=1,qf(a,_i(h,a.current)),Ve=null;return}u.flags&32768?(et||p===1?a=!0:Ja||(Ge&536870912)!==0?a=!1:(zs=a=!0,(p===2||p===9||p===3||p===6)&&(p=li.current,p!==null&&p.tag===13&&(p.flags|=16384))),o_(u,a)):rd(u)}function rd(a){var u=a;do{if((u.flags&32768)!==0){o_(u,zs);return}a=u.return;var h=fz(u.alternate,u,es);if(h!==null){Ve=h;return}if(u=u.sibling,u!==null){Ve=u;return}Ve=u=a}while(u!==null);Nt===0&&(Nt=5)}function o_(a,u){do{var h=dz(a.alternate,a);if(h!==null){h.flags&=32767,Ve=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){Ve=a;return}Ve=a=h}while(a!==null);Nt=6,Ve=null}function u_(a,u,h,p,O,b,x,_,R){a.cancelPendingCommit=null;do sd();while(Jt!==0);if((ot&6)!==0)throw Error(i(327));if(u!==null){if(u===a.current)throw Error(i(177));if(b=u.lanes|u.childLanes,b|=Lg,eN(a,h,b,x,_,R),a===vt&&(Ve=vt=null,Ge=0),to=u,Zs=a,ts=h,qO=b,VO=O,Kk=p,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_z(Re,function(){return p_(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,O=ie.p,ie.p=2,x=ot,ot|=4;try{pz(a,u,h)}finally{ot=x,ie.p=O,B.T=p}}Jt=1,c_(),h_(),f_()}}function c_(){if(Jt===1){Jt=0;var a=Zs,u=to,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=B.T,B.T=null;var p=ie.p;ie.p=2;var O=ot;ot|=4;try{jk(u,a);var b=ay,x=Fx(a.containerInfo),_=b.focusedElem,R=b.selectionRange;if(x!==_&&_&&_.ownerDocument&&Hx(_.ownerDocument.documentElement,_)){if(R!==null&&Rg(_)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in _)_.selectionStart=j,_.selectionEnd=Math.min(G,_.value.length);else{var re=_.ownerDocument||document,q=re&&re.defaultView||window;if(q.getSelection){var W=q.getSelection(),we=_.textContent.length,Pe=Math.min(R.start,we),yt=R.end===void 0?Pe:Math.min(R.end,we);!W.extend&&Pe>yt&&(x=yt,yt=Pe,Pe=x);var z=Wx(_,Pe),$=Wx(_,yt);if(z&&$&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==$.node||W.focusOffset!==$.offset)){var Z=re.createRange();Z.setStart(z.node,z.offset),W.removeAllRanges(),Pe>yt?(W.addRange(Z),W.extend($.node,$.offset)):(Z.setEnd($.node,$.offset),W.addRange(Z))}}}}for(re=[],W=_;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<re.length;_++){var ee=re[_];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Od=!!ly,ay=ly=null}finally{ot=O,ie.p=p,B.T=h}}a.current=u,Jt=2}}function h_(){if(Jt===2){Jt=0;var a=Zs,u=to,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=B.T,B.T=null;var p=ie.p;ie.p=2;var O=ot;ot|=4;try{zk(a,u.alternate,u)}finally{ot=O,ie.p=p,B.T=h}}Jt=3}}function f_(){if(Jt===4||Jt===3){Jt=0,El();var a=Zs,u=to,h=ts,p=Kk;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Jt=5:(Jt=0,to=Zs=null,d_(a,a.pendingLanes));var O=a.pendingLanes;if(O===0&&(Xs=null),dg(h),u=u.stateNode,U&&typeof U.onCommitFiberRoot=="function")try{U.onCommitFiberRoot(dn,u,void 0,(u.current.flags&128)===128)}catch{}if(p!==null){u=B.T,O=ie.p,ie.p=2,B.T=null;try{for(var b=a.onRecoverableError,x=0;x<p.length;x++){var _=p[x];b(_.value,{componentStack:_.stack})}}finally{B.T=u,ie.p=O}}(ts&3)!==0&&sd(),mr(a),O=a.pendingLanes,(h&261930)!==0&&(O&42)!==0?a===YO?nc++:(nc=0,YO=a):nc=0,ic(0)}}function d_(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Lu(u)))}function sd(){return c_(),h_(),f_(),p_()}function p_(){if(Jt!==5)return!1;var a=Zs,u=qO;qO=0;var h=dg(ts),p=B.T,O=ie.p;try{ie.p=32>h?32:h,B.T=null,h=VO,VO=null;var b=Zs,x=ts;if(Jt=0,to=Zs=null,ts=0,(ot&6)!==0)throw Error(i(331));var _=ot;if(ot|=4,Hk(b.current),Vk(b,b.current,x,h),ot=_,ic(0,!1),U&&typeof U.onPostCommitFiberRoot=="function")try{U.onPostCommitFiberRoot(dn,b)}catch{}return!0}finally{ie.p=O,B.T=p,d_(a,u)}}function m_(a,u,h){u=_i(h,u),u=_O(a.stateNode,u,2),a=Ds(a,u,2),a!==null&&(wu(a,2),mr(a))}function dt(a,u,h){if(a.tag===3)m_(a,a,h);else for(;u!==null;){if(u.tag===3){m_(u,a,h);break}else if(u.tag===1){var p=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Xs===null||!Xs.has(p))){a=_i(h,a),h=gk(2),p=Ds(u,h,2),p!==null&&(Ok(h,p,u,a),wu(p,2),mr(p));break}}u=u.return}}function FO(a,u,h){var p=a.pingCache;if(p===null){p=a.pingCache=new Oz;var O=new Set;p.set(u,O)}else O=p.get(u),O===void 0&&(O=new Set,p.set(u,O));O.has(h)||(ZO=!0,O.add(h),a=xz.bind(null,a,u,h),u.then(a,a))}function xz(a,u,h){var p=a.pingCache;p!==null&&p.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,vt===a&&(Ge&h)===h&&(Nt===4||Nt===3&&(Ge&62914560)===Ge&&300>fn()-Jf?(ot&2)===0&&no(a,0):UO|=h,eo===Ge&&(eo=0)),mr(a)}function g_(a,u){u===0&&(u=cx()),a=$l(a,u),a!==null&&(wu(a,u),mr(a))}function wz(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),g_(a,h)}function kz(a,u){var h=0;switch(a.tag){case 31:case 13:var p=a.stateNode,O=a.memoizedState;O!==null&&(h=O.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(u),g_(a,h)}function _z(a,u){return Nr(a,u)}var ld=null,ro=null,GO=!1,ad=!1,KO=!1,js=0;function mr(a){a!==ro&&a.next===null&&(ro===null?ld=ro=a:ro=ro.next=a),ad=!0,GO||(GO=!0,Tz())}function ic(a,u){if(!KO&&ad){KO=!0;do for(var h=!1,p=ld;p!==null;){if(a!==0){var O=p.pendingLanes;if(O===0)var b=0;else{var x=p.suspendedLanes,_=p.pingedLanes;b=(1<<31-le(42|a)+1)-1,b&=O&~(x&~_),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,S_(p,b))}else b=Ge,b=hf(p,p===vt?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||xu(p,b)||(h=!0,S_(p,b));p=p.next}while(h);KO=!1}}function Cz(){O_()}function O_(){ad=GO=!1;var a=0;js!==0&&Lz()&&(a=js);for(var u=fn(),h=null,p=ld;p!==null;){var O=p.next,b=y_(p,u);b===0?(p.next=null,h===null?ld=O:h.next=O,O===null&&(ro=h)):(h=p,(a!==0||(b&3)!==0)&&(ad=!0)),p=O}Jt!==0&&Jt!==5||ic(a),js!==0&&(js=0)}function y_(a,u){for(var h=a.suspendedLanes,p=a.pingedLanes,O=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var x=31-le(b),_=1<<x,R=O[x];R===-1?((_&h)===0||(_&p)!==0)&&(O[x]=JL(_,u)):R<=u&&(a.expiredLanes|=_),b&=~_}if(u=vt,h=Ge,h=hf(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===u&&(ft===2||ft===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Cl(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||xu(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(p!==null&&Cl(p),dg(h)){case 2:case 8:h=de;break;case 32:h=Re;break;case 268435456:h=tt;break;default:h=Re}return p=b_.bind(null,a),h=Nr(h,p),a.callbackPriority=u,a.callbackNode=h,u}return p!==null&&p!==null&&Cl(p),a.callbackPriority=2,a.callbackNode=null,2}function b_(a,u){if(Jt!==0&&Jt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(sd()&&a.callbackNode!==h)return null;var p=Ge;return p=hf(a,a===vt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(e_(a,p,u),y_(a,fn()),a.callbackNode!=null&&a.callbackNode===h?b_.bind(null,a):null)}function S_(a,u){if(sd())return null;e_(a,u,!0)}function Tz(){zz(function(){(ot&6)!==0?Nr(J,Cz):O_()})}function JO(){if(js===0){var a=Ua;a===0&&(a=mt,mt<<=1,(mt&261888)===0&&(mt=256)),js=a}return js}function v_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:mf(""+a)}function x_(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function Ez(a,u,h,p,O){if(u==="submit"&&h&&h.stateNode===O){var b=v_((O[zn]||null).action),x=p.submitter;x&&(u=(u=x[zn]||null)?v_(u.formAction):x.getAttribute("formAction"),u!==null&&(b=u,x=null));var _=new bf("action","action",null,p,O);a.push({event:_,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(js!==0){var R=x?x_(O,x):new FormData(O);bO(h,{pending:!0,data:R,method:O.method,action:b},null,R)}}else typeof b=="function"&&(_.preventDefault(),R=x?x_(O,x):new FormData(O),bO(h,{pending:!0,data:R,method:O.method,action:b},b,R))},currentTarget:O}]})}}for(var ey=0;ey<Ig.length;ey++){var ty=Ig[ey],Qz=ty.toLowerCase(),Az=ty[0].toUpperCase()+ty.slice(1);Yi(Qz,"on"+Az)}Yi(Jx,"onAnimationEnd"),Yi(ew,"onAnimationIteration"),Yi(tw,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(VN,"onTransitionRun"),Yi(YN,"onTransitionStart"),Yi(WN,"onTransitionCancel"),Yi(nw,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Al("onBeforeInput",["compositionend","keypress","textInput","paste"]),Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function w_(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],O=p.event;p=p.listeners;e:{var b=void 0;if(u)for(var x=p.length-1;0<=x;x--){var _=p[x],R=_.instance,j=_.currentTarget;if(_=_.listener,R!==b&&O.isPropagationStopped())break e;b=_,O.currentTarget=j;try{b(O)}catch(G){xf(G)}O.currentTarget=null,b=R}else for(x=0;x<p.length;x++){if(_=p[x],R=_.instance,j=_.currentTarget,_=_.listener,R!==b&&O.isPropagationStopped())break e;b=_,O.currentTarget=j;try{b(O)}catch(G){xf(G)}O.currentTarget=null,b=R}}}}function Ye(a,u){var h=u[pg];h===void 0&&(h=u[pg]=new Set);var p=a+"__bubble";h.has(p)||(k_(u,a,2,!1),h.add(p))}function ny(a,u,h){var p=0;u&&(p|=4),k_(h,a,p,u)}var od="_reactListening"+Math.random().toString(36).slice(2);function iy(a){if(!a[od]){a[od]=!0,Ox.forEach(function(h){h!=="selectionchange"&&(Pz.has(h)||ny(h,!1,a),ny(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[od]||(u[od]=!0,ny("selectionchange",!1,u))}}function k_(a,u,h,p){switch(J_(u)){case 2:var O=s5;break;case 8:O=l5;break;default:O=yy}h=O.bind(null,u,h,a),O=void 0,!wg||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),p?O!==void 0?a.addEventListener(u,h,{capture:!0,passive:O}):a.addEventListener(u,h,!0):O!==void 0?a.addEventListener(u,h,{passive:O}):a.addEventListener(u,h,!1)}function ry(a,u,h,p,O){var b=p;if((u&1)===0&&(u&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var _=p.stateNode.containerInfo;if(_===O)break;if(x===4)for(x=p.return;x!==null;){var R=x.tag;if((R===3||R===4)&&x.stateNode.containerInfo===O)return;x=x.return}for(;_!==null;){if(x=Ca(_),x===null)return;if(R=x.tag,R===5||R===6||R===26||R===27){p=b=x;continue e}_=_.parentNode}}p=p.return}Qx(function(){var j=b,G=vg(h),re=[];e:{var q=iw.get(a);if(q!==void 0){var W=bf,we=a;switch(a){case"keypress":if(Of(h)===0)break e;case"keydown":case"keyup":W=kN;break;case"focusin":we="focus",W=Tg;break;case"focusout":we="blur",W=Tg;break;case"beforeblur":case"afterblur":W=Tg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=fN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=TN;break;case Jx:case ew:case tw:W=mN;break;case nw:W=QN;break;case"scroll":case"scrollend":W=cN;break;case"wheel":W=PN;break;case"copy":case"cut":case"paste":W=ON;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=$x;break;case"toggle":case"beforetoggle":W=MN}var Pe=(u&4)!==0,yt=!Pe&&(a==="scroll"||a==="scrollend"),z=Pe?q!==null?q+"Capture":null:q;Pe=[];for(var $=j,Z;$!==null;){var ee=$;if(Z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Z===null||z===null||(ee=Cu($,z),ee!=null&&Pe.push(sc($,ee,Z))),yt)break;$=$.return}0<Pe.length&&(q=new W(q,we,null,h,G),re.push({event:q,listeners:Pe}))}}if((u&7)===0){e:{if(q=a==="mouseover"||a==="pointerover",W=a==="mouseout"||a==="pointerout",q&&h!==Sg&&(we=h.relatedTarget||h.fromElement)&&(Ca(we)||we[_a]))break e;if((W||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,W?(we=h.relatedTarget||h.toElement,W=j,we=we?Ca(we):null,we!==null&&(yt=s(we),Pe=we.tag,we!==yt||Pe!==5&&Pe!==27&&Pe!==6)&&(we=null)):(W=null,we=j),W!==we)){if(Pe=Rx,ee="onMouseLeave",z="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=$x,ee="onPointerLeave",z="onPointerEnter",$="pointer"),yt=W==null?q:_u(W),Z=we==null?q:_u(we),q=new Pe(ee,$+"leave",W,h,G),q.target=yt,q.relatedTarget=Z,ee=null,Ca(G)===j&&(Pe=new Pe(z,$+"enter",we,h,G),Pe.target=Z,Pe.relatedTarget=yt,ee=Pe),yt=ee,W&&we)t:{for(Pe=Rz,z=W,$=we,Z=0,ee=z;ee;ee=Pe(ee))Z++;ee=0;for(var Qe=$;Qe;Qe=Pe(Qe))ee++;for(;0<Z-ee;)z=Pe(z),Z--;for(;0<ee-Z;)$=Pe($),ee--;for(;Z--;){if(z===$||$!==null&&z===$.alternate){Pe=z;break t}z=Pe(z),$=Pe($)}Pe=null}else Pe=null;W!==null&&__(re,q,W,Pe,!1),we!==null&&yt!==null&&__(re,yt,we,Pe,!0)}}e:{if(q=j?_u(j):window,W=q.nodeName&&q.nodeName.toLowerCase(),W==="select"||W==="input"&&q.type==="file")var lt=Zx;else if(Bx(q))if(Ux)lt=UN;else{lt=XN;var ke=BN}else W=q.nodeName,!W||W.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&bg(j.elementType)&&(lt=Zx):lt=ZN;if(lt&&(lt=lt(a,j))){Xx(re,lt,h,G);break e}ke&&ke(a,q,j),a==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&yg(q,"number",q.value)}switch(ke=j?_u(j):window,a){case"focusin":(Bx(ke)||ke.contentEditable==="true")&&(Da=ke,Mg=j,$u=null);break;case"focusout":$u=Mg=Da=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,Gx(re,h,G);break;case"selectionchange":if(qN)break;case"keydown":case"keyup":Gx(re,h,G)}var Xe;if(Qg)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else $a?Nx(a,h)&&(Ke="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ke="onCompositionStart");Ke&&(Dx&&h.locale!=="ko"&&($a||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&$a&&(Xe=Ax()):(Es=G,kg="value"in Es?Es.value:Es.textContent,$a=!0)),ke=ud(j,Ke),0<ke.length&&(Ke=new Mx(Ke,a,null,h,G),re.push({event:Ke,listeners:ke}),Xe?Ke.data=Xe:(Xe=zx(h),Xe!==null&&(Ke.data=Xe)))),(Xe=DN?IN(a,h):LN(a,h))&&(Ke=ud(j,"onBeforeInput"),0<Ke.length&&(ke=new Mx("onBeforeInput","beforeinput",null,h,G),re.push({event:ke,listeners:Ke}),ke.data=Xe)),Ez(re,a,j,h,G)}w_(re,u)})}function sc(a,u,h){return{instance:a,listener:u,currentTarget:h}}function ud(a,u){for(var h=u+"Capture",p=[];a!==null;){var O=a,b=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||b===null||(O=Cu(a,h),O!=null&&p.unshift(sc(a,O,b)),O=Cu(a,u),O!=null&&p.push(sc(a,O,b))),a.tag===3)return p;a=a.return}return[]}function Rz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function __(a,u,h,p,O){for(var b=u._reactName,x=[];h!==null&&h!==p;){var _=h,R=_.alternate,j=_.stateNode;if(_=_.tag,R!==null&&R===p)break;_!==5&&_!==26&&_!==27||j===null||(R=j,O?(j=Cu(h,b),j!=null&&x.unshift(sc(h,j,R))):O||(j=Cu(h,b),j!=null&&x.push(sc(h,j,R)))),h=h.return}x.length!==0&&a.push({event:u,listeners:x})}var Mz=/\r\n?/g,$z=/\u0000|\uFFFD/g;function C_(a){return(typeof a=="string"?a:""+a).replace(Mz,`
`).replace($z,"")}function T_(a,u){return u=C_(u),C_(a)===u}function Ot(a,u,h,p,O,b){switch(h){case"children":typeof p=="string"?u==="body"||u==="textarea"&&p===""||Pa(a,p):(typeof p=="number"||typeof p=="bigint")&&u!=="body"&&Pa(a,""+p);break;case"className":df(a,"class",p);break;case"tabIndex":df(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":df(a,h,p);break;case"style":Tx(a,p,b);break;case"data":if(u!=="object"){df(a,"data",p);break}case"src":case"href":if(p===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=mf(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(u!=="input"&&Ot(a,u,"name",O.name,O,null),Ot(a,u,"formEncType",O.formEncType,O,null),Ot(a,u,"formMethod",O.formMethod,O,null),Ot(a,u,"formTarget",O.formTarget,O,null)):(Ot(a,u,"encType",O.encType,O,null),Ot(a,u,"method",O.method,O,null),Ot(a,u,"target",O.target,O,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=mf(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=Br);break;case"onScroll":p!=null&&Ye("scroll",a);break;case"onScrollEnd":p!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(O.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=mf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),ff(a,"popover",p);break;case"xlinkActuate":zr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":zr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":zr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":zr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":zr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":zr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":zr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":zr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":zr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ff(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=oN.get(h)||h,ff(a,h,p))}}function sy(a,u,h,p,O,b){switch(h){case"style":Tx(a,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(O.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof p=="string"?Pa(a,p):(typeof p=="number"||typeof p=="bigint")&&Pa(a,""+p);break;case"onScroll":p!=null&&Ye("scroll",a);break;case"onScrollEnd":p!=null&&Ye("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yx.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),u=h.slice(2,O?h.length-7:void 0),b=a[zn]||null,b=b!=null?b[h]:null,typeof b=="function"&&a.removeEventListener(u,b,O),typeof p=="function")){typeof b!="function"&&b!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,p,O);break e}h in a?a[h]=p:p===!0?a.setAttribute(h,""):ff(a,h,p)}}}function yn(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var p=!1,O=!1,b;for(b in h)if(h.hasOwnProperty(b)){var x=h[b];if(x!=null)switch(b){case"src":p=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Ot(a,u,b,x,h,null)}}O&&Ot(a,u,"srcSet",h.srcSet,h,null),p&&Ot(a,u,"src",h.src,h,null);return;case"input":Ye("invalid",a);var _=b=x=O=null,R=null,j=null;for(p in h)if(h.hasOwnProperty(p)){var G=h[p];if(G!=null)switch(p){case"name":O=G;break;case"type":x=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":b=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,u));break;default:Ot(a,u,p,G,h,null)}}wx(a,b,_,R,j,x,O,!1);return;case"select":Ye("invalid",a),p=x=b=null;for(O in h)if(h.hasOwnProperty(O)&&(_=h[O],_!=null))switch(O){case"value":b=_;break;case"defaultValue":x=_;break;case"multiple":p=_;default:Ot(a,u,O,_,h,null)}u=b,h=x,a.multiple=!!p,u!=null?Aa(a,!!p,u,!1):h!=null&&Aa(a,!!p,h,!0);return;case"textarea":Ye("invalid",a),b=O=p=null;for(x in h)if(h.hasOwnProperty(x)&&(_=h[x],_!=null))switch(x){case"value":p=_;break;case"defaultValue":O=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Ot(a,u,x,_,h,null)}_x(a,p,O,b);return;case"option":for(R in h)if(h.hasOwnProperty(R)&&(p=h[R],p!=null))switch(R){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ot(a,u,R,p,h,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(p=0;p<rc.length;p++)Ye(rc[p],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in h)if(h.hasOwnProperty(j)&&(p=h[j],p!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Ot(a,u,j,p,h,null)}return;default:if(bg(u)){for(G in h)h.hasOwnProperty(G)&&(p=h[G],p!==void 0&&sy(a,u,G,p,h,void 0));return}}for(_ in h)h.hasOwnProperty(_)&&(p=h[_],p!=null&&Ot(a,u,_,p,h,null))}function Dz(a,u,h,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,b=null,x=null,_=null,R=null,j=null,G=null;for(W in h){var re=h[W];if(h.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":R=re;default:p.hasOwnProperty(W)||Ot(a,u,W,null,p,re)}}for(var q in p){var W=p[q];if(re=h[q],p.hasOwnProperty(q)&&(W!=null||re!=null))switch(q){case"type":b=W;break;case"name":O=W;break;case"checked":j=W;break;case"defaultChecked":G=W;break;case"value":x=W;break;case"defaultValue":_=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,u));break;default:W!==re&&Ot(a,u,q,W,p,re)}}Og(a,x,_,R,j,G,b,O);return;case"select":W=x=_=q=null;for(b in h)if(R=h[b],h.hasOwnProperty(b)&&R!=null)switch(b){case"value":break;case"multiple":W=R;default:p.hasOwnProperty(b)||Ot(a,u,b,null,p,R)}for(O in p)if(b=p[O],R=h[O],p.hasOwnProperty(O)&&(b!=null||R!=null))switch(O){case"value":q=b;break;case"defaultValue":_=b;break;case"multiple":x=b;default:b!==R&&Ot(a,u,O,b,p,R)}u=_,h=x,p=W,q!=null?Aa(a,!!h,q,!1):!!p!=!!h&&(u!=null?Aa(a,!!h,u,!0):Aa(a,!!h,h?[]:"",!1));return;case"textarea":W=q=null;for(_ in h)if(O=h[_],h.hasOwnProperty(_)&&O!=null&&!p.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ot(a,u,_,null,p,O)}for(x in p)if(O=p[x],b=h[x],p.hasOwnProperty(x)&&(O!=null||b!=null))switch(x){case"value":q=O;break;case"defaultValue":W=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==b&&Ot(a,u,x,O,p,b)}kx(a,q,W);return;case"option":for(var we in h)if(q=h[we],h.hasOwnProperty(we)&&q!=null&&!p.hasOwnProperty(we))switch(we){case"selected":a.selected=!1;break;default:Ot(a,u,we,null,p,q)}for(R in p)if(q=p[R],W=h[R],p.hasOwnProperty(R)&&q!==W&&(q!=null||W!=null))switch(R){case"selected":a.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ot(a,u,R,q,p,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in h)q=h[Pe],h.hasOwnProperty(Pe)&&q!=null&&!p.hasOwnProperty(Pe)&&Ot(a,u,Pe,null,p,q);for(j in p)if(q=p[j],W=h[j],p.hasOwnProperty(j)&&q!==W&&(q!=null||W!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,u));break;default:Ot(a,u,j,q,p,W)}return;default:if(bg(u)){for(var yt in h)q=h[yt],h.hasOwnProperty(yt)&&q!==void 0&&!p.hasOwnProperty(yt)&&sy(a,u,yt,void 0,p,q);for(G in p)q=p[G],W=h[G],!p.hasOwnProperty(G)||q===W||q===void 0&&W===void 0||sy(a,u,G,q,p,W);return}}for(var z in h)q=h[z],h.hasOwnProperty(z)&&q!=null&&!p.hasOwnProperty(z)&&Ot(a,u,z,null,p,q);for(re in p)q=p[re],W=h[re],!p.hasOwnProperty(re)||q===W||q==null&&W==null||Ot(a,u,re,q,p,W)}function E_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iz(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var O=h[p],b=O.transferSize,x=O.initiatorType,_=O.duration;if(b&&_&&E_(x)){for(x=0,_=O.responseEnd,p+=1;p<h.length;p++){var R=h[p],j=R.startTime;if(j>_)break;var G=R.transferSize,re=R.initiatorType;G&&E_(re)&&(R=R.responseEnd,x+=G*(R<_?1:(_-j)/(R-j)))}if(--p,u+=8*(b+x)/(O.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ly=null,ay=null;function cd(a){return a.nodeType===9?a:a.ownerDocument}function Q_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function oy(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var uy=null;function Lz(){var a=window.event;return a&&a.type==="popstate"?a===uy?!1:(uy=a,!0):(uy=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,Nz=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,zz=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(a){return R_.resolve(null).then(a).catch(Bz)}:P_;function Bz(a){setTimeout(function(){throw a})}function qs(a){return a==="head"}function M_(a,u){var h=u,p=0;do{var O=h.nextSibling;if(a.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(p===0){a.removeChild(O),oo(u);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")lc(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,lc(h);for(var b=h.firstChild;b;){var x=b.nextSibling,_=b.nodeName;b[ku]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=x}}else h==="body"&&lc(a.ownerDocument.body);h=O}while(h);oo(u)}function $_(a,u){var h=a;a=0;do{var p=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=p}while(h)}function cy(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":cy(h),mg(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function Xz(a,u,h,p){for(;a.nodeType===1;){var O=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[ku])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==O.rel||a.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||a.getAttribute("title")!==(O.title==null?null:O.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(O.src==null?null:O.src)||a.getAttribute("type")!==(O.type==null?null:O.type)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var b=O.name==null?null:""+O.name;if(O.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Ai(a.nextSibling),a===null)break}return null}function Zz(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Ai(a.nextSibling),a===null))return null;return a}function D_(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ai(a.nextSibling),a===null))return null;return a}function hy(a){return a.data==="$?"||a.data==="$~"}function fy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Uz(a,u){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||h.readyState!=="loading")u();else{var p=function(){u(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Ai(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var dy=null;function I_(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(u===0)return Ai(a.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}a=a.nextSibling}return null}function L_(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return a;u--}else h!=="/$"&&h!=="/&"||u++}a=a.previousSibling}return null}function N_(a,u,h){switch(u=cd(h),a){case"html":if(a=u.documentElement,!a)throw Error(i(452));return a;case"head":if(a=u.head,!a)throw Error(i(453));return a;case"body":if(a=u.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function lc(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);mg(a)}var Pi=new Map,z_=new Set;function hd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ns=ie.d;ie.d={f:jz,r:qz,D:Vz,C:Yz,L:Wz,m:Hz,X:Gz,S:Fz,M:Kz};function jz(){var a=ns.f(),u=nd();return a||u}function qz(a){var u=Ta(a);u!==null&&u.tag===5&&u.type==="form"?nk(u):ns.r(a)}var so=typeof document>"u"?null:document;function B_(a,u,h){var p=so;if(p&&typeof u=="string"&&u){var O=wi(u);O='link[rel="'+a+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),z_.has(O)||(z_.add(O),a={rel:a,crossOrigin:h,href:u},p.querySelector(O)===null&&(u=p.createElement("link"),yn(u,"link",a),sn(u),p.head.appendChild(u)))}}function Vz(a){ns.D(a),B_("dns-prefetch",a,null)}function Yz(a,u){ns.C(a,u),B_("preconnect",a,u)}function Wz(a,u,h){ns.L(a,u,h);var p=so;if(p&&a&&u){var O='link[rel="preload"][as="'+wi(u)+'"]';u==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+wi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+wi(h.imageSizes)+'"]')):O+='[href="'+wi(a)+'"]';var b=O;switch(u){case"style":b=lo(a);break;case"script":b=ao(a)}Pi.has(b)||(a=m({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),Pi.set(b,a),p.querySelector(O)!==null||u==="style"&&p.querySelector(ac(b))||u==="script"&&p.querySelector(oc(b))||(u=p.createElement("link"),yn(u,"link",a),sn(u),p.head.appendChild(u)))}}function Hz(a,u){ns.m(a,u);var h=so;if(h&&a){var p=u&&typeof u.as=="string"?u.as:"script",O='link[rel="modulepreload"][as="'+wi(p)+'"][href="'+wi(a)+'"]',b=O;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ao(a)}if(!Pi.has(b)&&(a=m({rel:"modulepreload",href:a},u),Pi.set(b,a),h.querySelector(O)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(oc(b)))return}p=h.createElement("link"),yn(p,"link",a),sn(p),h.head.appendChild(p)}}}function Fz(a,u,h){ns.S(a,u,h);var p=so;if(p&&a){var O=Ea(p).hoistableStyles,b=lo(a);u=u||"default";var x=O.get(b);if(!x){var _={loading:0,preload:null};if(x=p.querySelector(ac(b)))_.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":u},h),(h=Pi.get(b))&&py(a,h);var R=x=p.createElement("link");sn(R),yn(R,"link",a),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,fd(x,u,p)}x={type:"stylesheet",instance:x,count:1,state:_},O.set(b,x)}}}function Gz(a,u){ns.X(a,u);var h=so;if(h&&a){var p=Ea(h).hoistableScripts,O=ao(a),b=p.get(O);b||(b=h.querySelector(oc(O)),b||(a=m({src:a,async:!0},u),(u=Pi.get(O))&&my(a,u),b=h.createElement("script"),sn(b),yn(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(O,b))}}function Kz(a,u){ns.M(a,u);var h=so;if(h&&a){var p=Ea(h).hoistableScripts,O=ao(a),b=p.get(O);b||(b=h.querySelector(oc(O)),b||(a=m({src:a,async:!0,type:"module"},u),(u=Pi.get(O))&&my(a,u),b=h.createElement("script"),sn(b),yn(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(O,b))}}function X_(a,u,h,p){var O=(O=xe.current)?hd(O):null;if(!O)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=lo(h.href),h=Ea(O).hoistableStyles,p=h.get(u),p||(p={type:"style",instance:null,count:0,state:null},h.set(u,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=lo(h.href);var b=Ea(O).hoistableStyles,x=b.get(a);if(x||(O=O.ownerDocument||O,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,x),(b=O.querySelector(ac(a)))&&!b._p&&(x.instance=b,x.state.loading=5),Pi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Pi.set(a,h),b||Jz(O,a,h,x.state))),u&&p===null)throw Error(i(528,""));return x}if(u&&p!==null)throw Error(i(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=ao(h),h=Ea(O).hoistableScripts,p=h.get(u),p||(p={type:"script",instance:null,count:0,state:null},h.set(u,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function lo(a){return'href="'+wi(a)+'"'}function ac(a){return'link[rel="stylesheet"]['+a+"]"}function Z_(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function Jz(a,u,h,p){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?p.loading=1:(u=a.createElement("link"),p.preload=u,u.addEventListener("load",function(){return p.loading|=1}),u.addEventListener("error",function(){return p.loading|=2}),yn(u,"link",h),sn(u),a.head.appendChild(u))}function ao(a){return'[src="'+wi(a)+'"]'}function oc(a){return"script[async]"+a}function U_(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var p=a.querySelector('style[data-href~="'+wi(h.href)+'"]');if(p)return u.instance=p,sn(p),p;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),sn(p),yn(p,"style",O),fd(p,h.precedence,a),u.instance=p;case"stylesheet":O=lo(h.href);var b=a.querySelector(ac(O));if(b)return u.state.loading|=4,u.instance=b,sn(b),b;p=Z_(h),(O=Pi.get(O))&&py(p,O),b=(a.ownerDocument||a).createElement("link"),sn(b);var x=b;return x._p=new Promise(function(_,R){x.onload=_,x.onerror=R}),yn(b,"link",p),u.state.loading|=4,fd(b,h.precedence,a),u.instance=b;case"script":return b=ao(h.src),(O=a.querySelector(oc(b)))?(u.instance=O,sn(O),O):(p=h,(O=Pi.get(b))&&(p=m({},h),my(p,O)),a=a.ownerDocument||a,O=a.createElement("script"),sn(O),yn(O,"link",p),a.head.appendChild(O),u.instance=O);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(p=u.instance,u.state.loading|=4,fd(p,h.precedence,a));return u.instance}function fd(a,u,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=p.length?p[p.length-1]:null,b=O,x=0;x<p.length;x++){var _=p[x];if(_.dataset.precedence===u)b=_;else if(b!==O)break}b?b.parentNode.insertBefore(a,b.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function py(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function my(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var dd=null;function j_(a,u,h){if(dd===null){var p=new Map,O=dd=new Map;O.set(h,p)}else O=dd,p=O.get(h),p||(p=new Map,O.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),O=0;O<h.length;O++){var b=h[O];if(!(b[ku]||b[pn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var x=b.getAttribute(u)||"";x=a+x;var _=p.get(x);_?_.push(b):p.set(x,[b])}}return p}function q_(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function e5(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function V_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function t5(a,u,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=lo(p.href),b=u.querySelector(ac(O));if(b){u=b._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=pd.bind(a),u.then(a,a)),h.state.loading|=4,h.instance=b,sn(b);return}b=u.ownerDocument||u,p=Z_(p),(O=Pi.get(O))&&py(p,O),b=b.createElement("link"),sn(b);var x=b;x._p=new Promise(function(_,R){x.onload=_,x.onerror=R}),yn(b,"link",p),h.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=pd.bind(a),u.addEventListener("load",h),u.addEventListener("error",h))}}var gy=0;function n5(a,u){return a.stylesheets&&a.count===0&&gd(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var p=setTimeout(function(){if(a.stylesheets&&gd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+u);0<a.imgBytes&&gy===0&&(gy=62500*Iz());var O=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&gd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>gy?50:800)+u);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(O)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var md=null;function gd(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,md=new Map,u.forEach(i5,a),md=null,pd.call(a))}function i5(a,u){if(!(u.state.loading&4)){var h=md.get(a);if(h)var p=h.get(null);else{h=new Map,md.set(a,h);for(var O=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<O.length;b++){var x=O[b];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(h.set(x.dataset.precedence,x),p=x)}p&&h.set(null,p)}O=u.instance,x=O.getAttribute("data-precedence"),b=h.get(x)||p,b===p&&h.set(null,O),h.set(x,O),this.count++,p=pd.bind(this),O.addEventListener("load",p),O.addEventListener("error",p),b?b.parentNode.insertBefore(O,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(O,a.firstChild)),u.state.loading|=4}}var uc={$$typeof:C,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function r5(a,u,h,p,O,b,x,_,R){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.hiddenUpdates=hg(null),this.identifierPrefix=p,this.onUncaughtError=O,this.onCaughtError=b,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Y_(a,u,h,p,O,b,x,_,R,j,G,re){return a=new r5(a,u,h,x,R,j,G,re,_),u=1,b===!0&&(u|=24),b=si(3,null,null,u),a.current=b,b.stateNode=a,u=Hg(),u.refCount++,a.pooledCache=u,u.refCount++,b.memoizedState={element:p,isDehydrated:h,cache:u},Jg(b),a}function W_(a){return a?(a=Na,a):Na}function H_(a,u,h,p,O,b){O=W_(O),p.context===null?p.context=O:p.pendingContext=O,p=$s(u),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),h=Ds(a,p,u),h!==null&&(qn(h,a,u),Xu(h,a,u))}function F_(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function Oy(a,u){F_(a,u),(a=a.alternate)&&F_(a,u)}function G_(a){if(a.tag===13||a.tag===31){var u=$l(a,67108864);u!==null&&qn(u,a,67108864),Oy(a,67108864)}}function K_(a){if(a.tag===13||a.tag===31){var u=ci();u=fg(u);var h=$l(a,u);h!==null&&qn(h,a,u),Oy(a,u)}}var Od=!0;function s5(a,u,h,p){var O=B.T;B.T=null;var b=ie.p;try{ie.p=2,yy(a,u,h,p)}finally{ie.p=b,B.T=O}}function l5(a,u,h,p){var O=B.T;B.T=null;var b=ie.p;try{ie.p=8,yy(a,u,h,p)}finally{ie.p=b,B.T=O}}function yy(a,u,h,p){if(Od){var O=by(p);if(O===null)ry(a,u,p,yd,h),eC(a,p);else if(o5(O,a,u,h,p))p.stopPropagation();else if(eC(a,p),u&4&&-1<a5.indexOf(a)){for(;O!==null;){var b=Ta(O);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var x=Ql(b.pendingLanes);if(x!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;x;){var R=1<<31-le(x);_.entanglements[1]|=R,x&=~R}mr(b),(ot&6)===0&&(ed=fn()+500,ic(0))}}break;case 31:case 13:_=$l(b,2),_!==null&&qn(_,b,2),nd(),Oy(b,2)}if(b=by(p),b===null&&ry(a,u,p,yd,h),b===O)break;O=b}O!==null&&p.stopPropagation()}else ry(a,u,p,null,h)}}function by(a){return a=vg(a),Sy(a)}var yd=null;function Sy(a){if(yd=null,a=Ca(a),a!==null){var u=s(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=l(u),a!==null)return a;a=null}else if(h===31){if(a=o(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return yd=a,null}function J_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case J:return 2;case de:return 8;case Re:case Ue:return 32;case tt:return 268435456;default:return 32}default:return 32}}var vy=!1,Vs=null,Ys=null,Ws=null,cc=new Map,hc=new Map,Hs=[],a5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eC(a,u){switch(a){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":cc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(u.pointerId)}}function fc(a,u,h,p,O,b){return a===null||a.nativeEvent!==b?(a={blockedOn:u,domEventName:h,eventSystemFlags:p,nativeEvent:b,targetContainers:[O]},u!==null&&(u=Ta(u),u!==null&&G_(u)),a):(a.eventSystemFlags|=p,u=a.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),a)}function o5(a,u,h,p,O){switch(u){case"focusin":return Vs=fc(Vs,a,u,h,p,O),!0;case"dragenter":return Ys=fc(Ys,a,u,h,p,O),!0;case"mouseover":return Ws=fc(Ws,a,u,h,p,O),!0;case"pointerover":var b=O.pointerId;return cc.set(b,fc(cc.get(b)||null,a,u,h,p,O)),!0;case"gotpointercapture":return b=O.pointerId,hc.set(b,fc(hc.get(b)||null,a,u,h,p,O)),!0}return!1}function tC(a){var u=Ca(a.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=l(h),u!==null){a.blockedOn=u,mx(a.priority,function(){K_(h)});return}}else if(u===31){if(u=o(h),u!==null){a.blockedOn=u,mx(a.priority,function(){K_(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function bd(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=by(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);Sg=p,h.target.dispatchEvent(p),Sg=null}else return u=Ta(h),u!==null&&G_(u),a.blockedOn=h,!1;u.shift()}return!0}function nC(a,u,h){bd(a)&&h.delete(u)}function u5(){vy=!1,Vs!==null&&bd(Vs)&&(Vs=null),Ys!==null&&bd(Ys)&&(Ys=null),Ws!==null&&bd(Ws)&&(Ws=null),cc.forEach(nC),hc.forEach(nC)}function Sd(a,u){a.blockedOn===u&&(a.blockedOn=null,vy||(vy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,u5)))}var vd=null;function iC(a){vd!==a&&(vd=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vd===a&&(vd=null);for(var u=0;u<a.length;u+=3){var h=a[u],p=a[u+1],O=a[u+2];if(typeof p!="function"){if(Sy(p||h)===null)continue;break}var b=Ta(h);b!==null&&(a.splice(u,3),u-=3,bO(b,{pending:!0,data:O,method:h.method,action:p},p,O))}}))}function oo(a){function u(R){return Sd(R,a)}Vs!==null&&Sd(Vs,a),Ys!==null&&Sd(Ys,a),Ws!==null&&Sd(Ws,a),cc.forEach(u),hc.forEach(u);for(var h=0;h<Hs.length;h++){var p=Hs[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Hs.length&&(h=Hs[0],h.blockedOn===null);)tC(h),h.blockedOn===null&&Hs.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var O=h[p],b=h[p+1],x=O[zn]||null;if(typeof b=="function")x||iC(h);else if(x){var _=null;if(b&&b.hasAttribute("formAction")){if(O=b,x=b[zn]||null)_=x.formAction;else if(Sy(O)!==null)continue}else _=x.action;typeof _=="function"?h[p+1]=_:(h.splice(p,3),p-=3),iC(h)}}}function rC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(x){return O=x})},focusReset:"manual",scroll:"manual"})}function u(){O!==null&&(O(),O=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,O=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),O!==null&&(O(),O=null)}}}function xy(a){this._internalRoot=a}xd.prototype.render=xy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(i(409));var h=u.current,p=ci();H_(h,p,a,u,null,null)},xd.prototype.unmount=xy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;H_(a.current,2,null,a,null,null),nd(),u[_a]=null}};function xd(a){this._internalRoot=a}xd.prototype.unstable_scheduleHydration=function(a){if(a){var u=px();a={blockedOn:null,target:a,priority:u};for(var h=0;h<Hs.length&&u!==0&&u<Hs[h].priority;h++);Hs.splice(h,0,a),h===0&&tC(a)}};var sC=e.version;if(sC!=="19.2.4")throw Error(i(527,sC,"19.2.4"));ie.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var c5={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{dn=wd.inject(c5),U=wd}catch{}}return pc.createRoot=function(a,u){if(!r(a))throw Error(i(299));var h=!1,p="",O=fk,b=dk,x=pk;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=Y_(a,1,!1,null,null,h,p,null,O,b,x,rC),a[_a]=u.current,iy(a),new xy(u)},pc.hydrateRoot=function(a,u,h){if(!r(a))throw Error(i(299));var p=!1,O="",b=fk,x=dk,_=pk,R=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(x=h.onCaughtError),h.onRecoverableError!==void 0&&(_=h.onRecoverableError),h.formState!==void 0&&(R=h.formState)),u=Y_(a,1,!0,u,h??null,p,O,R,b,x,_,rC),u.context=W_(null),h=u.current,p=ci(),p=fg(p),O=$s(p),O.callback=null,Ds(h,O,p),h=p,u.current.lanes=h,wu(u,h),mr(u),a[_a]=u.current,iy(a),new xd(u)},pc.version="19.2.4",pc}var mC;function S5(){if(mC)return _y.exports;mC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_y.exports=b5(),_y.exports}var v5=S5();const x5=X1(v5);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gC="popstate";function w5(n={}){function e(i,r){let{pathname:s,search:l,hash:o}=i.location;return tb("",{pathname:s,search:l,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:nh(r)}return _5(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k5(){return Math.random().toString(36).substring(2,10)}function OC(n,e){return{usr:n.state,key:n.key,idx:e}}function tb(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?iu(e):e,state:t,key:e&&e.key||i||k5()}}function nh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function iu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _5(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,o="POP",c=null,f=d();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function d(){return(l.state||{idx:null}).idx}function m(){o="POP";let w=d(),k=w==null?null:w-f;f=w,c&&c({action:o,location:v.location,delta:k})}function g(w,k){o="PUSH";let E=tb(v.location,w,k);f=d()+1;let C=OC(E,f),X=v.createHref(E);try{l.pushState(C,"",X)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(X)}s&&c&&c({action:o,location:v.location,delta:1})}function y(w,k){o="REPLACE";let E=tb(v.location,w,k);f=d();let C=OC(E,f),X=v.createHref(E);l.replaceState(C,"",X),s&&c&&c({action:o,location:v.location,delta:0})}function S(w){return C5(w)}let v={get action(){return o},get location(){return n(r,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(gC,m),c=w,()=>{r.removeEventListener(gC,m),c=null}},createHref(w){return e(r,w)},createURL:S,encodeLocation(w){let k=S(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(w){return l.go(w)}};return v}function C5(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),It(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:nh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function iP(n,e,t="/"){return T5(n,e,t,!1)}function T5(n,e,t,i){let r=typeof e=="string"?iu(e):e,s=ps(r.pathname||"/",t);if(s==null)return null;let l=rP(n);E5(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let f=z5(s);o=L5(l[c],f,i)}return o}function rP(n,e=[],t=[],i="",r=!1){let s=(l,o,c=r,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&c)return;It(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let m=hs([i,d.relativePath]),g=t.concat(d);l.children&&l.children.length>0&&(It(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),rP(l.children,e,g,m,c)),!(l.path==null&&!l.index)&&e.push({path:m,score:D5(m,l.index),routesMeta:g})};return n.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,o);else for(let f of sP(l.path))s(l,o,!0,f)}),e}function sP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=sP(i.join("/")),o=[];return o.push(...l.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...l),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function E5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:I5(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Q5=/^:[\w-]+$/,A5=3,P5=2,R5=1,M5=10,$5=-2,yC=n=>n==="*";function D5(n,e){let t=n.split("/"),i=t.length;return t.some(yC)&&(i+=$5),e&&(i+=P5),t.filter(r=>!yC(r)).reduce((r,s)=>r+(Q5.test(s)?A5:s===""?R5:M5),i)}function I5(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function L5(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",l=[];for(let o=0;o<i.length;++o){let c=i[o],f=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=wp({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),g=c.route;if(!m&&f&&t&&!i[i.length-1].route.index&&(m=wp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:hs([s,m.pathname]),pathnameBase:U5(hs([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=hs([s,m.pathnameBase]))}return l}function wp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=N5(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let S=o[g]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=o[g];return m&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function N5(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function z5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ps(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var B5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function X5(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?iu(n):n,s;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?s=bC(t.substring(1),"/"):s=bC(t,e)):s=e,{pathname:s,search:j5(i),hash:q5(r)}}function bC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Qy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lP(n){let e=Z5(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function aP(n,e,t,i=!1){let r;typeof n=="string"?r=iu(n):(r={...n},It(!r.pathname||!r.pathname.includes("?"),Qy("?","pathname","search",r)),It(!r.pathname||!r.pathname.includes("#"),Qy("#","pathname","hash",r)),It(!r.search||!r.search.includes("#"),Qy("#","search","hash",r)));let s=n===""||r.pathname==="",l=s?"/":r.pathname,o;if(l==null)o=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}o=m>=0?e[m]:"/"}let c=X5(r,o),f=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var hs=n=>n.join("/").replace(/\/\/+/g,"/"),U5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),j5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,q5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,V5=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Y5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function W5(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uP(n,e){let t=n;if(typeof t!="string"||!B5.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(oP)try{let s=new URL(window.location.href),l=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=ps(l.pathname,e);l.origin===s.origin&&o!=null?t=o+l.search+l.hash:r=!0}catch{rr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cP=["POST","PUT","PATCH","DELETE"];new Set(cP);var H5=["GET",...cP];new Set(H5);var ru=D.createContext(null);ru.displayName="DataRouter";var Am=D.createContext(null);Am.displayName="DataRouterState";var F5=D.createContext(!1),hP=D.createContext({isTransitioning:!1});hP.displayName="ViewTransition";var G5=D.createContext(new Map);G5.displayName="Fetchers";var K5=D.createContext(null);K5.displayName="Await";var zi=D.createContext(null);zi.displayName="Navigation";var Nh=D.createContext(null);Nh.displayName="Location";var Mr=D.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var U1=D.createContext(null);U1.displayName="RouteError";var fP="REACT_ROUTER_ERROR",J5="REDIRECT",e3="ROUTE_ERROR_RESPONSE";function t3(n){if(n.startsWith(`${fP}:${J5}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function n3(n){if(n.startsWith(`${fP}:${e3}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new V5(e.status,e.statusText,e.data)}catch{}}function i3(n,{relative:e}={}){It(zh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=D.useContext(zi),{hash:r,pathname:s,search:l}=Bh(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:hs([t,s])),i.createHref({pathname:o,search:l,hash:r})}function zh(){return D.useContext(Nh)!=null}function vl(){return It(zh(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Nh).location}var dP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pP(n){D.useContext(zi).static||D.useLayoutEffect(n)}function Pm(){let{isDataRoute:n}=D.useContext(Mr);return n?O3():r3()}function r3(){It(zh(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(ru),{basename:e,navigator:t}=D.useContext(zi),{matches:i}=D.useContext(Mr),{pathname:r}=vl(),s=JSON.stringify(lP(i)),l=D.useRef(!1);return pP(()=>{l.current=!0}),D.useCallback((c,f={})=>{if(rr(l.current,dP),!l.current)return;if(typeof c=="number"){t.go(c);return}let d=aP(c,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hs([e,d.pathname])),(f.replace?t.replace:t.push)(d,f.state,f)},[e,t,s,r,n])}D.createContext(null);function s3(){let{matches:n}=D.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function Bh(n,{relative:e}={}){let{matches:t}=D.useContext(Mr),{pathname:i}=vl(),r=JSON.stringify(lP(t));return D.useMemo(()=>aP(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function l3(n,e){return mP(n,e)}function mP(n,e,t,i,r){var E;It(zh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(zi),{matches:l}=D.useContext(Mr),o=l[l.length-1],c=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let C=m&&m.path||"";OP(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=vl(),y;if(e){let C=typeof e=="string"?iu(e):e;It(d==="/"||((E=C.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=g;let S=y.pathname||"/",v=S;if(d!=="/"){let C=d.replace(/^\//,"").split("/");v="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=iP(n,{pathname:v});rr(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),rr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=h3(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:hs([d,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:hs([d,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,t,i,r);return e&&k?D.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function a3(){let n=g3(),e=Y5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:r},t):null,l)}var o3=D.createElement(a3,null),gP=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=n3(n.digest);t&&(n=t)}let e=n!==void 0?D.createElement(Mr.Provider,{value:this.props.routeContext},D.createElement(U1.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?D.createElement(u3,{error:n},e):e}};gP.contextType=F5;var Ay=new WeakMap;function u3({children:n,error:e}){let{basename:t}=D.useContext(zi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=t3(e.digest);if(i){let r=Ay.get(e);if(r)throw r;let s=uP(i.location,t);if(oP&&!Ay.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Ay.set(e,l),l}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function c3({routeContext:n,match:e,children:t}){let i=D.useContext(ru);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Mr.Provider,{value:n},t)}function h3(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:y}=t,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let f=t&&i?(d,m)=>{var g,y;i(d,{location:t.location,params:((y=(g=t.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:W5(t.matches),errorInfo:m})}:void 0;return s.reduceRight((d,m,g)=>{let y,S=!1,v=null,w=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||o3,o&&(c<0&&g===0?(OP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):c===g&&(S=!0,w=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,g+1)),E=()=>{let C;return y?C=v:S?C=w:m.route.Component?C=D.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=d,D.createElement(c3,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:C})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(gP,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):E()},null)}function j1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f3(n){let e=D.useContext(ru);return It(e,j1(n)),e}function d3(n){let e=D.useContext(Am);return It(e,j1(n)),e}function p3(n){let e=D.useContext(Mr);return It(e,j1(n)),e}function q1(n){let e=p3(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m3(){return q1("useRouteId")}function g3(){var i;let n=D.useContext(U1),e=d3("useRouteError"),t=q1("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function O3(){let{router:n}=f3("useNavigate"),e=q1("useNavigate"),t=D.useRef(!1);return pP(()=>{t.current=!0}),D.useCallback(async(r,s={})=>{rr(t.current,dP),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var SC={};function OP(n,e,t){!e&&!SC[n]&&(SC[n]=!0,rr(!1,t))}D.memo(y3);function y3({routes:n,future:e,state:t,onError:i}){return mP(n,void 0,t,i,e)}function nb(n){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:l}){It(!zh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:l,future:{}}),[o,r,s,l]);typeof t=="string"&&(t=iu(t));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,S=D.useMemo(()=>{let v=ps(f,o);return v==null?null:{location:{pathname:v,search:d,hash:m,state:g,key:y},navigationType:i}},[o,f,d,m,g,y,i]);return rr(S!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:D.createElement(zi.Provider,{value:c},D.createElement(Nh.Provider,{children:e,value:S}))}function S3({children:n,location:e}){return l3(ib(n),e)}function ib(n,e=[]){let t=[];return D.Children.forEach(n,(i,r)=>{if(!D.isValidElement(i))return;let s=[...e,r];if(i.type===D.Fragment){t.push.apply(t,ib(i.props.children,s));return}It(i.type===nb,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ib(i.props.children,s)),t.push(l)}),t}var ip="get",rp="application/x-www-form-urlencoded";function Rm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function v3(n){return Rm(n)&&n.tagName.toLowerCase()==="button"}function x3(n){return Rm(n)&&n.tagName.toLowerCase()==="form"}function w3(n){return Rm(n)&&n.tagName.toLowerCase()==="input"}function k3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _3(n,e){return n.button===0&&(!e||e==="_self")&&!k3(n)}function rb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function C3(n,e){let t=rb(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(s=>{t.append(r,s)})}),t}var kd=null;function T3(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var E3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Py(n){return n!=null&&!E3.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):n}function Q3(n,e){let t,i,r,s,l;if(x3(n)){let o=n.getAttribute("action");i=o?ps(o,e):null,t=n.getAttribute("method")||ip,r=Py(n.getAttribute("enctype"))||rp,s=new FormData(n)}else if(v3(n)||w3(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||o.getAttribute("action");if(i=c?ps(c,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||ip,r=Py(n.getAttribute("formenctype"))||Py(o.getAttribute("enctype"))||rp,s=new FormData(o,n),!T3()){let{name:f,type:d,value:m}=n;if(d==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(Rm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ip,i=null,r=rp,l=n}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function A3(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&ps(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function P3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function M3(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await P3(s,t);return l.links?l.links():[]}return[]}));return L3(i.flat(1).filter(R3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function vC(n,e,t,i,r,s){let l=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,o=(c,f)=>{var d;return t[f].pathname!==c.pathname||((d=t[f].route.path)==null?void 0:d.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>l(c,f)||o(c,f)):s==="data"?e.filter((c,f)=>{var m;let d=i.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function $3(n,e,{includeHydrateFallback:t}={}){return D3(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function D3(n){return[...new Set(n)]}function I3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function L3(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(I3(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function yP(){let n=D.useContext(ru);return V1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function N3(){let n=D.useContext(Am);return V1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Y1=D.createContext(void 0);Y1.displayName="FrameworkContext";function bP(){let n=D.useContext(Y1);return V1(n,"You must render this element inside a <HydratedRouter> element"),n}function z3(n,e){let t=D.useContext(Y1),[i,r]=D.useState(!1),[s,l]=D.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,g=D.useRef(null);D.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let v=k=>{k.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[n]),D.useEffect(()=>{if(i){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[i]);let y=()=>{r(!0)},S=()=>{r(!1),l(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:mc(o,y),onBlur:mc(c,S),onMouseEnter:mc(f,y),onMouseLeave:mc(d,S),onTouchStart:mc(m,y)}]:[!1,g,{}]}function mc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function B3({page:n,...e}){let{router:t}=yP(),i=D.useMemo(()=>iP(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?D.createElement(Z3,{page:n,matches:i,...e}):null}function X3(n){let{manifest:e,routeModules:t}=bP(),[i,r]=D.useState([]);return D.useEffect(()=>{let s=!1;return M3(n,e,t).then(l=>{s||r(l)}),()=>{s=!0}},[n,e,t]),i}function Z3({page:n,matches:e,...t}){let i=vl(),{future:r,manifest:s,routeModules:l}=bP(),{basename:o}=yP(),{loaderData:c,matches:f}=N3(),d=D.useMemo(()=>vC(n,e,f,s,i,"data"),[n,e,f,s,i]),m=D.useMemo(()=>vC(n,e,f,s,i,"assets"),[n,e,f,s,i]),g=D.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,w=!1;if(e.forEach(E=>{var X;let C=s.routes[E.route.id];!C||!C.hasLoader||(!d.some(N=>N.route.id===E.route.id)&&E.route.id in c&&((X=l[E.route.id])!=null&&X.shouldRevalidate)||C.hasClientLoader?w=!0:v.add(E.route.id))}),v.size===0)return[];let k=A3(n,o,r.unstable_trailingSlashAwareDataRequests,"data");return w&&v.size>0&&k.searchParams.set("_routes",e.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,r.unstable_trailingSlashAwareDataRequests,c,i,s,d,e,n,l]),y=D.useMemo(()=>$3(m,s),[m,s]),S=X3(m);return D.createElement(D.Fragment,null,g.map(v=>D.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),y.map(v=>D.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),S.map(({key:v,link:w})=>D.createElement("link",{key:v,nonce:t.nonce,...w,crossOrigin:w.crossOrigin??t.crossOrigin})))}function U3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var j3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j3&&(window.__reactRouterVersion="7.13.0")}catch{}function q3({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=D.useRef();r.current==null&&(r.current=w5({window:i,v5Compat:!0}));let s=r.current,[l,o]=D.useState({action:s.action,location:s.location}),c=D.useCallback(f=>{t===!1?o(f):D.startTransition(()=>o(f))},[t]);return D.useLayoutEffect(()=>s.listen(c),[s,c]),D.createElement(b3,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:t})}var SP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vP=D.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:o,target:c,to:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S){let{basename:v,unstable_useTransitions:w}=D.useContext(zi),k=typeof f=="string"&&SP.test(f),E=uP(f,v);f=E.to;let C=i3(f,{relative:r}),[X,N,P]=z3(i,y),I=H3(f,{replace:l,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:w});function ae(L){e&&e(L),L.defaultPrevented||I(L)}let te=D.createElement("a",{...y,...P,href:E.absoluteURL||C,onClick:E.isExternal||s?e:ae,ref:U3(S,N),target:c,"data-discover":!k&&t==="render"?"true":void 0});return X&&!k?D.createElement(D.Fragment,null,te,D.createElement(B3,{page:C})):te});vP.displayName="Link";var V3=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:o,children:c,...f},d){let m=Bh(l,{relative:f.relative}),g=vl(),y=D.useContext(Am),{navigator:S,basename:v}=D.useContext(zi),w=y!=null&&t4(m)&&o===!0,k=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,E=g.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(E=E.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&v&&(C=ps(C,v)||C);const X=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let N=E===k||!r&&E.startsWith(k)&&E.charAt(X)==="/",P=C!=null&&(C===k||!r&&C.startsWith(k)&&C.charAt(k.length)==="/"),I={isActive:N,isPending:P,isTransitioning:w},ae=N?e:void 0,te;typeof i=="function"?te=i(I):te=[i,N?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(I):s;return D.createElement(vP,{...f,"aria-current":ae,className:te,ref:d,style:L,to:l,viewTransition:o},typeof c=="function"?c(I):c)});V3.displayName="NavLink";var Y3=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:l=ip,action:o,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S)=>{let{unstable_useTransitions:v}=D.useContext(zi),w=J3(),k=e4(o,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&SP.test(o),X=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,I=(P==null?void 0:P.getAttribute("formmethod"))||l,ae=()=>w(P||N.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:s,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});v&&t!==!1?D.startTransition(()=>ae()):ae()};return D.createElement("form",{ref:S,method:E,action:k,onSubmit:i?c:X,...y,"data-discover":!C&&n==="render"?"true":void 0})});Y3.displayName="Form";function W3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xP(n){let e=D.useContext(ru);return It(e,W3(n)),e}function H3(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let f=Pm(),d=vl(),m=Bh(n,{relative:s});return D.useCallback(g=>{if(_3(g,e)){g.preventDefault();let y=t!==void 0?t:nh(d)===nh(m),S=()=>f(n,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:o});c?D.startTransition(()=>S()):S()}},[d,f,m,t,i,e,n,r,s,l,o,c])}function F3(n){rr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(rb(n)),t=D.useRef(!1),i=vl(),r=D.useMemo(()=>C3(i.search,t.current?null:e.current),[i.search]),s=Pm(),l=D.useCallback((o,c)=>{const f=rb(typeof o=="function"?o(new URLSearchParams(r)):o);t.current=!0,s("?"+f,c)},[s,r]);return[r,l]}var G3=0,K3=()=>`__${String(++G3)}__`;function J3(){let{router:n}=xP("useSubmit"),{basename:e}=D.useContext(zi),t=m3(),i=n.fetch,r=n.navigate;return D.useCallback(async(s,l={})=>{let{action:o,method:c,encType:f,formData:d,body:m}=Q3(s,e);if(l.navigate===!1){let g=l.fetcherKey||K3();await i(g,t,l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,e,t])}function e4(n,{relative:e}={}){let{basename:t}=D.useContext(zi),i=D.useContext(Mr);It(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Bh(n||".",{relative:e})},l=vl();if(n==null){s.search=l.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:hs([t,s.pathname])),nh(s)}function t4(n,{relative:e}={}){let t=D.useContext(hP);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xP("useViewTransitionState"),r=Bh(n,{relative:e});if(!t.isTransitioning)return!1;let s=ps(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ps(t.nextLocation.pathname,i)||t.nextLocation.pathname;return wp(r.pathname,l)!=null||wp(r.pathname,s)!=null}const n4=()=>{};var xC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=function(n,e){if(!n)throw su(e)},su=function(n){return new Error("Firebase Database ("+wP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},i4=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],l=n[t++],o=n[t++],c=((r&7)<<18|(s&63)<<12|(l&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},W1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],l=r+1<n.length,o=l?n[r+1]:0,c=r+2<n.length,f=c?n[r+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let g=(o&15)<<2|f>>6,y=f&63;c||(y=64,l||(g=64)),i.push(t[d],t[m],t[g],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||f==null||m==null)throw new r4;const g=s<<2|o>>4;if(i.push(g),f!==64){const y=o<<4&240|f>>2;if(i.push(y),m!==64){const S=f<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class r4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _P=function(n){const e=kP(n);return W1.encodeByteArray(e,!0)},kp=function(n){return _P(n).replace(/\./g,"")},_p=function(n){try{return W1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n){return CP(void 0,n)}function CP(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!l4(t)||(n[t]=CP(n[t],e[t]));return n}function l4(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=()=>a4().__FIREBASE_DEFAULTS__,u4=()=>{if(typeof process>"u"||typeof xC>"u")return;const n=xC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_p(n[1]);return e&&JSON.parse(e)},H1=()=>{try{return n4()||o4()||u4()||c4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TP=n=>{var e,t;return(t=(e=H1())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},h4=n=>{const e=TP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},EP=()=>{var n;return(n=H1())===null||n===void 0?void 0:n.config},QP=n=>{var e;return(e=H1())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AP(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kp(JSON.stringify(t)),kp(JSON.stringify(l)),""].join(".")}const Lc={};function d4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?n.emulator.push(e):n.prod.push(e);return n}function p4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wC=!1;function PP(n,e){if(typeof window>"u"||typeof document>"u"||!lu(window.location.host)||Lc[n]===e||Lc[n]||wC)return;Lc[n]=e;function t(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=d4().prod.length>0;function l(){const g=document.getElementById(i);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{wC=!0,l()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=p4(i),y=t("text"),S=document.getElementById(y)||document.createElement("span"),v=t("learnmore"),w=document.getElementById(v)||document.createElement("a"),k=t("preprendIcon"),E=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;o(C),d(w,v);const X=f();c(E,k),C.append(E,S,w,X),document.body.appendChild(C)}s?(S.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function m4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O4(){const n=Ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function y4(){return wP.NODE_ADMIN===!0}function b4(){try{return typeof indexedDB=="object"}catch{return!1}}function S4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="FirebaseError";class xl extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=v4,Object.setPrototypeOf(this,xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xh.prototype.create)}}class Xh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?x4(s,i):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new xl(r,o,i)}}function x4(n,e){return n.replace(w4,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const w4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){return JSON.parse(n)}function un(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=ih(_p(s[0])||""),t=ih(_p(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},k4=function(n){const e=MP(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},_4=function(n){const e=MP(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Lo(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function sb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cp(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function ca(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],l=e[r];if(kC(s)&&kC(l)){if(!ca(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function kC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let m=0;m<16;m++)i[m]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let m=16;m<80;m++){const g=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(g<<1|g>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],l=this.chain_[2],o=this.chain_[3],c=this.chain_[4],f,d;for(let m=0;m<80;m++){m<40?m<20?(f=o^s&(l^o),d=1518500249):(f=s^l^o,d=1859775393):m<60?(f=s&l|o&(s|l),d=2400959708):(f=s^l^o,d=3395469782);const g=(r<<5|r>>>27)+f+c+d+i[m]&4294967295;c=o,o=l,l=(s<<30|s>>>2)&4294967295,s=r,r=g}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let l=this.inbuf_;for(;r<t;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(s),l=0;break}}else for(;r<t;)if(s[l]=e[r],++l,++r,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function T4(n,e){const t=new E4(n,e);return t.subscribe.bind(t)}class E4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Q4(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ry),r.error===void 0&&(r.error=Ry),r.complete===void 0&&(r.complete=Ry);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ry(){}function G1(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,pe(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;r=65536+(s<<10)+l}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},$m=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n){return n&&n._delegate?n._delegate:n}class ha{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Mm;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M4(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:R4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R4(n){return n===Fl?void 0:n}function M4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new P4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(St||(St={}));const D4={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},I4=St.INFO,L4={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},N4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=L4[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K1{constructor(e){this.name=e,this._logLevel=I4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const z4=(n,e)=>e.some(t=>n instanceof t);let _C,CC;function B4(){return _C||(_C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X4(){return CC||(CC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $P=new WeakMap,lb=new WeakMap,DP=new WeakMap,My=new WeakMap,J1=new WeakMap;function Z4(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(al(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&$P.set(t,n)}).catch(()=>{}),J1.set(e,n),e}function U4(n){if(lb.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});lb.set(n,e)}let ab={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return al(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function j4(n){ab=n(ab)}function q4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($y(this),e,...t);return DP.set(i,e.sort?e.sort():[e]),al(i)}:X4().includes(n)?function(...e){return n.apply($y(this),e),al($P.get(this))}:function(...e){return al(n.apply($y(this),e))}}function V4(n){return typeof n=="function"?q4(n):(n instanceof IDBTransaction&&U4(n),z4(n,B4())?new Proxy(n,ab):n)}function al(n){if(n instanceof IDBRequest)return Z4(n);if(My.has(n))return My.get(n);const e=V4(n);return e!==n&&(My.set(n,e),J1.set(e,n)),e}const $y=n=>J1.get(n);function Y4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(n,e),o=al(l);return i&&l.addEventListener("upgradeneeded",c=>{i(al(l.result),c.oldVersion,c.newVersion,al(l.transaction),c)}),t&&l.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const W4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],Dy=new Map;function TC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=H4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||W4.includes(t)))return;const s=async function(l,...o){const c=this.transaction(l,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(o.shift())),(await Promise.all([f[t](...o),r&&c.done]))[0]};return Dy.set(e,s),s}j4(n=>({...n,get:(e,t,i)=>TC(e,t)||n.get(e,t,i),has:(e,t)=>!!TC(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function G4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ob="@firebase/app",EC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new K1("@firebase/app"),K4="@firebase/app-compat",J4="@firebase/analytics-compat",eB="@firebase/analytics",tB="@firebase/app-check-compat",nB="@firebase/app-check",iB="@firebase/auth",rB="@firebase/auth-compat",sB="@firebase/database",lB="@firebase/data-connect",aB="@firebase/database-compat",oB="@firebase/functions",uB="@firebase/functions-compat",cB="@firebase/installations",hB="@firebase/installations-compat",fB="@firebase/messaging",dB="@firebase/messaging-compat",pB="@firebase/performance",mB="@firebase/performance-compat",gB="@firebase/remote-config",OB="@firebase/remote-config-compat",yB="@firebase/storage",bB="@firebase/storage-compat",SB="@firebase/firestore",vB="@firebase/ai",xB="@firebase/firestore-compat",wB="firebase",kB="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="[DEFAULT]",_B={[ob]:"fire-core",[K4]:"fire-core-compat",[eB]:"fire-analytics",[J4]:"fire-analytics-compat",[nB]:"fire-app-check",[tB]:"fire-app-check-compat",[iB]:"fire-auth",[rB]:"fire-auth-compat",[sB]:"fire-rtdb",[lB]:"fire-data-connect",[aB]:"fire-rtdb-compat",[oB]:"fire-fn",[uB]:"fire-fn-compat",[cB]:"fire-iid",[hB]:"fire-iid-compat",[fB]:"fire-fcm",[dB]:"fire-fcm-compat",[pB]:"fire-perf",[mB]:"fire-perf-compat",[gB]:"fire-rc",[OB]:"fire-rc-compat",[yB]:"fire-gcs",[bB]:"fire-gcs-compat",[SB]:"fire-fst",[xB]:"fire-fst-compat",[vB]:"fire-vertex","fire-js":"fire-js",[wB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Map,CB=new Map,cb=new Map;function QC(n,e){try{n.container.addComponent(e)}catch(t){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function No(n){const e=n.name;if(cb.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;cb.set(e,n);for(const t of Tp.values())QC(t,n);for(const t of CB.values())QC(t,n);return!0}function eS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ol=new Xh("app","Firebase",TB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=kB;function IP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ub,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw ol.create("bad-app-name",{appName:String(r)});if(t||(t=EP()),!t)throw ol.create("no-options");const s=Tp.get(r);if(s){if(ca(t,s.options)&&ca(i,s.config))return s;throw ol.create("duplicate-app",{appName:r})}const l=new $4(r);for(const c of cb.values())l.addComponent(c);const o=new EB(t,i,l);return Tp.set(r,o),o}function LP(n=ub){const e=Tp.get(n);if(!e&&n===ub&&EP())return IP();if(!e)throw ol.create("no-app",{appName:n});return e}function ul(n,e,t){var i;let r=(i=_B[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&o.push("and"),l&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(o.join(" "));return}No(new ha(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="firebase-heartbeat-database",AB=1,rh="firebase-heartbeat-store";let Iy=null;function NP(){return Iy||(Iy=Y4(QB,AB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ol.create("idb-open",{originalErrorMessage:n.message})})),Iy}async function PB(n){try{const t=(await NP()).transaction(rh),i=await t.objectStore(rh).get(zP(n));return await t.done,i}catch(e){if(e instanceof xl)ms.warn(e.message);else{const t=ol.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(t.message)}}}async function AC(n,e){try{const i=(await NP()).transaction(rh,"readwrite");await i.objectStore(rh).put(e,zP(n)),await i.done}catch(t){if(t instanceof xl)ms.warn(t.message);else{const i=ol.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ms.warn(i.message)}}}function zP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=1024,MB=30;class $B{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IB(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>MB){const l=LB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ms.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PC(),{heartbeatsToSend:i,unsentEntries:r}=DB(this._heartbeatsCache.heartbeats),s=kp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ms.warn(t),""}}}function PC(){return new Date().toISOString().substring(0,10)}function DB(n,e=RB){const t=[];let i=n.slice();for(const r of n){const s=t.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),RC(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),RC(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class IB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b4()?S4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RC(n){return kp(JSON.stringify({version:2,heartbeats:n})).length}function LB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(n){No(new ha("platform-logger",e=>new F4(e),"PRIVATE")),No(new ha("heartbeat",e=>new $B(e),"PRIVATE")),ul(ob,EC,n),ul(ob,EC,"esm2017"),ul("fire-js","")}NB("");var zB="firebase",BB="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul(zB,BB,"app");var MC={};const $C="@firebase/database",DC="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BP="";function XB(n){BP=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),un(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ih(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return ws(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ZB(e)}}catch{}return new UB},na=XP("localStorage"),jB=XP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new K1("@firebase/database"),qB=(function(){let n=1;return function(){return n++}})(),ZP=function(n){const e=A4(n),t=new C4;t.update(e);const i=t.digest();return W1.encodeByteArray(i)},Zh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Zh.apply(null,i):typeof i=="object"?e+=un(i):e+=i,e+=" "}return e};let Nc=null,IC=!0;const VB=function(n,e){pe(!0,"Can't turn on custom loggers persistently."),xo.logLevel=St.VERBOSE,Nc=xo.log.bind(xo)},En=function(...n){if(IC===!0&&(IC=!1,Nc===null&&jB.get("logging_enabled")===!0&&VB()),Nc){const e=Zh.apply(null,n);Nc(e)}},Uh=function(n){return function(...e){En(n,...e)}},hb=function(...n){const e="FIREBASE INTERNAL ERROR: "+Zh(...n);xo.error(e)},gs=function(...n){const e=`FIREBASE FATAL ERROR: ${Zh(...n)}`;throw xo.error(e),new Error(e)},ti=function(...n){const e="FIREBASE WARNING: "+Zh(...n);xo.warn(e)},YB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},UP=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},WB=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},zo="[MIN_NAME]",fa="[MAX_NAME]",uu=function(n,e){if(n===e)return 0;if(n===zo||e===fa)return-1;if(e===zo||n===fa)return 1;{const t=LC(n),i=LC(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},HB=function(n,e){return n===e?0:n<e?-1:1},gc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+un(e))},tS=function(n){if(typeof n!="object"||n===null)return un(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=un(e[i]),t+=":",t+=tS(n[e[i]]);return t+="}",t},jP=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function ni(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const qP=function(n){pe(!UP(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,s,l,o,c;n===0?(s=0,l=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=o+i,l=Math.round(n*Math.pow(2,t-o)-Math.pow(2,t))):(s=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(c=t;c;c-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const d=f.join("");let m="";for(c=0;c<64;c+=8){let g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},FB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function KB(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const JB=new RegExp("^-?(0*)\\d{1,10}$"),eX=-2147483648,tX=2147483647,LC=function(n){if(JB.test(n)){const e=Number(n);if(e>=eX&&e<=tX)return e}return null},cu=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ti("Exception was thrown by user callback.",t),e},Math.floor(0))}},nX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,xr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ti(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(En("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ti(e)}}class sp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="5",VP="v",YP="s",WP="r",HP="f",FP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GP="ls",KP="p",fb="ac",JP="websocket",eR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,i,r,s=!1,l="",o=!1,c=!1,f=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=c,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=na.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&na.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function sX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function nR(n,e,t){pe(typeof e=="string","typeof type must == string"),pe(typeof t=="object","typeof params must == object");let i;if(e===JP)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===eR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sX(n)&&(t.ns=n.namespace);const r=[];return ni(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.counters_={}}incrementCounter(e,t=1){ws(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return s4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={},Ny={};function iS(n){const e=n.toString();return Ly[e]||(Ly[e]=new lX),Ly[e]}function aX(n,e){const t=n.toString();return Ny[t]||(Ny[t]=e()),Ny[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&cu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="start",uX="close",cX="pLPCommand",hX="pRTLPCB",iR="id",rR="pw",sR="ser",fX="cb",dX="seg",pX="ts",mX="d",gX="dframe",lR=1870,aR=30,OX=lR-aR,yX=25e3,bX=3e4;class Oo{constructor(e,t,i,r,s,l,o){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uh(e),this.stats_=iS(t),this.urlFn=c=>(this.appCheckToken&&(c[fb]=this.appCheckToken),nR(t,eR,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bX)),WB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rS((...s)=>{const[l,o,c,f,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===NC)this.id=o,this.password=c;else if(l===uX)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[NC]="t",i[sR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[fX]=this.scriptTagHolder.uniqueCallbackIdentifier),i[VP]=nS,this.transportSessionId&&(i[YP]=this.transportSessionId),this.lastSessionId&&(i[GP]=this.lastSessionId),this.applicationId&&(i[KP]=this.applicationId),this.appCheckToken&&(i[fb]=this.appCheckToken),typeof location<"u"&&location.hostname&&FP.test(location.hostname)&&(i[WP]=HP);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Oo.forceAllow_=!0}static forceDisallow(){Oo.forceDisallow_=!0}static isAvailable(){return Oo.forceAllow_?!0:!Oo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FB()&&!GB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=un(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=_P(t),r=jP(i,OX);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[gX]="t",i[iR]=e,i[rR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=un(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class rS{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qB(),window[cX+this.uniqueCallbackIdentifier]=e,window[hX+this.uniqueCallbackIdentifier]=t,this.myIFrame=rS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(o){En("frame writing exception"),o.stack&&En(o.stack),En(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||En("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[iR]=this.myID,e[rR]=this.myPW,e[sR]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aR+i.length<=lR;){const l=this.pendingSegs.shift();i=i+"&"+dX+r+"="+l.seg+"&"+pX+r+"="+l.ts+"&"+mX+r+"="+l.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(yX)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{En("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=16384,vX=45e3;let Ep=null;typeof MozWebSocket<"u"?Ep=MozWebSocket:typeof WebSocket<"u"&&(Ep=WebSocket);class Fi{constructor(e,t,i,r,s,l,o){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uh(this.connId),this.stats_=iS(t),this.connURL=Fi.connectionURL_(t,l,o,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,s){const l={};return l[VP]=nS,typeof location<"u"&&location.hostname&&FP.test(location.hostname)&&(l[WP]=HP),t&&(l[YP]=t),i&&(l[GP]=i),r&&(l[fb]=r),s&&(l[KP]=s),nR(e,JP,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,na.set("previous_websocket_failure",!0);try{let i;y4(),this.mySock=new Ep(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ep!==null&&!Fi.forceDisallow_}static previouslyFailed(){return na.isInMemoryStorage||na.get("previous_websocket_failure")===!0}markConnectionHealthy(){na.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=ih(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(pe(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=un(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=jP(t,SX);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vX))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fi.responsesRequiredToBeHealthy=2;Fi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{static get ALL_TRANSPORTS(){return[Oo,Fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Fi&&Fi.isAvailable();let i=t&&!Fi.previouslyFailed();if(e.webSocketOnly&&(t||ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Fi];else{const r=this.transports_=[];for(const s of sh.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);sh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}sh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX=6e4,wX=5e3,kX=10*1024,_X=100*1024,zy="t",zC="d",CX="s",BC="r",TX="e",XC="o",ZC="a",UC="n",jC="p",EX="h";class QX{constructor(e,t,i,r,s,l,o,c,f,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=o,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uh("c:"+this.id+":"),this.transportManager_=new sh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=zc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_X?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zy in e){const t=e[zy];t===ZC?this.upgradeIfSecondaryHealthy_():t===BC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===XC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=gc("t",e),i=gc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ZC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=gc("t",e),i=gc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=gc(zy,e);if(zC in e){const i=e[zC];if(t===EX){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===UC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===CX?this.onConnectionShutdown_(i):t===BC?this.onReset_(i):t===TX?hb("Server Error: "+i):t===XC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hb("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),nS!==i&&ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),zc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(na.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.allowedEvents_=e,this.listeners_={},pe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){pe(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends uR{static getInstance(){return new Qp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!F1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return pe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=32,VC=768;class _t{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ut(){return new _t("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function dl(n){return n.pieces_.length-n.pieceNum_}function Qt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new _t(n.pieces_,e)}function cR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function AX(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function hR(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function fR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new _t(e,0)}function tn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof _t)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new _t(t,0)}function We(n){return n.pieceNum_>=n.pieces_.length}function Gn(n,e){const t=je(n),i=je(e);if(t===null)return e;if(t===i)return Gn(Qt(n),Qt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function sS(n,e){if(dl(n)!==dl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ki(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(dl(n)>dl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class PX{constructor(e,t){this.errorPrefix_=t,this.parts_=hR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=$m(this.parts_[i]);dR(this)}}function RX(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=$m(e),dR(n)}function MX(n){const e=n.parts_.pop();n.byteLength_-=$m(e),n.parts_.length>0&&(n.byteLength_-=1)}function dR(n){if(n.byteLength_>VC)throw new Error(n.errorPrefix_+"has a key path longer than "+VC+" bytes ("+n.byteLength_+").");if(n.parts_.length>qC)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qC+") or object contains a cycle "+Gl(n))}function Gl(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends uR{static getInstance(){return new lS}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return pe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=1e3,$X=300*1e3,YC=30*1e3,DX=1.3,IX=3e4,LX="server_kill",WC=3;class fs extends oR{constructor(e,t,i,r,s,l,o,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.authOverride_=c,this.id=fs.nextPersistentConnectionId_++,this.log_=Uh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oc,this.maxReconnectDelay_=$X,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,s={r,a:e,b:t};this.log_(un(s)),pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new Mm,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const o=l.d;l.s==="ok"?t.resolve(o):t.reject(o)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,i,r){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pe(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(l).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},l="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,o=>{const c=o.d,f=o.s;fs.warnOnListenWarnings_(c,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",o),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&ws(e,"w")){const i=Lo(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=YC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=k4(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const s=r.s,l=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e},l="n";r&&(s.q=i,s.t=r),this.sendRequest(l,s)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const s={p:t,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,s){this.initConnection_();const l={p:t,d:i};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+un(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):hb("Unrecognized action received from server: "+un(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>IX&&(this.reconnectDelay_=Oc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DX)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+fs.nextConnectionId_++,s=this.lastSessionId;let l=!1,o=null;const c=function(){o?o.close():(l=!0,i())},f=function(m){pe(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(m)};this.realtime_={close:c,sendRequest:f};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);l?En("getToken() completed but was canceled"):(En("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,o=new QX(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,y=>{ti(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(LX)},s))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&ti(m),c())}}}interrupt(e){En("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){En("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sb(this.interruptReasons_)&&(this.reconnectDelay_=Oc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(s=>tS(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new _t(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(t),s.delete(t),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){En("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=WC&&(this.reconnectDelay_=YC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){En("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=WC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+BP.replace(/\./g,"-")]=1,F1()?e["framework.cordova"]=1:RP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qp.getInstance().currentlyOnline();return sb(this.interruptReasons_)&&e}}fs.nextPersistentConnectionId_=0;fs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new qe(zo,e),r=new qe(zo,t);return this.compare(i,r)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d;class pR extends Dm{static get __EMPTY_NODE(){return _d}static set __EMPTY_NODE(e){_d=e}compare(e,t){return uu(e.name,t.name)}isDefinedOn(e){throw su("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(fa,_d)}makePost(e,t){return pe(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,_d)}toString(){return".key"}}const wo=new pR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class on{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??on.RED,this.left=r??Kn.EMPTY_NODE,this.right=s??Kn.EMPTY_NODE}copy(e,t,i,r,s){return new on(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Kn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}on.RED=!0;on.BLACK=!1;class NX{copy(e,t,i,r,s){return this}insert(e,t,i){return new on(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Kn{constructor(e,t=Kn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Kn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,on.BLACK,null,null))}remove(e){return new Kn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,on.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Cd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Cd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Cd(this.root_,null,this.comparator_,!0,e)}}Kn.EMPTY_NODE=new NX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(n,e){return uu(n.name,e.name)}function aS(n,e){return uu(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let db;function BX(n){db=n}const mR=function(n){return typeof n=="number"?"number:"+qP(n):"string:"+n},gR=function(n){if(n.isLeafNode()){const e=n.val();pe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ws(e,".sv"),"Priority must be a string or number.")}else pe(n===db||n.isEmpty(),"priority of unexpected type.");pe(n===db||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HC;class an{static set __childrenNodeConstructor(e){HC=e}static get __childrenNodeConstructor(){return HC}constructor(e,t=an.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,pe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new an(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return We(e)?this:je(e)===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:an.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=je(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(pe(i!==".priority"||dl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,an.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=qP(this.value_):e+=this.value_,this.lazyHash_=ZP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===an.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof an.__childrenNodeConstructor?-1:(pe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=an.VALUE_TYPE_ORDER.indexOf(t),s=an.VALUE_TYPE_ORDER.indexOf(i);return pe(r>=0,"Unknown leaf type: "+t),pe(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}an.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OR,yR;function XX(n){OR=n}function ZX(n){yR=n}class UX extends Dm{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?uu(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(fa,new an("[PRIORITY-POST]",yR))}makePost(e,t){const i=OR(e);return new qe(t,new an("[PRIORITY-POST]",i))}toString(){return".priority"}}const zt=new UX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX=Math.log(2);class qX{constructor(e){const t=s=>parseInt(Math.log(s)/jX,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ap=function(n,e,t,i){n.sort(e);const r=function(c,f){const d=f-c;let m,g;if(d===0)return null;if(d===1)return m=n[c],g=t?t(m):m,new on(g,m.node,on.BLACK,null,null);{const y=parseInt(d/2,10)+c,S=r(c,y),v=r(y+1,f);return m=n[y],g=t?t(m):m,new on(g,m.node,on.BLACK,S,v)}},s=function(c){let f=null,d=null,m=n.length;const g=function(S,v){const w=m-S,k=m;m-=S;const E=r(w+1,k),C=n[w],X=t?t(C):C;y(new on(X,C.node,v,null,E))},y=function(S){f?(f.left=S,f=S):(d=S,f=S)};for(let S=0;S<c.count;++S){const v=c.nextBitIsOne(),w=Math.pow(2,c.count-(S+1));v?g(w,on.BLACK):(g(w,on.BLACK),g(w,on.RED))}return d},l=new qX(n.length),o=s(l);return new Kn(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By;const uo={};class as{static get Default(){return pe(uo&&zt,"ChildrenNode.ts has not been loaded"),By=By||new as({".priority":uo},{".priority":zt}),By}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Lo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Kn?t:null}hasIndex(e){return ws(this.indexSet_,e.toString())}addIndex(e,t){pe(e!==wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(qe.Wrap);let l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();let o;r?o=Ap(i,e.getCompare()):o=uo;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const d=Object.assign({},this.indexes_);return d[c]=o,new as(d,f)}addToIndexes(e,t){const i=Cp(this.indexes_,(r,s)=>{const l=Lo(this.indexSet_,s);if(pe(l,"Missing index implementation for "+s),r===uo)if(l.isDefinedOn(e.node)){const o=[],c=t.getIterator(qe.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&o.push(f),f=c.getNext();return o.push(e),Ap(o,l.getCompare())}else return uo;else{const o=t.get(e.name);let c=r;return o&&(c=c.remove(new qe(e.name,o))),c.insert(e,e.node)}});return new as(i,this.indexSet_)}removeFromIndexes(e,t){const i=Cp(this.indexes_,r=>{if(r===uo)return r;{const s=t.get(e.name);return s?r.remove(new qe(e.name,s)):r}});return new as(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;class Me{static get EMPTY_NODE(){return yc||(yc=new Me(new Kn(aS),null,as.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&gR(this.priorityNode_),this.children_.isEmpty()&&pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yc}updatePriority(e){return this.children_.isEmpty()?this:new Me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?yc:t}}getChild(e){const t=je(e);return t===null?this:this.getImmediateChild(t).getChild(Qt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(pe(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new qe(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?yc:this.priorityNode_;return new Me(r,l,s)}}updateChild(e,t){const i=je(e);if(i===null)return t;{pe(je(e)!==".priority"||dl(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Qt(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,s=!0;if(this.forEachChild(zt,(l,o)=>{t[l]=o.val(e),i++,s&&Me.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):s=!1}),!e&&s&&r<2*i){const l=[];for(const o in t)l[o]=t[o];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mR(this.getPriority().val())+":"),this.forEachChild(zt,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":ZP(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new qe(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,qe.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jh?-1:0}withIndex(e){if(e===wo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Me(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===wo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(zt),r=t.getIterator(zt);let s=i.getNext(),l=r.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=i.getNext(),l=r.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===wo?null:this.indexMap_.get(e.toString())}}Me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class VX extends Me{constructor(){super(new Kn(aS),Me.EMPTY_NODE,as.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Me.EMPTY_NODE}isEmpty(){return!1}}const jh=new VX;Object.defineProperties(qe,{MIN:{value:new qe(zo,Me.EMPTY_NODE)},MAX:{value:new qe(fa,jh)}});pR.__EMPTY_NODE=Me.EMPTY_NODE;an.__childrenNodeConstructor=Me;BX(jh);ZX(jh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX=!0;function Sn(n,e=null){if(n===null)return Me.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),pe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new an(t,Sn(e))}if(!(n instanceof Array)&&YX){const t=[];let i=!1;if(ni(n,(l,o)=>{if(l.substring(0,1)!=="."){const c=Sn(o);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new qe(l,c)))}}),t.length===0)return Me.EMPTY_NODE;const s=Ap(t,zX,l=>l.name,aS);if(i){const l=Ap(t,zt.getCompare());return new Me(s,Sn(e),new as({".priority":l},{".priority":zt}))}else return new Me(s,Sn(e),as.Default)}else{let t=Me.EMPTY_NODE;return ni(n,(i,r)=>{if(ws(n,i)&&i.substring(0,1)!=="."){const s=Sn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Sn(e))}}XX(Sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX extends Dm{constructor(e){super(),this.indexPath_=e,pe(!We(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?uu(e.name,t.name):s}makePost(e,t){const i=Sn(e),r=Me.EMPTY_NODE.updateChild(this.indexPath_,i);return new qe(t,r)}maxPost(){const e=Me.EMPTY_NODE.updateChild(this.indexPath_,jh);return new qe(fa,e)}toString(){return hR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX extends Dm{compare(e,t){const i=e.node.compareTo(t.node);return i===0?uu(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const i=Sn(e);return new qe(t,i)}toString(){return".value"}}const FX=new HX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n){return{type:"value",snapshotNode:n}}function Bo(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function lh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ah(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function GX(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){pe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(i.getChild(r))&&o.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(lh(t,o)):pe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?l.trackChildChange(Bo(t,i)):l.trackChildChange(ah(t,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(zt,(r,s)=>{t.hasChild(r)||i.trackChildChange(lh(r,s))}),t.isLeafNode()||t.forEachChild(zt,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(ah(r,s,l))}else i.trackChildChange(Bo(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Me.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.indexedFilter_=new oS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=oh.getStartPost_(e),this.endPost_=oh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new qe(t,i))||(i=Me.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Me.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Me.EMPTY_NODE);const s=this;return t.forEachChild(zt,(l,o)=>{s.matches(new qe(l,o))||(r=r.updateImmediateChild(l,Me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new oh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new qe(t,i))||(i=Me.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=Me.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),l++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(Me.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let l=0;for(;s.hasNext();){const o=s.getNext();l<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?l++:r=r.updateImmediateChild(o.name,Me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const m=this.index_.getCompare();l=(g,y)=>m(y,g)}else l=this.index_.getCompare();const o=e;pe(o.numChildren()===this.limit_,"");const c=new qe(t,i),f=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(o.hasChild(t)){const m=o.getImmediateChild(t);let g=r.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===t||o.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:l(g,c);if(d&&!i.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(ah(t,i,m)),o.updateImmediateChild(t,i);{s!=null&&s.trackChildChange(lh(t,m));const v=o.updateImmediateChild(t,Me.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Bo(g.name,g.node)),v.updateImmediateChild(g.name,g.node)):v}}else return i.isEmpty()?e:d&&l(f,c)>=0?(s!=null&&(s.trackChildChange(lh(f.name,f.node)),s.trackChildChange(Bo(t,i))),o.updateImmediateChild(t,i).updateImmediateChild(f.name,Me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zo}hasEnd(){return this.endSet_}getIndexEndValue(){return pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zt}copy(){const e=new uS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JX(n){return n.loadsAllData()?new oS(n.getIndex()):n.hasLimit()?new KX(n):new oh(n)}function FC(n){const e={};if(n.isDefault())return e;let t;if(n.index_===zt?t="$priority":n.index_===FX?t="$value":n.index_===wo?t="$key":(pe(n.index_ instanceof WX,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=un(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=un(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+un(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=un(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+un(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function GC(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==zt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends oR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(pe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Uh("p:rest:"),this.listens_={}}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=Pp.getListenId_(e,i),o={};this.listens_[l]=o;const c=FC(e._queryParams);this.restRequest_(s+".json",c,(f,d)=>{let m=d;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,i),Lo(this.listens_,l)===o){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",r(g,null)}})}unlisten(e,t){const i=Pp.getListenId_(e,t);delete this.listens_[i]}get(e){const t=FC(e._queryParams),i=e._path.toString(),r=new Mm;return this.restRequest_(i+".json",t,(s,l)=>{let o=l;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+au(t);this.log_("Sending REST request for "+l);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+l+" received. status:",o.status,"response:",o.responseText);let c=null;if(o.status>=200&&o.status<300){try{c=ih(o.responseText)}catch{ti("Failed to parse JSON response for "+l+": "+o.responseText)}i(null,c)}else o.status!==401&&o.status!==404&&ti("Got unsuccessful REST response for "+l+" Status: "+o.status),i(o.status);i=null}},o.open("GET",l,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this.rootNode_=Me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){return{value:null,children:new Map}}function SR(n,e,t){if(We(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=je(e);n.children.has(i)||n.children.set(i,Rp());const r=n.children.get(i);e=Qt(e),SR(r,e,t)}}function pb(n,e,t){n.value!==null?t(e,n.value):tZ(n,(i,r)=>{const s=new _t(e.toString()+"/"+i);pb(r,s,t)})}function tZ(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ni(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=10*1e3,iZ=30*1e3,rZ=300*1e3;class sZ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new nZ(e);const i=KC+(iZ-KC)*Math.random();zc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ni(e,(r,s)=>{s>0&&ws(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),zc(this.reportStats_.bind(this),Math.floor(Math.random()*2*rZ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ji||(Ji={}));function vR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ji.ACK_USER_WRITE,this.source=vR()}operationForChild(e){if(We(this.path)){if(this.affectedTree.value!=null)return pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new _t(e));return new Mp(ut(),t,this.revert)}}else return pe(je(this.path)===e,"operationForChild called for unrelated child."),new Mp(Qt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.source=e,this.path=t,this.type=Ji.LISTEN_COMPLETE}operationForChild(e){return We(this.path)?new uh(this.source,ut()):new uh(this.source,Qt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ji.OVERWRITE}operationForChild(e){return We(this.path)?new da(this.source,ut(),this.snap.getImmediateChild(e)):new da(this.source,Qt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ji.MERGE}operationForChild(e){if(We(this.path)){const t=this.children.subtree(new _t(e));return t.isEmpty()?null:t.value?new da(this.source,ut(),t.value):new ch(this.source,ut(),t)}else return pe(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ch(this.source,Qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aZ(n,e,t,i){const r=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(GX(l.childName,l.snapshotNode))}),bc(n,r,"child_removed",e,i,t),bc(n,r,"child_added",e,i,t),bc(n,r,"child_moved",s,i,t),bc(n,r,"child_changed",e,i,t),bc(n,r,"value",e,i,t),r}function bc(n,e,t,i,r,s){const l=i.filter(o=>o.type===t);l.sort((o,c)=>uZ(n,o,c)),l.forEach(o=>{const c=oZ(n,o,s);r.forEach(f=>{f.respondsTo(o.type)&&e.push(f.createEvent(c,n.query_))})})}function oZ(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function uZ(n,e,t){if(e.childName==null||t.childName==null)throw su("Should only compare child_ events.");const i=new qe(e.childName,e.snapshotNode),r=new qe(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n,e){return{eventCache:n,serverCache:e}}function Bc(n,e,t,i){return Im(new pa(e,t,i),n.serverCache)}function xR(n,e,t,i){return Im(n.eventCache,new pa(e,t,i))}function mb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ma(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;const cZ=()=>(Xy||(Xy=new Kn(HB)),Xy);class Rt{static fromObject(e){let t=new Rt(null);return ni(e,(i,r)=>{t=t.set(new _t(i),r)}),t}constructor(e,t=cZ()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ut(),value:this.value};if(We(e))return null;{const i=je(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Qt(e),t);return s!=null?{path:tn(new _t(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const t=je(e),i=this.children.get(t);return i!==null?i.subtree(Qt(e)):new Rt(null)}}set(e,t){if(We(e))return new Rt(t,this.children);{const i=je(e),s=(this.children.get(i)||new Rt(null)).set(Qt(e),t),l=this.children.insert(i,s);return new Rt(this.value,l)}}remove(e){if(We(e))return this.children.isEmpty()?new Rt(null):new Rt(null,this.children);{const t=je(e),i=this.children.get(t);if(i){const r=i.remove(Qt(e));let s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new Rt(null):new Rt(this.value,s)}else return this}}get(e){if(We(e))return this.value;{const t=je(e),i=this.children.get(t);return i?i.get(Qt(e)):null}}setTree(e,t){if(We(e))return t;{const i=je(e),s=(this.children.get(i)||new Rt(null)).setTree(Qt(e),t);let l;return s.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,s),new Rt(this.value,l)}}fold(e){return this.fold_(ut(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(tn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ut(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(We(e))return null;{const s=je(e),l=this.children.get(s);return l?l.findOnPath_(Qt(e),tn(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ut(),t)}foreachOnPath_(e,t,i){if(We(e))return this;{this.value&&i(t,this.value);const r=je(e),s=this.children.get(r);return s?s.foreachOnPath_(Qt(e),tn(t,r),i):new Rt(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(tn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.writeTree_=e}static empty(){return new nr(new Rt(null))}}function Xc(n,e,t){if(We(e))return new nr(new Rt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const l=Gn(r,e);return s=s.updateChild(l,t),new nr(n.writeTree_.set(r,s))}else{const r=new Rt(t),s=n.writeTree_.setTree(e,r);return new nr(s)}}}function JC(n,e,t){let i=n;return ni(t,(r,s)=>{i=Xc(i,tn(e,r),s)}),i}function eT(n,e){if(We(e))return nr.empty();{const t=n.writeTree_.setTree(e,new Rt(null));return new nr(t)}}function gb(n,e){return xa(n,e)!=null}function xa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Gn(t.path,e)):null}function tT(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(zt,(i,r)=>{e.push(new qe(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new qe(i,r.value))}),e}function cl(n,e){if(We(e))return n;{const t=xa(n,e);return t!=null?new nr(new Rt(t)):new nr(n.writeTree_.subtree(e))}}function Ob(n){return n.writeTree_.isEmpty()}function Xo(n,e){return wR(ut(),n.writeTree_,e)}function wR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(pe(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=wR(tn(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(tn(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){return TR(e,n)}function hZ(n,e,t,i,r){pe(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Xc(n.visibleWrites,e,t)),n.lastWriteId=i}function fZ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function dZ(n,e){const t=n.allWrites.findIndex(o=>o.writeId===e);pe(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const o=n.allWrites[l];o.visible&&(l>=t&&pZ(o,i.path)?r=!1:Ki(i.path,o.path)&&(s=!0)),l--}if(r){if(s)return mZ(n),!0;if(i.snap)n.visibleWrites=eT(n.visibleWrites,i.path);else{const o=i.children;ni(o,c=>{n.visibleWrites=eT(n.visibleWrites,tn(i.path,c))})}return!0}else return!1}function pZ(n,e){if(n.snap)return Ki(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ki(tn(n.path,t),e))return!0;return!1}function mZ(n){n.visibleWrites=kR(n.allWrites,gZ,ut()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function gZ(n){return n.visible}function kR(n,e,t){let i=nr.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let o;if(s.snap)Ki(t,l)?(o=Gn(t,l),i=Xc(i,o,s.snap)):Ki(l,t)&&(o=Gn(l,t),i=Xc(i,ut(),s.snap.getChild(o)));else if(s.children){if(Ki(t,l))o=Gn(t,l),i=JC(i,o,s.children);else if(Ki(l,t))if(o=Gn(l,t),We(o))i=JC(i,ut(),s.children);else{const c=Lo(s.children,je(o));if(c){const f=c.getChild(Qt(o));i=Xc(i,ut(),f)}}}else throw su("WriteRecord should have .snap or .children")}}return i}function _R(n,e,t,i,r){if(!i&&!r){const s=xa(n.visibleWrites,e);if(s!=null)return s;{const l=cl(n.visibleWrites,e);if(Ob(l))return t;if(t==null&&!gb(l,ut()))return null;{const o=t||Me.EMPTY_NODE;return Xo(l,o)}}}else{const s=cl(n.visibleWrites,e);if(!r&&Ob(s))return t;if(!r&&t==null&&!gb(s,ut()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Ki(f.path,e)||Ki(e,f.path))},o=kR(n.allWrites,l,e),c=t||Me.EMPTY_NODE;return Xo(o,c)}}}function OZ(n,e,t){let i=Me.EMPTY_NODE;const r=xa(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(zt,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=cl(n.visibleWrites,e);return t.forEachChild(zt,(l,o)=>{const c=Xo(cl(s,new _t(l)),o);i=i.updateImmediateChild(l,c)}),tT(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const s=cl(n.visibleWrites,e);return tT(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function yZ(n,e,t,i,r){pe(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=tn(e,t);if(gb(n.visibleWrites,s))return null;{const l=cl(n.visibleWrites,s);return Ob(l)?r.getChild(t):Xo(l,r.getChild(t))}}function bZ(n,e,t,i){const r=tn(e,t),s=xa(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){const l=cl(n.visibleWrites,r);return Xo(l,i.getNode().getImmediateChild(t))}else return null}function SZ(n,e){return xa(n.visibleWrites,e)}function vZ(n,e,t,i,r,s,l){let o;const c=cl(n.visibleWrites,e),f=xa(c,ut());if(f!=null)o=f;else if(t!=null)o=Xo(c,t);else return[];if(o=o.withIndex(l),!o.isEmpty()&&!o.isLeafNode()){const d=[],m=l.getCompare(),g=s?o.getReverseIteratorFrom(i,l):o.getIteratorFrom(i,l);let y=g.getNext();for(;y&&d.length<r;)m(y,i)!==0&&d.push(y),y=g.getNext();return d}else return[]}function xZ(){return{visibleWrites:nr.empty(),allWrites:[],lastWriteId:-1}}function $p(n,e,t,i){return _R(n.writeTree,n.treePath,e,t,i)}function dS(n,e){return OZ(n.writeTree,n.treePath,e)}function nT(n,e,t,i){return yZ(n.writeTree,n.treePath,e,t,i)}function Dp(n,e){return SZ(n.writeTree,tn(n.treePath,e))}function wZ(n,e,t,i,r,s){return vZ(n.writeTree,n.treePath,e,t,i,r,s)}function pS(n,e,t){return bZ(n.writeTree,n.treePath,e,t)}function CR(n,e){return TR(tn(n.treePath,e),n.writeTree)}function TR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;pe(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),pe(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,ah(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,lh(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,Bo(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,ah(i,e.snapshotNode,r.oldSnap));else throw su("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const ER=new _Z;class mS{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new pa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pS(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ma(this.viewCache_),s=wZ(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(n){return{filter:n}}function TZ(n,e){pe(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),pe(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function EZ(n,e,t,i,r){const s=new kZ;let l,o;if(t.type===Ji.OVERWRITE){const f=t;f.source.fromUser?l=yb(n,e,f.path,f.snap,i,r,s):(pe(f.source.fromServer,"Unknown source."),o=f.source.tagged||e.serverCache.isFiltered()&&!We(f.path),l=Ip(n,e,f.path,f.snap,i,r,o,s))}else if(t.type===Ji.MERGE){const f=t;f.source.fromUser?l=AZ(n,e,f.path,f.children,i,r,s):(pe(f.source.fromServer,"Unknown source."),o=f.source.tagged||e.serverCache.isFiltered(),l=bb(n,e,f.path,f.children,i,r,o,s))}else if(t.type===Ji.ACK_USER_WRITE){const f=t;f.revert?l=MZ(n,e,f.path,i,r,s):l=PZ(n,e,f.path,f.affectedTree,i,r,s)}else if(t.type===Ji.LISTEN_COMPLETE)l=RZ(n,e,t.path,i,s);else throw su("Unknown operation type: "+t.type);const c=s.getChanges();return QZ(e,l,c),{viewCache:l,changes:c}}function QZ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=mb(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(bR(mb(e)))}}function QR(n,e,t,i,r,s){const l=e.eventCache;if(Dp(i,t)!=null)return e;{let o,c;if(We(t))if(pe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=ma(e),d=f instanceof Me?f:Me.EMPTY_NODE,m=dS(i,d);o=n.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=$p(i,ma(e));o=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=je(t);if(f===".priority"){pe(dl(t)===1,"Can't have a priority with additional path components");const d=l.getNode();c=e.serverCache.getNode();const m=nT(i,t,d,c);m!=null?o=n.filter.updatePriority(d,m):o=l.getNode()}else{const d=Qt(t);let m;if(l.isCompleteForChild(f)){c=e.serverCache.getNode();const g=nT(i,t,l.getNode(),c);g!=null?m=l.getNode().getImmediateChild(f).updateChild(d,g):m=l.getNode().getImmediateChild(f)}else m=pS(i,f,e.serverCache);m!=null?o=n.filter.updateChild(l.getNode(),f,m,d,r,s):o=l.getNode()}}return Bc(e,o,l.isFullyInitialized()||We(t),n.filter.filtersNodes())}}function Ip(n,e,t,i,r,s,l,o){const c=e.serverCache;let f;const d=l?n.filter:n.filter.getIndexedFilter();if(We(t))f=d.updateFullNode(c.getNode(),i,null);else if(d.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(t,i);f=d.updateFullNode(c.getNode(),y,null)}else{const y=je(t);if(!c.isCompleteForPath(t)&&dl(t)>1)return e;const S=Qt(t),w=c.getNode().getImmediateChild(y).updateChild(S,i);y===".priority"?f=d.updatePriority(c.getNode(),w):f=d.updateChild(c.getNode(),y,w,S,ER,null)}const m=xR(e,f,c.isFullyInitialized()||We(t),d.filtersNodes()),g=new mS(r,m,s);return QR(n,m,t,r,g,o)}function yb(n,e,t,i,r,s,l){const o=e.eventCache;let c,f;const d=new mS(r,e,s);if(We(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),c=Bc(e,f,!0,n.filter.filtersNodes());else{const m=je(t);if(m===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),c=Bc(e,f,o.isFullyInitialized(),o.isFiltered());else{const g=Qt(t),y=o.getNode().getImmediateChild(m);let S;if(We(g))S=i;else{const v=d.getCompleteChild(m);v!=null?cR(g)===".priority"&&v.getChild(fR(g)).isEmpty()?S=v:S=v.updateChild(g,i):S=Me.EMPTY_NODE}if(y.equals(S))c=e;else{const v=n.filter.updateChild(o.getNode(),m,S,g,d,l);c=Bc(e,v,o.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function iT(n,e){return n.eventCache.isCompleteForChild(e)}function AZ(n,e,t,i,r,s,l){let o=e;return i.foreach((c,f)=>{const d=tn(t,c);iT(e,je(d))&&(o=yb(n,o,d,f,r,s,l))}),i.foreach((c,f)=>{const d=tn(t,c);iT(e,je(d))||(o=yb(n,o,d,f,r,s,l))}),o}function rT(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function bb(n,e,t,i,r,s,l,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;We(t)?f=i:f=new Rt(null).setTree(t,i);const d=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(d.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),S=rT(n,y,g);c=Ip(n,c,new _t(m),S,r,s,l,o)}}),f.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!d.hasChild(m)&&!y){const S=e.serverCache.getNode().getImmediateChild(m),v=rT(n,S,g);c=Ip(n,c,new _t(m),v,r,s,l,o)}}),c}function PZ(n,e,t,i,r,s,l){if(Dp(r,t)!=null)return e;const o=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(We(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Ip(n,e,t,c.getNode().getChild(t),r,s,o,l);if(We(t)){let f=new Rt(null);return c.getNode().forEachChild(wo,(d,m)=>{f=f.set(new _t(d),m)}),bb(n,e,t,f,r,s,o,l)}else return e}else{let f=new Rt(null);return i.foreach((d,m)=>{const g=tn(t,d);c.isCompleteForPath(g)&&(f=f.set(d,c.getNode().getChild(g)))}),bb(n,e,t,f,r,s,o,l)}}function RZ(n,e,t,i,r){const s=e.serverCache,l=xR(e,s.getNode(),s.isFullyInitialized()||We(t),s.isFiltered());return QR(n,l,t,i,ER,r)}function MZ(n,e,t,i,r,s){let l;if(Dp(i,t)!=null)return e;{const o=new mS(i,e,r),c=e.eventCache.getNode();let f;if(We(t)||je(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=$p(i,ma(e));else{const m=e.serverCache.getNode();pe(m instanceof Me,"serverChildren would be complete if leaf node"),d=dS(i,m)}d=d,f=n.filter.updateFullNode(c,d,s)}else{const d=je(t);let m=pS(i,d,e.serverCache);m==null&&e.serverCache.isCompleteForChild(d)&&(m=c.getImmediateChild(d)),m!=null?f=n.filter.updateChild(c,d,m,Qt(t),o,s):e.eventCache.getNode().hasChild(d)?f=n.filter.updateChild(c,d,Me.EMPTY_NODE,Qt(t),o,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=$p(i,ma(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,s)))}return l=e.serverCache.isFullyInitialized()||Dp(i,ut())!=null,Bc(e,f,l,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new oS(i.getIndex()),s=JX(i);this.processor_=CZ(s);const l=t.serverCache,o=t.eventCache,c=r.updateFullNode(Me.EMPTY_NODE,l.getNode(),null),f=s.updateFullNode(Me.EMPTY_NODE,o.getNode(),null),d=new pa(c,l.isFullyInitialized(),r.filtersNodes()),m=new pa(f,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Im(m,d),this.eventGenerator_=new lZ(this.query_)}get query(){return this.query_}}function DZ(n){return n.viewCache_.serverCache.getNode()}function IZ(n,e){const t=ma(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!We(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function sT(n){return n.eventRegistrations_.length===0}function LZ(n,e){n.eventRegistrations_.push(e)}function lT(n,e,t){const i=[];if(t){pe(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function aT(n,e,t,i){e.type===Ji.MERGE&&e.source.queryId!==null&&(pe(ma(n.viewCache_),"We should always have a full cache before handling merges"),pe(mb(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=EZ(n.processor_,r,e,t,i);return TZ(n.processor_,s.viewCache),pe(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,AR(n,s.changes,s.viewCache.eventCache.getNode(),null)}function NZ(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(zt,(s,l)=>{i.push(Bo(s,l))}),t.isFullyInitialized()&&i.push(bR(t.getNode())),AR(n,i,t.getNode(),e)}function AR(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return aZ(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;class zZ{constructor(){this.views=new Map}}function BZ(n){pe(!Lp,"__referenceConstructor has already been defined"),Lp=n}function XZ(){return pe(Lp,"Reference.ts has not been loaded"),Lp}function ZZ(n){return n.views.size===0}function gS(n,e,t,i){const r=e.source.queryId;if(r!==null){const s=n.views.get(r);return pe(s!=null,"SyncTree gave us an op for an invalid query."),aT(s,e,t,i)}else{let s=[];for(const l of n.views.values())s=s.concat(aT(l,e,t,i));return s}}function UZ(n,e,t,i,r){const s=e._queryIdentifier,l=n.views.get(s);if(!l){let o=$p(t,r?i:null),c=!1;o?c=!0:i instanceof Me?(o=dS(t,i),c=!1):(o=Me.EMPTY_NODE,c=!1);const f=Im(new pa(o,c,!1),new pa(i,r,!1));return new $Z(e,f)}return l}function jZ(n,e,t,i,r,s){const l=UZ(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),LZ(l,t),NZ(l,t)}function qZ(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const o=pl(n);if(r==="default")for(const[c,f]of n.views.entries())l=l.concat(lT(f,t,i)),sT(f)&&(n.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=n.views.get(r);c&&(l=l.concat(lT(c,t,i)),sT(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||s.push(c.query)))}return o&&!pl(n)&&s.push(new(XZ())(e._repo,e._path)),{removed:s,events:l}}function PR(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ko(n,e){let t=null;for(const i of n.views.values())t=t||IZ(i,e);return t}function RR(n,e){if(e._queryParams.loadsAllData())return Lm(n);{const i=e._queryIdentifier;return n.views.get(i)}}function MR(n,e){return RR(n,e)!=null}function pl(n){return Lm(n)!=null}function Lm(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np;function VZ(n){pe(!Np,"__referenceConstructor has already been defined"),Np=n}function YZ(){return pe(Np,"Reference.ts has not been loaded"),Np}let WZ=1;class oT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=xZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $R(n,e,t,i,r){return hZ(n.pendingWriteTree_,e,t,i,r),r?qh(n,new da(vR(),e,t)):[]}function ia(n,e,t=!1){const i=fZ(n.pendingWriteTree_,e);if(dZ(n.pendingWriteTree_,e)){let s=new Rt(null);return i.snap!=null?s=s.set(ut(),!0):ni(i.children,l=>{s=s.set(new _t(l),!0)}),qh(n,new Mp(i.path,s,t))}else return[]}function Nm(n,e,t){return qh(n,new da(cS(),e,t))}function HZ(n,e,t){const i=Rt.fromObject(t);return qh(n,new ch(cS(),e,i))}function FZ(n,e){return qh(n,new uh(cS(),e))}function GZ(n,e,t){const i=yS(n,t);if(i){const r=bS(i),s=r.path,l=r.queryId,o=Gn(s,e),c=new uh(hS(l),o);return SS(n,s,c)}else return[]}function Sb(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let o=[];if(l&&(e._queryIdentifier==="default"||MR(l,e))){const c=qZ(l,e,t,i);ZZ(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=c.removed;if(o=c.events,!r){const d=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=n.syncPointTree_.findOnPath(s,(g,y)=>pl(y));if(d&&!m){const g=n.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=e6(g);for(let S=0;S<y.length;++S){const v=y[S],w=v.query,k=LR(n,v);n.listenProvider_.startListening(Zc(w),zp(n,w),k.hashFn,k.onComplete)}}}!m&&f.length>0&&!i&&(d?n.listenProvider_.stopListening(Zc(e),null):f.forEach(g=>{const y=n.queryToTagMap.get(zm(g));n.listenProvider_.stopListening(Zc(g),y)}))}t6(n,f)}return o}function KZ(n,e,t,i){const r=yS(n,i);if(r!=null){const s=bS(r),l=s.path,o=s.queryId,c=Gn(l,e),f=new da(hS(o),c,t);return SS(n,l,f)}else return[]}function JZ(n,e,t,i){const r=yS(n,i);if(r){const s=bS(r),l=s.path,o=s.queryId,c=Gn(l,e),f=Rt.fromObject(t),d=new ch(hS(o),c,f);return SS(n,l,d)}else return[]}function uT(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(g,y)=>{const S=Gn(g,r);s=s||ko(y,S),l=l||pl(y)});let o=n.syncPointTree_.get(r);o?(l=l||pl(o),s=s||ko(o,ut())):(o=new zZ,n.syncPointTree_=n.syncPointTree_.set(r,o));let c;s!=null?c=!0:(c=!1,s=Me.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((y,S)=>{const v=ko(S,ut());v&&(s=s.updateImmediateChild(y,v))}));const f=MR(o,e);if(!f&&!e._queryParams.loadsAllData()){const g=zm(e);pe(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=n6();n.queryToTagMap.set(g,y),n.tagToQueryMap.set(y,g)}const d=fS(n.pendingWriteTree_,r);let m=jZ(o,e,t,d,s,c);if(!f&&!l&&!i){const g=RR(o,e);m=m.concat(i6(n,e,g))}return m}function OS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,o)=>{const c=Gn(l,e),f=ko(o,c);if(f)return f});return _R(r,e,s,t,!0)}function qh(n,e){return DR(e,n.syncPointTree_,null,fS(n.pendingWriteTree_,ut()))}function DR(n,e,t,i){if(We(n.path))return IR(n,e,t,i);{const r=e.get(ut());t==null&&r!=null&&(t=ko(r,ut()));let s=[];const l=je(n.path),o=n.operationForChild(l),c=e.children.get(l);if(c&&o){const f=t?t.getImmediateChild(l):null,d=CR(i,l);s=s.concat(DR(o,c,f,d))}return r&&(s=s.concat(gS(r,n,i,t))),s}}function IR(n,e,t,i){const r=e.get(ut());t==null&&r!=null&&(t=ko(r,ut()));let s=[];return e.children.inorderTraversal((l,o)=>{const c=t?t.getImmediateChild(l):null,f=CR(i,l),d=n.operationForChild(l);d&&(s=s.concat(IR(d,o,c,f)))}),r&&(s=s.concat(gS(r,n,i,t))),s}function LR(n,e){const t=e.query,i=zp(n,t);return{hashFn:()=>(DZ(e)||Me.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?GZ(n,t._path,i):FZ(n,t._path);{const s=KB(r,t);return Sb(n,t,null,s)}}}}function zp(n,e){const t=zm(e);return n.queryToTagMap.get(t)}function zm(n){return n._path.toString()+"$"+n._queryIdentifier}function yS(n,e){return n.tagToQueryMap.get(e)}function bS(n){const e=n.indexOf("$");return pe(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new _t(n.substr(0,e))}}function SS(n,e,t){const i=n.syncPointTree_.get(e);pe(i,"Missing sync point for query tag that we're tracking");const r=fS(n.pendingWriteTree_,e);return gS(i,t,r,null)}function e6(n){return n.fold((e,t,i)=>{if(t&&pl(t))return[Lm(t)];{let r=[];return t&&(r=PR(t)),ni(i,(s,l)=>{r=r.concat(l)}),r}})}function Zc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(YZ())(n._repo,n._path):n}function t6(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=zm(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}function n6(){return WZ++}function i6(n,e,t){const i=e._path,r=zp(n,e),s=LR(n,t),l=n.listenProvider_.startListening(Zc(e),r,s.hashFn,s.onComplete),o=n.syncPointTree_.subtree(i);if(r)pe(!pl(o.value),"If we're adding a query, it shouldn't be shadowed");else{const c=o.fold((f,d,m)=>{if(!We(f)&&d&&pl(d))return[Lm(d).query];{let g=[];return d&&(g=g.concat(PR(d).map(y=>y.query))),ni(m,(y,S)=>{g=g.concat(S)}),g}});for(let f=0;f<c.length;++f){const d=c[f];n.listenProvider_.stopListening(Zc(d),zp(n,d))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new vS(t)}node(){return this.node_}}class xS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=tn(this.path_,e);return new xS(this.syncTree_,t)}node(){return OS(this.syncTree_,this.path_)}}const r6=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},cT=function(n,e,t){if(!n||typeof n!="object")return n;if(pe(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return s6(n[".sv"],e,t);if(typeof n[".sv"]=="object")return l6(n[".sv"],e);pe(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},s6=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:pe(!1,"Unexpected server value: "+n)}},l6=function(n,e,t){n.hasOwnProperty("increment")||pe(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&pe(!1,"Unexpected increment value: "+i);const r=e.node();if(pe(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},a6=function(n,e,t,i){return wS(e,new xS(t,n),i)},NR=function(n,e,t){return wS(n,new vS(e),t)};function wS(n,e,t){const i=n.getPriority().val(),r=cT(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,o=cT(l.getValue(),e,t);return o!==l.getValue()||r!==l.getPriority().val()?new an(o,Sn(r)):n}else{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new an(r))),l.forEachChild(zt,(o,c)=>{const f=wS(c,e.getImmediateChild(o),t);f!==c&&(s=s.updateImmediateChild(o,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kS=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function _S(n,e){let t=e instanceof _t?e:new _t(e),i=n,r=je(t);for(;r!==null;){const s=Lo(i.node.children,r)||{children:{},childCount:0};i=new kS(r,i,s),t=Qt(t),r=je(t)}return i}function hu(n){return n.node.value}function zR(n,e){n.node.value=e,vb(n)}function BR(n){return n.node.childCount>0}function o6(n){return hu(n)===void 0&&!BR(n)}function Bm(n,e){ni(n.node.children,(t,i)=>{e(new kS(t,n,i))})}function XR(n,e,t,i){t&&e(n),Bm(n,r=>{XR(r,e,!0)})}function u6(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Vh(n){return new _t(n.parent===null?n.name:Vh(n.parent)+"/"+n.name)}function vb(n){n.parent!==null&&c6(n.parent,n.name,n)}function c6(n,e,t){const i=o6(t),r=ws(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,vb(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,vb(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/[\[\].#$\/\u0000-\u001F\u007F]/,f6=/[\[\].#$\u0000-\u001F\u007F]/,Zy=10*1024*1024,ZR=function(n){return typeof n=="string"&&n.length!==0&&!h6.test(n)},UR=function(n){return typeof n=="string"&&n.length!==0&&!f6.test(n)},d6=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UR(n)},p6=function(n,e,t,i){CS(G1(n,"value"),e,t)},CS=function(n,e,t){const i=t instanceof _t?new PX(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Gl(i));if(typeof e=="function")throw new Error(n+"contains a function "+Gl(i)+" with contents = "+e.toString());if(UP(e))throw new Error(n+"contains "+e.toString()+" "+Gl(i));if(typeof e=="string"&&e.length>Zy/3&&$m(e)>Zy)throw new Error(n+"contains a string greater than "+Zy+" utf8 bytes "+Gl(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(ni(e,(l,o)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!ZR(l)))throw new Error(n+" contains an invalid key ("+l+") "+Gl(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RX(i,l),CS(n,o,i),MX(i)}),r&&s)throw new Error(n+' contains ".value" child '+Gl(i)+" in addition to actual children.")}},jR=function(n,e,t,i){if(!UR(t))throw new Error(G1(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m6=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jR(n,e,t)},qR=function(n,e){if(je(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},g6=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ZR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!d6(t))throw new Error(G1(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function TS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();t!==null&&!sS(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function VR(n,e,t){TS(n,t),YR(n,i=>sS(i,e))}function Os(n,e,t){TS(n,t),YR(n,i=>Ki(i,e)||Ki(e,i))}function YR(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const s=r.path;e(s)?(y6(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function y6(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Nc&&En("event: "+t.toString()),cu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="repo_interrupt",S6=25;class v6{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rp(),this.transactionQueueTree_=new kS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function x6(n,e,t){if(n.stats_=iS(n.repoInfo_),n.forceRestClient_||nX())n.server_=new Pp(n.repoInfo_,(i,r,s,l)=>{hT(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>fT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{un(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new fs(n.repoInfo_,e,(i,r,s,l)=>{hT(n,i,r,s,l)},i=>{fT(n,i)},i=>{k6(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=aX(n.repoInfo_,()=>new sZ(n.stats_,n.server_)),n.infoData_=new eZ,n.infoSyncTree_=new oT({startListening:(i,r,s,l)=>{let o=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(o=Nm(n.infoSyncTree_,i._path,c),setTimeout(()=>{l("ok")},0)),o},stopListening:()=>{}}),QS(n,"connected",!1),n.serverSyncTree_=new oT({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(o,c)=>{const f=l(o,c);Os(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function w6(n){const t=n.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function ES(n){return r6({timestamp:w6(n)})}function hT(n,e,t,i,r){n.dataUpdateCount++;const s=new _t(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const c=Cp(t,f=>Sn(f));l=JZ(n.serverSyncTree_,s,c,r)}else{const c=Sn(t);l=KZ(n.serverSyncTree_,s,c,r)}else if(i){const c=Cp(t,f=>Sn(f));l=HZ(n.serverSyncTree_,s,c)}else{const c=Sn(t);l=Nm(n.serverSyncTree_,s,c)}let o=s;l.length>0&&(o=Xm(n,s)),Os(n.eventQueue_,o,l)}function fT(n,e){QS(n,"connected",e),e===!1&&C6(n)}function k6(n,e){ni(e,(t,i)=>{QS(n,t,i)})}function QS(n,e,t){const i=new _t("/.info/"+e),r=Sn(t);n.infoData_.updateSnapshot(i,r);const s=Nm(n.infoSyncTree_,i,r);Os(n.eventQueue_,i,s)}function WR(n){return n.nextWriteId_++}function _6(n,e,t,i,r){AS(n,"set",{path:e.toString(),value:t,priority:i});const s=ES(n),l=Sn(t,i),o=OS(n.serverSyncTree_,e),c=NR(l,o,s),f=WR(n),d=$R(n.serverSyncTree_,e,c,f,!0);TS(n.eventQueue_,d),n.server_.put(e.toString(),l.val(!0),(g,y)=>{const S=g==="ok";S||ti("set at "+e+" failed: "+g);const v=ia(n.serverSyncTree_,f,!S);Os(n.eventQueue_,e,v),A6(n,r,g,y)});const m=JR(n,e);Xm(n,m),Os(n.eventQueue_,m,[])}function C6(n){AS(n,"onDisconnectEvents");const e=ES(n),t=Rp();pb(n.onDisconnect_,ut(),(r,s)=>{const l=a6(r,s,n.serverSyncTree_,e);SR(t,r,l)});let i=[];pb(t,ut(),(r,s)=>{i=i.concat(Nm(n.serverSyncTree_,r,s));const l=JR(n,r);Xm(n,l)}),n.onDisconnect_=Rp(),Os(n.eventQueue_,ut(),i)}function T6(n,e,t){let i;je(e._path)===".info"?i=uT(n.infoSyncTree_,e,t):i=uT(n.serverSyncTree_,e,t),VR(n.eventQueue_,e._path,i)}function E6(n,e,t){let i;je(e._path)===".info"?i=Sb(n.infoSyncTree_,e,t):i=Sb(n.serverSyncTree_,e,t),VR(n.eventQueue_,e._path,i)}function Q6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(b6)}function AS(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),En(t,...e)}function A6(n,e,t,i){e&&cu(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function HR(n,e,t){return OS(n.serverSyncTree_,e,t)||Me.EMPTY_NODE}function PS(n,e=n.transactionQueueTree_){if(e||Zm(n,e),hu(e)){const t=GR(n,e);pe(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&P6(n,Vh(e),t)}else BR(e)&&Bm(e,t=>{PS(n,t)})}function P6(n,e,t){const i=t.map(f=>f.currentWriteId),r=HR(n,e,i);let s=r;const l=r.hash();for(let f=0;f<t.length;f++){const d=t[f];pe(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const m=Gn(e,d.path);s=s.updateChild(m,d.currentOutputSnapshotRaw)}const o=s.val(!0),c=e;n.server_.put(c.toString(),o,f=>{AS(n,"transaction put response",{path:c.toString(),status:f});let d=[];if(f==="ok"){const m=[];for(let g=0;g<t.length;g++)t[g].status=2,d=d.concat(ia(n.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&m.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();Zm(n,_S(n.transactionQueueTree_,e)),PS(n,n.transactionQueueTree_),Os(n.eventQueue_,e,d);for(let g=0;g<m.length;g++)cu(m[g])}else{if(f==="datastale")for(let m=0;m<t.length;m++)t[m].status===3?t[m].status=4:t[m].status=0;else{ti("transaction at "+c.toString()+" failed: "+f);for(let m=0;m<t.length;m++)t[m].status=4,t[m].abortReason=f}Xm(n,e)}},l)}function Xm(n,e){const t=FR(n,e),i=Vh(t),r=GR(n,t);return R6(n,r,i),i}function R6(n,e,t){if(e.length===0)return;const i=[];let r=[];const l=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const c=e[o],f=Gn(t,c.path);let d=!1,m;if(pe(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,m=c.abortReason,r=r.concat(ia(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=S6)d=!0,m="maxretry",r=r.concat(ia(n.serverSyncTree_,c.currentWriteId,!0));else{const g=HR(n,c.path,l);c.currentInputSnapshot=g;const y=e[o].update(g.val());if(y!==void 0){CS("transaction failed: Data returned ",y,c.path);let S=Sn(y);typeof y=="object"&&y!=null&&ws(y,".priority")||(S=S.updatePriority(g.getPriority()));const w=c.currentWriteId,k=ES(n),E=NR(S,g,k);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=E,c.currentWriteId=WR(n),l.splice(l.indexOf(w),1),r=r.concat($R(n.serverSyncTree_,c.path,E,c.currentWriteId,c.applyLocally)),r=r.concat(ia(n.serverSyncTree_,w,!0))}else d=!0,m="nodata",r=r.concat(ia(n.serverSyncTree_,c.currentWriteId,!0))}Os(n.eventQueue_,t,r),r=[],d&&(e[o].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(m==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(m),!1,null))))}Zm(n,n.transactionQueueTree_);for(let o=0;o<i.length;o++)cu(i[o]);PS(n,n.transactionQueueTree_)}function FR(n,e){let t,i=n.transactionQueueTree_;for(t=je(e);t!==null&&hu(i)===void 0;)i=_S(i,t),e=Qt(e),t=je(e);return i}function GR(n,e){const t=[];return KR(n,e,t),t.sort((i,r)=>i.order-r.order),t}function KR(n,e,t){const i=hu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Bm(e,r=>{KR(n,r,t)})}function Zm(n,e){const t=hu(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,zR(e,t.length>0?t:void 0)}Bm(e,i=>{Zm(n,i)})}function JR(n,e){const t=Vh(FR(n,e)),i=_S(n.transactionQueueTree_,e);return u6(i,r=>{Uy(n,r)}),Uy(n,i),XR(i,r=>{Uy(n,r)}),t}function Uy(n,e){const t=hu(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(pe(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):(pe(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(ia(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zR(e,void 0):t.length=s+1,Os(n.eventQueue_,Vh(e),r);for(let l=0;l<i.length;l++)cu(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function $6(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ti(`Invalid query segment '${t}' in query '${n}'`)}return e}const dT=function(n,e){const t=D6(n),i=t.namespace;t.domain==="firebase.com"&&gs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||YB();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new tR(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new _t(t.pathString)}},D6=function(n){let e="",t="",i="",r="",s="",l=!0,o="https",c=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(o=n.substring(0,f-1),n=n.substring(f+2));let d=n.indexOf("/");d===-1&&(d=n.length);let m=n.indexOf("?");m===-1&&(m=n.length),e=n.substring(0,Math.min(d,m)),d<m&&(r=M6(n.substring(d,m)));const g=$6(n.substring(Math.min(n.length,m)));f=e.indexOf(":"),f>=0?(l=o==="https"||o==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),t=e.substring(S+1),s=i}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:l,scheme:o,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+un(this.snapshot.exportVal())}}class L6{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return pe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return We(this._path)?null:cR(this._path)}get ref(){return new wl(this._repo,this._path)}get _queryIdentifier(){const e=GC(this._queryParams),t=tS(e);return t==="{}"?"default":t}get _queryObject(){return GC(this._queryParams)}isEqual(e){if(e=Bi(e),!(e instanceof RS))return!1;const t=this._repo===e._repo,i=sS(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+AX(this._path)}}class wl extends RS{constructor(e,t){super(e,t,new uS,!1)}get parent(){const e=fR(this._path);return e===null?null:new wl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Bp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new _t(e),i=xb(this.ref,e);return new Bp(this._node.getChild(t),i,zt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Bp(r,xb(this.ref,i),zt)))}hasChild(e){const t=new _t(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MS(n,e){return n=Bi(n),n._checkNotDeleted("ref"),e!==void 0?xb(n._root,e):n._root}function xb(n,e){return n=Bi(n),je(n._path)===null?m6("child","path",e):jR("child","path",e),new wl(n._repo,tn(n._path,e))}function z6(n){return qR("remove",n._path),e2(n,null)}function e2(n,e){n=Bi(n),qR("set",n._path),p6("set",e,n._path);const t=new Mm;return _6(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class $S{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new I6("value",this,new Bp(e.snapshotNode,new wl(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new L6(this,e,t):null}matches(e){return e instanceof $S?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function B6(n,e,t,i,r){const s=new N6(t,void 0),l=new $S(s);return T6(n._repo,n,l),()=>E6(n._repo,n,l)}function X6(n,e,t,i){return B6(n,"value",e)}BZ(wl);VZ(wl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="FIREBASE_DATABASE_EMULATOR_HOST",wb={};let U6=!1;function j6(n,e,t,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),l=lu(s);n.repoInfo_=new tR(e,l,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function q6(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),En("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=dT(s,r),o=l.repoInfo,c;typeof process<"u"&&MC&&(c=MC[Z6]),c?(s=`http://${c}?ns=${o.namespace}`,l=dT(s,r),o=l.repoInfo):l.repoInfo.secure;const f=new rX(n.name,n.options,e);g6("Invalid Firebase Database URL",l),We(l.path)||gs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Y6(o,n,f,new iX(n,t));return new W6(d,n)}function V6(n,e){const t=wb[e];(!t||t[n.key]!==n)&&gs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Q6(n),delete t[n.key]}function Y6(n,e,t,i){let r=wb[e.name];r||(r={},wb[e.name]=r);let s=r[n.toURLString()];return s&&gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new v6(n,U6,t,i),r[n.toURLString()]=s,s}class W6{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(x6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wl(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(V6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gs("Cannot call "+e+" on a deleted database.")}}function H6(n=LP(),e){const t=eS(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=h4("database");i&&F6(t,...i)}return t}function F6(n,e,t,i={}){n=Bi(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&ca(i,s.repoInfo_.emulatorOptions))return;gs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new sp(sp.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:f4(i.mockUserToken,n.app.options.projectId);l=new sp(o)}lu(e)&&(AP(e),PP("Database",!0)),j6(s,r,i,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n){XB(ou),No(new ha("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return q6(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),ul($C,DC,n),ul($C,DC,"esm2017")}fs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};fs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};G6();function DS(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function t2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K6=t2,n2=new Xh("auth","Firebase",t2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new K1("@firebase/auth");function J6(n,...e){Xp.logLevel<=St.WARN&&Xp.warn(`Auth (${ou}): ${n}`,...e)}function lp(n,...e){Xp.logLevel<=St.ERROR&&Xp.error(`Auth (${ou}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n,...e){throw IS(n,...e)}function Qr(n,...e){return IS(n,...e)}function i2(n,e,t){const i=Object.assign(Object.assign({},K6()),{[e]:t});return new Xh("auth","Firebase",i).create(e,{appName:n.name})}function oa(n){return i2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IS(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return n2.create(n,...e)}function $e(n,e,...t){if(!n)throw IS(e,...t)}function os(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lp(e),new Error(e)}function bs(n,e){n||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eU(){return pT()==="http:"||pT()==="https:"}function pT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||g4()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.shortDelay=e,this.longDelay=t,bs(t>e,"Short delay should be less than long delay!"),this.isMobile=F1()||RP()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,e){bs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sU=new Yh(3e4,6e4);function NS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fu(n,e,t,i,r={}){return s2(n,r,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const o=au(Object.assign({key:n.config.apiKey},l)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:c},s);return m4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&lu(n.emulatorConfig.host)&&(f.credentials="include"),r2.fetch()(await l2(n,n.config.apiHost,t,o),f)})}async function s2(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iU),e);try{const r=new aU(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Td(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const o=s.ok?l.errorMessage:l.error.message,[c,f]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",l);if(c==="USER_DISABLED")throw Td(n,"user-disabled",l);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw i2(n,d,f);ys(n,d)}}catch(r){if(r instanceof xl)throw r;ys(n,"network-request-failed",{message:String(r)})}}async function lU(n,e,t,i,r={}){const s=await fu(n,e,t,i,r);return"mfaPendingCredential"in s&&ys(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function l2(n,e,t,i){const r=`${e}${t}?${i}`,s=n,l=s.config.emulator?LS(n.config,r):`${n.config.apiScheme}://${r}`;return rU.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class aU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qr(this.auth,"network-request-failed")),sU.get())})}}function Td(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Qr(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n,e){return fu(n,"POST","/v1/accounts:delete",e)}async function Zp(n,e){return fu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uU(n,e=!1){const t=Bi(n),i=await t.getIdToken(e),r=zS(i);$e(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Uc(jy(r.auth_time)),issuedAtTime:Uc(jy(r.iat)),expirationTime:Uc(jy(r.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jy(n){return Number(n)*1e3}function zS(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lp("JWT malformed, contained fewer than 3 sections"),null;try{const r=_p(t);return r?JSON.parse(r):(lp("Failed to decode base64 JWT payload"),null)}catch(r){return lp("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function mT(n){const e=zS(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof xl&&cU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(n){var e;const t=n.auth,i=await n.getIdToken(),r=await hh(n,Zp(t,{idToken:i}));$e(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?a2(s.providerUserInfo):[],o=dU(n.providerData,l),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),d=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _b(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function fU(n){const e=Bi(n);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function a2(n){return n.map(e=>{var{providerId:t}=e,i=DS(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(n,e){const t=await s2(n,{},async()=>{const i=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,l=await l2(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return n.emulatorConfig&&lu(n.emulatorConfig.host)&&(c.credentials="include"),r2.fetch()(l,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mU(n,e){return fu(n,"POST","/v2/accounts:revokeToken",NS(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=mT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await pU(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,l=new _o;return i&&($e(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&($e(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),s&&($e(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=DS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _b(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await hh(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uU(this,e)}reload(){return fU(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Up(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await hh(this,oU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,l,o,c,f,d;const m=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,v=(o=t.tenantId)!==null&&o!==void 0?o:void 0,w=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(f=t.createdAt)!==null&&f!==void 0?f:void 0,E=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:X,isAnonymous:N,providerData:P,stsTokenManager:I}=t;$e(C&&I,e,"internal-error");const ae=_o.fromJSON(this.name,I);$e(typeof C=="string",e,"internal-error"),Gs(m,e.name),Gs(g,e.name),$e(typeof X=="boolean",e,"internal-error"),$e(typeof N=="boolean",e,"internal-error"),Gs(y,e.name),Gs(S,e.name),Gs(v,e.name),Gs(w,e.name),Gs(k,e.name),Gs(E,e.name);const te=new er({uid:C,auth:e,email:g,emailVerified:X,displayName:m,isAnonymous:N,photoURL:S,phoneNumber:y,tenantId:v,stsTokenManager:ae,createdAt:k,lastLoginAt:E});return P&&Array.isArray(P)&&(te.providerData=P.map(L=>Object.assign({},L))),w&&(te._redirectEventId=w),te}static async _fromIdTokenResponse(e,t,i=!1){const r=new _o;r.updateFromServerResponse(t);const s=new er({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Up(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];$e(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?a2(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new _o;o.updateFromIdToken(i);const c=new er({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _b(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;function us(n){bs(n instanceof Function,"Expected a class definition");let e=gT.get(n);return e?(bs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}o2.type="NONE";const OT=o2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n,e,t){return`firebase:${n}:${e}:${t}`}class Co{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ap(this.userKey,r.apiKey,s),this.fullPersistenceKey=ap("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zp(this.auth,{idToken:e}).catch(()=>{});return t?er._fromGetAccountInfoResponse(this.auth,t,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Co(us(OT),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||us(OT);const l=ap(i,e.config.apiKey,e.name);let o=null;for(const f of t)try{const d=await f._get(l);if(d){let m;if(typeof d=="string"){const g=await Zp(e,{idToken:d}).catch(()=>{});if(!g)break;m=await er._fromGetAccountInfoResponse(e,g,d)}else m=er._fromJSON(e,d);f!==s&&(o=m),s=f;break}}catch{}const c=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Co(s,e,i):(s=c[0],o&&await s._set(l,o.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Co(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p2(e))return"Blackberry";if(m2(e))return"Webos";if(c2(e))return"Safari";if((e.includes("chrome/")||h2(e))&&!e.includes("edge/"))return"Chrome";if(d2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function u2(n=Ln()){return/firefox\//i.test(n)}function c2(n=Ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h2(n=Ln()){return/crios\//i.test(n)}function f2(n=Ln()){return/iemobile/i.test(n)}function d2(n=Ln()){return/android/i.test(n)}function p2(n=Ln()){return/blackberry/i.test(n)}function m2(n=Ln()){return/webos/i.test(n)}function BS(n=Ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gU(n=Ln()){var e;return BS(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OU(){return O4()&&document.documentMode===10}function g2(n=Ln()){return BS(n)||d2(n)||m2(n)||p2(n)||/windows phone/i.test(n)||f2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n,e=[]){let t;switch(n){case"Browser":t=yT(Ln());break;case"Worker":t=`${yT(Ln())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ou}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((l,o)=>{try{const c=e(s);l(c)}catch(c){o(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(n,e={}){return fu(n,"GET","/v2/passwordPolicy",NS(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=6;class vU{constructor(e){var t,i,r,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:SU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,l,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bT(this),this.idTokenSubscription=new bT(this),this.beforeStateQueue=new yU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zp(this,{idToken:e}),i=await er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===o)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(oa(this));const t=e?Bi(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bU(this),t=new vU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await mU(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&us(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(o,this,"internal-error"),o.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{l=!0,c()}}else{const c=e.addObserver(t);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&J6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function XS(n){return Bi(n)}class bT{constructor(e){this.auth=e,this.observer=null,this.addObserver=T4(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wU(n){ZS=n}function kU(n){return ZS.loadJS(n)}function _U(){return ZS.gapiScript}function CU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(n,e){const t=eS(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(ca(s,e??{}))return r;ys(r,"already-initialized")}return t.initialize({options:e})}function EU(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(us);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QU(n,e,t){const i=XS(n);$e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=y2(e),{host:l,port:o}=AU(e),c=o===null?"":`:${o}`,f={url:`${s}//${l}${c}/`},d=Object.freeze({host:l,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$e(ca(f,i.config.emulator)&&ca(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,lu(l)?(AP(`${s}//${l}${c}`),PP("Auth",!0)):PU()}function y2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AU(n){const e=y2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:ST(i.substr(s.length+1))}}else{const[s,l]=i.split(":");return{host:s,port:ST(l)}}}function ST(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,t){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n,e){return lU(n,"POST","/v1/accounts:signInWithIdp",NS(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="http://localhost";class ga extends b2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ys("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=DS(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new ga(i,r);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,To(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:RU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends S2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Wh{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nl.credential(e.oauthAccessToken)}catch{return null}}}nl.FACEBOOK_SIGN_IN_METHOD="facebook.com";nl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ga._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ss.credential(t,i)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Wh{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return il.credential(e.oauthAccessToken)}catch{return null}}}il.GITHUB_SIGN_IN_METHOD="github.com";il.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Wh{constructor(){super("twitter.com")}static credential(e,t){return ga._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return rl.credential(t,i)}catch{return null}}}rl.TWITTER_SIGN_IN_METHOD="twitter.com";rl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await er._fromIdTokenResponse(e,i,r),l=vT(i);return new Zo({user:s,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=vT(i);return new Zo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function vT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends xl{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,jp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new jp(e,t,i,r)}}function v2(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jp._fromErrorAndOperation(n,s,e,i):s})}async function MU(n,e,t=!1){const i=await hh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(n,e,t=!1){const{auth:i}=n;if(xr(i.app))return Promise.reject(oa(i));const r="reauthenticate";try{const s=await hh(n,v2(i,r,e,n),t);$e(s.idToken,i,"internal-error");const l=zS(s.idToken);$e(l,i,"internal-error");const{sub:o}=l;return $e(n.uid===o,i,"user-mismatch"),Zo._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ys(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(n,e,t=!1){if(xr(n.app))return Promise.reject(oa(n));const i="signIn",r=await v2(n,i,e),s=await Zo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function IU(n,e,t,i){return Bi(n).onIdTokenChanged(e,t,i)}function LU(n,e,t){return Bi(n).beforeAuthStateChanged(e,t)}function NU(n){return Bi(n).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=1e3,BU=10;class w2 extends x2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,o,c)=>{this.notifyListeners(l,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},s=this.storage.getItem(i);OU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,BU):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},zU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}w2.type="LOCAL";const XU=w2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends x2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}k2.type="SESSION";const _2=k2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Um(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(l).map(async f=>f(t.origin,s)),c=await ZU(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,l;return new Promise((o,c)=>{const f=US("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function jU(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function qU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YU(){return C2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebaseLocalStorageDb",WU=1,Vp="firebaseLocalStorage",E2="fbase_key";class Hh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jm(n,e){return n.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function HU(){const n=indexedDB.deleteDatabase(T2);return new Hh(n).toPromise()}function Cb(){const n=indexedDB.open(T2,WU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vp,{keyPath:E2})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Vp)?e(i):(i.close(),await HU(),e(await Cb()))})})}async function xT(n,e,t){const i=jm(n,!0).put({[E2]:e,value:t});return new Hh(i).toPromise()}async function FU(n,e){const t=jm(n,!1).get(e),i=await new Hh(t).toPromise();return i===void 0?null:i.value}function wT(n,e){const t=jm(n,!0).delete(e);return new Hh(t).toPromise()}const GU=800,KU=3;class Q2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>KU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(YU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qU(),!this.activeServiceWorker)return;this.sender=new UU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cb();return await xT(e,qp,"1"),await wT(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>xT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FU(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=jm(r,!1).getAll();return new Hh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q2.type="LOCAL";const JU=Q2;new Yh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n,e){return e?us(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends b2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tj(n){return DU(n.auth,new jS(n),n.bypassAuthState)}function nj(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),$U(t,new jS(n),n.bypassAuthState)}async function ij(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),MU(t,new jS(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:l,type:o}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tj;case"linkViaPopup":case"linkViaRedirect":return ij;case"reauthViaPopup":case"reauthViaRedirect":return nj;default:ys(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=new Yh(2e3,1e4);class yo extends A2{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=US();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rj.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="pendingRedirect",op=new Map;class lj extends A2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=op.get(this.auth._key());if(!e){try{const i=await aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}op.set(this.auth._key(),e)}return this.bypassAuthState||op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aj(n,e){const t=cj(e),i=uj(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function oj(n,e){op.set(n._key(),e)}function uj(n){return us(n._redirectPersistence)}function cj(n){return ap(sj,n.config.apiKey,n.name)}async function hj(n,e,t=!1){if(xr(n.app))return Promise.reject(oa(n));const i=XS(n),r=ej(i,e),l=await new lj(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=600*1e3;class dj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!P2(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fj&&this.cachedEventUids.clear(),this.cachedEventUids.has(kT(e))}saveEventToCache(e){this.cachedEventUids.add(kT(e)),this.lastProcessedEventTime=Date.now()}}function kT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function P2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(n,e={}){return fu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oj=/^https?/;async function yj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mj(n);for(const t of e)try{if(bj(t))return}catch{}ys(n,"unauthorized-domain")}function bj(n){const e=kb(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!Oj.test(t))return!1;if(gj.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Yh(3e4,6e4);function _T(){const n=Ar().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vj(n){return new Promise((e,t)=>{var i,r,s;function l(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),t(Qr(n,"network-request-failed"))},timeout:Sj.get()})}if(!((r=(i=Ar().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Ar().gapi)===null||s===void 0)&&s.load)l();else{const o=CU("iframefcb");return Ar()[o]=()=>{gapi.load?l():t(Qr(n,"network-request-failed"))},kU(`${_U()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw up=null,e})}let up=null;function xj(n){return up=up||vj(n),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Yh(5e3,15e3),kj="__/auth/iframe",_j="emulator/auth/iframe",Cj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ej(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?LS(e,_j):`https://${n.config.authDomain}/${kj}`,i={apiKey:e.apiKey,appName:n.name,v:ou},r=Tj.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${au(i).slice(1)}`}async function Qj(n){const e=await xj(n),t=Ar().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:Ej(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cj,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const l=Qr(n,"network-request-failed"),o=Ar().setTimeout(()=>{s(l)},wj.get());function c(){Ar().clearTimeout(o),r(i)}i.ping(c).then(c,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pj=500,Rj=600,Mj="_blank",$j="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dj(n,e,t,i=Pj,r=Rj){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c=Object.assign(Object.assign({},Aj),{width:i.toString(),height:r.toString(),top:s,left:l}),f=Ln().toLowerCase();t&&(o=h2(f)?Mj:t),u2(f)&&(e=e||$j,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(gU(f)&&o!=="_self")return Ij(e||"",o),new CT(null);const m=window.open(e||"",o,d);$e(m,n,"popup-blocked");try{m.focus()}catch{}return new CT(m)}function Ij(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="__/auth/handler",Nj="emulator/auth/handler",zj=encodeURIComponent("fac");async function TT(n,e,t,i,r,s){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ou,eventId:r};if(e instanceof S2){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",sb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))l[d]=m}if(e instanceof Wh){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(l.scopes=d.join(","))}n.tenantId&&(l.tid=n.tenantId);const o=l;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await n._getAppCheckToken(),f=c?`#${zj}=${encodeURIComponent(c)}`:"";return`${Bj(n)}?${au(o).slice(1)}${f}`}function Bj({config:n}){return n.emulator?LS(n,Nj):`https://${n.authDomain}/${Lj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="webStorageSupport";class Xj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_2,this._completeRedirectFn=hj,this._overrideRedirectResult=oj}async _openPopup(e,t,i,r){var s;bs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await TT(e,t,i,kb(),r);return Dj(e,l,US())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await TT(e,t,i,kb(),r);return jU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(bs(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Qj(e),i=new dj(e);return t.register("authEvent",r=>($e(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qy,{type:qy},r=>{var s;const l=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[qy];l!==void 0&&t(!!l),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return g2()||c2()||BS()}}const Zj=Xj;var ET="@firebase/auth",QT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qj(n){No(new ha("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:o}=i.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:l,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O2(n)},f=new xU(i,r,s,c);return EU(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),No(new ha("auth-internal",e=>{const t=XS(e.getProvider("auth").getImmediate());return(i=>new Uj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ul(ET,QT,jj(n)),ul(ET,QT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=300,Yj=QP("authIdTokenMaxAge")||Vj;let AT=null;const Wj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Yj)return;const r=t==null?void 0:t.token;AT!==r&&(AT=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Hj(n=LP()){const e=eS(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TU(n,{popupRedirectResolver:Zj,persistence:[JU,XU,_2]}),i=QP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const l=Wj(s.toString());LU(t,l,()=>l(t.currentUser)),IU(t,o=>l(o))}}const r=TP("auth");return r&&QU(t,`http://${r}`),t}function Fj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Qr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Fj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qj("Browser");const Gj={apiKey:"AIzaSyBfif2L4Cz11AYTP_OEsJZQJrNWe06a6CY",authDomain:"markdownflare.firebaseapp.com",databaseURL:"https://markdownflare-default-rtdb.firebaseio.com",projectId:"markdownflare",storageBucket:"markdownflare.firebasestorage.app",messagingSenderId:"658985431247",appId:"1:658985431247:web:07966fe83f40b1a7de07ba",measurementId:"G-VNWSZDGXV8"},R2=IP(Gj),qS=H6(R2);function M2(n){return n.replace(/\./g,"_dot_").replace(/\//g,"_slash_")}function co(n,e,{size:t,hash:i,action:r="save",oldHash:s,diff:l,oldPath:o}){const c=M2(e),f=MS(qS,`mdflare/${n}/files/${c}`),d={path:e,action:r,hash:i,modified:Date.now(),size:t};return r==="save"&&s&&(d.oldHash=s,l&&JSON.stringify(l).length<=10240&&(d.diff=l)),r==="rename"&&o&&(d.oldPath=o),e2(f,d)}function Vy(n,e){const t=M2(e),i=MS(qS,`mdflare/${n}/files/${t}`);return z6(i)}function Kj(n,e){const t=MS(qS,`mdflare/${n}/files`);return X6(t,i=>{const r=i.val();r&&e(Object.values(r))})}function Yl(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);e=(e<<5)-e+i,e|=0}return e.toString(36)}function Jj(n,e){const t=n.split(`
`),i=e.split(`
`),r=t.length,s=i.length;let l=new Uint16Array(s+1),o=new Uint16Array(s+1);for(let k=1;k<=r;k++){[l,o]=[o,l],o.fill(0);for(let E=1;E<=s;E++)t[k-1]===i[E-1]?o[E]=l[E-1]+1:o[E]=Math.max(l[E],o[E-1])}const c=Array.from({length:r+1},()=>new Uint16Array(s+1));for(let k=1;k<=r;k++)for(let E=1;E<=s;E++)t[k-1]===i[E-1]?c[k][E]=c[k-1][E-1]+1:c[k][E]=Math.max(c[k-1][E],c[k][E-1]);let f=r,d=s;const m=[];for(;f>0||d>0;)f>0&&d>0&&t[f-1]===i[d-1]?(m.push({type:"eq"}),f--,d--):d>0&&(f===0||c[f][d-1]>=c[f-1][d])?(m.push({type:"ins",line:i[d-1]}),d--):(m.push({type:"del"}),f--);m.reverse();const g=[];let y=0,S=0,v=[];function w(){y>0&&(g.push({eq:y}),y=0),S>0&&(g.push({del:S}),S=0),v.length>0&&(g.push({ins:v}),v=[])}for(const k of m)k.type==="eq"?((S>0||v.length>0)&&(S>0&&(g.push({del:S}),S=0),v.length>0&&(g.push({ins:v}),v=[])),y++):k.type==="del"?(y>0&&(g.push({eq:y}),y=0),v.length>0&&(g.push({ins:v}),v=[]),S++):(y>0&&(g.push({eq:y}),y=0),v.push(k.line));return w(),g}const fh=Hj(R2);new ss;function eq(){return NU(fh)}const $2=()=>{const n=window.location.hostname;return n.startsWith("dev.")||n==="localhost"||n==="127.0.0.1"};function tq(n=""){D.useEffect(()=>{const t=`${$2()?"dev.":""}MDFlare `;document.title=n?`${n} | ${t}`:t},[n])}function D2(){return`${$2()?"dev.":""}MDFlare`}function Tb(){return Tb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tb.apply(null,arguments)}function nq(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}let Eb=[],I2=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?I2:Eb).push(t=t+n[e])})();function iq(n){if(n<768)return!1;for(let e=0,t=Eb.length;;){let i=e+t>>1;if(n<Eb[i])t=i;else if(n>=I2[i])e=i+1;else return!0;if(e==t)return!1}}function PT(n){return n>=127462&&n<=127487}const RT=8205;function rq(n,e,t=!0,i=!0){return(t?L2:sq)(n,e,i)}function L2(n,e,t){if(e==n.length)return e;e&&N2(n.charCodeAt(e))&&z2(n.charCodeAt(e-1))&&e--;let i=Yy(n,e);for(e+=MT(i);e<n.length;){let r=Yy(n,e);if(i==RT||r==RT||t&&iq(r))e+=MT(r),i=r;else if(PT(r)){let s=0,l=e-2;for(;l>=0&&PT(Yy(n,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function sq(n,e,t){for(;e>0;){let i=L2(n,e-2,t);if(i<e)return i;e--}return 0}function Yy(n,e){let t=n.charCodeAt(e);if(!z2(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return N2(i)?(t-55296<<10)+(i-56320)+65536:t}function N2(n){return n>=56320&&n<57344}function z2(n){return n>=55296&&n<56320}function MT(n){return n<65536?1:2}class st{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Uo(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),wr.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Uo(this,e,t);let i=[];return this.decompose(e,t,i,0),wr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new jc(this),s=new jc(e);for(let l=t,o=t;;){if(r.next(l),s.next(l),l=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(o+=r.value.length,r.done||o>=i)return!0}}iter(e=1){return new jc(this,e)}iterRange(e,t=this.length){return new B2(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new X2(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?st.empty:e.length<=32?new jt(e):wr.from(jt.split(e,[]))}}class jt extends st{constructor(e,t=lq(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let l=this.text[s],o=r+l.length;if((t?i:o)>=e)return new aq(r,o,i,l);r=o+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new jt($T(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let l=i.pop(),o=cp(s.text,l.text.slice(),0,s.length);if(o.length<=32)i.push(new jt(o,l.length+s.length));else{let c=o.length>>1;i.push(new jt(o.slice(0,c)),new jt(o.slice(c)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof jt))return super.replace(e,t,i);[e,t]=Uo(this,e,t);let r=cp(this.text,cp(i.text,$T(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new jt(r,s):wr.from(jt.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=Uo(this,e,t);let r="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let o=this.text[l],c=s+o.length;s>e&&l&&(r+=i),e<c&&t>s&&(r+=o.slice(Math.max(0,e-s),t-s)),s=c+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new jt(i,r)),i=[],r=-1);return r>-1&&t.push(new jt(i,r)),t}}class wr extends st{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let l=this.children[s],o=r+l.length,c=i+l.lines-1;if((t?c:o)>=e)return l.lineInner(e,t,i,r);r=o+1,i=c+1}}decompose(e,t,i,r){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let o=this.children[s],c=l+o.length;if(e<=c&&t>=l){let f=r&((l<=e?1:0)|(c>=t?2:0));l>=e&&c<=t&&!f?i.push(o):o.decompose(e-l,t-l,i,f)}l=c+1}}replace(e,t,i){if([e,t]=Uo(this,e,t),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let l=this.children[r],o=s+l.length;if(e>=s&&t<=o){let c=l.replace(e-s,t-s,i),f=this.lines-l.lines+c.lines;if(c.lines<f>>4&&c.lines>f>>6){let d=this.children.slice();return d[r]=c,new wr(d,this.length-(t-e)+i.length)}return super.replace(s,o,c)}s=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Uo(this,e,t);let r="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let o=this.children[s],c=l+o.length;l>e&&s&&(r+=i),e<c&&t>l&&(r+=o.sliceString(e-l,t-l,i)),l=c+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof wr))return 0;let i=0,[r,s,l,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==l||s==o)return i;let c=this.children[r],f=e.children[s];if(c!=f)return i+c.scanIdentical(f,t);i+=c.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let y of e)i+=y.lines;if(i<32){let y=[];for(let S of e)S.flatten(y);return new jt(y,t)}let r=Math.max(32,i>>5),s=r<<1,l=r>>1,o=[],c=0,f=-1,d=[];function m(y){let S;if(y.lines>s&&y instanceof wr)for(let v of y.children)m(v);else y.lines>l&&(c>l||!c)?(g(),o.push(y)):y instanceof jt&&c&&(S=d[d.length-1])instanceof jt&&y.lines+S.lines<=32?(c+=y.lines,f+=y.length+1,d[d.length-1]=new jt(S.text.concat(y.text),S.length+1+y.length)):(c+y.lines>r&&g(),c+=y.lines,f+=y.length+1,d.push(y))}function g(){c!=0&&(o.push(d.length==1?d[0]:wr.from(d,f)),f=-1,c=d.length=0)}for(let y of e)m(y);return g(),o.length==1?o[0]:new wr(o,t)}}st.empty=new jt([""],0);function lq(n){let e=-1;for(let t of n)e+=t.length+1;return e}function cp(n,e,t=0,i=1e9){for(let r=0,s=0,l=!0;s<n.length&&r<=i;s++){let o=n[s],c=r+o.length;c>=t&&(c>i&&(o=o.slice(0,i-r)),r<t&&(o=o.slice(t-r)),l?(e[e.length-1]+=o,l=!1):e.push(o)),r=c+1}return e}function $T(n,e,t){return cp(n,[""],e,t)}class jc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof jt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],l=s>>1,o=r instanceof jt?r.text.length:r.children.length;if(l==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof jt){let c=r.text[l+(t<0?-1:0)];if(this.offsets[i]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=r.children[l+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof jt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class B2{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new jc(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class X2{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(st.prototype[Symbol.iterator]=function(){return this.iter()},jc.prototype[Symbol.iterator]=B2.prototype[Symbol.iterator]=X2.prototype[Symbol.iterator]=function(){return this});let aq=class{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}};function Uo(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function nn(n,e,t=!0,i=!0){return rq(n,e,t,i)}function oq(n){return n>=56320&&n<57344}function uq(n){return n>=55296&&n<56320}function Wn(n,e){let t=n.charCodeAt(e);if(!uq(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return oq(i)?(t-55296<<10)+(i-56320)+65536:t}function VS(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function kr(n){return n<65536?1:2}const Qb=/\r\n?|\n/;var xn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(xn||(xn={}));class Pr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(i,r,s),r+=s):r+=l,i+=s}}iterChangedRanges(e,t=!1){Ab(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Pr(e)}composeDesc(e){return this.empty?e:e.empty?this:Z2(this,e)}mapDesc(e,t=!1){return e.empty?this:Pb(this,e,t)}mapPos(e,t=-1,i=xn.Simple){let r=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],c=this.sections[l++],f=r+o;if(c<0){if(f>e)return s+(e-r);s+=o}else{if(i!=xn.Simple&&f>=e&&(i==xn.TrackDel&&r<e&&f>e||i==xn.TrackBefore&&r<e||i==xn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!o)return e==r||t<0?s:s+c;s+=c}r=f}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],l=this.sections[i++],o=r+s;if(l>=0&&r<=t&&o>=e)return r<e&&o>t?"cover":!0;r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Pr(e)}static create(e){return new Pr(e)}}class en extends Pr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ab(this,(t,i,r,s,l)=>e=e.replace(r,r+(i-t),l),!1),e}mapDesc(e,t=!1){return Pb(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let l=t[r],o=t[r+1];if(o>=0){t[r]=o,t[r+1]=l;let c=r>>1;for(;i.length<c;)i.push(st.empty);i.push(l?e.slice(s,s+l):st.empty)}s+=l}return new en(t,i)}compose(e){return this.empty?e:e.empty?this:Z2(this,e,!0)}map(e,t=!1){return e.empty?this:Pb(this,e,t,!0)}iterChanges(e,t=!1){Ab(this,e,t)}get desc(){return Pr.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new dh(this);e:for(let l=0,o=0;;){let c=l==e.length?1e9:e[l++];for(;o<c||o==c&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,c-o);Tn(r,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;Tn(t,d,m),m>0&&ll(i,t,s.text),s.forward(d),o+=d}let f=e[l++];for(;o<f;){if(s.done)break e;let d=Math.min(s.len,f-o);Tn(t,d,-1),Tn(r,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),o+=d}}return{changes:new en(t,i),filtered:Pr.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],l=0,o=null;function c(d=!1){if(!d&&!r.length)return;l<t&&Tn(r,t-l,-1);let m=new en(r,s);o=o?o.compose(m.map(o)):m,r=[],s=[],l=0}function f(d){if(Array.isArray(d))for(let m of d)f(m);else if(d instanceof en){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);c(),o=o?o.compose(d.map(o)):d}else{let{from:m,to:g=m,insert:y}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let S=y?typeof y=="string"?st.of(y.split(i||Qb)):y:st.empty,v=S.length;if(m==g&&v==0)return;m<l&&c(),m>l&&Tn(r,m-l,-1),Tn(r,g-m,v),ll(s,r,S),l=g}}return f(e),c(!o),o}static empty(e){return new en(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(st.empty);i[r]=st.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new en(t,i)}static createSet(e,t){return new en(e,t)}}function Tn(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:r>=0&&e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function ll(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(st.empty);n.push(t)}}function Ab(n,e,t){let i=n.inserted;for(let r=0,s=0,l=0;l<n.sections.length;){let o=n.sections[l++],c=n.sections[l++];if(c<0)r+=o,s+=o;else{let f=r,d=s,m=st.empty;for(;f+=o,d+=c,c&&i&&(m=m.append(i[l-2>>1])),!(t||l==n.sections.length||n.sections[l+1]<0);)o=n.sections[l++],c=n.sections[l++];e(r,f,s,d,m),r=f,s=d}}}function Pb(n,e,t,i=!1){let r=[],s=i?[]:null,l=new dh(n),o=new dh(e);for(let c=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let f=Math.min(l.len,o.len);Tn(r,f,-1),l.forward(f),o.forward(f)}else if(o.ins>=0&&(l.ins<0||c==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!t))){let f=o.len;for(Tn(r,o.ins,-1);f;){let d=Math.min(l.len,f);l.ins>=0&&c<l.i&&l.len<=d&&(Tn(r,0,l.ins),s&&ll(s,r,l.text),c=l.i),l.forward(d),f-=d}o.next()}else if(l.ins>=0){let f=0,d=l.len;for(;d;)if(o.ins==-1){let m=Math.min(d,o.len);f+=m,d-=m,o.forward(m)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;Tn(r,f,c<l.i?l.ins:0),s&&c<l.i&&ll(s,r,l.text),c=l.i,l.forward(l.len-d)}else{if(l.done&&o.done)return s?en.createSet(r,s):Pr.create(r);throw new Error("Mismatched change set lengths")}}}function Z2(n,e,t=!1){let i=[],r=t?[]:null,s=new dh(n),l=new dh(e);for(let o=!1;;){if(s.done&&l.done)return r?en.createSet(i,r):Pr.create(i);if(s.ins==0)Tn(i,s.len,0,o),s.next();else if(l.len==0&&!l.done)Tn(i,0,l.ins,o),r&&ll(r,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let c=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;Tn(i,c,d,o),r&&d&&ll(r,i,l.text)}else l.ins==-1?(Tn(i,s.off?0:s.len,c,o),r&&ll(r,i,s.textBit(c))):(Tn(i,s.off?0:s.len,l.off?0:l.ins,o),r&&!l.off&&ll(r,i,l.text));o=(s.ins>c||l.ins>=0&&l.len>c)&&(o||i.length>f),s.forward2(c),l.forward(c)}}}}class dh{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?st.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?st.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ra{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new ra(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return K.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return K.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return K.range(e.anchor,e.head)}static create(e,t,i){return new ra(e,t,i)}}class K{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:K.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new K([this.main],0)}addRange(e,t=!0){return K.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,K.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new K(e.ranges.map(t=>ra.fromJSON(t)),e.main)}static single(e,t=e){return new K([K.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return K.normalized(e.slice(),t);i=s.to}return new K(e,t)}static cursor(e,t=0,i,r){return ra.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?ra.create(t,e,48|s):ra.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],l=e[r-1];if(s.empty?s.from<=l.to:s.from<l.to){let o=l.from,c=Math.max(s.to,l.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?K.range(c,o):K.range(o,c))}}return new K(e,t)}}function U2(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let YS=0;class Se{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=YS++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Se(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:WS),!!e.static,e.enables)}of(e){return new hp([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new hp(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new hp(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function WS(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class hp{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=YS++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,l=e[s]>>1,o=this.type==2,c=!1,f=!1,d=[];for(let m of this.dependencies)m=="doc"?c=!0:m=="selection"?f=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=i(m),1},update(m,g){if(c&&g.docChanged||f&&(g.docChanged||g.selection)||Rb(m,d)){let y=i(m);if(o?!DT(y,m.values[l],r):!r(y,m.values[l]))return m.values[l]=y,1}return 0},reconfigure:(m,g)=>{let y,S=g.config.address[s];if(S!=null){let v=Wp(g,S);if(this.dependencies.every(w=>w instanceof Se?g.facet(w)===m.facet(w):w instanceof hn?g.field(w,!1)==m.field(w,!1):!0)||(o?DT(y=i(m),v,r):r(y=i(m),v)))return m.values[l]=v,0}else y=i(m);return m.values[l]=y,1}}}}function DT(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Rb(n,e){let t=!1;for(let i of e)qc(n,i)&1&&(t=!0);return t}function cq(n,e,t){let i=t.map(c=>n[c.id]),r=t.map(c=>c.type),s=i.filter(c=>!(c&1)),l=n[e.id]>>1;function o(c){let f=[];for(let d=0;d<i.length;d++){let m=Wp(c,i[d]);if(r[d]==2)for(let g of m)f.push(g);else f.push(m)}return e.combine(f)}return{create(c){for(let f of i)qc(c,f);return c.values[l]=o(c),1},update(c,f){if(!Rb(c,s))return 0;let d=o(c);return e.compare(d,c.values[l])?0:(c.values[l]=d,1)},reconfigure(c,f){let d=Rb(c,i),m=f.config.facets[e.id],g=f.facet(e);if(m&&!d&&WS(t,m))return c.values[l]=g,0;let y=o(c);return e.compare(y,g)?(c.values[l]=g,0):(c.values[l]=y,1)}}}const Ed=Se.define({static:!0});class hn{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new hn(YS++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ed).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],l=this.updateF(s,r);return this.compareF(s,l)?0:(i.values[t]=l,1)},reconfigure:(i,r)=>{let s=i.facet(Ed),l=r.facet(Ed),o;return(o=s.find(c=>c.field==this))&&o!=l.find(c=>c.field==this)?(i.values[t]=o.create(i),1):r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,Ed.of({field:this,create:e})]}get extension(){return this}}const Jl={lowest:4,low:3,default:2,high:1,highest:0};function Sc(n){return e=>new j2(e,n)}const ks={highest:Sc(Jl.highest),high:Sc(Jl.high),default:Sc(Jl.default),low:Sc(Jl.low),lowest:Sc(Jl.lowest)};class j2{constructor(e,t){this.inner=e,this.prec=t}}class qm{of(e){return new Mb(this,e)}reconfigure(e){return qm.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Mb{constructor(e,t){this.compartment=e,this.inner=t}}class Yp{constructor(e,t,i,r,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),l=new Map;for(let g of hq(e,t,l))g instanceof hn?r.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let o=Object.create(null),c=[],f=[];for(let g of r)o[g.id]=f.length<<1,f.push(y=>g.slot(y));let d=i==null?void 0:i.config.facets;for(let g in s){let y=s[g],S=y[0].facet,v=d&&d[g]||[];if(y.every(w=>w.type==0))if(o[S.id]=c.length<<1|1,WS(v,y))c.push(i.facet(S));else{let w=S.combine(y.map(k=>k.value));c.push(i&&S.compare(w,i.facet(S))?i.facet(S):w)}else{for(let w of y)w.type==0?(o[w.id]=c.length<<1|1,c.push(w.value)):(o[w.id]=f.length<<1,f.push(k=>w.dynamicSlot(k)));o[S.id]=f.length<<1,f.push(w=>cq(w,S,y))}}let m=f.map(g=>g(o));return new Yp(e,l,m,o,c,s)}}function hq(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(l,o){let c=r.get(l);if(c!=null){if(c<=o)return;let f=i[c].indexOf(l);f>-1&&i[c].splice(f,1),l instanceof Mb&&t.delete(l.compartment)}if(r.set(l,o),Array.isArray(l))for(let f of l)s(f,o);else if(l instanceof Mb){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(l.compartment)||l.inner;t.set(l.compartment,f),s(f,o)}else if(l instanceof j2)s(l.inner,l.prec);else if(l instanceof hn)i[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof hp)i[o].push(l),l.facet.extensions&&s(l.facet.extensions,Jl.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(n,Jl.default),i.reduce((l,o)=>l.concat(o))}function qc(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Wp(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const q2=Se.define(),$b=Se.define({combine:n=>n.some(e=>e),static:!0}),V2=Se.define({combine:n=>n.length?n[0]:void 0,static:!0}),Y2=Se.define(),W2=Se.define(),H2=Se.define(),F2=Se.define({combine:n=>n.length?n[0]:!1});class $r{constructor(e,t){this.type=e,this.value=t}static define(){return new fq}}class fq{of(e){return new $r(this,e)}}class dq{constructor(e){this.map=e}of(e){return new De(this,e)}}class De{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new De(this.type,t)}is(e){return this.type==e}static define(e={}){return new dq(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}De.reconfigure=De.define();De.appendConfig=De.define();class Gt{constructor(e,t,i,r,s,l){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&U2(i,t.newLength),s.some(o=>o.type==Gt.time)||(this.annotations=s.concat(Gt.time.of(Date.now())))}static create(e,t,i,r,s,l){return new Gt(e,t,i,r,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Gt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Gt.time=$r.define();Gt.userEvent=$r.define();Gt.addToHistory=$r.define();Gt.remote=$r.define();function pq(n,e){let t=[];for(let i=0,r=0;;){let s,l;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],l=n[i++];else if(r<e.length)s=e[r++],l=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function G2(n,e,t){var i;let r,s,l;return t?(r=e.changes,s=en.empty(e.changes.length),l=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),l=n.changes.compose(r)),{changes:l,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:De.mapEffects(n.effects,r).concat(De.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Db(n,e,t){let i=e.selection,r=Eo(e.annotations);return e.userEvent&&(r=r.concat(Gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof en?e.changes:en.of(e.changes||[],t,n.facet(V2)),selection:i&&(i instanceof K?i:K.single(i.anchor,i.head)),effects:Eo(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function K2(n,e,t){let i=Db(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;i=G2(i,Db(n,e[s],l?i.changes.newLength:n.doc.length),l)}let r=Gt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return gq(t?mq(r):r)}function mq(n){let e=n.startState,t=!0;for(let r of e.facet(Y2)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:pq(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=en.empty(e.doc.length);else{let l=n.changes.filter(t);r=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}n=Gt.create(e,r,n.selection&&n.selection.map(s),De.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(W2);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Gt?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Gt?n=s[0]:n=K2(e,Eo(s),!1)}return n}function gq(n){let e=n.startState,t=e.facet(H2),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=G2(i,Db(e,s,n.changes.newLength),!0))}return i==n?n:Gt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const Oq=[];function Eo(n){return n==null?Oq:Array.isArray(n)?n:[n]}var $t=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})($t||($t={}));const yq=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ib;try{Ib=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function bq(n){if(Ib)return Ib.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||yq.test(t)))return!0}return!1}function Sq(n){return e=>{if(!/\S/.test(e))return $t.Space;if(bq(e))return $t.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return $t.Word;return $t.Other}}class Je{constructor(e,t,i,r,s,l){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)qc(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return qc(this,i),Wp(this,i)}update(...e){return K2(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(qm.reconfigure)?(t&&(r=new Map,t.compartments.forEach((c,f)=>r.set(f,c)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(De.reconfigure)?(t=null,i=o.value):o.is(De.appendConfig)&&(t=null,i=Eo(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Yp.resolve(i,r,this),s=new Je(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let l=e.startState.facet($b)?e.newSelection:e.newSelection.asSingle();new Je(t,e.newDoc,l,s,(o,c)=>c.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:K.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],l=Eo(i.effects);for(let o=1;o<t.ranges.length;o++){let c=e(t.ranges[o]),f=this.changes(c.changes),d=f.map(r);for(let g=0;g<o;g++)s[g]=s[g].map(d);let m=r.mapDesc(f,!0);s.push(c.range.map(m)),r=r.compose(d),l=De.mapEffects(l,d).concat(De.mapEffects(Eo(c.effects),m))}return{changes:r,selection:K.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof en?e:en.of(e,this.doc.length,this.facet(Je.lineSeparator))}toText(e){return st.of(e.split(this.facet(Je.lineSeparator)||Qb))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(qc(this,t),Wp(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof hn&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let l=i[s],o=e[s];r.push(l.init(c=>l.spec.fromJSON(o,c)))}}return Je.create({doc:e.doc,selection:K.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Yp.resolve(e.extensions||[],new Map),i=e.doc instanceof st?e.doc:st.of((e.doc||"").split(t.staticFacet(Je.lineSeparator)||Qb)),r=e.selection?e.selection instanceof K?e.selection:K.single(e.selection.anchor,e.selection.head):K.single(0);return U2(r,i.length),t.staticFacet($b)||(r=r.asSingle()),new Je(t,i,r,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Je.tabSize)}get lineBreak(){return this.facet(Je.lineSeparator)||`
`}get readOnly(){return this.facet(F2)}phrase(e,...t){for(let i of this.facet(Je.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(q2))for(let l of s(this,t,i))Object.prototype.hasOwnProperty.call(l,e)&&r.push(l[e]);return r}charCategorizer(e){let t=this.languageDataAt("wordChars",e);return Sq(t.length?t[0]:"")}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-i,o=e-i;for(;l>0;){let c=nn(t,l,!1);if(s(t.slice(c,l))!=$t.Word)break;l=c}for(;o<r;){let c=nn(t,o);if(s(t.slice(o,c))!=$t.Word)break;o=c}return l==o?null:K.range(l+i,o+i)}}Je.allowMultipleSelections=$b;Je.tabSize=Se.define({combine:n=>n.length?n[0]:4});Je.lineSeparator=V2;Je.readOnly=F2;Je.phrases=Se.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});Je.languageData=q2;Je.changeFilter=Y2;Je.transactionFilter=W2;Je.transactionExtender=H2;qm.reconfigure=De.define();function Dr(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let l=r[s],o=i[s];if(o===void 0)i[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class ml{eq(e){return this==e}range(e,t=e){return Lb.create(e,t,this)}}ml.prototype.startSide=ml.prototype.endSide=0;ml.prototype.point=!1;ml.prototype.mapMode=xn.TrackDel;function HS(n,e){return n==e||n.constructor==e.constructor&&n.eq(e)}let Lb=class J2{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new J2(e,t,i)}};function Nb(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class FS{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let l=r,o=s.length;;){if(l==o)return l;let c=l+o>>1,f=s[c]-e||(i?this.value[c].endSide:this.value[c].startSide)-t;if(c==l)return f>=0?l:o;f>=0?o=c:l=c+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],l=-1,o=-1;for(let c=0;c<this.value.length;c++){let f=this.value[c],d=this.from[c]+e,m=this.to[c]+e,g,y;if(d==m){let S=t.mapPos(d,f.startSide,f.mapMode);if(S==null||(g=y=S,f.startSide!=f.endSide&&(y=t.mapPos(d,f.endSide),y<g)))continue}else if(g=t.mapPos(d,f.startSide),y=t.mapPos(m,f.endSide),g>y||g==y&&f.startSide>0&&f.endSide<=0)continue;(y-g||f.endSide-f.startSide)<0||(l<0&&(l=g),f.point&&(o=Math.max(o,y-g)),i.push(f),r.push(g-l),s.push(y-l))}return{mapped:i.length?new FS(r,s,i,o):null,pos:l}}}class He{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new He(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(i&&(t=t.slice().sort(Nb)),this.isEmpty)return t.length?He.of(t):this;let o=new eM(this,null,-1).goto(0),c=0,f=[],d=new Ss;for(;o.value||c<t.length;)if(c<t.length&&(o.from-t[c].from||o.startSide-t[c].value.startSide)>=0){let m=t[c++];d.addInner(m.from,m.to,m.value)||f.push(m)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(o.chunkIndex)<t[c].from)&&(!l||r>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||r>o.to||s<o.from||l(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||f.push(Lb.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!f.length?He.empty:this.nextLayer.update({add:f,filter:l,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],c=this.chunk[l],f=e.touchesRange(o,o+c.length);if(f===!1)r=Math.max(r,c.maxPoint),t.push(c),i.push(e.mapPos(o));else if(f===!0){let{mapped:d,pos:m}=c.map(o,e);d&&(r=Math.max(r,d.maxPoint),t.push(d),i.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new He(i,t,s||He.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],l=this.chunk[r];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return ph.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return ph.from(e).goto(t)}static compare(e,t,i,r,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),o=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=IT(l,o,i),f=new vc(l,c,s),d=new vc(o,c,s);i.iterGaps((m,g,y)=>LT(f,m,d,g,y,r)),i.empty&&i.length==0&&LT(f,0,d,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=IT(s,l),c=new vc(s,o,0).goto(i),f=new vc(l,o,0).goto(i);for(;;){if(c.to!=f.to||!zb(c.active,f.active)||c.point&&(!f.point||!HS(c.point,f.point)))return!1;if(c.to>r)return!0;c.next(),f.next()}}static spans(e,t,i,r,s=-1){let l=new vc(e,null,s).goto(t),o=t,c=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,c);r.point(o,f,l.point,d,m,l.pointRank),c=Math.min(l.openEnd(f),d.length)}else f>o&&(r.span(o,f,l.active,c),c=l.openEnd(f));if(l.to>i)return c+(l.point&&l.to>i?1:0);o=l.to,l.next()}}static of(e,t=!1){let i=new Ss;for(let r of e instanceof Lb?[e]:t?vq(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return He.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=He.empty;r=r.nextLayer)t=new He(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}He.empty=new He([],[],null,-1);function vq(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Nb(e,i)>0)return n.slice().sort(Nb);e=i}return n}He.empty.nextLayer=He.empty;class Ss{finishChunk(e){this.chunks.push(new FS(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Ss)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(He.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=He.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function IT(n,e,t){let i=new Map;for(let s of n)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let r=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let o=i.get(s.chunk[l]);o!=null&&(t?t.mapPos(o):o)==s.chunkPos[l]&&!(t!=null&&t.touchesRange(o,o+s.chunk[l].length))&&r.add(s.chunk[l])}return r}class eM{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ph{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&r.push(new eM(l,t,i,s));return r.length==1?r[0]:new ph(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Wy(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Wy(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Wy(this.heap,0)}}}function Wy(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class vc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ph.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Qd(this.active,e),Qd(this.activeTo,e),Qd(this.activeRank,e),this.minActive=NT(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Ad(this.active,t,i),Ad(this.activeTo,t,r),Ad(this.activeRank,t,s),e&&Ad(e,t,this.cursor.from),this.minActive=NT(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Qd(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function LT(n,e,t,i,r,s){n.goto(e),t.goto(i);let l=i+r,o=i,c=i-e,f=!!s.boundChange;for(let d=!1;;){let m=n.to+c-t.to,g=m||n.endSide-t.endSide,y=g<0?n.to+c:t.to,S=Math.min(y,l);if(n.point||t.point?(n.point&&t.point&&HS(n.point,t.point)&&zb(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(o,S,n.point,t.point),d=!1):(d&&s.boundChange(o),S>o&&!zb(n.active,t.active)&&s.compareRange(o,S,n.active,t.active),f&&S<l&&(m||n.openEnd(y)!=t.openEnd(y))&&(d=!0)),y>l)break;o=y,g<=0&&n.next(),g>=0&&t.next()}}function zb(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!HS(n[t],e[t]))return!1;return!0}function Qd(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Ad(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function NT(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function sr(n,e,t=n.length){let i=0;for(let r=0;r<t&&r<n.length;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=nn(n,r));return i}function Bb(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=nn(n,r)}return i===!0?-1:n.length}const Xb="",zT=typeof Symbol>"u"?"__"+Xb:Symbol.for(Xb),Zb=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),BT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class gl{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,o,c,f){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&o==null)return c.push(l[0]+";");for(let y in o){let S=o[y];if(/&/.test(y))s(y.split(/,\s*/).map(v=>l.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),S,c);else if(S&&typeof S=="object"){if(!m)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(r(y),S,d,g)}else S!=null&&d.push(y.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+S+";")}(d.length||g)&&c.push((i&&!m&&!f?l.map(i):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(r(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=BT[zT]||1;return BT[zT]=e+1,Xb+e.toString(36)}static mount(e,t,i){let r=e[Zb],s=i&&i.nonce;r?s&&r.setNonce(s):r=new xq(e,s),r.mount(Array.isArray(t)?t:[t],e)}}let XT=new Map;class xq{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=XT.get(i);if(s)return e[Zb]=s;this.sheet=new r.CSSStyleSheet,XT.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Zb]=this}mount(e,t){let i=this.sheet,r=0,s=0;for(let l=0;l<e.length;l++){let o=e[l],c=this.modules.indexOf(o);if(c<s&&c>-1&&(this.modules.splice(c,1),s--,c=-1),c==-1){if(this.modules.splice(s++,0,o),i)for(let f=0;f<o.rules.length;f++)i.insertRule(o.rules[f],r++)}else{for(;s<c;)r+=this.modules[s++].rules.length;r+=o.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+`
`;this.styleTag.textContent=l;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ol={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},mh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},wq=typeof navigator<"u"&&/Mac/.test(navigator.platform),kq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vn=0;vn<10;vn++)Ol[48+vn]=Ol[96+vn]=String(vn);for(var vn=1;vn<=24;vn++)Ol[vn+111]="F"+vn;for(var vn=65;vn<=90;vn++)Ol[vn]=String.fromCharCode(vn+32),mh[vn]=String.fromCharCode(vn);for(var Hy in Ol)mh.hasOwnProperty(Hy)||(mh[Hy]=Ol[Hy]);function _q(n){var e=wq&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||kq&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?mh:Ol)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function bt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)tM(n,arguments[e]);return n}function tM(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)tM(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let $n=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ub=typeof document<"u"?document:{documentElement:{style:{}}};const jb=/Edge\/(\d+)/.exec($n.userAgent),nM=/MSIE \d/.test($n.userAgent),qb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($n.userAgent),Vm=!!(nM||qb||jb),ZT=!Vm&&/gecko\/(\d+)/i.test($n.userAgent),Fy=!Vm&&/Chrome\/(\d+)/.exec($n.userAgent),Cq="webkitFontSmoothing"in Ub.documentElement.style,Vb=!Vm&&/Apple Computer/.test($n.vendor),UT=Vb&&(/Mobile\/\w+/.test($n.userAgent)||$n.maxTouchPoints>2);var ve={mac:UT||/Mac/.test($n.platform),windows:/Win/.test($n.platform),linux:/Linux|X11/.test($n.platform),ie:Vm,ie_version:nM?Ub.documentMode||6:qb?+qb[1]:jb?+jb[1]:0,gecko:ZT,gecko_version:ZT?+(/Firefox\/(\d+)/.exec($n.userAgent)||[0,0])[1]:0,chrome:!!Fy,chrome_version:Fy?+Fy[1]:0,ios:UT,android:/Android\b/.test($n.userAgent),webkit_version:Cq?+(/\bAppleWebKit\/(\d+)/.exec($n.userAgent)||[0,0])[1]:0,safari:Vb,safari_version:Vb?+(/\bVersion\/(\d+(\.\d+)?)/.exec($n.userAgent)||[0,0])[1]:0,tabSize:Ub.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function GS(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Hp=Object.create(null);function KS(n,e,t){if(n==e)return!0;n||(n=Hp),e||(e=Hp);let i=Object.keys(n),r=Object.keys(e);if(i.length-0!=r.length-0)return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function Tq(n,e){for(let t=n.attributes.length-1;t>=0;t--){let i=n.attributes[t].name;e[i]==null&&n.removeAttribute(i)}for(let t in e){let i=e[t];t=="style"?n.style.cssText=i:n.getAttribute(t)!=i&&n.setAttribute(t,i)}}function jT(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function Eq(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class ar{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var wn=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(wn||(wn={}));class Ee extends ml{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Fh(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Oa(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:l}=iM(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(l?t?2e8:1:-6e8)+1}return new Oa(e,i,r,t,e.widget||null,!0)}static line(e){return new Gh(e)}static set(e,t=!1){return He.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ee.none=He.empty;class Fh extends Ee{constructor(e){let{start:t,end:i}=iM(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?GS(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Hp}eq(e){return this==e||e instanceof Fh&&this.tagName==e.tagName&&KS(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Fh.prototype.point=!1;class Gh extends Ee{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Gh&&this.spec.class==e.spec.class&&KS(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Gh.prototype.mapMode=xn.TrackBefore;Gh.prototype.point=!0;class Oa extends Ee{constructor(e,t,i,r,s,l){super(t,i,s,e),this.block=r,this.isReplace=l,this.mapMode=r?t<=0?xn.TrackBefore:xn.TrackAfter:xn.TrackDel}get type(){return this.startSide!=this.endSide?wn.WidgetRange:this.startSide<=0?wn.WidgetBefore:wn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Oa&&Qq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Oa.prototype.point=!0;function iM(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function Qq(n,e){return n==e||!!(n&&e&&n.compare(e))}function Qo(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class gh extends ml{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof gh&&this.tagName==e.tagName&&KS(this.attributes,e.attributes)}static create(e){return new gh(e.tagName,e.attributes||Hp)}static set(e,t=!1){return He.of(e,t)}}gh.prototype.startSide=gh.prototype.endSide=-1;function jo(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Yb(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Vc(n,e){if(!e.anchorNode)return!1;try{return Yb(n,e.anchorNode)}catch{return!1}}function Yc(n){return n.nodeType==3?yh(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Wc(n,e,t,i){return t?qT(n,e,t,i,-1)||qT(n,e,t,i,1):!1}function yl(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Fp(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function qT(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:vs(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=yl(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?vs(n):0}else return!1}}function vs(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Oh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Aq(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function rM(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function Pq(n,e,t,i,r,s,l,o){let c=n.ownerDocument,f=c.defaultView||window;for(let d=n,m=!1;d&&!m;)if(d.nodeType==1){let g,y=d==c.body,S=1,v=1;if(y)g=Aq(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let E=d.getBoundingClientRect();({scaleX:S,scaleY:v}=rM(d,E)),g={left:E.left,right:E.left+d.clientWidth*S,top:E.top,bottom:E.top+d.clientHeight*v}}let w=0,k=0;if(r=="nearest")e.top<g.top?(k=e.top-(g.top+l),t>0&&e.bottom>g.bottom+k&&(k=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(k=e.bottom-g.bottom+l,t<0&&e.top-k<g.top&&(k=e.top-(g.top+l)));else{let E=e.bottom-e.top,C=g.bottom-g.top;k=(r=="center"&&E<=C?e.top+E/2-C/2:r=="start"||r=="center"&&t<0?e.top-l:e.bottom-C+l)-g.top}if(i=="nearest"?e.left<g.left?(w=e.left-(g.left+s),t>0&&e.right>g.right+w&&(w=e.right-g.right+s)):e.right>g.right&&(w=e.right-g.right+s,t<0&&e.left<g.left+w&&(w=e.left-(g.left+s))):w=(i=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:i=="start"==o?e.left-s:e.right-(g.right-g.left)+s)-g.left,w||k)if(y)f.scrollBy(w,k);else{let E=0,C=0;if(k){let X=d.scrollTop;d.scrollTop+=k/v,C=(d.scrollTop-X)*v}if(w){let X=d.scrollLeft;d.scrollLeft+=w/S,E=(d.scrollLeft-X)*S}e={left:e.left-E,top:e.top-C,right:e.right-E,bottom:e.bottom-C},E&&Math.abs(E-w)<1&&(i="nearest"),C&&Math.abs(C-k)<1&&(r="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function Rq(n){let e=n.ownerDocument,t,i;for(let r=n.parentNode;r&&!(r==e.body||t&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:i}}class Mq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?vs(t):0),i,Math.min(e.focusOffset,i?vs(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Kl=null;ve.safari&&ve.safari_version>=26&&(Kl=!1);function sM(n){if(n.setActive)return n.setActive();if(Kl)return n.focus(Kl);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Kl==null?{get preventScroll(){return Kl={preventScroll:!0},!0}}:void 0),!Kl){Kl=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let VT;function yh(n,e,t=e){let i=VT||(VT=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Ao(n,e,t,i){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",r);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function $q(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Dq(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,vs(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=vs(t))}else{if(t==n)return!0;i=yl(t),t=t.parentNode}}function lM(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function aM(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=vs(t)}else if(t.parentNode&&!Fp(t))i=yl(t),t=t.parentNode;else return null}}function oM(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Fp(t))i=yl(t)+1,t=t.parentNode;else return null}}class tr{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new tr(e.parentNode,yl(e),t)}static after(e,t){return new tr(e.parentNode,yl(e)+1,t)}}var wt=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(wt||(wt={}));const ya=wt.LTR,JS=wt.RTL;function uM(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Iq=uM("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Lq=uM("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Wb=Object.create(null),gr=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Wb[e]=t,Wb[t]=-e}function cM(n){return n<=247?Iq[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Lq[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Nq=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class cs{get dir(){return this.level%2?JS:ya}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let s=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=t&&o.to>=t){if(o.level==i)return l;(s<0||(r!=0?r<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function hM(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!hM(i.inner,r.inner))return!1}return!0}const xt=[];function zq(n,e,t,i,r){for(let s=0;s<=i.length;s++){let l=s?i[s-1].to:e,o=s<i.length?i[s].from:t,c=s?256:r;for(let f=l,d=c,m=c;f<o;f++){let g=cM(n.charCodeAt(f));g==512?g=d:g==8&&m==4&&(g=16),xt[f]=g==4?2:g,g&7&&(m=g),d=g}for(let f=l,d=c,m=c;f<o;f++){let g=xt[f];if(g==128)f<o-1&&d==xt[f+1]&&d&24?g=xt[f]=d:xt[f]=256;else if(g==64){let y=f+1;for(;y<o&&xt[y]==64;)y++;let S=f&&d==8||y<t&&xt[y]==8?m==1?1:8:256;for(let v=f;v<y;v++)xt[v]=S;f=y-1}else g==8&&m==1&&(xt[f]=1);d=g,g&7&&(m=g)}}}function Bq(n,e,t,i,r){let s=r==1?2:1;for(let l=0,o=0,c=0;l<=i.length;l++){let f=l?i[l-1].to:e,d=l<i.length?i[l].from:t;for(let m=f,g,y,S;m<d;m++)if(y=Wb[g=n.charCodeAt(m)])if(y<0){for(let v=o-3;v>=0;v-=3)if(gr[v+1]==-y){let w=gr[v+2],k=w&2?r:w&4?w&1?s:r:0;k&&(xt[m]=xt[gr[v]]=k),o=v;break}}else{if(gr.length==189)break;gr[o++]=m,gr[o++]=g,gr[o++]=c}else if((S=xt[m])==2||S==1){let v=S==r;c=v?0:1;for(let w=o-3;w>=0;w-=3){let k=gr[w+2];if(k&2)break;if(v)gr[w+2]|=2;else{if(k&4)break;gr[w+2]|=4}}}}}function Xq(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let l=r?t[r-1].to:n,o=r<t.length?t[r].from:e;for(let c=l;c<o;){let f=xt[c];if(f==256){let d=c+1;for(;;)if(d==o){if(r==t.length)break;d=t[r++].to,o=r<t.length?t[r].from:e}else if(xt[d]==256)d++;else break;let m=s==1,g=(d<e?xt[d]:i)==1,y=m==g?m?1:2:i;for(let S=d,v=r,w=v?t[v-1].to:n;S>c;)S==w&&(S=t[--v].from,w=v?t[v-1].to:n),xt[--S]=y;c=d}else s=f,c++}}}function Hb(n,e,t,i,r,s,l){let o=i%2?2:1;if(i%2==r%2)for(let c=e,f=0;c<t;){let d=!0,m=!1;if(f==s.length||c<s[f].from){let v=xt[c];v!=o&&(d=!1,m=v==16)}let g=!d&&o==1?[]:null,y=d?i:i+1,S=c;e:for(;;)if(f<s.length&&S==s[f].from){if(m)break e;let v=s[f];if(!d)for(let w=v.to,k=f+1;;){if(w==t)break e;if(k<s.length&&s[k].from==w)w=s[k++].to;else{if(xt[w]==o)break e;break}}if(f++,g)g.push(v);else{v.from>c&&l.push(new cs(c,v.from,y));let w=v.direction==ya!=!(y%2);Fb(n,w?i+1:i,r,v.inner,v.from,v.to,l),c=v.to}S=v.to}else{if(S==t||(d?xt[S]!=o:xt[S]==o))break;S++}g?Hb(n,c,S,i+1,r,g,l):c<S&&l.push(new cs(c,S,y)),c=S}else for(let c=t,f=s.length;c>e;){let d=!0,m=!1;if(!f||c>s[f-1].to){let v=xt[c-1];v!=o&&(d=!1,m=v==16)}let g=!d&&o==1?[]:null,y=d?i:i+1,S=c;e:for(;;)if(f&&S==s[f-1].to){if(m)break e;let v=s[--f];if(!d)for(let w=v.from,k=f;;){if(w==e)break e;if(k&&s[k-1].to==w)w=s[--k].from;else{if(xt[w-1]==o)break e;break}}if(g)g.push(v);else{v.to<c&&l.push(new cs(v.to,c,y));let w=v.direction==ya!=!(y%2);Fb(n,w?i+1:i,r,v.inner,v.from,v.to,l),c=v.from}S=v.from}else{if(S==e||(d?xt[S-1]!=o:xt[S-1]==o))break;S--}g?Hb(n,S,c,i+1,r,g,l):S<c&&l.push(new cs(S,c,y)),c=S}}function Fb(n,e,t,i,r,s,l){let o=e%2?2:1;zq(n,r,s,i,o),Bq(n,r,s,i,o),Xq(r,s,i,o),Hb(n,r,s,e,t,i,l)}function Zq(n,e,t){if(!n)return[new cs(0,0,e==JS?1:0)];if(e==ya&&!t.length&&!Nq.test(n))return fM(n.length);if(t.length)for(;n.length>xt.length;)xt[xt.length]=256;let i=[],r=e==ya?0:1;return Fb(n,r,r,t,0,n.length,i),i}function fM(n){return[new cs(0,n,0)]}let dM="";function Uq(n,e,t,i,r){var s;let l=i.head-n.from,o=cs.find(e,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),c=e[o],f=c.side(r,t);if(l==f){let g=o+=r?1:-1;if(g<0||g>=e.length)return null;c=e[o=g],l=c.side(!r,t),f=c.side(r,t)}let d=nn(n.text,l,c.forward(r,t));(d<c.from||d>c.to)&&(d=f),dM=n.text.slice(Math.min(l,d),Math.max(l,d));let m=o==(r?e.length-1:0)?null:e[o+(r?1:-1)];return m&&d==f&&m.level+(r?0:1)<c.level?K.cursor(m.side(!r,t)+n.from,m.forward(r,t)?1:-1,m.level):K.cursor(d+n.from,c.forward(r,t)?-1:1,c.level)}function jq(n,e,t){for(let i=e;i<t;i++){let r=cM(n.charCodeAt(i));if(r==1)return ya;if(r==2||r==4)return JS}return ya}const pM=Se.define(),mM=Se.define(),gM=Se.define(),OM=Se.define(),Gb=Se.define(),yM=Se.define(),bM=Se.define(),ev=Se.define(),tv=Se.define(),SM=Se.define({combine:n=>n.some(e=>e)}),vM=Se.define({combine:n=>n.some(e=>e)}),xM=Se.define();class Po{constructor(e,t="nearest",i="nearest",r=5,s=5,l=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new Po(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Po(K.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Pd=De.define({map:(n,e)=>n.map(e)}),wM=De.define();function Jn(n,e,t){let i=n.facet(OM);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ls=Se.define({combine:n=>n.length?n[0]:!0});let qq=0;const bo=Se.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class qt{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(bo.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(bo.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:l}=t||{};return new qt(qq++,e,i,r,o=>{let c=[];return l&&c.push(Ym.of(f=>{let d=f.plugin(o);return d?l(d):Ee.none})),s&&c.push(s(o)),c})}static fromClass(e,t){return qt.define((i,r)=>new e(i,r),t)}}class Gy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Jn(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Jn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Jn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const kM=Se.define(),nv=Se.define(),Ym=Se.define(),_M=Se.define(),iv=Se.define(),Kh=Se.define(),CM=Se.define();function YT(n,e){let t=n.state.facet(CM);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(n):s),r=[];return He.spans(i,e.from,e.to,{point(){},span(s,l,o,c){let f=s-e.from,d=l-e.from,m=r;for(let g=o.length-1;g>=0;g--,c--){let y=o[g].spec.bidiIsolate,S;if(y==null&&(y=jq(e.text,f,d)),c>0&&m.length&&(S=m[m.length-1]).to==f&&S.direction==y)S.to=d,m=S.inner;else{let v={from:f,to:d,direction:y,inner:[]};m.push(v),m=v.inner}}}}),r}const TM=Se.define();function rv(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(TM)){let l=s(n);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(i=Math.max(i,l.top)),l.bottom!=null&&(r=Math.max(r,l.bottom)))}return{left:e,right:t,top:i,bottom:r}}const Rc=Se.define();class Mi{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Mi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,l=0;;){let o=r<e.length?e[r].fromB:1e9,c=s<t.length?t[s]:1e9,f=Math.min(o,c);if(f==1e9)break;let d=f+l,m=f,g=d;for(;;)if(s<t.length&&t[s]<=m){let y=t[s+1];s+=2,m=Math.max(m,y);for(let S=r;S<e.length&&e[S].fromB<=m;S++)l=e[S].toA-e[S].toB;g=Math.max(g,y+l)}else if(r<e.length&&e[r].fromB<=m){let y=e[r++];m=Math.max(m,y.toB),g=Math.max(g,y.toA),l=y.toA-y.toB}else break;i.push(new Mi(d,g,f,m))}return i}}class Gp{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=en.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,o,c)=>r.push(new Mi(s,l,o,c))),this.changedRanges=r}static create(e,t,i){return new Gp(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Vq=[];class Kt{constructor(e,t,i=0){this.dom=e,this.length=t,this.flags=i,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Vq}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&Tq(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let i=t;for(let r of this.children){if(r==e)return i;i+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let i=yl(this.dom),r=this.length?e>0:t>0;return new tr(this.parent.dom,i+(r?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Hm)return e;return null}static get(e){return e.cmTile}}class Wm extends Kt{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,i=null,r,s=(e==null?void 0:e.node)==t?e:null,l=0;for(let o of this.children){if(o.sync(e),l+=o.length+o.breakAfter,r=i?i.nextSibling:t.firstChild,s&&r!=o.dom&&(s.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=WT(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,s&&r&&(s.written=!0);r;)r=WT(r);this.length=l}}function WT(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Hm extends Wm{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=Kt.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],i=this,r=0,s=0;;)if(r==i.children.length){if(!t.length)return;i=i.parent,i.breakAfter&&s++,r=t.pop()}else{let l=i.children[r++];if(l instanceof hl)t.push(r),i=l,r=0;else{let o=s+l.length,c=e(l,s);if(c!==void 0)return c;s=o+l.breakAfter}}}resolveBlock(e,t){let i,r=-1,s,l=-1;if(this.blockTiles((o,c)=>{let f=c+o.length;if(e>=c&&e<=f){if(o.isWidget()&&t>=-1&&t<=1){if(o.flags&32)return!0;o.flags&16&&(i=void 0)}(c<e||e==f&&(t<-1?o.length:o.covers(1)))&&(!i||!o.isWidget()&&i.isWidget())&&(i=o,r=e-c),(f>e||e==c&&(t>1?o.length:o.covers(-1)))&&(!s||!o.isWidget()&&s.isWidget())&&(s=o,l=e-c)}}),!i&&!s)throw new Error("No tile at position "+e);return i&&t<0||!s?{tile:i,offset:r}:{tile:s,offset:l}}}class hl extends Wm{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let i=new hl(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class qo extends Wm{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,i){let r=new qo(t||document.createElement("div"),e);return(!t||!i)&&(r.flags|=4),r}get domAttrs(){return this.attrs}resolveInline(e,t,i){let r=null,s=-1,l=null,o=-1;function c(d,m){for(let g=0,y=0;g<d.children.length&&y<=m;g++){let S=d.children[g],v=y+S.length;v>=m&&(S.isComposite()?c(S,m-y):(!l||l.isHidden&&(t>0||i&&Wq(l,S)))&&(v>m||S.flags&32)?(l=S,o=m-y):(y<m||S.flags&16&&!S.isHidden)&&(r=S,s=m-y)),y=v}}c(this,e);let f=(t<0?r:l)||r||l;return f?{tile:f,offset:f==r?s:o}:null}coordsIn(e,t){let i=this.resolveInline(e,t,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),t):Yq(this)}domIn(e,t){let i=this.resolveInline(e,t);if(i){let{tile:r,offset:s}=i;if(this.dom.contains(r.dom))return r.isText()?new tr(r.dom,Math.min(r.dom.nodeValue.length,s)):r.domPosFor(s,r.flags&16?1:r.flags&32?-1:t);let l=i.tile.parent,o=!1;for(let c of l.children){if(o)return new tr(c.dom,0);c==i.tile&&(o=!0)}}return new tr(this.dom,0)}}function Yq(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Yc(e);return t[t.length-1]||null}function Wq(n,e){let t=n.coordsIn(0,1),i=e.coordsIn(0,1);return t&&i&&i.top<t.bottom}class Fn extends Wm{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let i=new Fn(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class sa extends Kt{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let i=this.dom.nodeValue.length;e>i&&(e=i);let r=e,s=e,l=0;e==0&&t<0||e==i&&t>=0?ve.chrome||ve.gecko||(e?(r--,l=1):s<i&&(s++,l=-1)):t<0?r--:s<i&&s++;let o=yh(this.dom,r,s).getClientRects();if(!o.length)return null;let c=o[(l?l<0:t>=0)?0:o.length-1];return ve.safari&&!l&&c.width==0&&(c=Array.prototype.find.call(o,f=>f.width)||c),l?Oh(c,l<0):c||null}static of(e,t){let i=new sa(t||document.createTextNode(e),e);return t||(i.flags|=2),i}}class ba extends Kt{constructor(e,t,i,r){super(e,t,r),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,i){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;if(i)return Oh(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let c=o?s.length-1:0;l=s[c],!(e>0?c==0:c==s.length-1||l.top<l.bottom);c+=o?-1:1);return Oh(l,!o)}}get overrideDOMText(){if(!this.length)return st.empty;let{root:e}=this;if(!e)return st.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,i,r,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new ba(s,i,e,r)}}class Kp extends Kt{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!0}get overrideDOMText(){return st.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Hq{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,i){let{tile:r,index:s,beforeBreak:l,parents:o}=this;for(;e||t>0;)if(r.isComposite())if(l){if(!e)break;i&&i.break(),e--,l=!1}else if(s==r.children.length){if(!e&&!o.length)break;i&&i.leave(r),l=!!r.breakAfter,{tile:r,index:s}=o.pop(),s++}else{let c=r.children[s],f=c.breakAfter;(t>0?c.length<=e:c.length<e)&&(!i||i.skip(c,0,c.length)!==!1||!c.isComposite)?(l=!!f,s++,e-=c.length):(o.push({tile:r,index:s}),r=c,s=0,i&&c.isComposite()&&i.enter(c))}else if(s==r.length)l=!!r.breakAfter,{tile:r,index:s}=o.pop(),s++;else if(e){let c=Math.min(e,r.length-s);i&&i.skip(r,s,s+c),e-=c,s+=c}else break;return this.tile=r,this.index=s,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Fq{constructor(e,t,i,r){this.from=e,this.to=t,this.wrapper=i,this.rank=r}}class Gq{constructor(e,t,i){this.cache=e,this.root=t,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,i,r){var s;this.flushBuffer();let l=this.ensureMarks(t,i),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let c=l.children[l.children.length-1]=new sa(o.dom,o.text+e);c.parent=l}else l.append(r||sa.of(e,(s=this.cache.find(sa))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let i=this.curLine;i.dom!=t.line.dom&&(i.setDOM(this.cache.reused.has(t.line)?Ky(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let r=i;for(let o=t.marks.length-1;o>=0;o--){let c=t.marks[o],f=r.lastChild;if(f instanceof Fn&&f.mark.eq(c.mark))f.dom!=c.dom&&f.setDOM(Ky(c.dom)),r=f;else{if(this.cache.reused.get(c)){let m=Kt.get(c.dom);m&&m.setDOM(Ky(c.dom))}let d=Fn.of(c.mark,c.dom);r.append(d),r=d}this.cache.reused.set(c,2)}let s=Kt.get(e.text);s&&this.cache.reused.set(s,2);let l=new sa(e.text,e.text.nodeValue);l.flags|=8,r.append(l)}addInlineWidget(e,t,i){let r=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);r||this.flushBuffer();let s=this.ensureMarks(t,i);!r&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,i){this.flushBuffer(),this.ensureMarks(t,i).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var i;e||(e=EM);let r=qo.start(e,t||((i=this.cache.find(qo))===null||i===void 0?void 0:i.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=r)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var i;let r=this.curLine;for(let s=e.length-1;s>=0;s--){let l=e[s],o;if(t>0&&(o=r.lastChild)&&o instanceof Fn&&o.mark.eq(l))r=o,t--;else{let c=Fn.of(l,(i=this.cache.find(Fn,f=>f.mark.eq(l)))===null||i===void 0?void 0:i.dom);r.append(c),r=c,t=0}}return r}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!HT(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ve.ios&&HT(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Jy,0,32)||new ba(Jy.toDOM(),0,Jy,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new Fq(e.from,e.to,e.value,e.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-t.rank||this.wrappers[i-1].to-t.to)<0;)i--;this.wrappers.splice(i,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let i of this.wrappers){let r=t.lastChild;if(i.from<this.pos&&r instanceof hl&&r.wrapper.eq(i.wrapper))t=r;else{let s=hl.of(i.wrapper,(e=this.cache.find(hl,l=>l.wrapper.eq(i.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),i=this.cache.find(Kp,void 0,1);return i&&(i.flags=t),i||new Kp(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Kq{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:r,lineBreak:s,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=r;let o=this.textOff=Math.min(e,r.length);return s?null:r.slice(0,o)}let t=Math.min(this.text.length,this.textOff+e),i=this.text.slice(this.textOff,t);return this.textOff=t,i}}const Jp=[ba,qo,sa,Fn,Kp,hl,Hm];for(let n=0;n<Jp.length;n++)Jp[n].bucket=n;class Jq{constructor(e){this.view=e,this.buckets=Jp.map(()=>[]),this.index=Jp.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,i=this.buckets[t];i.length<6?i.push(e):i[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,i=2){let r=e.bucket,s=this.buckets[r],l=this.index[r];for(let o=s.length-1;o>=0;o--){let c=(o+l)%s.length,f=s[c];if((!t||t(f))&&!this.reused.has(f))return s.splice(c,1),c<l&&this.index[r]--,this.reused.set(f,i),f}return null}findWidget(e,t,i){let r=this.buckets[0];if(r.length)for(let s=0,l=0;;s++){if(s==r.length){if(l)return null;l=1,s=0}let o=r[s];if(!this.reused.has(o)&&(l==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return r.splice(s,1),s<this.index[0]&&this.index[0]--,o.widget==e&&o.length==t&&(o.flags&497)==i?(this.reused.set(o,1),o):(this.reused.set(o,2),new ba(o.dom,t,e,o.flags&-498|i))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class eV{constructor(e,t,i,r,s){this.view=e,this.decorations=r,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new Jq(e),this.text=new Kq(e.state.doc),this.builder=new Gq(this.cache,new Hm(e,e.contentDOM),He.iter(i)),this.cache.reused.set(t,2),this.old=new Hq(t),this.reuseWalker={skip:(l,o,c)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,t){let i=t&&this.getCompositionContext(t.text);for(let r=0,s=0,l=0;;){let o=l<e.length?e[l++]:null,c=o?o.fromA:this.old.root.length;if(c>r){let f=c-r;this.preserve(f,!l,!o),r=c,s+=f}if(!o)break;t&&o.fromA<=t.range.fromA&&o.toA>=t.range.toA?(this.forward(o.fromA,t.range.fromA,t.range.fromA<t.range.toA?1:-1),this.emit(s,t.range.fromB),this.cache.clear(),this.builder.addComposition(t,i),this.text.skip(t.range.toB-t.range.fromB),this.forward(t.range.fromA,o.toA),this.emit(t.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(s,o.toB)),s=o.toB,r=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,i){let r=iV(this.old),s=this.openMarks;this.old.advance(e,i?1:-1,{skip:(l,o,c)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(c-o);else{let f=c>0||o<l.length?ba.of(l.widget,this.view,c-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,r,s),s=r.length)}else if(l.isText())this.builder.ensureLine(null),!o&&c==l.length?this.builder.addText(l.text,r,s,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,c),r,s)),s=r.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof Kp)this.cache.add(l);else if(l instanceof Fn)this.builder.ensureLine(null),this.builder.addMark(l,r,s),this.cache.reused.set(l,1),s=r.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Fn&&r.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?r.length&&(r.length=s=0):l instanceof Fn&&(r.shift(),s=Math.min(s,r.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let i=null,r=this.builder,s=0,l=He.spans(this.decorations,e,t,{point:(o,c,f,d,m,g)=>{if(f instanceof Oa){if(this.disallowBlockEffectsFor[g]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(c>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,m>d.length)r.continueWidget(c-o);else{let y=f.widget||(f.block?Vo.block:Vo.inline),S=tV(f),v=this.cache.findWidget(y,c-o,S)||ba.of(y,this.view,c-o,S);f.block?(f.startSide>0&&r.addLineStartIfNotCovered(i),r.addBlockWidget(v)):(r.ensureLine(i),r.addInlineWidget(v,d,m))}i=null}else i=nV(i,f);c>o&&this.text.skip(c-o)},span:(o,c,f,d)=>{for(let m=o;m<c;){let g=this.text.next(Math.min(512,c-m));g==null?(r.addLineStartIfNotCovered(i),r.addBreak(),m++):(r.ensureLine(i),r.addText(g,f,m==o?d:f.length),m+=g.length),i=null}}});r.addLineStartIfNotCovered(i),this.openWidget=l>s,this.openMarks=l}forward(e,t,i=1){t-e<=10?this.old.advance(t-e,i,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,i,this.reuseWalker))}getCompositionContext(e){let t=[],i=null;for(let r=e.parentNode;;r=r.parentNode){let s=Kt.get(r);if(r==this.view.contentDOM)break;s instanceof Fn?t.push(s):s!=null&&s.isLine()?i=s:r.nodeName=="DIV"&&!i&&r!=this.view.contentDOM?i=new qo(r,EM):t.push(Fn.of(new Fh({tagName:r.nodeName.toLowerCase(),attributes:Eq(r)}),r))}return{line:i,marks:t}}}function HT(n,e){let t=i=>{for(let r of i.children)if((e?r.isText():r.length)||t(r))return!0;return!1};return t(n)}function tV(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const EM={class:"cm-line"};function nV(n,e){let t=e.spec.attributes,i=e.spec.class;return!t&&!i||(n||(n={class:"cm-line"}),t&&GS(t,n),i&&(n.class+=" "+i)),n}function iV(n){let e=[];for(let t=n.parents.length;t>1;t--){let i=t==n.parents.length?n.tile:n.parents[t].tile;i instanceof Fn&&e.push(i.mark)}return e}function Ky(n){let e=Kt.get(n);return e&&e.setDOM(n.cloneNode()),n}class Vo extends ar{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Vo.inline=new Vo("span");Vo.block=new Vo("div");const Jy=new class extends ar{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class FT{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Ee.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Hm(e,e.contentDOM),this.updateInner([new Mi(0,0,0,e.state.doc.length)],null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!fV(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?sV(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;i=new Mi(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ve.ie||ve.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let c=oV(l,this.decorations,e.changes);c.length&&(i=Mi.extendWithRanges(i,c));let f=cV(o,this.blockWrappers,e.changes);return f.length&&(i=Mi.extendWithRanges(i,f)),s&&!i.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(i=s.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(t||e.length){let l=this.tile,o=new eV(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,t),Kb(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ve.chrome||ve.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||i.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof e0&&r.push(s.dom);i.updateGaps(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(wM)&&(this.editContextFormatting=i.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,r=this.view.root.activeElement,s=r==i,l=!s&&!(this.view.state.facet(ls)||i.tabIndex>-1)&&Vc(i,this.view.observer.selectionRange)&&!(r&&i.contains(r));if(!(s||t||l))return;let o=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f,d;if(c.empty?d=f=this.inlineDOMNearPos(c.anchor,c.assoc||1):(d=this.inlineDOMNearPos(c.head,c.head==c.from?1:-1),f=this.inlineDOMNearPos(c.anchor,c.anchor==c.from?1:-1)),ve.gecko&&c.empty&&!this.hasComposition&&rV(f)){let g=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(g,f.node.childNodes[f.offset]||null)),f=d=new tr(g,0),o=!0}let m=this.view.observer.selectionRange;(o||!m.focusNode||(!Wc(f.node,f.offset,m.anchorNode,m.anchorOffset)||!Wc(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,c))&&(this.view.observer.ignore(()=>{ve.android&&ve.chrome&&i.contains(m.focusNode)&&hV(m.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let g=jo(this.view.root);if(g)if(c.empty){if(ve.gecko){let y=lV(f.node,f.offset);if(y&&y!=3){let S=(y==1?aM:oM)(f.node,f.offset);S&&(f=new tr(S.node,S.offset))}}g.collapse(f.node,f.offset),c.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=c.bidiLevel)}else if(g.extend){g.collapse(f.node,f.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();c.anchor>c.head&&([f,d]=[d,f]),y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==i&&(i.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new tr(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new tr(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Wc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=jo(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let l=this.lineAt(t.head,t.assoc);if(!l)return;let o=l.posAtStart;if(t.head==o||t.head==o+l.length)return;let c=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!c||!f||c.bottom>f.top)return;let d=this.domAtPos(t.head+t.assoc,t.assoc);i.collapse(d.node,d.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&i.collapse(r,s)}posFromDOM(e,t){let i=this.tile.nearest(e);if(!i)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let r=i.posAtStart;if(i.isComposite()){let s;if(e==i.dom)s=i.dom.childNodes[t];else{let l=vs(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==i.dom)break;l==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?l=-1:l=1),e=o}l<0?s=e:s=e.nextSibling}if(s==i.dom.firstChild)return r;for(;s&&!Kt.get(s);)s=s.nextSibling;if(!s)return r+i.length;for(let l=0,o=r;;l++){let c=i.children[l];if(c.dom==s)return o;o+=c.length+c.breakAfter}}else return i.isText()?e==i.dom?r+t:r+(t?i.length:0):r}domAtPos(e,t){let{tile:i,offset:r}=this.tile.resolveBlock(e,t);return i.isWidget()?i.domPosFor(e,t):i.domIn(r,t)}inlineDOMNearPos(e,t){let i,r=-1,s=!1,l,o=-1,c=!1;return this.tile.blockTiles((f,d)=>{if(f.isWidget()){if(f.flags&32&&d>=e)return!0;f.flags&16&&(s=!0)}else{let m=d+f.length;if(d<=e&&(i=f,r=e-d,s=m<e),m>=e&&!l&&(l=f,o=e-d,c=d>e),d>e&&l)return!0}}),!i&&!l?this.domAtPos(e,t):(s&&l?i=null:c&&i&&(l=null),i&&t<0||!l?i.domIn(r,t):l.domIn(o,t))}coordsAt(e,t){let{tile:i,offset:r}=this.tile.resolveBlock(e,t);return i.isWidget()?i.widget instanceof e0?null:i.coordsInWidget(r,t,!0):i.coordsIn(r,t)}lineAt(e,t){let{tile:i}=this.tile.resolveBlock(e,t);return i.isLine()?i:null}coordsForChar(e){let{tile:t,offset:i}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function r(s,l){if(s.isComposite())for(let o of s.children){if(o.length>=l){let c=r(o,l);if(c)return c}if(l-=o.length,l<0)break}else if(s.isText()&&l<s.length){let o=nn(s.text,l);if(o==l)return null;let c=yh(s.dom,l,o).getClientRects();for(let f=0;f<c.length;f++){let d=c[f];if(f==c.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return r(t,i)}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,c=this.view.textDirection==wt.LTR,f=0,d=(m,g,y)=>{for(let S=0;S<m.children.length&&!(g>r);S++){let v=m.children[S],w=g+v.length,k=v.dom.getBoundingClientRect(),{height:E}=k;if(y&&!S&&(f+=k.top-y.top),v instanceof hl)w>i&&d(v,g,k);else if(g>=i&&(f>0&&t.push(-f),t.push(E+f),f=0,l)){let C=v.dom.lastChild,X=C?Yc(C):[];if(X.length){let N=X[X.length-1],P=c?N.right-k.left:k.right-N.left;P>o&&(o=P,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=w)}}y&&S==m.children.length-1&&(f+=y.bottom-k.bottom),g=w+v.breakAfter}};return d(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?wt.RTL:wt.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,c;for(let f of l.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let d=Yc(f.dom);if(d.length!=1)return;o+=d[0].width,c=d[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:c}}});if(e)return e;let t=document.createElement("div"),i,r,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let l=Yc(t.firstChild)[0];i=t.getBoundingClientRect().height,r=l&&l.width?l.width/27:7,s=l&&l.height?l.height:i,t.remove()}),{lineHeight:i,charWidth:r,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],l=s?s.from-1:this.view.state.doc.length;if(l>i){let o=(t.lineBlockAt(l).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Ee.replace({widget:new e0(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return Ee.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Ym).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(iv).map((s,l)=>{let o=typeof s=="function";return o&&(i=!0),o?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(He.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(_M).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(xM))try{if(f(this.view,e.range,e))return!0}catch(d){Jn(this.view.state,d,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=rv(this.view),l={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:o,offsetHeight:c}=this.view.scrollDOM;Pq(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==wt.LTR)}lineHasWidget(e){let t=i=>i.isWidget()||i.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){Kb(this.tile)}}function Kb(n,e){let t=e==null?void 0:e.get(n);if(t!=1){t==null&&n.destroy();for(let i of n.children)Kb(i,e)}}function rV(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function QM(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=aM(t.focusNode,t.focusOffset),r=oM(t.focusNode,t.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let o=Kt.get(r.node);if(!o||o.isText()&&o.text!=r.node.nodeValue)s=r;else if(n.docView.lastCompositionAfterCursor){let c=Kt.get(i.node);!c||c.isText()&&c.text!=i.node.nodeValue||(s=r)}}if(n.docView.lastCompositionAfterCursor=s!=i,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function sV(n,e,t){let i=QM(n,t);if(!i)return null;let{node:r,from:s,to:l}=i,o=r.nodeValue;if(/[\n\r]/.test(o)||n.state.doc.sliceString(i.from,i.to)!=o)return null;let c=e.invertedDesc;return{range:new Mi(c.mapPos(s),c.mapPos(l),s,l),text:r}}function lV(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let aV=class{constructor(){this.changes=[]}compareRange(e,t){Qo(e,t,this.changes)}comparePoint(e,t){Qo(e,t,this.changes)}boundChange(e){Qo(e,e,this.changes)}};function oV(n,e,t){let i=new aV;return He.compare(n,e,t,i),i.changes}class uV{constructor(){this.changes=[]}compareRange(e,t){Qo(e,t,this.changes)}comparePoint(){}boundChange(e){Qo(e,e,this.changes)}}function cV(n,e,t){let i=new uV;return He.compare(n,e,t,i),i.changes}function hV(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function fV(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}class e0 extends ar{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function dV(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return K.cursor(e);s==0?t=1:s==r.length&&(t=-1);let l=s,o=s;t<0?l=nn(r.text,s,!1):o=nn(r.text,s);let c=i(r.text.slice(l,o));for(;l>0;){let f=nn(r.text,l,!1);if(i(r.text.slice(f,l))!=c)break;l=f}for(;o<r.length;){let f=nn(r.text,o);if(i(r.text.slice(o,f))!=c)break;o=f}return K.range(l+r.from,o+r.from)}function pV(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=n.viewState.heightOracle.textHeight,c=Math.floor((r-t.top-(n.defaultLineHeight-o)*.5)/o);s+=c*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(t.from,t.to);return t.from+Bb(l,s,n.state.tabSize)}function Jb(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let r;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!r||s.type==wn.Text&&(r.type!=s.type||(t<0?s.from<e:s.to>e)))&&(r=s)}}return r||i}return i}function mV(n,e,t,i){let r=Jb(n,e.head,e.assoc||-1),s=!i||r.type!=wn.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let l=n.dom.getBoundingClientRect(),o=n.textDirectionAt(r.from),c=n.posAtCoords({x:t==(o==wt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return K.cursor(c,t?-1:1)}return K.cursor(t?r.to:r.from,t?-1:1)}function GT(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),l=n.textDirectionAt(r.from);for(let o=e,c=null;;){let f=Uq(r,s,l,o,t),d=dM;if(!f){if(r.number==(t?n.state.doc.lines:1))return o;d=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),f=n.visualLineSide(r,!t)}if(c){if(!c(d))return o}else{if(!i)return f;c=i(d)}o=f}}function gV(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let l=i(s);return r==$t.Space&&(r=l),r==l}}function OV(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return K.cursor(r,e.assoc);let l=e.goalColumn,o,c=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(r,(e.empty?e.assoc:0)||(t?1:-1)),d=n.documentTop;if(f)l==null&&(l=f.left-c.left),o=s<0?f.top:f.bottom;else{let S=n.viewState.lineBlockAt(r);l==null&&(l=Math.min(c.right-c.left,n.defaultCharacterWidth*(r-S.from))),o=(s<0?S.top:S.bottom)+d}let m=c.left+l,g=i??n.viewState.heightOracle.textHeight>>1,y=e1(n,{x:m,y:o+g*s},!1,s);return K.cursor(y.pos,y.assoc,void 0,l)}function Hc(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,l,o)=>{if(e>s&&e<l){let c=i||t||(e-s<l-e?-1:1);e=c<0?s:l,i=c}});if(!i)return e}}function AM(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let l=Hc(n,r.from,0);l!=r.from&&(s=K.cursor(l,-1))}else{let l=Hc(n,r.from,-1),o=Hc(n,r.to,1);(l!=r.from||o!=r.to)&&(s=K.range(r.from==r.anchor?l:o,r.from==r.head?l:o))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?K.create(t,e.mainIndex):e}function t0(n,e,t){let i=Hc(n.state.facet(Kh).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:K.cursor(i,i<t.from?1:-1)}class _r{constructor(e,t){this.pos=e,this.assoc=t}}function e1(n,e,t,i){let r=n.contentDOM.getBoundingClientRect(),s=r.top+n.viewState.paddingTop,{x:l,y:o}=e,c=o-s,f;for(;;){if(c<0)return new _r(0,1);if(c>n.viewState.docHeight)return new _r(n.state.doc.length,-1);if(f=n.elementAtHeight(c),i==null)break;if(f.type==wn.Text){if(i<0?f.to<n.viewport.from:f.from>n.viewport.to)break;let g=n.docView.coordsAt(i<0?f.from:f.to,i>0?-1:1);if(g&&(i<0?g.top<=c+s:g.bottom>=c+s))break}let m=n.viewState.heightOracle.textHeight/2;c=i>0?f.bottom+m:f.top-m}if(n.viewport.from>=f.to||n.viewport.to<=f.from){if(t)return null;if(f.type==wn.Text){let m=pV(n,r,f,l,o);return new _r(m,m==f.from?1:-1)}}if(f.type!=wn.Text)return c<(f.top+f.bottom)/2?new _r(f.from,1):new _r(f.to,-1);let d=n.docView.lineAt(f.from,2);return(!d||d.length!=f.length)&&(d=n.docView.lineAt(f.from,-2)),PM(n,d,f.from,l,o)}function PM(n,e,t,i,r){let s=-1,l=null,o=1e9,c=1e9,f=r,d=r,m=(g,y)=>{for(let S=0;S<g.length;S++){let v=g[S];if(v.top==v.bottom)continue;let w=v.left>i?v.left-i:v.right<i?i-v.right:0,k=v.top>r?v.top-r:v.bottom<r?r-v.bottom:0;v.top<=d&&v.bottom>=f&&(f=Math.min(v.top,f),d=Math.max(v.bottom,d),k=0),(s<0||(k-c||w-o)<0)&&(s>=0&&c&&o<w&&l.top<=d-2&&l.bottom>=f+2?c=0:(s=y,o=w,c=k,l=v))}};if(e.isText()){for(let y=0;y<e.length;){let S=nn(e.text,y);if(m(yh(e.dom,y,S).getClientRects(),y),!o&&!c)break;y=S}return i>(l.left+l.right)/2==(KT(n,s+t)==wt.LTR)?new _r(t+nn(e.text,s),-1):new _r(t+s,1)}else{if(!e.length)return new _r(t,1);for(let v=0;v<e.children.length;v++){let w=e.children[v];if(w.flags&48)continue;let k=(w.dom.nodeType==1?w.dom:yh(w.dom,0,w.length)).getClientRects();if(m(k,v),!o&&!c)break}let g=e.children[s],y=e.posBefore(g,t);return g.isComposite()||g.isText()?PM(n,g,y,Math.max(l.left,Math.min(l.right,i)),r):i>(l.left+l.right)/2==(KT(n,s+t)==wt.LTR)?new _r(y+g.length,-1):new _r(y,1)}}function KT(n,e){let t=n.state.doc.lineAt(e);return n.bidiSpans(t)[cs.find(n.bidiSpans(t),e-t.from,-1,1)].dir}const Mc="";class yV{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineSeparator=t.state.facet(Je.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Mc}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let l=Kt.get(r),o=r.nextSibling;if(o==t){l!=null&&l.breakAfter&&!o&&i!=this.view.contentDOM&&this.lineBreak();break}let c=Kt.get(o);(l&&c?l.breakAfter:(l?l.breakAfter:Fp(r))||Fp(o)&&(r.nodeName!="BR"||l!=null&&l.isWidget())&&this.text.length>s)&&!SV(o,t)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(o=r.exec(t))&&(s=o.index,l=o[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=l-1);i=s+l}}readNode(e){let t=Kt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(bV(e,i.node,i.offset)?t:0))}}function bV(n,e,t){for(;;){if(!e||t<vs(e))return!1;if(e==n)return!0;t=yl(e)+1,e=e.parentNode}}function SV(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=Kt.get(n);if(!(i!=null&&i.isWidget()))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let r=i.overrideDOMText;if(r!=null&&r.length)return!1}return!0}class JT{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class vV{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=RM(e.docView.tile,t,i,0))){let o=s||l?[]:wV(e),c=new yV(o,e);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=kV(o,this.bounds.from)}else{let o=e.observer.selectionRange,c=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!Yb(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!Yb(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((ve.ios||ve.chrome)&&e.state.selection.main.empty&&c!=f&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(c,f),g=Math.max(c,f),y=d.from-m,S=d.to-g;(y==0||y==1||m==0)&&(S==0||S==-1||g==e.state.doc.length)&&(c=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(K.range(f,c)):this.newSel=K.single(f,c)}}}function RM(n,e,t,i){if(n.isComposite()){let r=-1,s=-1,l=-1,o=-1;for(let c=0,f=i,d=i;c<n.children.length;c++){let m=n.children[c],g=f+m.length;if(f<e&&g>t)return RM(m,e,t,f);if(g>=e&&r==-1&&(r=c,s=f),f>t&&m.dom.parentNode==n.dom){l=c,o=d;break}d=g,f=g+m.breakAfter}return{from:s,to:o<0?i+n.length:o,startDOM:(r?n.children[r-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:l<n.children.length&&l>=0?n.children[l].dom:null}}else return n.isText()?{from:i,to:i+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function MM(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,c=r.from,f=null;(s===8||ve.android&&e.text.length<o-l)&&(c=r.to,f="end");let d=$M(n.state.doc.sliceString(l,o,Mc),e.text,c-l,f);d&&(ve.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==Mc+Mc&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:st.of(e.text.slice(d.from,d.toB).split(Mc))})}else i&&(!n.hasFocus&&n.state.facet(ls)||em(i,r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:(ve.mac||ve.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=K.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:st.of([t.insert.toString().replace("."," ")])}):t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:n.state.doc.lineAt(r.from).to<r.to&&n.docView.lineHasWidget(r.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:r.from,to:r.to,insert:n.state.toText(n.inputState.insertingText)}:ve.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=K.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:st.of([" "])}),t)return sv(n,t,i,s);if(i&&!em(i,r)){let l=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),o=n.inputState.lastSelectionOrigin,o=="select.pointer"&&(i=AM(n.state.facet(Kh).map(c=>c(n)),i))),n.dispatch({selection:i,scrollIntoView:l,userEvent:o}),!0}else return!1}function sv(n,e,t,i=-1){if(ve.ios&&n.inputState.flushIOSKey(e))return!0;let r=n.state.selection.main;if(ve.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&n.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ao(n.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Ao(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Ao(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,o=()=>l||(l=xV(n,e,t));return n.state.facet(yM).some(c=>c(n,e.from,e.to,s,o))||n.dispatch(o()),!0}function xV(n,e,t){let i,r=n.state,s=r.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let c=e.from<s.from?-1:1,f=c<0?s.from:s.to,d=Hc(r.facet(Kh).map(m=>m(n)),f,c);e.from==d&&(l=d)}if(l>-1)i={changes:e,selection:K.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let c=s.from<e.from?r.sliceDoc(s.from,e.from):"",f=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(c+e.insert.sliceString(0,void 0,n.state.lineBreak)+f))}else{let c=r.changes(e),f=t&&t.main.to<=c.newLength?t.main:void 0;if(r.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=n.state.sliceDoc(e.from,e.to),m,g=t&&QM(n,t.main.head);if(g){let S=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-S}}else m=n.state.doc.lineAt(s.head);let y=s.to-e.to;i=r.changeByRange(S=>{if(S.from==s.from&&S.to==s.to)return{changes:c,range:f||S.map(c)};let v=S.to-y,w=v-d.length;if(n.state.sliceDoc(w,v)!=d||v>=m.from&&w<=m.to)return{range:S};let k=r.changes({from:w,to:v,insert:e.insert}),E=S.to-s.to;return{changes:k,range:f?K.range(Math.max(0,f.anchor+E),Math.max(0,f.head+E)):S.map(k)}})}else i={changes:c,selection:f&&r.selection.replaceRange(f)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function $M(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let l=n.length,o=e.length;for(;l>0&&o>0&&n.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(i=="end"){let c=Math.max(0,s-Math.min(l,o));t-=l+c-s}if(l<s&&n.length<e.length){let c=t<=s&&t>=l?s-t:0;s-=c,o=s+(o-l),l=s}else if(o<s){let c=t<=s&&t>=o?s-t:0;s-=c,l=s+(l-o),o=s}return{from:s,toA:l,toB:o}}function wV(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new JT(t,i)),(r!=t||s!=i)&&e.push(new JT(r,s))),e}function kV(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?K.single(t+e,i+e):null}function em(n,e){return e.head==n.main.head&&e.anchor==n.main.anchor}class _V{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ve.safari&&e.contentDOM.addEventListener("input",()=>null),ve.gecko&&BV(e.contentDOM.ownerDocument)}handleEvent(e){!MV(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=CV(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,o=i[s];o&&l!=!o.handlers.length&&(r.removeEventListener(s,this.handleEvent),o=null),o||r.addEventListener(s,this.handleEvent,{passive:l})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&IM.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ve.android&&ve.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ve.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=DM.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||TV.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ao(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ve.safari&&!ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function eE(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Jn(t.state,r)}}}function CV(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec,s=r&&r.plugin.domEventHandlers,l=r&&r.plugin.domEventObservers;if(s)for(let o in s){let c=s[o];c&&t(o).handlers.push(eE(i.value,c))}if(l)for(let o in l){let c=l[o];c&&t(o).observers.push(eE(i.value,c))}}for(let i in lr)t(i).handlers.push(lr[i]);for(let i in Ni)t(i).observers.push(Ni[i]);return e}const DM=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],TV="dthko",IM=[16,17,18,20,91,92,224,225],Rd=6;function Md(n){return Math.max(0,n)*.7+8}function EV(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class QV{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Rq(e.contentDOM),this.atoms=e.state.facet(Kh).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Je.allowMultipleSelections)&&AV(e,t),this.dragging=RV(e,t)&&zM(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&EV(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,s=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let c=rv(this.view);e.clientX-c.left<=r+Rd?t=-Md(r-e.clientX):e.clientX+c.right>=l-Rd&&(t=Md(e.clientX-l)),e.clientY-c.top<=s+Rd?i=-Md(s-e.clientY):e.clientY+c.bottom>=o-Rd&&(i=Md(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=AM(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function AV(n,e){let t=n.state.facet(pM);return t.length?t[0](e):ve.mac?e.metaKey:e.ctrlKey}function PV(n,e){let t=n.state.facet(mM);return t.length?t[0](e):ve.mac?!e.altKey:!e.ctrlKey}function RV(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=jo(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let l=r[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function MV(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Kt.get(t))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(e))return!1;return!0}const lr=Object.create(null),Ni=Object.create(null),LM=ve.ie&&ve.ie_version<15||ve.ios&&ve.webkit_version<604;function $V(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),NM(n,t.value)},50)}function Fm(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function NM(n,e){e=Fm(n.state,ev,e);let{state:t}=n,i,r=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(t1!=null&&t.selection.ranges.every(c=>c.empty)&&t1==s.toString()){let c=-1;i=t.changeByRange(f=>{let d=t.doc.lineAt(f.from);if(d.from==c)return{range:f};c=d.from;let m=t.toText((l?s.line(r++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:K.cursor(f.from+m.length)}})}else l?i=t.changeByRange(c=>{let f=s.line(r++);return{changes:{from:c.from,to:c.to,insert:f.text},range:K.cursor(c.from+f.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ni.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};lr.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ni.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ni.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};lr.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(gM))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=IV(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new QV(n,e,t,i)),i&&n.observer.ignore(()=>{sM(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function tE(n,e,t,i){if(i==1)return K.cursor(e,t);if(i==2)return dV(n.state,e,t);{let r=n.docView.lineAt(e,t),s=n.state.doc.lineAt(r?r.posAtEnd:e),l=r?r.posAtStart:s.from,o=r?r.posAtEnd:s.to;return o<n.state.doc.length&&o==s.to&&o++,K.range(l,o)}}const DV=ve.ie&&ve.ie_version<=11;let nE=null,iE=0,rE=0;function zM(n){if(!DV)return n.detail;let e=nE,t=rE;return nE=n,rE=Date.now(),iE=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(iE+1)%3:1}function IV(n,e){let t=n.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),i=zM(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,l,o){let c=n.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,d=tE(n,c.pos,c.assoc,i);if(t.pos!=c.pos&&!l){let m=tE(n,t.pos,t.assoc,i),g=Math.min(m.from,d.from),y=Math.max(m.to,d.to);d=g<d.from?K.range(g,y):K.range(y,g)}return l?r.replaceRange(r.main.extend(d.from,d.to)):o&&i==1&&r.ranges.length>1&&(f=LV(r,c.pos))?f:o?r.addRange(d):K.create([d])}}}function LV(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return K.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}lr.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.tile.nearest(e.target);if(r&&r.isWidget()){let s=r.posAtStart,l=s+r.length;(s>=t.to||l<=t.from)&&(t=K.range(s,l))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Fm(n.state,tv,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};lr.dragend=n=>(n.inputState.draggedContent=null,!1);function sE(n,e,t,i){if(t=Fm(n.state,ev,t),!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,l=i&&s&&PV(n,e)?{from:s.from,to:s.to}:null,o={from:r,insert:t},c=n.state.changes(l?[l,o]:o);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(r,-1),head:c.mapPos(r,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}lr.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&sE(n,e,i.filter(l=>l!=null).join(n.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[l]=o.result),s()},o.readAsText(t[l])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return sE(n,e,i,!0),!0}return!1};lr.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=LM?null:e.clipboardData;return t?(NM(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):($V(n),!1)};function NV(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function zV(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let l=n.doc.lineAt(s);l.number>r&&(e.push(l.text),t.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),r=l.number}i=!0}return{text:Fm(n,tv,e.join(n.lineBreak)),ranges:t,linewise:i}}let t1=null;lr.copy=lr.cut=(n,e)=>{let t=jo(n.root);if(t&&!Vc(n.contentDOM,t))return!1;let{text:i,ranges:r,linewise:s}=zV(n.state);if(!i&&!s)return!1;t1=s?i:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let l=LM?null:e.clipboardData;return l?(l.clearData(),l.setData("text/plain",i),!0):(NV(n,i),!1)};const BM=$r.define();function XM(n,e){let t=[];for(let i of n.facet(bM)){let r=i(n,e);r&&t.push(r)}return t.length?n.update({effects:t,annotations:BM.of(!0)}):null}function ZM(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=XM(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ni.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),ZM(n)};Ni.blur=n=>{n.observer.clearSelectionRange(),ZM(n)};Ni.compositionstart=Ni.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ni.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ve.chrome&&ve.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ni.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};lr.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let o=l[0],c=n.posAtDOM(o.startContainer,o.startOffset),f=n.posAtDOM(o.endContainer,o.endOffset);return sv(n,{from:c,to:f,insert:n.state.toText(s)},null),!0}}let r;if(ve.chrome&&ve.android&&(r=DM.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ve.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ve.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ni.compositionend(n,e),20),!1};const lE=new Set;function BV(n){lE.has(n)||(lE.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const aE=["pre-wrap","normal","pre-line","break-spaces"];let Yo=!1;function oE(){Yo=!1}class XV{constructor(e){this.lineWrapping=e,this.doc=st.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return aE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,l){let o=aE.indexOf(e)>-1,c=Math.abs(t-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(i-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,c){this.heightSamples={};for(let f=0;f<l.length;f++){let d=l[f];d<0?f++:this.heightSamples[Math.floor(d*10)]=!0}}return c}}class ZV{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Gi{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?wn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Oa?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Gi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Et=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(Et||(Et={}));const fp=.001;class In{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>fp&&(Yo=!0),this.height=e)}replace(e,t,i){return In.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,l=i.doc;for(let o=r.length-1;o>=0;o--){let{fromA:c,toA:f,fromB:d,toB:m}=r[o],g=s.lineAt(c,Et.ByPosNoHeight,i.setDoc(t),0,0),y=g.to>=f?g:s.lineAt(f,Et.ByPosNoHeight,i,0,0);for(m+=y.to-f,f=y.to;o>0&&g.from<=r[o-1].toA;)c=r[o-1].fromA,d=r[o-1].fromB,o--,c<g.from&&(g=s.lineAt(c,Et.ByPosNoHeight,i,0,0));d+=g.from-c,c=g.from;let S=lv.build(i.setDoc(l),e,d,m);s=tm(s,s.replace(c,f,S))}return s.updateHeight(i,0)}static empty(){return new gi(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,r-=o.size}else if(s>r*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(r<s){let o=e[t++];o&&(r+=o.size)}else{let o=e[--i];o&&(s+=o.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,i++),new jV(In.of(e.slice(0,t)),l,In.of(e.slice(i)))}}function tm(n,e){return n==e?n:(n.constructor!=e.constructor&&(Yo=!0),e)}In.prototype.size=1;const UV=Ee.replace({});class UM extends In{constructor(e,t,i){super(e,t),this.deco=i,this.spaceAbove=0}mainBlock(e,t){return new Gi(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,i,r){return this.spaceAbove&&e<i+this.spaceAbove?new Gi(r,0,i,this.spaceAbove,UV):this.mainBlock(i,r)}lineAt(e,t,i,r,s){let l=this.mainBlock(r,s);return this.spaceAbove?this.blockAt(0,i,r,s).join(l):l}forEachLine(e,t,i,r,s,l){e<=s+this.length&&t>=s&&l(this.lineAt(0,Et.ByPos,i,r,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setMeasuredHeight(r),this.outdated=!1,this}toString(){return`block(${this.length})`}}class gi extends UM{constructor(e,t,i){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(e,t){return new Gi(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof gi||r instanceof bn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof bn?r=new gi(r.length,this.height,this.spaceAbove):r.height=this.height,this.outdated||(r.outdated=!1),r):In.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setMeasuredHeight(r):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bn extends In{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,l,o=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*s);l=c/s,this.length>s+1&&(o=(this.height-c)/(this.length-s-1))}else l=this.height/s;return{firstLine:i,lastLine:r,perLine:l,perChar:o}}blockAt(e,t,i,r){let{firstLine:s,lastLine:l,perLine:o,perChar:c}=this.heightMetrics(t,r);if(t.lineWrapping){let f=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),d=t.doc.lineAt(f),m=o+d.length*c,g=Math.max(i,e-m/2);return new Gi(d.from,d.length,g,m,0)}else{let f=Math.max(0,Math.min(l-s,Math.floor((e-i)/o))),{from:d,length:m}=t.doc.line(s+f);return new Gi(d,m,i+o*f,o,0)}}lineAt(e,t,i,r,s){if(t==Et.ByHeight)return this.blockAt(e,i,r,s);if(t==Et.ByPosNoHeight){let{from:y,to:S}=i.doc.lineAt(e);return new Gi(y,S-y,0,0,0)}let{firstLine:l,perLine:o,perChar:c}=this.heightMetrics(i,s),f=i.doc.lineAt(e),d=o+f.length*c,m=f.number-l,g=r+o*m+c*(f.from-s-m);return new Gi(f.from,f.length,Math.max(r,Math.min(g,r+this.height-d)),d,0)}forEachLine(e,t,i,r,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:c,perChar:f}=this.heightMetrics(i,s);for(let d=e,m=r;d<=t;){let g=i.doc.lineAt(d);if(d==e){let S=g.number-o;m+=c*S+f*(e-s-S)}let y=c+f*g.length;l(new Gi(g.from,g.length,m,y,0)),m+=y,d=g.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof bn?i[i.length-1]=new bn(s.length+r):i.push(null,new bn(r-1))}if(e>0){let s=i[0];s instanceof bn?i[0]=new bn(e+s.length):i.unshift(new bn(e-1),null)}return In.of(i)}decomposeLeft(e,t){t.push(new bn(e-1),null)}decomposeRight(e,t){t.push(null,new bn(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let l=[],o=Math.max(t,r.from),c=-1;for(r.from>t&&l.push(new bn(r.from-t-1).updateHeight(e,t));o<=s&&r.more;){let d=e.doc.lineAt(o).length;l.length&&l.push(null);let m=r.heights[r.index++],g=0;m<0&&(g=-m,m=r.heights[r.index++]),c==-1?c=m:Math.abs(m-c)>=fp&&(c=-2);let y=new gi(d,m,g);y.outdated=!1,l.push(y),o+=d+1}o<=s&&l.push(null,new bn(s-o).updateHeight(e,o));let f=In.of(l);return(c<0||Math.abs(f.height-this.height)>=fp||Math.abs(c-this.heightMetrics(e,t).perLine)>=fp)&&(Yo=!0),tm(this,f)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class jV extends In{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let l=r+this.left.height,o=s+this.left.length+this.break,c=t==Et.ByHeight?e<l:e<o,f=c?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,l,o);if(this.break||(c?f.to<o:f.from>o))return f;let d=t==Et.ByPosNoHeight?Et.ByPosNoHeight:Et.ByPos;return c?f.join(this.right.lineAt(o,d,i,l,o)):this.left.lineAt(o,d,i,r,s).join(f)}forEachLine(e,t,i,r,s,l){let o=r+this.left.height,c=s+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,i,r,s,l),t>=c&&this.right.forEachLine(e,t,i,o,c,l);else{let f=this.lineAt(c,Et.ByPos,i,r,s);e<f.from&&this.left.forEachLine(e,f.from-1,i,r,s,l),f.to>=e&&f.from<=t&&l(f),t>f.to&&this.right.forEachLine(f.to+1,t,i,o,c,l)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let o of i)s.push(o);if(e>0&&uE(s,l-1),t<this.length){let o=s.length;this.decomposeRight(t,s),uE(s,o)}return In.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?In.of(this.break?[e,null,t]:[e,t]):(this.left=tm(this.left,e),this.right=tm(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:l}=this,o=t+s.length+this.break,c=null;return r&&r.from<=t+s.length&&r.more?c=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=o+l.length&&r.more?c=l=l.updateHeight(e,o,i,r):l.updateHeight(e,o,i),c?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function uE(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof bn&&(i=n[e+1])instanceof bn&&n.splice(e-1,3,new bn(t.length+1+i.length))}const qV=5;class lv{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof gi?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new gi(i-this.pos,-1,0)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let l=t-e;i.block?this.addBlock(new UM(l,r,i)):(l||s||r>=qV)&&this.addLineDeco(r,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new gi(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let i=new bn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof gi)return e;let t=new gi(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof gi)&&!this.isCovered?this.nodes.push(new gi(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof gi&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new lv(i,e);return He.spans(t,i,r,s,0),s.finish(i)}}function VV(n,e,t){let i=new YV;return He.compare(n,e,t,i,0),i.changes}class YV{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&Qo(e,t,this.changes,5)}}function WV(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),l=Math.min(r.innerWidth,t.right),o=Math.max(0,t.top),c=Math.min(r.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let d=f,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),o=Math.max(o,g.top),c=Math.min(f==n.parentNode?r.innerHeight:c,g.bottom)}f=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:o-(t.top+e),bottom:Math.max(o,c)-(t.top+e)}}function HV(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function FV(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class n0{constructor(e,t,i,r){this.from=e,this.to=t,this.size=i,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return Ee.replace({widget:new GV(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class GV extends ar{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=hE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=wt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(nv).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new XV(t),this.stateDeco=fE(e),this.heightMap=In.empty().applyChanges(this.stateDeco,st.empty,this.heightOracle.setDoc(e.doc),[new Mi(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ee.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:l})=>r>=s&&r<=l)){let{from:s,to:l}=this.lineBlockAt(r);e.push(new $d(s,l))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?hE:new av(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push($c(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=fE(this.state);let r=e.changedRanges,s=Mi.extendWithRanges(r,VV(i,this.stateDeco,e?e.changes:en.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);oE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Yo)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let c=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let f=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(vM)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?wt.RTL:wt.LTR;let l=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,o=t.getBoundingClientRect(),c=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,d=0;if(o.width&&o.height){let{scaleX:X,scaleY:N}=rM(t,o);(X>.005&&Math.abs(this.scaleX-X)>.005||N>.005&&Math.abs(this.scaleY-N)>.005)&&(this.scaleX=X,this.scaleY=N,f|=16,l=c=!0)}let m=(parseInt(i.paddingTop)||0)*this.scaleY,g=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=lM(e.scrollDOM);let S=(this.printing?FV:WV)(t,this.paddingTop),v=S.top-this.pixelViewport.top,w=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(c=!0)),!this.inView&&!this.scrollTarget&&!HV(e.dom))return 0;let E=o.width;if((this.contentDOMWidth!=E||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),c){let X=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(X)&&(l=!0),l||r.lineWrapping&&Math.abs(E-this.contentDOMWidth)>r.charWidth){let{lineHeight:N,charWidth:P,textHeight:I}=e.docView.measureTextSize();l=N>0&&r.refresh(s,N,P,I,Math.max(5,E/P),X),l&&(e.docView.minWidth=0,f|=16)}v>0&&w>0?d=Math.max(v,w):v<0&&w<0&&(d=Math.min(v,w)),oE();for(let N of this.viewports){let P=N.from==this.viewport.from?X:e.docView.measureVisibleLineHeights(N);this.heightMap=(l?In.empty().applyChanges(this.stateDeco,st.empty,this.heightOracle,[new Mi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,l,new ZV(N.from,P))}Yo&&(f|=2)}let C=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),f|=this.updateForViewport()),(f&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,c=new $d(r.lineAt(l-i*1e3,Et.ByHeight,s,0,0).from,r.lineAt(o+(1-i)*1e3,Et.ByHeight,s,0,0).to);if(t){let{head:f}=t.range;if(f<c.from||f>c.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=r.lineAt(f,Et.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&f<c.from?g=m.top:g=m.bottom-d,c=new $d(r.lineAt(g-1e3/2,Et.ByHeight,s,0,0).from,r.lineAt(g+d+1e3/2,Et.ByHeight,s,0,0).to)}}return c}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new $d(this.heightMap.lineAt(i,Et.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Et.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Et.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Et.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||r<=l-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&r>l-2*1e3&&s<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new n0(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,l=r<<1;if(this.defaultTextDirection!=wt.LTR&&!i)return[];let o=[],c=(d,m,g,y)=>{if(m-d<s)return;let S=this.state.selection.main,v=[S.from];S.empty||v.push(S.to);for(let k of v)if(k>d&&k<m){c(d,k-10,g,y),c(k+10,m,g,y);return}let w=JV(e,k=>k.from>=g.from&&k.to<=g.to&&Math.abs(k.from-d)<s&&Math.abs(k.to-m)<s&&!v.some(E=>k.from<E&&k.to>E));if(!w){if(m<g.to&&t&&i&&t.visibleRanges.some(C=>C.from<=m&&C.to>=m)){let C=t.moveToLineBoundary(K.cursor(m),!1,!0).head;C>d&&(m=C)}let k=this.gapSize(g,d,m,y),E=i||k<2e6?k:2e6;w=new n0(d,m,k,E)}o.push(w)},f=d=>{if(d.length<l||d.type!=wn.Text)return;let m=KV(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,S;if(i){let v=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,k;if(g!=null){let E=Id(m,g),C=((this.visibleBottom-this.visibleTop)/2+v)/d.height;w=E-C,k=E+C}else w=(this.visibleTop-d.top-v)/d.height,k=(this.visibleBottom-d.top+v)/d.height;y=Dd(m,w),S=Dd(m,k)}else{let v=m.total*this.heightOracle.charWidth,w=r*this.heightOracle.charWidth,k=0;if(v>2e6)for(let P of e)P.from>=d.from&&P.from<d.to&&P.size!=P.displaySize&&P.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=P.size-P.displaySize);let E=this.pixelViewport.left+k,C=this.pixelViewport.right+k,X,N;if(g!=null){let P=Id(m,g),I=((C-E)/2+w)/v;X=P-I,N=P+I}else X=(E-w)/v,N=(C+w)/v;y=Dd(m,X),S=Dd(m,N)}y>d.from&&c(d.from,y,d,m),S<d.to&&c(S,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(f):f(d);return o}gapSize(e,t,i,r){let s=Id(r,i)-Id(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){n0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ee.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];He.spans(t,this.viewport.from,this.viewport.to,{span(s,l){i.push({from:s,to:l})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let l=this.visibleRanges[s],o=i[s];(l.from!=o.from||l.to!=o.to)&&(r|=4,e&&e.mapPos(l.from,-1)==o.from&&e.mapPos(l.to,1)==o.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||$c(this.heightMap.lineAt(e,Et.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||$c(this.heightMap.lineAt(this.scaler.fromDOM(e),Et.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return $c(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class $d{constructor(e,t){this.from=e,this.to=t}}function KV(n,e,t){let i=[],r=n,s=0;return He.spans(t,n,e,{span(){},point(l,o){l>r&&(i.push({from:r,to:l}),s+=l-r),r=o}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Dd({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:l}=e[r],o=l-s;if(i<=o)return s+i;i-=o}}function Id(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function JV(n,e){for(let t of n)if(e(t))return t}const hE={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};function fE(n){let e=n.facet(Ym).filter(i=>typeof i!="function"),t=n.facet(iv).filter(i=>typeof i!="function");return t.length&&e.push(He.join(t)),e}class av{constructor(e,t,i){let r=0,s=0,l=0;this.viewports=i.map(({from:o,to:c})=>{let f=t.lineAt(o,Et.ByPos,e,0,0).top,d=t.lineAt(c,Et.ByPos,e,0,0).bottom;return r+=d-f,{from:o,to:c,top:f,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof av?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function $c(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Gi(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>$c(r,e)):n._content)}const Ld=Se.define({combine:n=>n.join(" ")}),n1=Se.define({combine:n=>n.indexOf(!0)>-1}),i1=gl.newName(),jM=gl.newName(),qM=gl.newName(),VM={"&light":"."+jM,"&dark":"."+qM};function r1(n,e,t){return new gl(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const e8=r1("."+i1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},VM),t8={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},i0=ve.ie&&ve.ie_version<=11;class n8{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Mq,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ve.ie&&ve.ie_version<=11||ve.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ve.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ve.chrome&&ve.chrome_version<126)&&(this.editContext=new r8(e),e.state.facet(ls)&&(e.contentDOM.editContext=this.editContext.editContext)),i0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(ls)?i.root.activeElement!=this.dom:!Vc(this.dom,r))return;let s=r.anchorNode&&i.docView.tile.nearest(r.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ve.ie&&ve.ie_version<=11||ve.android&&ve.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Wc(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=jo(e.root);if(!t)return!1;let i=ve.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&i8(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=Vc(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Dq(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,t8),i0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),i0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ao(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(r=!0),t==-1?{from:t,to:i}=l:(t=Math.min(l.from,t),i=Math.max(l.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Vc(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new vV(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=MM(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!em(this.view.state.selection,t.newSel.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let i=dE(t,e.previousSibling||e.target.previousSibling,-1),r=dE(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ls)!=e.state.facet(ls)&&(e.view.contentDOM.editContext=e.state.facet(ls)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function dE(n,e,t){for(;e;){let i=Kt.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function pE(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor,1);return Wc(l.node,l.offset,r,s)&&([t,i,r,s]=[r,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}}function i8(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return pE(n,r)}let t=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?pE(n,t):null}class r8{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:l}=r,o=this.toEditorPos(i.updateRangeStart),c=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:o,drifted:!1});let f=c-o>i.text.length;o==this.from&&s<this.from?o=s:c==this.to&&s>this.to&&(c=s);let d=$M(e.state.sliceDoc(o,c),i.text,(f?r.from:r.to)-o,f?"end":null);if(!d){let g=K.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));em(g,r)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+o,to:d.toA+o,insert:st.of(i.text.slice(d.from,d.toB).split(`
`))};if((ve.mac||ve.android)&&m.from==l-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:o,to:c,insert:st.of([i.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);sv(e,m,K.single(this.toEditorPos(i.selectionStart,g),this.toEditorPos(i.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let l=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);l<o;l++){let c=e.coordsForChar(l);s=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let l=s.underlineStyle,o=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let c=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(c<f){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;r.push(Ee.mark({attributes:{style:d}}).range(c,f))}}}e.dispatch({effects:wM.of(Ee.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=jo(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,l,o,c,f)=>{if(i)return;let d=f.length-(l-s);if(r&&l>=r.to)if(r.from==s&&r.to==l&&r.insert.eq(f)){r=this.pendingContextChange=null,t+=d,this.to+=d;return}else r=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+f.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),f.toString()),this.to+=d}t+=d}),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ge{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$q(e.parent)||document,this.viewState=new cE(e.state||Je.create(e)),e.scrollTo&&e.scrollTo.is(Pd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(bo).map(r=>new Gy(r));for(let r of this.plugins)r.update(this);this.observer=new n8(this),this.inputState=new _V(this),this.inputState.ensureHandlers(this.plugins),this.docView=new FT(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let t=e.length==1&&e[0]instanceof Gt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,o=0,c=null;e.some(g=>g.annotation(BM))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,c=XM(s,l),c||(o=1));let f=this.observer.delayedAndroidKey,d=null;if(f?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(Je.phrases)!=this.state.facet(Je.phrases))return this.setState(s);r=Gp.create(this,s,e),r.flags|=o;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;m=new Po(y.empty?y:K.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(Pd)&&(m=y.value.clip(this.state))}this.viewState.update(r,m),this.bidiCache=nm.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Rc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Ld)!=r.state.facet(Ld)&&(this.viewState.mustMeasureContent=!0),(t||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let g of this.state.facet(Gb))try{g(r)}catch(y){Jn(this.state,y,"update listener")}(c||d)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),d&&!MM(this,d)&&f.force&&Ao(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new cE(e),this.plugins=e.facet(bo).map(i=>new Gy(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new FT(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(bo),i=e.state.facet(bo);if(t!=i){let r=[];for(let s of i){let l=t.indexOf(s);if(l<0)r.push(new Gy(s));else{let o=this.plugins[l];o.mustUpdate=e,r.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Jn(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(lM(i))s=-1,l=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(r);s=y.from,l=y.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];c&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(y=>{try{return y.read(this)}catch(S){return Jn(this.state,S),mE}}),m=Gp.create(this,this.state,[]),g=!1;m.flags|=c,t?t.flags|=c:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let y=0;y<f.length;y++)if(d[y]!=mE)try{let S=f[y];S.write&&S.write(d[y],this)}catch(S){Jn(this.state,S)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let S=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(S>1||S<-1){r=r+S,i.scrollTop=r/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(Gb))o(t)}get themeClasses(){return i1+" "+(this.state.facet(n1)?qM:jM)+" "+this.state.facet(Ld)}updateAttrs(){let e=gE(this,kM,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ls)?"true":"false",class:"cm-content",style:`${ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),gE(this,nv,t);let i=this.observer.ignore(()=>{let r=jT(this.contentDOM,this.contentAttrs,t),s=jT(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(ge.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Rc);let e=this.state.facet(ge.cspNonce);gl.mount(this.root,this.styleModules.concat(e8).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return t0(this,e,GT(this,e,t,i))}moveByGroup(e,t){return t0(this,e,GT(this,e,t,i=>gV(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return K.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return mV(this,e,t,i)}moveVertically(e,t,i){return t0(this,e,OV(this,e,t,i))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let i=e1(this,e,t);return i&&i.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),e1(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),l=s[cs.find(s,e-r.from,-1,t)];return Oh(i,l.dir==wt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(SM)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>s8)return fM(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||hM(s.isolates,i=YT(this,e))))return s.order;i||(i=YT(this,e));let r=Zq(e.text,t,i);return this.bidiCache.push(new nm(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{sM(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Pd.of(new Po(typeof e=="number"?K.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Pd.of(new Po(K.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return qt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return qt.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=gl.newName(),r=[Ld.of(i),Rc.of(r1(`.${i}`,e))];return t&&t.dark&&r.push(n1.of(!0)),r}static baseTheme(e){return ks.lowest(Rc.of(r1("."+i1,e,VM)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&Kt.get(i)||Kt.get(e);return((t=r==null?void 0:r.root)===null||t===void 0?void 0:t.view)||null}}ge.styleModule=Rc;ge.inputHandler=yM;ge.clipboardInputFilter=ev;ge.clipboardOutputFilter=tv;ge.scrollHandler=xM;ge.focusChangeEffect=bM;ge.perLineTextDirection=SM;ge.exceptionSink=OM;ge.updateListener=Gb;ge.editable=ls;ge.mouseSelectionStyle=gM;ge.dragMovesSelection=mM;ge.clickAddsSelectionRange=pM;ge.decorations=Ym;ge.blockWrappers=_M;ge.outerDecorations=iv;ge.atomicRanges=Kh;ge.bidiIsolatedRanges=CM;ge.scrollMargins=TM;ge.darkTheme=n1;ge.cspNonce=Se.define({combine:n=>n.length?n[0]:""});ge.contentAttributes=nv;ge.editorAttributes=kM;ge.lineWrapping=ge.contentAttributes.of({class:"cm-lineWrapping"});ge.announce=De.define();const s8=4096,mE={};class nm{constructor(e,t,i,r,s,l){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:wt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==r&&!t.touchesRange(l.from,l.to)&&i.push(new nm(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return i}}function gE(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],l=typeof s=="function"?s(n):s;l&&GS(l,t)}return t}const l8=ve.mac?"mac":ve.windows?"win":ve.linux?"linux":"key";function a8(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,l,o;for(let c=0;c<t.length-1;++c){const f=t[c];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),l&&(i="Shift-"+i),i}function Nd(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const o8=ks.default(ge.domEventHandlers({keydown(n,e){return WM(YM(e.state),n,e,"editor")}})),du=Se.define({enables:o8}),OE=new WeakMap;function YM(n){let e=n.facet(du),t=OE.get(e);return t||OE.set(e,t=h8(e.reduce((i,r)=>i.concat(r),[]))),t}function u8(n,e,t){return WM(YM(n.state),e,n,t)}let sl=null;const c8=4e3;function h8(n,e=l8){let t=Object.create(null),i=Object.create(null),r=(l,o)=>{let c=i[l];if(c==null)i[l]=o;else if(c!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,o,c,f,d)=>{var m,g;let y=t[l]||(t[l]=Object.create(null)),S=o.split(/ (?!$)/).map(k=>a8(k,e));for(let k=1;k<S.length;k++){let E=S.slice(0,k).join(" ");r(E,!0),y[E]||(y[E]={preventDefault:!0,stopPropagation:!1,run:[C=>{let X=sl={view:C,prefix:E,scope:l};return setTimeout(()=>{sl==X&&(sl=null)},c8),!0}]})}let v=S.join(" ");r(v,!1);let w=y[v]||(y[v]={preventDefault:!1,stopPropagation:!1,run:((g=(m=y._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});c&&w.run.push(c),f&&(w.preventDefault=!0),d&&(w.stopPropagation=!0)};for(let l of n){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of o){let d=t[f]||(t[f]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(y=>m(y,s1))}let c=l[e]||l.key;if(c)for(let f of o)s(f,c,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(f,"Shift-"+c,l.shift,l.preventDefault,l.stopPropagation)}return t}let s1=null;function WM(n,e,t,i){s1=e;let r=_q(e),s=Wn(r,0),l=kr(s)==r.length&&r!=" ",o="",c=!1,f=!1,d=!1;sl&&sl.view==t&&sl.scope==i&&(o=sl.prefix+" ",IM.indexOf(e.keyCode)<0&&(f=!0,sl=null));let m=new Set,g=w=>{if(w){for(let k of w.run)if(!m.has(k)&&(m.add(k),k(t)))return w.stopPropagation&&(d=!0),!0;w.preventDefault&&(w.stopPropagation&&(d=!0),f=!0)}return!1},y=n[i],S,v;return y&&(g(y[o+Nd(r,e,!l)])?c=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ve.windows&&e.ctrlKey&&e.altKey)&&!(ve.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(S=Ol[e.keyCode])&&S!=r?(g(y[o+Nd(S,e,!0)])||e.shiftKey&&(v=mh[e.keyCode])!=r&&v!=S&&g(y[o+Nd(v,e,!1)]))&&(c=!0):l&&e.shiftKey&&g(y[o+Nd(r,e,!0)])&&(c=!0),!c&&g(y._any)&&(c=!0)),f&&(c=!0),c&&d&&e.stopPropagation(),s1=null,c}class Jh{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=HM(e);return[new Jh(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return f8(e,t,i)}}function HM(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==wt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function yE(n,e,t,i){let r=n.coordsAtPos(e,t*2);if(!r)return i;let s=n.dom.getBoundingClientRect(),l=(r.top+r.bottom)/2,o=n.posAtCoords({x:s.left+1,y:l}),c=n.posAtCoords({x:s.right-1,y:l});return o==null||c==null?i:{from:Math.max(i.from,Math.min(o,c)),to:Math.min(i.to,Math.max(o,c))}}function f8(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==wt.LTR,l=n.contentDOM,o=l.getBoundingClientRect(),c=HM(n),f=l.querySelector(".cm-line"),d=f&&window.getComputedStyle(f),m=o.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=o.right-(d?parseInt(d.paddingRight):0),y=Jb(n,i,1),S=Jb(n,r,-1),v=y.type==wn.Text?y:null,w=S.type==wn.Text?S:null;if(v&&(n.lineWrapping||y.widgetLineBreaks)&&(v=yE(n,i,1,v)),w&&(n.lineWrapping||S.widgetLineBreaks)&&(w=yE(n,r,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return E(C(t.from,t.to,v));{let N=v?C(t.from,null,v):X(y,!1),P=w?C(null,t.to,w):X(S,!0),I=[];return(v||y).to<(w||S).from-(v&&w?1:0)||y.widgetLineBreaks>1&&N.bottom+n.defaultLineHeight/2<P.top?I.push(k(m,N.bottom,g,P.top)):N.bottom<P.top&&n.elementAtHeight((N.bottom+P.top)/2).type==wn.Text&&(N.bottom=P.top=(N.bottom+P.top)/2),E(N).concat(I).concat(E(P))}function k(N,P,I,ae){return new Jh(e,N-c.left,P-c.top,Math.max(0,I-N),ae-P)}function E({top:N,bottom:P,horizontal:I}){let ae=[];for(let te=0;te<I.length;te+=2)ae.push(k(I[te],N,I[te+1],P));return ae}function C(N,P,I){let ae=1e9,te=-1e9,L=[];function F(oe,ne,B,ie,me){let be=n.coordsAtPos(oe,oe==I.to?-2:2),A=n.coordsAtPos(B,B==I.from?2:-2);!be||!A||(ae=Math.min(be.top,A.top,ae),te=Math.max(be.bottom,A.bottom,te),me==wt.LTR?L.push(s&&ne?m:be.left,s&&ie?g:A.right):L.push(!s&&ie?m:A.left,!s&&ne?g:be.right))}let H=N??I.from,fe=P??I.to;for(let oe of n.visibleRanges)if(oe.to>H&&oe.from<fe)for(let ne=Math.max(oe.from,H),B=Math.min(oe.to,fe);;){let ie=n.state.doc.lineAt(ne);for(let me of n.bidiSpans(ie)){let be=me.from+ie.from,A=me.to+ie.from;if(be>=B)break;A>ne&&F(Math.max(be,ne),N==null&&be<=H,Math.min(A,B),P==null&&A>=fe,me.dir)}if(ne=ie.to+1,ne>=B)break}return L.length==0&&F(H,N==null,fe,P==null,n.textDirection),{top:ae,bottom:te,horizontal:L}}function X(N,P){let I=o.top+(P?N.top:N.bottom);return{top:I,bottom:I,horizontal:[]}}}function d8(n,e){return n.constructor==e.constructor&&n.eq(e)}class p8{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(dp)!=e.state.facet(dp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(dp);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!d8(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e,ve.safari&&ve.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const dp=Se.define();function FM(n){return[qt.define(e=>new p8(e,n)),dp.of(n)]}const bh=Se.define({combine(n){return Dr(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function m8(n={}){return[bh.of(n),g8,O8,y8,vM.of(!0)]}function GM(n){return n.startState.facet(bh)!=n.state.facet(bh)}const g8=FM({above:!0,markers(n){let{state:e}=n,t=e.facet(bh),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=r.empty?r:K.cursor(r.head,r.head>r.anchor?-1:1);for(let c of Jh.forRange(n,l,o))i.push(c)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=GM(n);return t&&bE(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){bE(e.state,n)},class:"cm-cursorLayer"});function bE(n,e){e.style.animationDuration=n.facet(bh).cursorBlinkRate+"ms"}const O8=FM({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Jh.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||GM(n)},class:"cm-selectionLayer"}),y8=ks.highest(ge.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),KM=De.define({map(n,e){return n==null?null:e.mapPos(n)}}),Dc=hn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(KM)?i.value:t,n)}}),b8=qt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Dc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Dc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Dc),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Dc)!=n&&this.view.dispatch({effects:KM.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function S8(){return[Dc,b8]}function SE(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),l=t,o;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)r(l+o.index,o)}function v8(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class x8{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(o,c,f,d)=>r(d,f,f+o[0].length,o,c);else if(typeof i=="function")this.addMatch=(o,c,f,d)=>{let m=i(o,c,f);m&&d(f,f+o[0].length,m)};else if(i)this.addMatch=(o,c,f,d)=>d(f,f+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new Ss,i=t.add.bind(t);for(let{from:r,to:s}of v8(e,this.maxLength))SE(e.state.doc,this.regexp,r,s,(l,o)=>this.addMatch(o,e,l,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,l,o,c)=>{c>=e.view.viewport.from&&o<=e.view.viewport.to&&(i=Math.min(o,i),r=Math.max(c,r))}),e.viewportMoved||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let l=Math.max(s.from,i),o=Math.min(s.to,r);if(o>=l){let c=e.state.doc.lineAt(l),f=c.to<o?e.state.doc.lineAt(o):c,d=Math.max(s.from,c.from),m=Math.min(s.to,f.to);if(this.boundary){for(;l>c.from;l--)if(this.boundary.test(c.text[l-1-c.from])){d=l;break}for(;o<f.to;o++)if(this.boundary.test(f.text[o-f.from])){m=o;break}}let g=[],y,S=(v,w,k)=>g.push(k.range(v,w));if(c==f)for(this.regexp.lastIndex=d-c.from;(y=this.regexp.exec(c.text))&&y.index<m-c.from;)this.addMatch(y,e,y.index+c.from,S);else SE(e.state.doc,this.regexp,d,m,(v,w)=>this.addMatch(w,e,v,S));t=t.update({filterFrom:d,filterTo:m,filter:(v,w)=>v<d||w>m,add:g})}}return t}}const l1=/x/.unicode!=null?"gu":"g",w8=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,l1),k8={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let r0=null;function _8(){var n;if(r0==null&&typeof document<"u"&&document.body){let e=document.body.style;r0=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return r0||!1}const pp=Se.define({combine(n){let e=Dr(n,{render:null,specialChars:w8,addSpecialChars:null});return(e.replaceTabs=!_8())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,l1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,l1)),e}});function C8(n={}){return[pp.of(n),T8()]}let vE=null;function T8(){return vE||(vE=qt.fromClass(class{constructor(n){this.view=n,this.decorations=Ee.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(pp)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new x8({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=Wn(e[0],0);if(s==9){let l=r.lineAt(i),o=t.state.tabSize,c=sr(l.text,o,i-l.from);return Ee.replace({widget:new P8((o-c%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ee.replace({widget:new A8(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(pp);n.startState.facet(pp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const E8="";function Q8(n){return n>=32?E8:n==10?"":String.fromCharCode(9216+n)}class A8 extends ar{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Q8(this.code),i=e.state.phrase("Control character")+" "+(k8[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class P8 extends ar{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function R8(){return $8}const M8=Ee.line({class:"cm-activeLine"}),$8=qt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(M8.range(r.from)),e=r.from)}return Ee.set(t)}},{decorations:n=>n.decorations});class D8 extends ar{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Yc(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=Oh(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function I8(n){let e=qt.fromClass(class{constructor(t){this.view=t,this.placeholder=n?Ee.set([Ee.widget({widget:new D8(n),side:1}).range(0)]):Ee.none}get decorations(){return this.view.state.doc.length?Ee.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,ge.contentAttributes.of({"aria-placeholder":n})]:e}const a1=2e3;function L8(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>a1||t.off>a1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let c=i;c<=r;c++){let f=n.doc.line(c);f.length<=o&&s.push(K.range(f.from+l,f.to+o))}}else{let l=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let c=i;c<=r;c++){let f=n.doc.line(c),d=Bb(f.text,l,n.tabSize,!0);if(d<0)s.push(K.cursor(f.to));else{let m=Bb(f.text,o,n.tabSize);s.push(K.range(f.from+d,f.from+m))}}}return s}function N8(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function xE(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>a1?-1:r==i.length?N8(n,e.clientX):sr(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function z8(n,e){let t=xE(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),l=r.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},i=i.map(r.changes)}},get(r,s,l){let o=xE(n,r);if(!o)return i;let c=L8(n.state,t,o);return c.length?l?K.create(c.concat(i.ranges)):K.create(c):i}}:null}function B8(n){let e=(t=>t.altKey&&t.button==0);return ge.mouseSelectionStyle.of((t,i)=>e(i)?z8(t,i):null)}const X8={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Z8={style:"cursor: crosshair"};function U8(n={}){let[e,t]=X8[n.key||"Alt"],i=qt.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,ge.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?Z8:null})]}const zd="-10000px";class JM{constructor(e,t,i,r){this.facet=t,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=i(l,s))}update(e,t){var i;let r=e.state.facet(this.facet),s=r.filter(c=>c);if(r===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let l=[],o=t?[]:null;for(let c=0;c<s.length;c++){let f=s[c],d=-1;if(f){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==f.create&&(d=m)}if(d<0)l[c]=this.createTooltipView(f,c?l[c-1]:null),o&&(o[c]=!!f.above);else{let m=l[c]=this.tooltipViews[d];o&&(o[c]=t[d]),m.update&&m.update(e)}}}for(let c of this.tooltipViews)l.indexOf(c)<0&&(this.removeTooltipView(c),(i=c.destroy)===null||i===void 0||i.call(c));return t&&(o.forEach((c,f)=>t[f]=c),t.length=o.length),this.input=r,this.tooltips=s,this.tooltipViews=l,!0}}function j8(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const s0=Se.define({combine:n=>{var e,t,i;return{position:ve.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||j8}}}),wE=new WeakMap,ov=qt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(s0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new JM(n,uv,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(s0);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top=zd,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ve.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),r=rv(this.view);return{visible:{left:i.left+r.left,top:i.top+r.top,right:i.right-r.right,bottom:i.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let o=this.manager.tooltipViews[l];return o.getCoords?o.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(s0).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:i,scaleX:r,scaleY:s}=n,l=[];for(let o=0;o<this.manager.tooltips.length;o++){let c=this.manager.tooltips[o],f=this.manager.tooltipViews[o],{dom:d}=f,m=n.pos[o],g=n.size[o];if(!m||c.clip!==!1&&(m.bottom<=Math.max(t.top,i.top)||m.top>=Math.min(t.bottom,i.bottom)||m.right<Math.max(t.left,i.left)-.1||m.left>Math.min(t.right,i.right)+.1)){d.style.top=zd;continue}let y=c.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,S=y?7:0,v=g.right-g.left,w=(e=wE.get(f))!==null&&e!==void 0?e:g.bottom-g.top,k=f.offset||V8,E=this.view.textDirection==wt.LTR,C=g.width>i.right-i.left?E?i.left:i.right-g.width:E?Math.max(i.left,Math.min(m.left-(y?14:0)+k.x,i.right-v)):Math.min(Math.max(i.left,m.left-v+(y?14:0)-k.x),i.right-v),X=this.above[o];!c.strictSide&&(X?m.top-w-S-k.y<i.top:m.bottom+w+S+k.y>i.bottom)&&X==i.bottom-m.bottom>m.top-i.top&&(X=this.above[o]=!X);let N=(X?m.top-i.top:i.bottom-m.bottom)-S;if(N<w&&f.resize!==!1){if(N<this.view.defaultLineHeight){d.style.top=zd;continue}wE.set(f,w),d.style.height=(w=N)/s+"px"}else d.style.height&&(d.style.height="");let P=X?m.top-w-S-k.y:m.bottom+S+k.y,I=C+v;if(f.overlap!==!0)for(let ae of l)ae.left<I&&ae.right>C&&ae.top<P+w&&ae.bottom>P&&(P=X?ae.top-w-2-S:ae.bottom+S+2);if(this.position=="absolute"?(d.style.top=(P-n.parent.top)/s+"px",kE(d,(C-n.parent.left)/r)):(d.style.top=P/s+"px",kE(d,C/r)),y){let ae=m.left+(E?k.x:-k.x)-(C+14-7);y.style.left=ae/r+"px"}f.overlap!==!0&&l.push({left:C,top:P,right:I,bottom:P+w}),d.classList.toggle("cm-tooltip-above",X),d.classList.toggle("cm-tooltip-below",!X),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=zd}},{eventObservers:{scroll(){this.maybeMeasure()}}});function kE(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const q8=ge.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),V8={x:0,y:0},uv=Se.define({enables:[ov,q8]}),im=Se.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Gm{static create(e){return new Gm(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new JM(e,im,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Y8=uv.compute([im],n=>{let e=n.facet(im);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Gm.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class W8{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.tile.nearest(t.target);if(!i)return;let r,s=1;if(i.isWidget())r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let o=e.coordsAtPos(r);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(r)).find(d=>d.from<=r&&d.to>=r),f=c&&c.dir==wt.RTL?-1:1;s=t.x<o.left?-f:f}let l=this.source(e,r,s);if(l!=null&&l.then){let o=this.pending={pos:r};l.then(c=>{this.pending==o&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>Jn(e.state,c,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(ov),t=e?e.manager.tooltips.findIndex(i=>i.create==Gm.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!H8(s.dom,e)||this.pending){let{pos:l}=r[0]||this.pending,o=(i=(t=r[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:l;(l==o?this.view.posAtCoords(this.lastMove)!=l:!F8(this.view,l,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Bd=4;function H8(n,e){let{left:t,right:i,top:r,bottom:s}=n.getBoundingClientRect(),l;if(l=n.querySelector(".cm-tooltip-arrow")){let o=l.getBoundingClientRect();r=Math.min(o.top,r),s=Math.max(o.bottom,s)}return e.clientX>=t-Bd&&e.clientX<=i+Bd&&e.clientY>=r-Bd&&e.clientY<=s+Bd}function F8(n,e,t,i,r,s){let l=n.scrollDOM.getBoundingClientRect(),o=n.documentTop+n.documentPadding.top+n.contentHeight;if(l.left>i||l.right<i||l.top>r||Math.min(l.bottom,o)<r)return!1;let c=n.posAtCoords({x:i,y:r},!1);return c>=e&&c<=t}function G8(n,e={}){let t=De.define(),i=hn.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let o of r){let c=s.changes.mapPos(o.pos,-1,xn.TrackDel);if(c!=null){let f=Object.assign(Object.create(null),o);f.pos=c,f.end!=null&&(f.end=s.changes.mapPos(f.end)),l.push(f)}}r=l}for(let l of s.effects)l.is(t)&&(r=l.value),l.is(K8)&&(r=[]);return r},provide:r=>im.from(r)});return{active:i,extension:[i,qt.define(r=>new W8(r,n,i,t,e.hoverTime||300)),Y8]}}function e$(n,e){let t=n.plugin(ov);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const K8=De.define(),_E=Se.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function cv(n,e){let t=n.plugin(t$),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const t$=qt.fromClass(class{constructor(n){this.input=n.state.facet(Sh),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(_E);this.top=new Xd(n,!0,e.topContainer),this.bottom=new Xd(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(_E);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Xd(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Xd(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Sh);if(t!=this.input){let i=t.filter(c=>c),r=[],s=[],l=[],o=[];for(let c of i){let f=this.specs.indexOf(c),d;f<0?(d=c(n.view),o.push(d)):(d=this.panels[f],d.update&&d.update(n)),r.push(d),(d.top?s:l).push(d)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(l);for(let c of o)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ge.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Xd{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=CE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=CE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function CE(n){let e=n.nextSibling;return n.remove(),e}const Sh=Se.define({enables:t$});function J8(n,e){let t,i=new Promise(l=>t=l),r=l=>e9(l,e,t);n.state.field(l0,!1)?n.dispatch({effects:n$.of(r)}):n.dispatch({effects:De.appendConfig.of(l0.init(()=>[r]))});let s=i$.of(r);return{close:s,result:i.then(l=>((n.win.queueMicrotask||(c=>n.win.setTimeout(c,10)))(()=>{n.state.field(l0).indexOf(r)>-1&&n.dispatch({effects:s})}),l))}}const l0=hn.define({create(){return[]},update(n,e){for(let t of e.effects)t.is(n$)?n=[t.value].concat(n):t.is(i$)&&(n=n.filter(i=>i!=t.value));return n},provide:n=>Sh.computeN([n],e=>e.field(n))}),n$=De.define(),i$=De.define();function e9(n,e,t){let i=e.content?e.content(n,()=>l(null)):null;if(!i){if(i=bt("form"),e.input){let o=bt("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),i.appendChild(bt("label",(e.label||"")+": ",o))}else i.appendChild(document.createTextNode(e.label||""));i.appendChild(document.createTextNode(" ")),i.appendChild(bt("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let r=i.nodeName=="FORM"?[i]:i.querySelectorAll("form");for(let o=0;o<r.length;o++){let c=r[o];c.addEventListener("keydown",f=>{f.keyCode==27?(f.preventDefault(),l(null)):f.keyCode==13&&(f.preventDefault(),l(c))}),c.addEventListener("submit",f=>{f.preventDefault(),l(c)})}let s=bt("div",i,bt("button",{onclick:()=>l(null),"aria-label":n.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function l(o){s.contains(s.ownerDocument.activeElement)&&n.focus(),t(o)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=i.querySelector(e.focus):o=i.querySelector("input")||i.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class xs extends ml{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xs.prototype.elementClass="";xs.prototype.toDOM=void 0;xs.prototype.mapMode=xn.TrackBefore;xs.prototype.startSide=xs.prototype.endSide=-1;xs.prototype.point=!0;const mp=Se.define(),t9=Se.define(),n9={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>He.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Fc=Se.define();function i9(n){return[r$(),Fc.of({...n9,...n})]}const TE=Se.define({combine:n=>n.some(e=>e)});function r$(n){return[r9]}const r9=qt.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Fc).map(e=>new QE(n,e)),this.fixed=!n.state.facet(TE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(TE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=He.iter(this.view.state.facet(mp),this.view.viewport.from),i=[],r=this.gutters.map(s=>new s9(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let l=!0;for(let o of s.type)if(o.type==wn.Text&&l){o1(t,i,o.from);for(let c of r)c.line(this.view,o,i);l=!1}else if(o.widget)for(let c of r)c.widget(this.view,o)}else if(s.type==wn.Text){o1(t,i,s.from);for(let l of r)l.line(this.view,s,i)}else if(s.widget)for(let l of r)l.widget(this.view,s);for(let s of r)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Fc),t=n.state.facet(Fc),i=n.docChanged||n.heightChanged||n.viewportChanged||!He.eq(n.startState.facet(mp),n.state.facet(mp),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let l=e.indexOf(s);l<0?r.push(new QE(this.view,s)):(this.gutters[l].update(n),r.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>ge.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,r=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==wt.LTR?{left:i,right:r}:{right:i,left:r}})});function EE(n){return Array.isArray(n)?n:[n]}function o1(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class s9{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=He.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==r.elements.length){let o=new s$(e,l,s,i);r.elements.push(o),r.dom.appendChild(o.dom)}else r.elements[this.i].update(e,l,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];o1(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let l=this.gutter;r.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),r=i?[i]:null;for(let s of e.state.facet(t9)){let l=s(e,t.widget,t);l&&(r||(r=[])).push(l)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class QE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();l=(c.top+c.bottom)/2}else l=r.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[i](e,o,r)&&r.preventDefault()});this.markers=EE(t.markers(e)),t.initialSpacer&&(this.spacer=new s$(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=EE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!He.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class s${constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),l9(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,l=0;;){let o=l,c=s<t.length?t[s++]:null,f=!1;if(c){let d=c.elementClass;d&&(i+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(c)){o=m,f=!0;break}}else o=this.markers.length;for(;l<o;){let d=this.markers[l++];if(d.toDOM){d.destroy(r);let m=r.nextSibling;r.remove(),r=m}}if(!c)break;c.toDOM&&(f?r=r.nextSibling:this.dom.insertBefore(c.toDOM(e),r)),f&&l++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function l9(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const a9=Se.define(),o9=Se.define(),So=Se.define({combine(n){return Dr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],l=t[r];i[r]=s?(o,c,f)=>s(o,c,f)||l(o,c,f):l}return i}})}});class a0 extends xs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function o0(n,e){return n.state.facet(So).formatNumber(e,n.state)}const u9=Fc.compute([So],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(a9)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new a0(o0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let r of e.state.facet(o9)){let s=r(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(So)!=e.state.facet(So),initialSpacer(e){return new a0(o0(e,AE(e.state.doc.lines)))},updateSpacer(e,t){let i=o0(t.view,AE(t.view.state.doc.lines));return i==e.number?e:new a0(i)},domEventHandlers:n.facet(So).domEventHandlers,side:"before"}));function c9(n={}){return[So.of(n),r$(),u9]}function AE(n){let e=9;for(;e<n;)e=e*10+9;return e}const h9=new class extends xs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},f9=mp.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(h9.range(r)))}return He.of(e)});function d9(){return f9}const l$=1024;let p9=0;class $i{constructor(e,t){this.from=e,this.to=t}}class Ie{constructor(e={}){this.id=p9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=rn.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Ie.closedBy=new Ie({deserialize:n=>n.split(" ")});Ie.openedBy=new Ie({deserialize:n=>n.split(" ")});Ie.group=new Ie({deserialize:n=>n.split(" ")});Ie.isolate=new Ie({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ie.contextHash=new Ie({perNode:!0});Ie.lookAhead=new Ie({perNode:!0});Ie.mounted=new Ie({perNode:!0});class Ro{constructor(e,t,i,r=!1){this.tree=e,this.overlay=t,this.parser=i,this.bracketed=r}static get(e){return e&&e.props&&e.props[Ie.mounted.id]}}const m9=Object.create(null);class rn{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):m9,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new rn(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ie.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(Ie.group),s=-1;s<(r?r.length:0);s++){let l=t[s<0?i.name:r[s]];if(l)return l}}}}rn.none=new rn("",Object.create(null),0,8);class ef{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let l=s(i);if(l){r||(r=Object.assign({},i.props));let o=l[1],c=l[0];c.combine&&c.id in r&&(o=c.combine(r[c.id],o)),r[c.id]=o}}t.push(r?new rn(i.name,r,i.id,i.flags):i)}return new ef(t)}}const Zd=new WeakMap,PE=new WeakMap;var ht;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n[n.EnterBracketed=16]="EnterBracketed"})(ht||(ht={}));class ct{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=Ro.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new rm(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Zd.get(this)||this.topNode,s=new rm(r);return s.moveTo(e,t),Zd.set(this,s._tree),s}get topNode(){return new An(this,0,0,null)}resolve(e,t=0){let i=vh(Zd.get(this)||this.topNode,e,t,!1);return Zd.set(this,i),i}resolveInner(e,t=0){let i=vh(PE.get(this)||this.topNode,e,t,!0);return PE.set(this,i),i}resolveStack(e,t=0){return y9(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,l=e.mode||0,o=(l&ht.IncludeAnonymous)>0;for(let c=this.cursor(l|ht.IncludeAnonymous);;){let f=!1;if(c.from<=s&&c.to>=r&&(!o&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;f=!0}for(;f&&i&&(o||!c.type.isAnonymous)&&i(c),!c.nextSibling();){if(!c.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:dv(rn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new ct(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new ct(rn.none,t,i,r)))}static build(e){return b9(e)}}ct.empty=new ct(rn.none,[],[],0);class hv{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new hv(this.buffer,this.index)}}class bl{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return rn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let l=[];for(;e<i;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,i,r,s){let{buffer:l}=this,o=-1;for(let c=e;c!=t&&!(a$(s,r,l[c+1],l[c+2])&&(o=c,i>0));c=l[c+3]);return o}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),l=0;for(let o=e,c=0;o<t;){s[c++]=r[o++],s[c++]=r[o++]-i;let f=s[c++]=r[o++]-i;s[c++]=r[o++]-e,l=Math.max(l,f)}return new bl(s,l,this.set)}}function a$(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function vh(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let l=!i&&n instanceof An&&n.index<0?null:n.parent;if(!l)return n;n=l}let s=i?0:ht.IgnoreOverlays;if(i)for(let l=n,o=l.parent;o;l=o,o=l.parent)l instanceof An&&l.index<0&&((r=o.enter(e,t,s))===null||r===void 0?void 0:r.from)!=l.from&&(n=o);for(;;){let l=n.enter(e,t,s);if(!l)return n;n=l}}class o${cursor(e=0){return new rm(this,e)}getChild(e,t=null,i=null){let r=RE(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return RE(this,e,t,i)}resolve(e,t=0){return vh(this,e,t,!1)}resolveInner(e,t=0){return vh(this,e,t,!0)}matchContext(e){return u1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class An extends o${constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let l=this;;){for(let{children:o,positions:c}=l._tree,f=t>0?o.length:-1;e!=f;e+=t){let d=o[e],m=c[e]+l.from,g;if(!(!(s&ht.EnterBracketed&&d instanceof ct&&(g=Ro.get(d))&&!g.overlay&&g.bracketed&&i>=m&&i<=m+d.length)&&!a$(r,i,m,m+d.length))){if(d instanceof bl){if(s&ht.ExcludeBuffers)continue;let y=d.findChild(0,d.buffer.length,t,i-m,r);if(y>-1)return new Cr(new g9(l,d,e,m),null,y)}else if(s&ht.IncludeAnonymous||!d.type.isAnonymous||fv(d)){let y;if(!(s&ht.IgnoreMounts)&&(y=Ro.get(d))&&!y.overlay)return new An(y.tree,m,e,l);let S=new An(d,m,e,l);return s&ht.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(t<0?d.children.length-1:0,t,i,r,s)}}}if(s&ht.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let r;if(!(i&ht.IgnoreOverlays)&&(r=Ro.get(this._tree))&&r.overlay){let s=e-this.from,l=i&ht.EnterBracketed&&r.bracketed;for(let{from:o,to:c}of r.overlay)if((t>0||l?o<=s:o<s)&&(t<0||l?c>=s:c>s))return new An(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function RE(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=r.type.is(t),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function u1(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class g9{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Cr extends o${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Cr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&ht.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Cr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Cr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Cr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let l=i.buffer[this.index+1];e.push(i.slice(r,s,l)),t.push(0)}return new ct(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function u$(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let l=n[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let i=t instanceof An&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new O9(r,t)}class O9{constructor(e,t){this.heads=e,this.node=t}get next(){return u$(this.heads)}}function y9(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof An?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(r||(r=[i])).push(l.resolve(e,t)),s=l}else{let l=Ro.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new An(l.tree,l.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(vh(o,e,t,!1))}}return r?u$(r):i}class rm{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~ht.EnterBracketed,e instanceof An)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof An?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&ht.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ht.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ht.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,l=e<0?-1:i._tree.children.length;s!=l;s+=e){let o=i._tree.children[s];if(this.mode&ht.IncludeAnonymous||o instanceof bl||!o.type.isAnonymous||fv(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==r){if(r==this.index)return l;t=l,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new Cr(this.buffer,t,this.stack[r]);return this.bufferNode=new Cr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return u1(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return u1(this._tree,e,r);let l=i[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[r]&&e[r]!=l.name)return!1;r--}}return!0}}function fv(n){return n.children.some(e=>e instanceof bl||!e.type.isAnonymous||fv(e))}function b9(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=l$,reused:s=[],minRepeatType:l=i.types.length}=n,o=Array.isArray(t)?new hv(t,t.length):t,c=i.types,f=0,d=0;function m(N,P,I,ae,te,L){let{id:F,start:H,end:fe,size:oe}=o,ne=d,B=f;if(oe<0)if(o.next(),oe==-1){let M=s[F];I.push(M),ae.push(H-N);return}else if(oe==-3){f=F;return}else if(oe==-4){d=F;return}else throw new RangeError(`Unrecognized record size: ${oe}`);let ie=c[F],me,be,A=H-N;if(fe-H<=r&&(be=w(o.pos-P,te))){let M=new Uint16Array(be.size-be.skip),Y=o.pos-be.size,T=M.length;for(;o.pos>Y;)T=k(be.start,M,T);me=new bl(M,fe-be.start,i),A=be.start-N}else{let M=o.pos-oe;o.next();let Y=[],T=[],he=F>=l?F:-1,_e=0,xe=fe;for(;o.pos>M;)he>=0&&o.id==he&&o.size>=0?(o.end<=xe-r&&(S(Y,T,H,_e,o.end,xe,he,ne,B),_e=Y.length,xe=o.end),o.next()):L>2500?g(H,M,Y,T):m(H,M,Y,T,he,L+1);if(he>=0&&_e>0&&_e<Y.length&&S(Y,T,H,_e,H,xe,he,ne,B),Y.reverse(),T.reverse(),he>-1&&_e>0){let Be=y(ie,B);me=dv(ie,Y,T,0,Y.length,0,fe-H,Be,Be)}else me=v(ie,Y,T,fe-H,ne-fe,B)}I.push(me),ae.push(A)}function g(N,P,I,ae){let te=[],L=0,F=-1;for(;o.pos>P;){let{id:H,start:fe,end:oe,size:ne}=o;if(ne>4)o.next();else{if(F>-1&&fe<F)break;F<0&&(F=oe-r),te.push(H,fe,oe),L++,o.next()}}if(L){let H=new Uint16Array(L*4),fe=te[te.length-2];for(let oe=te.length-3,ne=0;oe>=0;oe-=3)H[ne++]=te[oe],H[ne++]=te[oe+1]-fe,H[ne++]=te[oe+2]-fe,H[ne++]=ne;I.push(new bl(H,te[2]-fe,i)),ae.push(fe-N)}}function y(N,P){return(I,ae,te)=>{let L=0,F=I.length-1,H,fe;if(F>=0&&(H=I[F])instanceof ct){if(!F&&H.type==N&&H.length==te)return H;(fe=H.prop(Ie.lookAhead))&&(L=ae[F]+H.length+fe)}return v(N,I,ae,te,L,P)}}function S(N,P,I,ae,te,L,F,H,fe){let oe=[],ne=[];for(;N.length>ae;)oe.push(N.pop()),ne.push(P.pop()+I-te);N.push(v(i.types[F],oe,ne,L-te,H-L,fe)),P.push(te-I)}function v(N,P,I,ae,te,L,F){if(L){let H=[Ie.contextHash,L];F=F?[H].concat(F):[H]}if(te>25){let H=[Ie.lookAhead,te];F=F?[H].concat(F):[H]}return new ct(N,P,I,ae,F)}function w(N,P){let I=o.fork(),ae=0,te=0,L=0,F=I.end-r,H={size:0,start:0,skip:0};e:for(let fe=I.pos-N;I.pos>fe;){let oe=I.size;if(I.id==P&&oe>=0){H.size=ae,H.start=te,H.skip=L,L+=4,ae+=4,I.next();continue}let ne=I.pos-oe;if(oe<0||ne<fe||I.start<F)break;let B=I.id>=l?4:0,ie=I.start;for(I.next();I.pos>ne;){if(I.size<0)if(I.size==-3||I.size==-4)B+=4;else break e;else I.id>=l&&(B+=4);I.next()}te=ie,ae+=oe,L+=B}return(P<0||ae==N)&&(H.size=ae,H.start=te,H.skip=L),H.size>4?H:void 0}function k(N,P,I){let{id:ae,start:te,end:L,size:F}=o;if(o.next(),F>=0&&ae<l){let H=I;if(F>4){let fe=o.pos-(F-4);for(;o.pos>fe;)I=k(N,P,I)}P[--I]=H,P[--I]=L-N,P[--I]=te-N,P[--I]=ae}else F==-3?f=ae:F==-4&&(d=ae);return I}let E=[],C=[];for(;o.pos>0;)m(n.start||0,n.bufferStart||0,E,C,-1,0);let X=(e=n.length)!==null&&e!==void 0?e:E.length?C[0]+E[0].length:0;return new ct(c[n.topID],E.reverse(),C.reverse(),X)}const ME=new WeakMap;function gp(n,e){if(!n.isAnonymous||e instanceof bl||e.type!=n)return 1;let t=ME.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof ct)){t=1;break}t+=gp(n,i)}ME.set(e,t)}return t}function dv(n,e,t,i,r,s,l,o,c){let f=0;for(let S=i;S<r;S++)f+=gp(n,e[S]);let d=Math.ceil(f*1.5/8),m=[],g=[];function y(S,v,w,k,E){for(let C=w;C<k;){let X=C,N=v[C],P=gp(n,S[C]);for(C++;C<k;C++){let I=gp(n,S[C]);if(P+I>=d)break;P+=I}if(C==X+1){if(P>d){let I=S[X];y(I.children,I.positions,0,I.children.length,v[X]+E);continue}m.push(S[X])}else{let I=v[C-1]+S[C-1].length-N;m.push(dv(n,S,v,X,C,N,I,null,c))}g.push(N+E-s)}}return y(e,t,i,r,0),(o||c)(m,g,l)}class c${constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Cr?this.setBuffer(e.context.buffer,e.index,t):e instanceof An&&this.map.set(e.tree,t)}get(e){return e instanceof Cr?this.getBuffer(e.context.buffer,e.index):e instanceof An?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ds{constructor(e,t,i,r,s=!1,l=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new ds(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,l=e.length?e[0]:null;for(let o=0,c=0,f=0;;o++){let d=o<t.length?t[o]:null,m=d?d.fromA:1e9;if(m-c>=i)for(;l&&l.from<m;){let g=l;if(c>=g.from||m<=g.to||f){let y=Math.max(g.from,c)-f,S=Math.min(g.to,m)-f;g=y>=S?null:new ds(y,S,g.tree,g.offset+f,o>0,!!d)}if(g&&r.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;c=d.toA,f=d.toA-d.toB}return r}}class pv{startParse(e,t,i){return typeof e=="string"&&(e=new S9(e)),i=i?i.length?i.map(r=>new $i(r.from,r.to)):[new $i(0,0)]:[new $i(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class S9{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function h$(n){return(e,t,i,r)=>new x9(e,n,t,i,r)}class $E{constructor(e,t,i,r,s,l){this.parser=e,this.parse=t,this.overlay=i,this.bracketed=r,this.target=s,this.from=l}}function DE(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class v9{constructor(e,t,i,r,s,l,o,c){this.parser=e,this.predicate=t,this.mounts=i,this.index=r,this.start=s,this.bracketed=l,this.target=o,this.prev=c,this.depth=0,this.ranges=[]}}const c1=new Ie({perNode:!0});class x9{constructor(e,t,i,r,s){this.nest=t,this.input=i,this.fragments=r,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new ct(i.type,i.children,i.positions,i.length,i.propValues.concat([[c1,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[Ie.mounted.id]=new Ro(t,e.overlay,e.parser,e.bracketed),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new _9(this.fragments),t=null,i=null,r=new rm(new An(this.baseTree,this.ranges[0].from,0,null),ht.IncludeAnonymous|ht.IgnoreMounts);e:for(let s,l;;){let o=!0,c;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)o=!1;else if(e.hasNode(r)){if(t){let f=t.mounts.find(d=>d.frag.from<=r.from&&d.frag.to>=r.to&&d.mount.overlay);if(f)for(let d of f.mount.overlay){let m=d.from+f.pos,g=d.to+f.pos;m>=r.from&&g<=r.to&&!t.ranges.some(y=>y.from<g&&y.to>m)&&t.ranges.push({from:m,to:g})}}o=!1}else if(i&&(l=w9(i.ranges,r.from,r.to)))o=l!=2;else if(!r.type.isAnonymous&&(s=this.nest(r,this.input))&&(r.from<r.to||!s.overlay)){r.tree||(k9(r),t&&t.depth++,i&&i.depth++);let f=e.findMounts(r.from,s.parser);if(typeof s.overlay=="function")t=new v9(s.parser,s.overlay,f,this.inner.length,r.from,!!s.bracketed,r.tree,t);else{let d=NE(this.ranges,s.overlay||(r.from<r.to?[new $i(r.from,r.to)]:[]));d.length&&DE(d),(d.length||!s.overlay)&&this.inner.push(new $E(s.parser,d.length?s.parser.startParse(this.input,zE(f,d),d):s.parser.startParse(""),s.overlay?s.overlay.map(m=>new $i(m.from-r.from,m.to-r.from)):null,!!s.bracketed,r.tree,d.length?d[0].from:r.from)),s.overlay?d.length&&(i={ranges:d,depth:0,prev:i}):o=!1}}else if(t&&(c=t.predicate(r))&&(c===!0&&(c=new $i(r.from,r.to)),c.from<c.to)){let f=t.ranges.length-1;f>=0&&t.ranges[f].to==c.from?t.ranges[f]={from:t.ranges[f].from,to:c.to}:t.ranges.push(c)}if(o&&r.firstChild())t&&t.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){let f=NE(this.ranges,t.ranges);f.length&&(DE(f),this.inner.splice(t.index,0,new $E(t.parser,t.parser.startParse(this.input,zE(t.mounts,f),f),t.ranges.map(d=>new $i(d.from-t.start,d.to-t.start)),t.bracketed,t.target,f[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function w9(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function IE(n,e,t,i,r,s){if(e<t){let l=n.buffer[e+1];i.push(n.slice(e,t,l)),r.push(l-s)}}function k9(n){let{node:e}=n,t=[],i=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let r=n.tree,s=r.children.indexOf(i),l=r.children[s],o=l.buffer,c=[s];function f(d,m,g,y,S,v){let w=t[v],k=[],E=[];IE(l,d,w,k,E,y);let C=o[w+1],X=o[w+2];c.push(k.length);let N=v?f(w+4,o[w+3],l.set.types[o[w]],C,X-C,v-1):e.toTree();return k.push(N),E.push(C-y),IE(l,o[w+3],m,k,E,y),new ct(g,k,E,S)}r.children[s]=f(0,o.length,rn.none,0,l.length,t.length-1);for(let d of c){let m=n.tree.children[d],g=n.tree.positions[d];n.yield(new An(m,g+n.from,d,n._tree))}}class LE{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(ht.IncludeAnonymous|ht.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,ht.IgnoreOverlays|ht.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof ct)t=t.children[0];else break}return!1}}let _9=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(c1))!==null&&t!==void 0?t:i.to,this.inner=new LE(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(c1))!==null&&e!==void 0?e:t.to,this.inner=new LE(t.tree,-t.offset)}}findMounts(e,t){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let l=(i=s.tree)===null||i===void 0?void 0:i.prop(Ie.mounted);if(l&&l.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let c=this.fragments[o];if(c.from>=s.to)break;c.tree==this.curFrag.tree&&r.push({frag:c,pos:s.from-c.offset,mount:l})}}}return r}};function NE(n,e){let t=null,i=e;for(let r=1,s=0;r<n.length;r++){let l=n[r-1].to,o=n[r].from;for(;s<i.length;s++){let c=i[s];if(c.from>=o)break;c.to<=l||(t||(i=t=e.slice()),c.from<l?(t[s]=new $i(c.from,l),c.to>o&&t.splice(s+1,0,new $i(o,c.to))):c.to>o?t[s--]=new $i(o,c.to):t.splice(s--,1))}}return i}function C9(n,e,t,i){let r=0,s=0,l=!1,o=!1,c=-1e9,f=[];for(;;){let d=r==n.length?1e9:l?n[r].to:n[r].from,m=s==e.length?1e9:o?e[s].to:e[s].from;if(l!=o){let g=Math.max(c,t),y=Math.min(d,m,i);g<y&&f.push(new $i(g,y))}if(c=Math.min(d,m),c==1e9)break;d==c&&(l?(l=!1,r++):l=!0),m==c&&(o?(o=!1,s++):o=!0)}return f}function zE(n,e){let t=[];for(let{pos:i,mount:r,frag:s}of n){let l=i+(r.overlay?r.overlay[0].from:0),o=l+r.tree.length,c=Math.max(s.from,l),f=Math.min(s.to,o);if(r.overlay){let d=r.overlay.map(g=>new $i(g.from+i,g.to+i)),m=C9(e,d,c,f);for(let g=0,y=c;;g++){let S=g==m.length,v=S?f:m[g].from;if(v>y&&t.push(new ds(y,v,r.tree,-l,s.from>=y||s.openStart,s.to<=v||s.openEnd)),S)break;y=m[g].to}}else t.push(new ds(c,f,r.tree,-l,s.from>=l||s.openStart,s.to<=o||s.openEnd))}return t}let T9=0;class yi{constructor(e,t,i,r){this.name=e,this.set=t,this.base=i,this.modified=r,this.id=T9++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof yi&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new yi(i,[],null,[]);if(r.set.push(r),t)for(let s of t.set)r.set.push(s);return r}static defineModifier(e){let t=new sm(e);return i=>i.modified.indexOf(t)>-1?i:sm.get(i.base||i,i.modified.concat(t).sort((r,s)=>r.id-s.id))}}let E9=0;class sm{constructor(e){this.name=e,this.instances=[],this.id=E9++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&Q9(t,o.modified));if(i)return i;let r=[],s=new yi(e.name,r,e,t);for(let o of t)o.instances.push(s);let l=A9(t);for(let o of e.set)if(!o.modified.length)for(let c of l)r.push(sm.get(o,c));return s}}function Q9(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function A9(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function pu(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],l=2,o=r;for(let m=0;;){if(o=="..."&&m>0&&m+3==r.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!g)throw new RangeError("Invalid path: "+r);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==r.length)break;let y=r[m++];if(m==r.length&&y=="!"){l=0;break}if(y!="/")throw new RangeError("Invalid path: "+r);o=r.slice(m)}let c=s.length-1,f=s[c];if(!f)throw new RangeError("Invalid path: "+r);let d=new xh(i,l,c>0?s.slice(0,c):null);e[f]=d.sort(e[f])}}return f$.add(e)}const f$=new Ie({combine(n,e){let t,i,r;for(;n||e;){if(!n||e&&n.depth>=e.depth?(r=e,e=e.next):(r=n,n=n.next),t&&t.mode==r.mode&&!r.context&&!t.context)continue;let s=new xh(r.tags,r.mode,r.context);t?t.next=s:i=s,t=s}return i}});class xh{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}xh.empty=new xh([],2,null);function d$(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let l=r;for(let o of s)for(let c of o.set){let f=t[c.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}function P9(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function R9(n,e,t,i=0,r=n.length){let s=new M9(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class M9{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:l,from:o,to:c}=e;if(o>=i||c<=t)return;l.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(l)));let f=r,d=$9(e)||xh.empty,m=P9(s,d.tags);if(m&&(f&&(f+=" "),f+=m,d.mode==1&&(r+=(r?" ":"")+m)),this.startSpan(Math.max(t,o),f),d.opaque)return;let g=e.tree&&e.tree.prop(Ie.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+o,1),S=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),v=e.firstChild();for(let w=0,k=o;;w++){let E=w<g.overlay.length?g.overlay[w]:null,C=E?E.from+o:c,X=Math.max(t,k),N=Math.min(i,C);if(X<N&&v)for(;e.from<N&&(this.highlightRange(e,X,N,r,s),this.startSpan(Math.min(N,e.to),f),!(e.to>=C||!e.nextSibling())););if(!E||C>i)break;k=E.to+o,k>t&&(this.highlightRange(y.cursor(),Math.max(t,E.from+o),Math.min(i,k),"",S),this.startSpan(Math.min(i,k),f))}v&&e.parent()}else if(e.firstChild()){g&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),f)}while(e.nextSibling());e.parent()}}}function $9(n){let e=n.type.prop(f$);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Oe=yi.define,Ud=Oe(),el=Oe(),BE=Oe(el),XE=Oe(el),tl=Oe(),jd=Oe(tl),u0=Oe(tl),Sr=Oe(),Wl=Oe(Sr),Or=Oe(),yr=Oe(),h1=Oe(),xc=Oe(h1),qd=Oe(),Q={comment:Ud,lineComment:Oe(Ud),blockComment:Oe(Ud),docComment:Oe(Ud),name:el,variableName:Oe(el),typeName:BE,tagName:Oe(BE),propertyName:XE,attributeName:Oe(XE),className:Oe(el),labelName:Oe(el),namespace:Oe(el),macroName:Oe(el),literal:tl,string:jd,docString:Oe(jd),character:Oe(jd),attributeValue:Oe(jd),number:u0,integer:Oe(u0),float:Oe(u0),bool:Oe(tl),regexp:Oe(tl),escape:Oe(tl),color:Oe(tl),url:Oe(tl),keyword:Or,self:Oe(Or),null:Oe(Or),atom:Oe(Or),unit:Oe(Or),modifier:Oe(Or),operatorKeyword:Oe(Or),controlKeyword:Oe(Or),definitionKeyword:Oe(Or),moduleKeyword:Oe(Or),operator:yr,derefOperator:Oe(yr),arithmeticOperator:Oe(yr),logicOperator:Oe(yr),bitwiseOperator:Oe(yr),compareOperator:Oe(yr),updateOperator:Oe(yr),definitionOperator:Oe(yr),typeOperator:Oe(yr),controlOperator:Oe(yr),punctuation:h1,separator:Oe(h1),bracket:xc,angleBracket:Oe(xc),squareBracket:Oe(xc),paren:Oe(xc),brace:Oe(xc),content:Sr,heading:Wl,heading1:Oe(Wl),heading2:Oe(Wl),heading3:Oe(Wl),heading4:Oe(Wl),heading5:Oe(Wl),heading6:Oe(Wl),contentSeparator:Oe(Sr),list:Oe(Sr),quote:Oe(Sr),emphasis:Oe(Sr),strong:Oe(Sr),link:Oe(Sr),monospace:Oe(Sr),strikethrough:Oe(Sr),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:qd,documentMeta:Oe(qd),annotation:Oe(qd),processingInstruction:Oe(qd),definition:yi.defineModifier("definition"),constant:yi.defineModifier("constant"),function:yi.defineModifier("function"),standard:yi.defineModifier("standard"),local:yi.defineModifier("local"),special:yi.defineModifier("special")};for(let n in Q){let e=Q[n];e instanceof yi&&(e.name=n)}d$([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var c0;const la=new Ie;function mv(n){return Se.define({combine:n?e=>e.concat(n):void 0})}const gv=new Ie;class Di{constructor(e,t,i=[],r=""){this.data=e,this.name=r,Je.prototype.hasOwnProperty("tree")||Object.defineProperty(Je.prototype,"tree",{get(){return Ct(this)}}),this.parser=t,this.extension=[Sl.of(this),Je.languageData.of((s,l,o)=>{let c=ZE(s,l,o),f=c.type.prop(la);if(!f)return[];let d=s.facet(f),m=c.type.prop(gv);if(m){let g=c.resolve(l-c.from,o);for(let y of m)if(y.test(g,s)){let S=s.facet(y.facet);return y.type=="replace"?S:S.concat(d)}}return d})].concat(i)}isActiveAt(e,t,i=-1){return ZE(e,t,i).type.prop(la)==this.data}findRegions(e){let t=e.facet(Sl);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,l)=>{if(s.prop(la)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(Ie.mounted);if(o){if(o.tree.prop(la)==this.data){if(o.overlay)for(let c of o.overlay)i.push({from:c.from+l,to:c.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let c=i.length;if(r(o.tree,o.overlay[0].from+l),i.length>c)return}}for(let c=0;c<s.children.length;c++){let f=s.children[c];f instanceof ct&&r(f,s.positions[c]+l)}};return r(Ct(e),0),i}get allowsNesting(){return!0}}Di.setState=De.define();function ZE(n,e,t){let i=n.facet(Sl),r=Ct(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,ht.ExcludeBuffers|ht.EnterBracketed))s.type.isTop&&(r=s);return r}class Wo extends Di{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=mv(e.languageData);return new Wo(t,e.parser.configure({props:[la.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Wo(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ct(n){let e=n.field(Di.state,!1);return e?e.tree:ct.empty}class D9{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let wc=null;class wh{constructor(e,t,i=[],r,s,l,o,c){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new wh(e,t,[],ct.empty,0,i,[],null)}startParse(){return this.parser.startParse(new D9(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ct.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(ds.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ds.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=wc;wc=this;try{return e()}finally{wc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=UE(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((f,d,m,g)=>c.push({fromA:f,toA:d,fromB:m,toB:g})),i=ds.applyChanges(i,c),r=ct.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let d=e.mapPos(f.from,1),m=e.mapPos(f.to,-1);d<m&&o.push({from:d,to:m})}}}return new wh(this.parser,t,i,r,s,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=UE(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends pv{createParse(t,i,r){let s=r[0].from,l=r[r.length-1].to;return{parsedPos:s,advance(){let c=wc;if(c){for(let f of r)c.tempSkipped.push(f);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=l,new ct(rn.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return wc}}function UE(n,e,t){return ds.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Ho{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Ho(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=wh.create(e.facet(Sl).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Ho(i)}}Di.state=hn.define({create:Ho.init,update(n,e){for(let t of e.effects)if(t.is(Di.setState))return t.value;return e.startState.facet(Sl)!=e.state.facet(Sl)?Ho.init(e.state):n.apply(e)}});let p$=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(p$=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const h0=typeof navigator<"u"&&(!((c0=navigator.scheduling)===null||c0===void 0)&&c0.isInputPending)?()=>navigator.scheduling.isInputPending():null,I9=qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Di.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Di.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=p$(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Di.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!h0?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<r&&i.doc.length>r+1e3,c=s.context.work(()=>h0&&h0()||Date.now()>l,r+(o?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Di.setState.of(new Ho(s.context))})),this.chunkBudget>0&&!(c&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Jn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Sl=Se.define({combine(n){return n.length?n[0]:null},enables:n=>[Di.state,I9,ge.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class kh{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class lm{constructor(e,t,i,r,s,l=void 0){this.name=e,this.alias=t,this.extensions=i,this.filename=r,this.loadFunc=s,this.support=l,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:i}=e;if(!t){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(i)}return new lm(e.name,(e.alias||[]).concat(e.name).map(r=>r.toLowerCase()),e.extensions||[],e.filename,t,i)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let i=/\.([^.]+)$/.exec(t);if(i){for(let r of e)if(r.extensions.indexOf(i[1])>-1)return r}return null}static matchLanguageName(e,t,i=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some(s=>s==t))return r;if(i)for(let r of e)for(let s of r.alias){let l=t.indexOf(s);if(l>-1&&(s.length>2||!/\w/.test(t[l-1])&&!/\w/.test(t[l+s.length])))return r}return null}}const L9=Se.define(),mu=Se.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function am(n){let e=n.facet(mu);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function _h(n,e){let t="",i=n.tabSize,r=n.facet(mu)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function Ov(n,e){n instanceof Je&&(n=new Km(n));for(let i of n.state.facet(L9)){let r=i(n,e);if(r!==void 0)return r}let t=Ct(n.state);return t.length>=e?N9(n,t,e):null}class Km{constructor(e,t={}){this.state=e,this.options=t,this.unit=am(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),l=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return l>-1&&(s+=l-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return sr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(r);if(l>-1)return l}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const tf=new Ie;function N9(n,e,t){let i=e.resolveStack(t),r=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let l=r;l&&!(l.from<i.node.from||l.to>i.node.to||l.from==i.node.from&&l.type==i.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)i={node:s[l],next:i}}return m$(i,n,t)}function m$(n,e,t){for(let i=n;i;i=i.next){let r=B9(i.node);if(r)return r(yv.create(e,t,i))}return 0}function z9(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function B9(n){let e=n.type.prop(tf);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Ie.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return l=>g$(l,!0,1,void 0,s&&!z9(l)?r.from:void 0)}return n.parent==null?X9:null}function X9(){return 0}class yv extends Km{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new yv(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Z9(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return m$(this.context.next,this.base,this.pos)}}function Z9(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function U9(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),l=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let o=t.to;;){let c=e.childAfter(o);if(!c||c==i)return null;if(!c.type.isSkipped){if(c.from>=l)return null;let f=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+f}}o=c.to}}function j9({closing:n,align:e=!0,units:t=1}){return i=>g$(i,e,t,n)}function g$(n,e,t,i,r){let s=n.textAfter,l=s.match(/^\s*/)[0].length,o=i&&s.slice(l,l+i.length)==i||r==n.pos+l,c=e?U9(n):null;return c?o?n.column(c.from):n.column(c.to):n.baseIndent+(o?0:n.unit*t)}const q9=n=>n.baseIndent;function Op({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const V9=200;function Y9(){return Je.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+V9)return n;let s=t.sliceString(r.from,i);if(!e.some(f=>f.test(s)))return n;let{state:l}=n,o=-1,c=[];for(let{head:f}of l.selection.ranges){let d=l.doc.lineAt(f);if(d.from==o)continue;o=d.from;let m=Ov(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],y=_h(l,m);g!=y&&c.push({from:d.from,to:d.from+g.length,insert:y})}return c.length?[n,{changes:c,sequential:!0}]:n})}const O$=Se.define(),gu=new Ie;function y$(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function W9(n,e,t){let i=Ct(n);if(i.length<t)return null;let r=i.resolveStack(t,1),s=null;for(let l=r;l;l=l.next){let o=l.node;if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let c=o.type.prop(gu);if(c&&(o.to<i.length-50||i.length==n.doc.length||!H9(o))){let f=c(o,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(s=f)}}return s}function H9(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function om(n,e,t){for(let i of n.facet(O$)){let r=i(n,e,t);if(r)return r}return W9(n,e,t)}function b$(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Jm=De.define({map:b$}),nf=De.define({map:b$});function S$(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Sa=hn.define({create(){return Ee.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=jE(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(Jm)&&!F9(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(w$),r=i?Ee.replace({widget:new i7(i(e.state,t.value))}):qE;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(nf)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=jE(n,e.selection.main.head)),n},provide:n=>ge.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(qE.range(i,r))}return Ee.set(e,!0)}});function jE(n,e,t=e){let i=!1;return n.between(e,t,(r,s)=>{r<t&&s>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(r,s)=>r>=t||s<=e}):n}function um(n,e,t){var i;let r=null;return(i=n.field(Sa,!1))===null||i===void 0||i.between(e,t,(s,l)=>{(!r||r.from>s)&&(r={from:s,to:l})}),r}function F9(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function v$(n,e){return n.field(Sa,!1)?e:e.concat(De.appendConfig.of(k$()))}const G9=n=>{for(let e of S$(n)){let t=om(n.state,e.from,e.to);if(t)return n.dispatch({effects:v$(n.state,[Jm.of(t),x$(n,t)])}),!0}return!1},K9=n=>{if(!n.state.field(Sa,!1))return!1;let e=[];for(let t of S$(n)){let i=um(n.state,t.from,t.to);i&&e.push(nf.of(i),x$(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function x$(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return ge.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const J9=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=om(e,r.from,r.to);s&&t.push(Jm.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:v$(n.state,t)}),!!t.length},e7=n=>{let e=n.state.field(Sa,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(nf.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},t7=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:G9},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:K9},{key:"Ctrl-Alt-[",run:J9},{key:"Ctrl-Alt-]",run:e7}],n7={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},w$=Se.define({combine(n){return Dr(n,n7)}});function k$(n){return[Sa,l7]}function _$(n,e){let{state:t}=n,i=t.facet(w$),r=l=>{let o=n.lineBlockAt(n.posAtDOM(l.target)),c=um(n.state,o.from,o.to);c&&n.dispatch({effects:nf.of(c)}),l.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const qE=Ee.replace({widget:new class extends ar{toDOM(n){return _$(n,null)}}});class i7 extends ar{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return _$(e,this.value)}}const r7={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class f0 extends xs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function s7(n={}){let e={...r7,...n},t=new f0(e,!0),i=new f0(e,!1),r=qt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(Sl)!=l.state.facet(Sl)||l.startState.field(Sa,!1)!=l.state.field(Sa,!1)||Ct(l.startState)!=Ct(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let o=new Ss;for(let c of l.viewportLineBlocks){let f=um(l.state,c.from,c.to)?i:om(l.state,c.from,c.to)?t:null;f&&o.add(c.from,c.from,f)}return o.finish()}}),{domEventHandlers:s}=e;return[r,i9({class:"cm-foldGutter",markers(l){var o;return((o=l.plugin(r))===null||o===void 0?void 0:o.markers)||He.empty},initialSpacer(){return new f0(e,!1)},domEventHandlers:{...s,click:(l,o,c)=>{if(s.click&&s.click(l,o,c))return!0;let f=um(l.state,o.from,o.to);if(f)return l.dispatch({effects:nf.of(f)}),!0;let d=om(l.state,o.from,o.to);return d?(l.dispatch({effects:Jm.of(d)}),!0):!1}}}),k$()]}const l7=ge.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class rf{constructor(e,t){this.specs=e;let i;function r(o){let c=gl.newName();return(i||(i=Object.create(null)))["."+c]=o,c}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,l=t.scope;this.scope=l instanceof Di?o=>o.prop(la)==l.data:l?o=>o==l:void 0,this.style=d$(e.map(o=>({tag:o.tag,class:o.class||r(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new gl(i):null,this.themeType=t.themeType}static define(e,t){return new rf(e,t||{})}}const f1=Se.define(),C$=Se.define({combine(n){return n.length?[n[0]]:null}});function d0(n){let e=n.facet(f1);return e.length?e:n.facet(C$)}function T$(n,e){let t=[o7],i;return n instanceof rf&&(n.module&&t.push(ge.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(C$.of(n)):i?t.push(f1.computeN([ge.darkTheme],r=>r.facet(ge.darkTheme)==(i=="dark")?[n]:[])):t.push(f1.of(n)),t}class a7{constructor(e){this.markCache=Object.create(null),this.tree=Ct(e.state),this.decorations=this.buildDeco(e,d0(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Ct(e.state),i=d0(e.state),r=i!=d0(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!r&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ee.none;let i=new Ss;for(let{from:r,to:s}of e.visibleRanges)R9(this.tree,t,(l,o,c)=>{i.add(l,o,this.markCache[c]||(this.markCache[c]=Ee.mark({class:c})))},r,s);return i.finish()}}const o7=ks.high(qt.fromClass(a7,{decorations:n=>n.decorations})),u7=rf.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),c7=ge.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),E$=1e4,Q$="()[]{}",A$=Se.define({combine(n){return Dr(n,{afterCursor:!0,brackets:Q$,maxScanDistance:E$,renderMatch:d7})}}),h7=Ee.mark({class:"cm-matchingBracket"}),f7=Ee.mark({class:"cm-nonmatchingBracket"});function d7(n){let e=[],t=n.matched?h7:f7;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const p7=hn.define({create(){return Ee.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(A$);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Tr(e.state,r.head,-1,i)||r.head>0&&Tr(e.state,r.head-1,1,i)||i.afterCursor&&(Tr(e.state,r.head,1,i)||r.head<e.state.doc.length&&Tr(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return Ee.set(t,!0)},provide:n=>ge.decorations.from(n)}),m7=[p7,c7];function g7(n={}){return[A$.of(n),m7]}const P$=new Ie;function d1(n,e,t){let i=n.prop(e<0?Ie.openedBy:Ie.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function p1(n){let e=n.type.prop(P$);return e?e(n.node):n}function Tr(n,e,t,i={}){let r=i.maxScanDistance||E$,s=i.brackets||Q$,l=Ct(n),o=l.resolveInner(e,t);for(let c=o;c;c=c.parent){let f=d1(c.type,t,s);if(f&&c.from<c.to){let d=p1(c);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return O7(n,e,t,c,d,f,s)}}return y7(n,e,t,l,o.type,r,s)}function O7(n,e,t,i,r,s,l){let o=i.parent,c={from:r.from,to:r.to},f=0,d=o==null?void 0:o.cursor();if(d&&(t<0?d.childBefore(i.from):d.childAfter(i.to)))do if(t<0?d.to<=i.from:d.from>=i.to){if(f==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=p1(d);return{start:c,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(d1(d.type,t,l))f++;else if(d1(d.type,-t,l)){if(f==0){let m=p1(d);return{start:c,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}f--}}while(t<0?d.prevSibling():d.nextSibling());return{start:c,matched:!1}}function y7(n,e,t,i,r,s,l){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),c=l.indexOf(o);if(c<0||c%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},d=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let y=d.value;t<0&&(g+=y.length);let S=e+g*t;for(let v=t>0?0:y.length-1,w=t>0?y.length:-1;v!=w;v+=t){let k=l.indexOf(y[v]);if(!(k<0||i.resolveInner(S+v,1).type!=r))if(k%2==0==t>0)m++;else{if(m==1)return{start:f,end:{from:S+v,to:S+v+1},matched:k>>1==c>>1};m--}}t>0&&(g+=y.length)}return d.done?{start:f,matched:!1}:null}const b7=Object.create(null),VE=[rn.none],YE=[],WE=Object.create(null),S7=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])S7[n]=v7(b7,e);function p0(n,e){YE.indexOf(n)>-1||(YE.push(n),console.warn(e))}function v7(n,e){let t=[];for(let o of e.split(" ")){let c=[];for(let f of o.split(".")){let d=n[f]||Q[f];d?typeof d=="function"?c.length?c=c.map(d):p0(f,`Modifier ${f} used at start of tag`):c.length?p0(f,`Tag ${f} used as modifier`):c=Array.isArray(d)?d:[d]:p0(f,`Unknown highlighting tag ${f}`)}for(let f of c)t.push(f)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(o=>o.id),s=WE[r];if(s)return s.id;let l=WE[r]=rn.define({id:VE.length,name:i,props:[pu({[i]:t})]});return VE.push(l),l.id}wt.RTL,wt.LTR;const x7=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Sv(n.state,t.from);return i.line?w7(n):i.block?_7(n):!1};function bv(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const w7=bv(E7,0),k7=bv(R$,0),_7=bv((n,e)=>R$(n,e,T7(e)),0);function Sv(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const kc=50;function C7(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-kc,i),l=n.sliceDoc(r,r+kc),o=/\s*$/.exec(s)[0].length,c=/^\s*/.exec(l)[0].length,f=s.length-o;if(s.slice(f-e.length,f)==e&&l.slice(c,c+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:r+c,margin:c&&1}};let d,m;r-i<=2*kc?d=m=n.sliceDoc(i,r):(d=n.sliceDoc(i,i+kc),m=n.sliceDoc(r-kc,r));let g=/^\s*/.exec(d)[0].length,y=/\s*$/.exec(m)[0].length,S=m.length-y-t.length;return d.slice(g,g+e.length)==e&&m.slice(S,S+t.length)==t?{open:{pos:i+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:r-y-t.length,margin:/\s/.test(m.charAt(S-1))?1:0}}:null}function T7(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to);r.from>i.from&&r.from==t.to&&(r=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function R$(n,e,t=e.selection.ranges){let i=t.map(s=>Sv(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,l)=>C7(e,i[l],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,l)=>r[l]?[]:[{from:s.from,insert:i[l].open+" "},{from:s.to,insert:" "+i[l].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let l=0,o;l<r.length;l++)if(o=r[l]){let c=i[l],{open:f,close:d}=o;s.push({from:f.pos-c.open.length,to:f.pos+f.margin},{from:d.pos-d.margin,to:d.pos+c.close.length})}return{changes:s}}return null}function E7(n,e,t=e.selection.ranges){let i=[],r=-1;e:for(let{from:s,to:l}of t){let o=i.length,c=1e9,f;for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(f==null&&(f=Sv(e,m.from).line,!f))continue e;if(m.from>r&&(s==l||l>m.from)){r=m.from;let g=/^\s*/.exec(m.text)[0].length,y=g==m.length,S=m.text.slice(g,g+f.length)==f?g:-1;g<m.text.length&&g<c&&(c=g),i.push({line:m,comment:S,token:f,indent:g,empty:y,single:!1})}d=m.to+1}if(c<1e9)for(let d=o;d<i.length;d++)i[d].indent<i[d].line.text.length&&(i[d].indent=c);i.length==o+1&&(i[o].single=!0)}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:c,indent:f,empty:d,single:m}of i)(m||!d)&&s.push({from:o.from+f,insert:c+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:o,token:c}of i)if(o>=0){let f=l.from+o,d=f+c.length;l.text[d-l.from]==" "&&d++,s.push({from:f,to:d})}return{changes:s}}return null}const m1=$r.define(),Q7=$r.define(),A7=Se.define(),M$=Se.define({combine(n){return Dr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}}),$$=hn.define({create(){return Er.empty},update(n,e){let t=e.state.facet(M$),i=e.annotation(m1);if(i){let c=ei.fromTransaction(e,i.selection),f=i.side,d=f==0?n.undone:n.done;return c?d=cm(d,d.length,t.minDepth,c):d=L$(d,e.startState.selection),new Er(f==0?i.rest:d,f==0?d:i.rest)}let r=e.annotation(Q7);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Gt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ei.fromTransaction(e),l=e.annotation(Gt.time),o=e.annotation(Gt.userEvent);return s?n=n.addChanges(s,l,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,l,o,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Er(n.done.map(ei.fromJSON),n.undone.map(ei.fromJSON))}});function P7(n={}){return[$$,M$.of(n),ge.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?D$:e.inputType=="historyRedo"?g1:null;return i?(e.preventDefault(),i(t)):!1}})]}function eg(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field($$,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const D$=eg(0,!1),g1=eg(1,!1),R7=eg(0,!0),M7=eg(1,!0);class ei{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new ei(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new ei(e.changes&&en.fromJSON(e.changes),[],e.mapped&&Pr.fromJSON(e.mapped),e.startSelection&&K.fromJSON(e.startSelection),e.selectionsAfter.map(K.fromJSON))}static fromTransaction(e,t){let i=Ii;for(let r of e.startState.facet(A7)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new ei(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Ii)}static selection(e){return new ei(void 0,Ii,void 0,void 0,e)}}function cm(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function $7(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,l,o)=>{for(let c=0;c<t.length;){let f=t[c++],d=t[c++];o>=f&&l<=d&&(i=!0)}}),i}function D7(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function I$(n,e){return n.length?e.length?n.concat(e):n:e}const Ii=[],I7=200;function L$(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-I7));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),cm(n,n.length-1,1e9,t.setSelAfter(i)))}else return[ei.selection([e])]}function L7(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function m0(n,e){if(!n.length)return n;let t=n.length,i=Ii;for(;t;){let r=N7(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[ei.selection(i)]:Ii}function N7(n,e,t){let i=I$(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):Ii,t);if(!n.changes)return ei.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(s):s;return new ei(r,De.mapEffects(n.effects,e),l,n.startSelection.map(s),i)}const z7=/^(input\.type|delete)($|\.)/;class Er{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Er(this.done,this.undone):this}addChanges(e,t,i,r,s){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||z7.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,$7(o.changes,e.changes))||i=="input.type.compose")?l=cm(l,l.length-1,r.minDepth,new ei(e.changes.compose(o.changes),I$(De.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Ii)):l=cm(l,l.length,r.minDepth,e),new Er(l,Ii,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ii;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&D7(s[s.length-1],e)?this:new Er(L$(this.done,e),this.undone,t,i)}addMapping(e){return new Er(m0(this.done,e),m0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],l=s.selectionsAfter[0]||(s.startSelection?s.startSelection.map(s.changes.invertedDesc,1):t.selection);if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:m1.of({side:e,rest:L7(r),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?Ii:r.slice(0,r.length-1);return s.mapped&&(o=m0(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:m1.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Er.empty=new Er(Ii,Ii);const B7=[{key:"Mod-z",run:D$,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:g1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:g1,preventDefault:!0},{key:"Mod-u",run:R7,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:M7,preventDefault:!0}];function Ou(n,e){return K.create(n.ranges.map(e),n.mainIndex)}function or(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ur({state:n,dispatch:e},t){let i=Ou(n.selection,t);return i.eq(n.selection,!0)?!1:(e(or(n,i)),!0)}function tg(n,e){return K.cursor(e?n.to:n.from)}function N$(n,e){return ur(n,t=>t.empty?n.moveByChar(t,e):tg(t,e))}function Pn(n){return n.textDirectionAt(n.state.selection.main.head)==wt.LTR}const z$=n=>N$(n,!Pn(n)),B$=n=>N$(n,Pn(n));function X$(n,e){return ur(n,t=>t.empty?n.moveByGroup(t,e):tg(t,e))}const X7=n=>X$(n,!Pn(n)),Z7=n=>X$(n,Pn(n));function U7(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function ng(n,e,t){let i=Ct(n).resolveInner(e.head),r=t?Ie.closedBy:Ie.openedBy;for(let c=e.head;;){let f=t?i.childAfter(c):i.childBefore(c);if(!f)break;U7(n,f,r)?i=f:c=t?f.to:f.from}let s=i.type.prop(r),l,o;return s&&(l=t?Tr(n,i.from,1):Tr(n,i.to,-1))&&l.matched?o=t?l.end.to:l.end.from:o=t?i.to:i.from,K.cursor(o,t?-1:1)}const j7=n=>ur(n,e=>ng(n.state,e,!Pn(n))),q7=n=>ur(n,e=>ng(n.state,e,Pn(n)));function Z$(n,e){return ur(n,t=>{if(!t.empty)return tg(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const U$=n=>Z$(n,!1),j$=n=>Z$(n,!0);function q$(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(ge.scrollMargins)){let l=s(n);l!=null&&l.top&&(t=Math.max(l==null?void 0:l.top,t)),l!=null&&l.bottom&&(i=Math.max(l==null?void 0:l.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function V$(n,e){let t=q$(n),{state:i}=n,r=Ou(i.selection,l=>l.empty?n.moveVertically(l,e,t.height):tg(l,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let l=n.coordsAtPos(i.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),c=o.top+t.marginTop,f=o.bottom-t.marginBottom;l&&l.top>c&&l.bottom<f&&(s=ge.scrollIntoView(r.main.head,{y:"start",yMargin:l.top-c}))}return n.dispatch(or(i,r),{effects:s}),!0}const HE=n=>V$(n,!1),O1=n=>V$(n,!0);function kl(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=K.cursor(i.from+s))}return r}const V7=n=>ur(n,e=>kl(n,e,!0)),Y7=n=>ur(n,e=>kl(n,e,!1)),W7=n=>ur(n,e=>kl(n,e,!Pn(n))),H7=n=>ur(n,e=>kl(n,e,Pn(n))),F7=n=>ur(n,e=>K.cursor(n.lineBlockAt(e.head).from,1)),G7=n=>ur(n,e=>K.cursor(n.lineBlockAt(e.head).to,-1));function K7(n,e,t){let i=!1,r=Ou(n.selection,s=>{let l=Tr(n,s.head,-1)||Tr(n,s.head,1)||s.head>0&&Tr(n,s.head-1,1)||s.head<n.doc.length&&Tr(n,s.head+1,-1);if(!l||!l.end)return s;i=!0;let o=l.start.from==s.head?l.end.to:l.end.from;return K.cursor(o)});return i?(e(or(n,r)),!0):!1}const J7=({state:n,dispatch:e})=>K7(n,e);function Xi(n,e){let t=Ou(n.state.selection,i=>{let r=e(i);return K.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(or(n.state,t)),!0)}function Y$(n,e){return Xi(n,t=>n.moveByChar(t,e))}const W$=n=>Y$(n,!Pn(n)),H$=n=>Y$(n,Pn(n));function F$(n,e){return Xi(n,t=>n.moveByGroup(t,e))}const eY=n=>F$(n,!Pn(n)),tY=n=>F$(n,Pn(n)),nY=n=>Xi(n,e=>ng(n.state,e,!Pn(n))),iY=n=>Xi(n,e=>ng(n.state,e,Pn(n)));function G$(n,e){return Xi(n,t=>n.moveVertically(t,e))}const K$=n=>G$(n,!1),J$=n=>G$(n,!0);function eD(n,e){return Xi(n,t=>n.moveVertically(t,e,q$(n).height))}const FE=n=>eD(n,!1),GE=n=>eD(n,!0),rY=n=>Xi(n,e=>kl(n,e,!0)),sY=n=>Xi(n,e=>kl(n,e,!1)),lY=n=>Xi(n,e=>kl(n,e,!Pn(n))),aY=n=>Xi(n,e=>kl(n,e,Pn(n))),oY=n=>Xi(n,e=>K.cursor(n.lineBlockAt(e.head).from)),uY=n=>Xi(n,e=>K.cursor(n.lineBlockAt(e.head).to)),KE=({state:n,dispatch:e})=>(e(or(n,{anchor:0})),!0),JE=({state:n,dispatch:e})=>(e(or(n,{anchor:n.doc.length})),!0),eQ=({state:n,dispatch:e})=>(e(or(n,{anchor:n.selection.main.anchor,head:0})),!0),tQ=({state:n,dispatch:e})=>(e(or(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),cY=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),hY=({state:n,dispatch:e})=>{let t=ig(n).map(({from:i,to:r})=>K.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:K.create(t),userEvent:"select"})),!0},fY=({state:n,dispatch:e})=>{let t=Ou(n.selection,i=>{let r=Ct(n),s=r.resolveStack(i.from,1);if(i.empty){let l=r.resolveStack(i.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:o}=l;if((o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from)&&l.next)return K.range(o.to,o.from)}return i});return t.eq(n.selection)?!1:(e(or(n,t)),!0)};function tD(n,e){let{state:t}=n,i=t.selection,r=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<n.state.doc.length:l.from>0)for(let o=s;;){let c=n.moveVertically(o,e);if(c.head<l.from||c.head>l.to){r.some(f=>f.head==c.head)||r.push(c);break}else{if(c.head==o.head)break;o=c}}}return r.length==i.ranges.length?!1:(n.dispatch(or(t,K.create(r,r.length-1))),!0)}const dY=n=>tD(n,!1),pY=n=>tD(n,!0),mY=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=K.create([t.main]):t.main.empty||(i=K.create([K.cursor(t.main.head)])),i?(e(or(n,i)),!0):!1};function sf(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:l,to:o}=s;if(l==o){let c=e(s);c<l?(t="delete.backward",c=Vd(n,c,!1)):c>l&&(t="delete.forward",c=Vd(n,c,!0)),l=Math.min(l,c),o=Math.max(o,c)}else l=Vd(n,l,!1),o=Vd(n,o,!0);return l==o?{range:s}:{changes:{from:l,to:o},range:K.cursor(l,l<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ge.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Vd(n,e,t){if(n instanceof ge)for(let i of n.state.facet(ge.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const nD=(n,e,t)=>sf(n,i=>{let r=i.from,{state:s}=n,l=s.doc.lineAt(r),o,c;if(t&&!e&&r>l.from&&r<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,r-l.from))){if(o[o.length-1]=="	")return r-1;let f=sr(o,s.tabSize),d=f%am(s)||am(s);for(let m=0;m<d&&o[o.length-1-m]==" ";m++)r--;c=r}else c=nn(l.text,r-l.from,e,e)+l.from,c==r&&l.number!=(e?s.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(c-l.from,r-l.from))&&(c=nn(l.text,c-l.from,!1,!1)+l.from);return c}),y1=n=>nD(n,!1,!0),iD=n=>nD(n,!0,!1),rD=(n,e)=>sf(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),l=r.charCategorizer(i);for(let o=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let c=nn(s.text,i-s.from,e)+s.from,f=s.text.slice(Math.min(i,c)-s.from,Math.max(i,c)-s.from),d=l(f);if(o!=null&&d!=o)break;(f!=" "||i!=t.head)&&(o=d),i=c}return i}),sD=n=>rD(n,!1),gY=n=>rD(n,!0),OY=n=>sf(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),yY=n=>sf(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),bY=n=>sf(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),SY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:st.of(["",""])},range:K.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},vY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),l=r==s.from?r-1:nn(s.text,r-s.from,!1)+s.from,o=r==s.to?r+1:nn(s.text,r-s.from,!0)+s.from;return{changes:{from:l,to:o,insert:n.doc.slice(r,o).append(n.doc.slice(l,r))},range:K.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function ig(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function lD(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of ig(n)){if(t?s.to==n.doc.length:s.from==0)continue;let l=n.doc.lineAt(t?s.to+1:s.from-1),o=l.length+1;if(t){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+n.lineBreak});for(let c of s.ranges)r.push(K.range(Math.min(n.doc.length,c.anchor+o),Math.min(n.doc.length,c.head+o)))}else{i.push({from:l.from,to:s.from},{from:s.to,insert:n.lineBreak+l.text});for(let c of s.ranges)r.push(K.range(c.anchor-o,c.head-o))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:K.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const xY=({state:n,dispatch:e})=>lD(n,e,!1),wY=({state:n,dispatch:e})=>lD(n,e,!0);function aD(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of ig(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});let r=n.changes(i);return e(n.update({changes:r,selection:n.selection.map(r,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const kY=({state:n,dispatch:e})=>aD(n,e,!1),_Y=({state:n,dispatch:e})=>aD(n,e,!0),CY=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(ig(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=Ou(e.selection,r=>{let s;if(n.lineWrapping){let l=n.lineBlockAt(r.head),o=n.coordsAtPos(r.head,r.assoc||1);o&&(s=l.bottom+n.documentTop-o.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,s)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function TY(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Ct(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(Ie.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const nQ=oD(!1),EY=oD(!0);function oD(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:l}=r,o=e.doc.lineAt(s),c=!n&&s==l&&TY(e,s);n&&(s=l=(l<=o.to?o:e.doc.lineAt(l)).to);let f=new Km(e,{simulateBreak:s,simulateDoubleBreak:!!c}),d=Ov(f,s);for(d==null&&(d=sr(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;c?{from:s,to:l}=c:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let m=["",_h(e,d)];return c&&m.push(_h(e,f.lineIndent(o.from,-1))),{changes:{from:s,to:l,insert:st.of(m)},range:K.cursor(s+1+m[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function vv(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let l=i.from;l<=i.to;){let o=n.doc.lineAt(l);o.number>t&&(i.empty||i.to>o.from)&&(e(o,r,i),t=o.number),l=o.to+1}let s=n.changes(r);return{changes:r,range:K.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const QY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Km(n,{overrideIndentation:s=>{let l=t[s];return l??-1}}),r=vv(n,(s,l,o)=>{let c=Ov(i,s.from);if(c==null)return;/\S/.test(s.text)||(c=0);let f=/^\s*/.exec(s.text)[0],d=_h(n,c);(f!=d||o.from<s.from+f.length)&&(t[s.from]=c,l.push({from:s.from,to:s.from+f.length,insert:d}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},uD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(vv(n,(t,i)=>{i.push({from:t.from,insert:n.facet(mu)})}),{userEvent:"input.indent"})),!0),cD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(vv(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=sr(r,n.tabSize),l=0,o=_h(n,Math.max(0,s-am(n)));for(;l<r.length&&l<o.length&&r.charCodeAt(l)==o.charCodeAt(l);)l++;i.push({from:t.from+l,to:t.from+r.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),AY=n=>(n.setTabFocusMode(),!0),PY=[{key:"Ctrl-b",run:z$,shift:W$,preventDefault:!0},{key:"Ctrl-f",run:B$,shift:H$},{key:"Ctrl-p",run:U$,shift:K$},{key:"Ctrl-n",run:j$,shift:J$},{key:"Ctrl-a",run:F7,shift:oY},{key:"Ctrl-e",run:G7,shift:uY},{key:"Ctrl-d",run:iD},{key:"Ctrl-h",run:y1},{key:"Ctrl-k",run:OY},{key:"Ctrl-Alt-h",run:sD},{key:"Ctrl-o",run:SY},{key:"Ctrl-t",run:vY},{key:"Ctrl-v",run:O1}],RY=[{key:"ArrowLeft",run:z$,shift:W$,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:X7,shift:eY,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:W7,shift:lY,preventDefault:!0},{key:"ArrowRight",run:B$,shift:H$,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Z7,shift:tY,preventDefault:!0},{mac:"Cmd-ArrowRight",run:H7,shift:aY,preventDefault:!0},{key:"ArrowUp",run:U$,shift:K$,preventDefault:!0},{mac:"Cmd-ArrowUp",run:KE,shift:eQ},{mac:"Ctrl-ArrowUp",run:HE,shift:FE},{key:"ArrowDown",run:j$,shift:J$,preventDefault:!0},{mac:"Cmd-ArrowDown",run:JE,shift:tQ},{mac:"Ctrl-ArrowDown",run:O1,shift:GE},{key:"PageUp",run:HE,shift:FE},{key:"PageDown",run:O1,shift:GE},{key:"Home",run:Y7,shift:sY,preventDefault:!0},{key:"Mod-Home",run:KE,shift:eQ},{key:"End",run:V7,shift:rY,preventDefault:!0},{key:"Mod-End",run:JE,shift:tQ},{key:"Enter",run:nQ,shift:nQ},{key:"Mod-a",run:cY},{key:"Backspace",run:y1,shift:y1,preventDefault:!0},{key:"Delete",run:iD,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:sD,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:gY,preventDefault:!0},{mac:"Mod-Backspace",run:yY,preventDefault:!0},{mac:"Mod-Delete",run:bY,preventDefault:!0}].concat(PY.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),MY=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:j7,shift:nY},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:q7,shift:iY},{key:"Alt-ArrowUp",run:xY},{key:"Shift-Alt-ArrowUp",run:kY},{key:"Alt-ArrowDown",run:wY},{key:"Shift-Alt-ArrowDown",run:_Y},{key:"Mod-Alt-ArrowUp",run:dY},{key:"Mod-Alt-ArrowDown",run:pY},{key:"Escape",run:mY},{key:"Mod-Enter",run:EY},{key:"Alt-l",mac:"Ctrl-l",run:hY},{key:"Mod-i",run:fY,preventDefault:!0},{key:"Mod-[",run:cD},{key:"Mod-]",run:uD},{key:"Mod-Alt-\\",run:QY},{key:"Shift-Mod-k",run:CY},{key:"Shift-Mod-\\",run:J7},{key:"Mod-/",run:x7},{key:"Alt-A",run:k7},{key:"Ctrl-m",mac:"Shift-Alt-m",run:AY}].concat(RY),$Y={key:"Tab",run:uD,shift:cD},iQ=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Fo{constructor(e,t,i=0,r=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?o=>s(iQ(o)):iQ,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=VS(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=kr(e);let r=this.normalize(t);if(r.length)for(let s=0,l=i;;s++){let o=r.charCodeAt(s),c=this.match(o,l,this.bufferPos+this.bufferStart);if(s==r.length-1){if(c)return this.value=c,this;break}l==i&&s<t.length&&t.charCodeAt(s)==o&&l++}}}match(e,t,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],o=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,o=!0)),o||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:i}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(Fo.prototype[Symbol.iterator]=function(){return this});const hD={from:-1,to:-1,match:/.*/.exec("")},xv="gm"+(/x/.unicode==null?"":"u");class fD{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=hD,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new dD(e,t,i,r,s);this.re=new RegExp(t,xv+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let l=e.lineAt(r);this.curLineStart=l.from,this.matchPos=hm(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=hm(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const g0=new WeakMap;class Mo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=g0.get(e);if(!r||r.from>=i||r.to<=t){let o=new Mo(t,e.sliceString(t,i));return g0.set(e,o),o}if(r.from==t&&r.to==i)return r;let{text:s,from:l}=r;return l>t&&(s=e.sliceString(t,l)+s,l=t),r.to<i&&(s+=e.sliceString(r.to,i)),g0.set(e,new Mo(l,s)),new Mo(t,s.slice(t-l,i-l))}}class dD{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=hD,this.matchPos=hm(e,r),this.re=new RegExp(t,xv+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Mo.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=hm(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Mo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(fD.prototype[Symbol.iterator]=dD.prototype[Symbol.iterator]=function(){return this});function DY(n){try{return new RegExp(n,xv),!0}catch{return!1}}function hm(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}const IY=n=>{let{state:e}=n,t=String(e.doc.lineAt(n.state.selection.main.head).number),{close:i,result:r}=J8(n,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:t},focus:!0,submitLabel:e.phrase("go")});return r.then(s=>{let l=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!l){n.dispatch({effects:i});return}let o=e.doc.lineAt(e.selection.main.head),[,c,f,d,m]=l,g=d?+d.slice(1):0,y=f?+f:o.number;if(f&&m){let w=y/100;c&&(w=w*(c=="-"?-1:1)+o.number/e.doc.lines),y=Math.round(e.doc.lines*w)}else f&&c&&(y=y*(c=="-"?-1:1)+o.number);let S=e.doc.line(Math.max(1,Math.min(e.doc.lines,y))),v=K.cursor(S.from+Math.max(0,Math.min(g,S.length)));n.dispatch({effects:[i,ge.scrollIntoView(v.from,{y:"center"})],selection:v})}),!0},LY={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},NY=Se.define({combine(n){return Dr(n,LY,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function zY(n){return[jY,UY]}const BY=Ee.mark({class:"cm-selectionMatch"}),XY=Ee.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function rQ(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=$t.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=$t.Word)}function ZY(n,e,t,i){return n(e.sliceDoc(t,t+1))==$t.Word&&n(e.sliceDoc(i-1,i))==$t.Word}const UY=qt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(NY),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Ee.none;let r=i.main,s,l=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ee.none;let c=t.wordAt(r.head);if(!c)return Ee.none;l=t.charCategorizer(r.head),s=t.sliceDoc(c.from,c.to)}else{let c=r.to-r.from;if(c<e.minSelectionLength||c>200)return Ee.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),l=t.charCategorizer(r.head),!(rQ(l,t,r.from,r.to)&&ZY(l,t,r.from,r.to)))return Ee.none}else if(s=t.sliceDoc(r.from,r.to),!s)return Ee.none}let o=[];for(let c of n.visibleRanges){let f=new Fo(t.doc,s,c.from,c.to);for(;!f.next().done;){let{from:d,to:m}=f.value;if((!l||rQ(l,t,d,m))&&(r.empty&&d<=r.from&&m>=r.to?o.push(XY.range(d,m)):(d>=r.to||m<=r.from)&&o.push(BY.range(d,m)),o.length>e.maxMatches))return Ee.none}}return Ee.set(o)}},{decorations:n=>n.decorations}),jY=ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),qY=({state:n,dispatch:e})=>{let{selection:t}=n,i=K.create(t.ranges.map(r=>n.wordAt(r.head)||K.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function VY(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let l=!1,o=new Fo(n.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(l)return null;o=new Fo(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),l=!0}else{if(l&&i.some(c=>c.from==o.value.from))continue;if(s){let c=n.wordAt(o.value.from);if(!c||c.from!=o.value.from||c.to!=o.value.to)continue}return o.value}}const YY=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return qY({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=VY(n,i);return r?(e(n.update({selection:n.selection.addRange(K.range(r.from,r.to),!1),effects:ge.scrollIntoView(r.to)})),!0):!1},yu=Se.define({combine(n){return Dr(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new aW(e),scrollToMatch:e=>ge.scrollIntoView(e)})}});class pD{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||DY(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new JY(this):new FY(this)}getCursor(e,t=0,i){let r=e.doc?e:Je.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?mo(this,r,t,i):po(this,r,t,i)}}class mD{constructor(e){this.spec=e}}function WY(n,e,t){return(i,r,s,l)=>{if(t&&!t(i,r,s,l))return!1;let o=i>=l&&r<=l+s.length?s.slice(i-l,r-l):e.doc.sliceString(i,r);return n(o,e,i,r)}}function po(n,e,t,i){let r;return n.wholeWord&&(r=HY(e.doc,e.charCategorizer(e.selection.main.head))),n.test&&(r=WY(n.test,e,r)),new Fo(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),r)}function HY(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(fm(r,t-s))!=$t.Word||e(dm(r,t-s))!=$t.Word)&&(e(dm(r,i-s))!=$t.Word||e(fm(r,i-s))!=$t.Word))}class FY extends mD{constructor(e){super(e)}nextMatch(e,t,i){let r=po(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);r=po(this.spec,e,0,s).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==i?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),l=po(this.spec,e,s,r),o=null;for(;!l.nextOverlapping().done;)o=l.value;if(o)return o;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=t||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=po(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=po(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function GY(n,e,t){return(i,r,s)=>(!t||t(i,r,s))&&n(s[0],e,i,r)}function mo(n,e,t,i){let r;return n.wholeWord&&(r=KY(e.charCategorizer(e.selection.main.head))),n.test&&(r=GY(n.test,e,r)),new fD(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:r},t,i)}function fm(n,e){return n.slice(nn(n,e,!1),e)}function dm(n,e){return n.slice(e,nn(n,e))}function KY(n){return(e,t,i)=>!i[0].length||(n(fm(i.input,i.index))!=$t.Word||n(dm(i.input,i.index))!=$t.Word)&&(n(dm(i.input,i.index+i[0].length))!=$t.Word||n(fm(i.input,i.index+i[0].length))!=$t.Word)}class JY extends mD{nextMatch(e,t,i){let r=mo(this.spec,e,i,e.doc.length).next();return r.done&&(r=mo(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),l=mo(this.spec,e,s,i),o=null;for(;!l.next().done;)o=l.value;if(o&&(s==t||o.from>s+10))return o;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let r=i.length;r>0;r--){let s=+i.slice(0,r);if(s>0&&s<e.match.length)return e.match[s]+i.slice(r)}return t})}matchAll(e,t){let i=mo(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=mo(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Ch=De.define(),wv=De.define(),fl=hn.define({create(n){return new O0(b1(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Ch)?n=new O0(t.value.create(),n.panel):t.is(wv)&&(n=new O0(n.query,t.value?kv:null));return n},provide:n=>Sh.from(n,e=>e.panel)});class O0{constructor(e,t){this.query=e,this.panel=t}}const eW=Ee.mark({class:"cm-searchMatch"}),tW=Ee.mark({class:"cm-searchMatch cm-searchMatch-selected"}),nW=qt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(fl))}update(n){let e=n.state.field(fl);(e!=n.startState.field(fl)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Ee.none;let{view:t}=this,i=new Ss;for(let r=0,s=t.visibleRanges,l=s.length;r<l;r++){let{from:o,to:c}=s[r];for(;r<l-1&&c>s[r+1].from-500;)c=s[++r].to;n.highlight(t.state,o,c,(f,d)=>{let m=t.state.selection.ranges.some(g=>g.from==f&&g.to==d);i.add(f,d,m?tW:eW)})}return i.finish()}},{decorations:n=>n.decorations});function lf(n){return e=>{let t=e.state.field(fl,!1);return t&&t.query.spec.valid?n(e,t):yD(e)}}const pm=lf((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=K.single(i.from,i.to),s=n.state.facet(yu);return n.dispatch({selection:r,effects:[_v(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),OD(n),!0}),mm=lf((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=K.single(r.from,r.to),l=n.state.facet(yu);return n.dispatch({selection:s,effects:[_v(n,r),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),OD(n),!0}),iW=lf((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:K.create(t.map(i=>K.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),rW=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],l=0;for(let o=new Fo(n.doc,n.sliceDoc(i,r));!o.next().done;){if(s.length>1e3)return!1;o.value.from==i&&(l=s.length),s.push(K.range(o.value.from,o.value.to))}return e(n.update({selection:K.create(s,l),userEvent:"select.search.matches"})),!0},sQ=lf((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let l=s,o=[],c,f,d=[];l.from==i&&l.to==r&&(f=t.toText(e.getReplacement(l)),o.push({from:l.from,to:l.to,insert:f}),l=e.nextMatch(t,l.from,l.to),d.push(ge.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let m=n.state.changes(o);return l&&(c=K.single(l.from,l.to).map(m),d.push(_v(n,l)),d.push(t.facet(yu).scrollToMatch(c.main,n))),n.dispatch({changes:m,selection:c,effects:d,userEvent:"input.replace"}),!0}),sW=lf((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:l}=r;return{from:s,to:l,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ge.announce.of(i),userEvent:"input.replace.all"}),!0});function kv(n){return n.state.facet(yu).createPanel(n)}function b1(n,e){var t,i,r,s,l;let o=n.selection.main,c=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!c)return e;let f=n.facet(yu);return new pD({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:f.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:f.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(l=e==null?void 0:e.wholeWord)!==null&&l!==void 0?l:f.wholeWord})}function gD(n){let e=cv(n,kv);return e&&e.dom.querySelector("[main-field]")}function OD(n){let e=gD(n);e&&e==n.root.activeElement&&e.select()}const yD=n=>{let e=n.state.field(fl,!1);if(e&&e.panel){let t=gD(n);if(t&&t!=n.root.activeElement){let i=b1(n.state,e.query.spec);i.valid&&n.dispatch({effects:Ch.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[wv.of(!0),e?Ch.of(b1(n.state,e.query.spec)):De.appendConfig.of(uW)]});return!0},bD=n=>{let e=n.state.field(fl,!1);if(!e||!e.panel)return!1;let t=cv(n,kv);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:wv.of(!1)}),!0},lW=[{key:"Mod-f",run:yD,scope:"editor search-panel"},{key:"F3",run:pm,shift:mm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:pm,shift:mm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:bD,scope:"editor search-panel"},{key:"Mod-Shift-l",run:rW},{key:"Mod-Alt-g",run:IY},{key:"Mod-d",run:YY,preventDefault:!0}];class aW{constructor(e){this.view=e;let t=this.query=e.state.field(fl).query.spec;this.commit=this.commit.bind(this),this.searchField=bt("input",{value:t.search,placeholder:hi(e,"Find"),"aria-label":hi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=bt("input",{value:t.replace,placeholder:hi(e,"Replace"),"aria-label":hi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=bt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=bt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=bt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,l){return bt("button",{class:"cm-button",name:r,onclick:s,type:"button"},l)}this.dom=bt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>pm(e),[hi(e,"next")]),i("prev",()=>mm(e),[hi(e,"previous")]),i("select",()=>iW(e),[hi(e,"all")]),bt("label",null,[this.caseField,hi(e,"match case")]),bt("label",null,[this.reField,hi(e,"regexp")]),bt("label",null,[this.wordField,hi(e,"by word")]),...e.state.readOnly?[]:[bt("br"),this.replaceField,i("replace",()=>sQ(e),[hi(e,"replace")]),i("replaceAll",()=>sW(e),[hi(e,"replace all")])],bt("button",{name:"close",onclick:()=>bD(e),"aria-label":hi(e,"close"),type:"button"},[""])])}commit(){let e=new pD({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ch.of(e)}))}keydown(e){u8(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mm:pm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),sQ(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Ch)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(yu).top}}function hi(n,e){return n.state.phrase(e)}const Yd=30,Wd=/[\s\.,:;?!]/;function _v(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-Yd),l=Math.min(r,t+Yd),o=n.state.sliceDoc(s,l);if(s!=i.from){for(let c=0;c<Yd;c++)if(!Wd.test(o[c+1])&&Wd.test(o[c])){o=o.slice(c);break}}if(l!=r){for(let c=o.length-1;c>o.length-Yd;c--)if(!Wd.test(o[c-1])&&Wd.test(o[c])){o=o.slice(0,c);break}}return ge.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${i.number}.`)}const oW=ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),uW=[fl,ks.low(nW),oW];class Cv{constructor(e,t,i,r){this.state=e,this.pos=t,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Ct(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(vD(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function lQ(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function cW(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=lQ(e)+lQ(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function SD(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:cW(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function hW(n,e){return t=>{for(let i=Ct(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class aQ{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function ua(n){return n.selection.main.from}function vD(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const Tv=$r.define();function fW(n,e,t,i){let{main:r}=n.selection,s=t-r.from,l=i-r.from;return{...n.changeByRange(o=>{if(o!=r&&t!=i&&n.sliceDoc(o.from+s,o.from+l)!=n.sliceDoc(t,i))return{range:o};let c=n.toText(e);return{changes:{from:o.from+s,to:i==r.from?o.to:o.from+l,insert:c},range:K.cursor(o.from+s+c.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const oQ=new WeakMap;function dW(n){if(!Array.isArray(n))return n;let e=oQ.get(n);return e||oQ.set(n,e=SD(n)),e}const gm=De.define(),Th=De.define();class pW{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Wn(e,t),r=kr(i);this.chars.push(i);let s=e.slice(t,t+r),l=s.toUpperCase();this.folded.push(Wn(l==s?s.toLowerCase():l,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:l}=this;if(t.length==1){let E=Wn(e,0),C=kr(E),X=C==e.length?0:-100;if(E!=t[0])if(E==i[0])X+=-200;else return null;return this.ret(X,[0,C])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,f=0;if(o<0){for(let E=0,C=Math.min(e.length,200);E<C&&f<c;){let X=Wn(e,E);(X==t[f]||X==i[f])&&(r[f++]=E),E+=kr(X)}if(f<c)return null}let d=0,m=0,g=!1,y=0,S=-1,v=-1,w=/[a-z]/.test(e),k=!0;for(let E=0,C=Math.min(e.length,200),X=0;E<C&&m<c;){let N=Wn(e,E);o<0&&(d<c&&N==t[d]&&(s[d++]=E),y<c&&(N==t[y]||N==i[y]?(y==0&&(S=E),v=E+1,y++):y=0));let P,I=N<255?N>=48&&N<=57||N>=97&&N<=122?2:N>=65&&N<=90?1:0:(P=VS(N))!=P.toLowerCase()?1:P!=P.toUpperCase()?2:0;(!E||I==1&&w||X==0&&I!=0)&&(t[m]==N||i[m]==N&&(g=!0)?l[m++]=E:l.length&&(k=!1)),X=I,E+=kr(N)}return m==c&&l[0]==0&&k?this.result(-100+(g?-200:0),l,e):y==c&&S==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):y==c?this.ret(-900-e.length,[S,v]):m==c?this.result(-100+(g?-200:0)+-700+(k?0:-1100),l,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let l of t){let o=l+(this.astral?kr(Wn(i,l)):1);s&&r[s-1]==l?r[s-1]=o:(r[s++]=l,r[s++]=o)}return this.ret(e-i.length,r)}}class mW{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const cn=Se.define({combine(n){return Dr(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:gW,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>uQ(e(i),t(i)),optionClass:(e,t)=>i=>uQ(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function uQ(n,e){return n?e?n+" "+e:n:e}function gW(n,e,t,i,r,s){let l=n.textDirection==wt.RTL,o=l,c=!1,f="top",d,m,g=e.left-r.left,y=r.right-e.right,S=i.right-i.left,v=i.bottom-i.top;if(o&&g<Math.min(S,y)?o=!1:!o&&y<Math.min(S,g)&&(o=!0),S<=(o?g:y))d=Math.max(r.top,Math.min(t.top,r.bottom-v))-e.top,m=Math.min(400,o?g:y);else{c=!0,m=Math.min(400,(l?e.right:r.right-e.left)-30);let E=r.bottom-e.bottom;E>=v||E>e.top?d=t.bottom-e.top:(f="bottom",d=e.bottom-t.top)}let w=(e.bottom-e.top)/s.offsetHeight,k=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${d/w}px; max-width: ${m/k}px`,class:"cm-completionInfo-"+(c?l?"left-narrow":"right-narrow":o?"left":"right")}}function OW(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r,s){let l=document.createElement("span");l.className="cm-completionLabel";let o=t.displayLabel||t.label,c=0;for(let f=0;f<s.length;){let d=s[f++],m=s[f++];d>c&&l.appendChild(document.createTextNode(o.slice(c,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(d,m))),g.className="cm-completionMatchedText",c=m}return c<o.length&&l.appendChild(document.createTextNode(o.slice(c))),l},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function y0(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class yW{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:l}=r.open,o=e.state.facet(cn);this.optionContent=OW(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=y0(s.length,l,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:f}=e.state.field(t).open;for(let d=c.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<f.length){this.applyCompletion(e,f[+m[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(cn).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:Th.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:l,disabled:o}=i.open;(!r.open||r.open.options!=s)&&(this.range=y0(s.length,l,e.state.facet(cn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),o!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=y0(t.options.length,t.selected,this.view.state.facet(cn).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:s}=r;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(r);if(!l)return;"then"in l?l.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>Jn(this.view.state,o,"completion info")):(this.addInfoPane(l,r),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&SW(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(cn).positionInfo(this.view,t,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",l=>{l.target==r&&l.preventDefault()});let s=null;for(let l=i.from;l<i.to;l++){let{completion:o,match:c}=e[l],{section:f}=o;if(f){let g=typeof f=="string"?f:f.name;if(g!=s&&(l>i.from||i.from==0))if(s=g,typeof f!="string"&&f.header)r.appendChild(f.header(f));else{let y=r.appendChild(document.createElement("completion-section"));y.textContent=g}}const d=r.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(o);m&&(d.className=m);for(let g of this.optionContent){let y=g(o,this.view.state,this.view,c);y&&d.appendChild(y)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function bW(n,e){return t=>new yW(t,n,e)}function SW(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function cQ(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function vW(n,e){let t=[],i=null,r=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){i||(i=[]);let g=typeof m=="string"?m:m.name;i.some(y=>y.name==g)||i.push(typeof m=="string"?{name:g}:m)}},l=e.facet(cn);for(let d of n)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new aQ(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),y,S=l.filterStrict?new mW(g):new pW(g);for(let v of d.result.options)if(y=S.match(v.label)){let w=v.displayLabel?m?m(v,y.matched):[]:y.matched,k=y.score+(v.boost||0);if(s(new aQ(v,d.source,w,k)),typeof v.section=="object"&&v.section.rank==="dynamic"){let{name:E}=v.section;r||(r=Object.create(null)),r[E]=Math.max(k,r[E]||-1e9)}}}}if(i){let d=Object.create(null),m=0,g=(y,S)=>(y.rank==="dynamic"&&S.rank==="dynamic"?r[S.name]-r[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof S.rank=="number"?S.rank:1e9)||(y.name<S.name?-1:1);for(let y of i.sort(g))m-=1e5,d[y.name]=m;for(let y of t){let{section:S}=y.completion;S&&(y.score+=d[typeof S=="string"?S:S.name])}}let o=[],c=null,f=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||f(m.completion,g.completion))){let m=d.completion;!c||c.label!=m.label||c.detail!=m.detail||c.type!=null&&m.type!=null&&c.type!=m.type||c.apply!=m.apply||c.boost!=m.boost?o.push(d):cQ(d.completion)>cQ(c)&&(o[o.length-1]=d),c=d.completion}return o}class vo{constructor(e,t,i,r,s,l){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new vo(this.options,hQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s,l){if(r&&!l&&e.some(f=>f.isPending))return r.setDisabled();let o=vW(e,t);if(!o.length)return r&&e.some(f=>f.isPending)?r.setDisabled():null;let c=t.facet(cn).selectOnOpen?0:-1;if(r&&r.selected!=c&&r.selected!=-1){let f=r.options[r.selected].completion;for(let d=0;d<o.length;d++)if(o[d].completion==f){c=d;break}}return new vo(o,hQ(i,c),{pos:e.reduce((f,d)=>d.hasResult()?Math.min(f,d.from):f,1e8),create:TW,above:s.aboveCursor},r?r.timestamp:Date.now(),c,!1)}map(e){return new vo(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new vo(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Om{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Om(_W,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(cn),s=(i.override||t.languageDataAt("autocomplete",ua(t)).map(dW)).map(c=>(this.active.find(d=>d.source==c)||new Li(c,this.active.some(d=>d.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((c,f)=>c==this.active[f])&&(s=this.active);let l=this.open,o=e.effects.some(c=>c.is(Ev));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!xW(s,this.active)||o?l=vo.build(s,t,this.id,l,i,o):l&&l.disabled&&!s.some(c=>c.isPending)&&(l=null),!l&&s.every(c=>!c.isPending)&&s.some(c=>c.hasResult())&&(s=s.map(c=>c.hasResult()?new Li(c.source,0):c));for(let c of e.effects)c.is(wD)&&(l=l&&l.setSelected(c.value,this.id));return s==this.active&&l==this.open?this:new Om(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?wW:kW}}function xW(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const wW={"aria-autocomplete":"list"},kW={};function hQ(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const _W=[];function xD(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(Tv);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Li{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=xD(e,t),r=this;(i&8||i&16&&this.touches(e))&&(r=new Li(r.source,0)),i&4&&r.state==0&&(r=new Li(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is(gm))r=new Li(r.source,1,s.value);else if(s.is(Th))r=new Li(r.source,0);else if(s.is(Ev))for(let l of s.value)l.source==r.source&&(r=l);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ua(e.state))}}class $o extends Li{constructor(e,t,i,r,s,l){super(e,3,t),this.limit=i,this.result=r,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),o=ua(e.state);if(o>l||!r||t&2&&(ua(e.startState)==this.from||o<this.limit))return new Li(this.source,t&4?1:0);let c=e.changes.mapPos(this.limit);return CW(r.validFor,e.state,s,l)?new $o(this.source,this.explicit,c,r,s,l):r.update&&(r=r.update(r,s,l,new Cv(e.state,o,!1)))?new $o(this.source,this.explicit,c,r,r.from,(i=r.to)!==null&&i!==void 0?i:ua(e.state)):new Li(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new $o(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Li(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function CW(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):vD(n,!0).test(r)}const Ev=De.define({map(n,e){return n.map(t=>t.map(e))}}),wD=De.define(),Hn=hn.define({create(){return Om.start()},update(n,e){return n.update(e)},provide:n=>[uv.from(n,e=>e.tooltip),ge.contentAttributes.from(n,e=>e.attrs)]});function Qv(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Hn).active.find(r=>r.source==e.source);return i instanceof $o?(typeof t=="string"?n.dispatch({...fW(n.state,t,i.from,i.to),annotations:Tv.of(e.completion)}):t(n,e.completion,i.from,i.to),!0):!1}const TW=bW(Hn,Qv);function Hd(n,e="option"){return t=>{let i=t.state.field(Hn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(cn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=e$(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=i.open.options,o=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:l-1;return o<0?o=e=="page"?0:l-1:o>=l&&(o=e=="page"?l-1:0),t.dispatch({effects:wD.of(o)}),!0}}const EW=n=>{let e=n.state.field(Hn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(cn).interactionDelay?!1:Qv(n,e.open.options[e.open.selected])},b0=n=>n.state.field(Hn,!1)?(n.dispatch({effects:gm.of(!0)}),!0):!1,QW=n=>{let e=n.state.field(Hn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Th.of(null)}),!0)};class AW{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const PW=50,RW=1e3,MW=qt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Hn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Hn),t=n.state.facet(cn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Hn)==e)return;let i=n.transactions.some(s=>{let l=xD(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(i||l.context.abortOnDocChange&&n.docChanged||l.updates.length+n.transactions.length>PW&&Date.now()-l.time>RW){for(let o of l.context.abortListeners)try{o()}catch(c){Jn(this.view.state,c)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(l=>l.is(gm)))&&(this.pendingStart=!0);let r=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Hn);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(cn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=ua(e),i=new Cv(e,t,n.explicit,this.view),r=new AW(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Th.of(null)}),Jn(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(cn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(cn),i=this.view.state.field(Hn);for(let r=0;r<this.running.length;r++){let s=this.running[r];if(s.done===void 0)continue;if(this.running.splice(r--,1),s.done){let o=ua(s.updates.length?s.updates[0].startState:this.view.state),c=Math.min(o,s.done.from+(s.active.explicit?0:1)),f=new $o(s.active.source,s.active.explicit,c,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:o);for(let d of s.updates)f=f.update(d,t);if(f.hasResult()){e.push(f);continue}}let l=i.active.find(o=>o.source==s.active.source);if(l&&l.isPending)if(s.done==null){let o=new Li(s.active.source,0);for(let c of s.updates)o=o.update(c,t);o.isPending||e.push(o)}else this.startQuery(l)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:Ev.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Hn,!1);if(e&&e.tooltip&&this.view.state.facet(cn).closeOnBlur){let t=e.open&&e$(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Th.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:gm.of(!1)}),20),this.composing=0}}}),$W=typeof navigator=="object"&&/Win/.test(navigator.platform),DW=ks.highest(ge.domEventHandlers({keydown(n,e){let t=e.state.field(Hn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!($W&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],r=t.active.find(l=>l.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&Qv(e,i),!1}})),kD=ge.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class IW{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class Av{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,xn.TrackDel),i=e.mapPos(this.to,1,xn.TrackDel);return t==null||i==null?null:new Av(this.field,t,i)}}class Pv{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),l=/^\s*/.exec(s.text)[0];for(let c of this.lines){if(i.length){let f=l,d=/^\t*/.exec(c)[0].length;for(let m=0;m<d;m++)f+=e.facet(mu);r.push(t+f.length-d),c=f+c.slice(d)}i.push(c),t+=c.length+1}let o=this.fieldPositions.map(c=>new Av(c.field,r[c.line]+c.from,r[c.line]+c.to));return{text:i,ranges:o}}static parse(e){let t=[],i=[],r=[],s;for(let l of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(l);){let o=s[1]?+s[1]:null,c=s[2]||s[3]||"",f=-1,d=c.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<t.length;m++)(o!=null?t[m].seq==o:d&&t[m].name==d)&&(f=m);if(f<0){let m=0;for(;m<t.length&&(o==null||t[m].seq!=null&&t[m].seq<o);)m++;t.splice(m,0,{seq:o,name:d}),f=m;for(let g of r)g.field>=f&&g.field++}for(let m of r)if(m.line==i.length&&m.from>s.index){let g=s[2]?3+(s[1]||"").length:2;m.from-=g,m.to-=g}r.push(new IW(f,i.length,s.index,s.index+d.length)),l=l.slice(0,s.index)+c+l.slice(s.index+s[0].length)}l=l.replace(/\\([{}])/g,(o,c,f)=>{for(let d of r)d.line==i.length&&d.from>f&&(d.from--,d.to--);return c}),i.push(l)}return new Pv(i,r)}}let LW=Ee.widget({widget:new class extends ar{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),NW=Ee.mark({class:"cm-snippetField"});class bu{constructor(e,t){this.ranges=e,this.active=t,this.deco=Ee.set(e.map(i=>(i.from==i.to?LW:NW).range(i.from,i.to)),!0)}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new bu(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const af=De.define({map(n,e){return n&&n.map(e)}}),zW=De.define(),Eh=hn.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(af))return t.value;if(t.is(zW)&&n)return new bu(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ge.decorations.from(n,e=>e?e.deco:Ee.none)});function Rv(n,e){return K.create(n.filter(t=>t.field==e).map(t=>K.range(t.from,t.to)))}function BW(n){let e=Pv.parse(n);return(t,i,r,s)=>{let{text:l,ranges:o}=e.instantiate(t.state,r),{main:c}=t.state.selection,f={changes:{from:r,to:s==c.from?c.to:s,insert:st.of(l)},scrollIntoView:!0,annotations:i?[Tv.of(i),Gt.userEvent.of("input.complete")]:void 0};if(o.length&&(f.selection=Rv(o,0)),o.some(d=>d.field>0)){let d=new bu(o,0),m=f.effects=[af.of(d)];t.state.field(Eh,!1)===void 0&&m.push(De.appendConfig.of([Eh,qW,VW,kD]))}t.dispatch(t.state.update(f))}}function _D(n){return({state:e,dispatch:t})=>{let i=e.field(Eh,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(l=>l.field==r+n);return t(e.update({selection:Rv(i.ranges,r),effects:af.of(s?null:new bu(i.ranges,r)),scrollIntoView:!0})),!0}}const XW=({state:n,dispatch:e})=>n.field(Eh,!1)?(e(n.update({effects:af.of(null)})),!0):!1,ZW=_D(1),UW=_D(-1),jW=[{key:"Tab",run:ZW,shift:UW},{key:"Escape",run:XW}],fQ=Se.define({combine(n){return n.length?n[0]:jW}}),qW=ks.highest(du.compute([fQ],n=>n.facet(fQ)));function Yn(n,e){return{...e,apply:BW(n)}}const VW=ge.domEventHandlers({mousedown(n,e){let t=e.state.field(Eh,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:Rv(t.ranges,r.field),effects:af.of(t.ranges.some(s=>s.field>r.field)?new bu(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Qh={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},aa=De.define({map(n,e){let t=e.mapPos(n,-1,xn.TrackAfter);return t??void 0}}),Mv=new class extends ml{};Mv.startSide=1;Mv.endSide=-1;const CD=hn.define({create(){return He.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(aa)&&(n=n.update({add:[Mv.range(t.value,t.value+1)]}));return n}});function YW(){return[HW,CD]}const S0="()[]{}<>";function TD(n){for(let e=0;e<S0.length;e+=2)if(S0.charCodeAt(e)==n)return S0.charAt(e+1);return VS(n<128?n:n+1)}function ED(n,e){return n.languageDataAt("closeBrackets",e)[0]||Qh}const WW=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),HW=ge.inputHandler.of((n,e,t,i)=>{if((WW?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&kr(Wn(i,0))==1||e!=r.from||t!=r.to)return!1;let s=KW(n.state,i);return s?(n.dispatch(s),!0):!1}),FW=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=ED(n,n.selection.main.head).brackets||Qh.brackets,r=null,s=n.changeByRange(l=>{if(l.empty){let o=JW(n.doc,l.head);for(let c of i)if(c==o&&rg(n.doc,l.head)==TD(Wn(c,0)))return{changes:{from:l.head-c.length,to:l.head+c.length},range:K.cursor(l.head-c.length)}}return{range:r=l}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},GW=[{key:"Backspace",run:FW}];function KW(n,e){let t=ED(n,n.selection.main.head),i=t.brackets||Qh.brackets;for(let r of i){let s=TD(Wn(r,0));if(e==r)return s==r?nH(n,r,i.indexOf(r+r+r)>-1,t):eH(n,r,s,t.before||Qh.before);if(e==s&&QD(n,n.selection.main.from))return tH(n,r,s)}return null}function QD(n,e){let t=!1;return n.field(CD).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function rg(n,e){let t=n.sliceString(e,e+2);return t.slice(0,kr(Wn(t,0)))}function JW(n,e){let t=n.sliceString(e-2,e);return kr(Wn(t,0))==t.length?t:t.slice(1)}function eH(n,e,t,i){let r=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:aa.of(l.to+e.length),range:K.range(l.anchor+e.length,l.head+e.length)};let o=rg(n.doc,l.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:l.head},effects:aa.of(l.head+e.length),range:K.cursor(l.head+e.length)}:{range:r=l}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function tH(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&rg(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:K.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function nH(n,e,t,i){let r=i.stringPrefixes||Qh.stringPrefixes,s=null,l=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:aa.of(o.to+e.length),range:K.range(o.anchor+e.length,o.head+e.length)};let c=o.head,f=rg(n.doc,c),d;if(f==e){if(dQ(n,c))return{changes:{insert:e+e,from:c},effects:aa.of(c+e.length),range:K.cursor(c+e.length)};if(QD(n,c)){let g=t&&n.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+g.length,insert:g},range:K.cursor(c+g.length)}}}else{if(t&&n.sliceDoc(c-2*e.length,c)==e+e&&(d=pQ(n,c-2*e.length,r))>-1&&dQ(n,d))return{changes:{insert:e+e+e+e,from:c},effects:aa.of(c+e.length),range:K.cursor(c+e.length)};if(n.charCategorizer(c)(f)!=$t.Word&&pQ(n,c,r)>-1&&!iH(n,c,e,r))return{changes:{insert:e+e,from:c},effects:aa.of(c+e.length),range:K.cursor(c+e.length)}}return{range:s=o}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function dQ(n,e){let t=Ct(n).resolveInner(e+1);return t.parent&&t.from==e}function iH(n,e,t,i){let r=Ct(n).resolveInner(e,-1),s=i.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),c=o.indexOf(t);if(!c||c>-1&&i.indexOf(o.slice(0,c))>-1){let d=r.firstChild;for(;d&&d.from==r.from&&d.to-d.from>t.length+c;){if(n.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let f=r.to==e&&r.parent;if(!f)break;r=f}return!1}function pQ(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=$t.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=$t.Word)return s}return-1}function rH(n={}){return[DW,Hn,cn.of(n),MW,sH,kD]}const AD=[{key:"Ctrl-Space",run:b0},{mac:"Alt-`",run:b0},{mac:"Alt-i",run:b0},{key:"Escape",run:QW},{key:"ArrowDown",run:Hd(!0)},{key:"ArrowUp",run:Hd(!1)},{key:"PageDown",run:Hd(!0,"page")},{key:"PageUp",run:Hd(!1,"page")},{key:"Enter",run:EW}],sH=ks.highest(du.computeN([cn],n=>n.facet(cn).defaultKeymap?[AD]:[]));class mQ{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class ea{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=i.facet(Ah).markerFilter;r&&(e=r(e,i));let s=e.slice().sort((y,S)=>y.from-S.from||y.to-S.to),l=new Ss,o=[],c=0,f=i.doc.iter(),d=0,m=i.doc.length;for(let y=0;;){let S=y==s.length?null:s[y];if(!S&&!o.length)break;let v,w;if(o.length)v=c,w=o.reduce((C,X)=>Math.min(C,X.to),S&&S.from>v?S.from:1e8);else{if(v=S.from,v>m)break;w=S.to,o.push(S),y++}for(;y<s.length;){let C=s[y];if(C.from==v&&(C.to>C.from||C.to==v))o.push(C),y++,w=Math.min(C.to,w);else{w=Math.min(C.from,w);break}}w=Math.min(w,m);let k=!1;if(o.some(C=>C.from==v&&(C.to==w||w==m))&&(k=v==w,!k&&w-v<10)){let C=v-(d+f.value.length);C>0&&(f.next(C),d=v);for(let X=v;;){if(X>=w){k=!0;break}if(!f.lineBreak&&d+f.value.length>X)break;X=d+f.value.length,d+=f.value.length,f.next()}}let E=yH(o);if(k)l.add(v,v,Ee.widget({widget:new pH(E),diagnostics:o.slice()}));else{let C=o.reduce((X,N)=>N.markClass?X+" "+N.markClass:X,"");l.add(v,w,Ee.mark({class:"cm-lintRange cm-lintRange-"+E+C,diagnostics:o.slice(),inclusiveEnd:o.some(X=>X.to>w)}))}if(c=w,c==m)break;for(let C=0;C<o.length;C++)o[C].to<=c&&o.splice(C--,1)}let g=l.finish();return new ea(g,t,Go(g))}}function Go(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!i)i=new mQ(r,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new mQ(i.from,s,i.diagnostic)}}),i}function lH(n,e){let t=e.pos,i=e.end||t,r=n.state.facet(Ah).hideOn(n,t,i);if(r!=null)return r;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(l=>l.is(PD))||n.changes.touchesRange(s.from,Math.max(s.to,i)))}function aH(n,e){return n.field(bi,!1)?e:e.concat(De.appendConfig.of(bH))}const PD=De.define(),$v=De.define(),RD=De.define(),bi=hn.define({create(){return new ea(Ee.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,r=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);i=Go(t,n.selected.diagnostic,s)||Go(t,null,s)}!t.size&&r&&e.state.facet(Ah).autoPanel&&(r=null),n=new ea(t,r,i)}for(let t of e.effects)if(t.is(PD)){let i=e.state.facet(Ah).autoPanel?t.value.length?Ph.open:null:n.panel;n=ea.init(t.value,i,e.state)}else t.is($v)?n=new ea(n.diagnostics,t.value?Ph.open:null,n.selected):t.is(RD)&&(n=new ea(n.diagnostics,n.panel,t.value));return n},provide:n=>[Sh.from(n,e=>e.panel),ge.decorations.from(n,e=>e.diagnostics)]}),oH=Ee.mark({class:"cm-lintRange cm-lintRange-active"});function uH(n,e,t){let{diagnostics:i}=n.state.field(bi),r,s=-1,l=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(c,f,{spec:d})=>{if(e>=c&&e<=f&&(c==f||(e>c||t>0)&&(e<f||t<0)))return r=d.diagnostics,s=c,l=f,!1});let o=n.state.facet(Ah).tooltipFilter;return r&&o&&(r=o(r,n.state)),r?{pos:s,end:l,above:n.state.doc.lineAt(s).to<l,create(){return{dom:cH(n,r)}}}:null}function cH(n,e){return bt("ul",{class:"cm-tooltip-lint"},e.map(t=>$D(n,t,!1)))}const hH=n=>{let e=n.state.field(bi,!1);(!e||!e.panel)&&n.dispatch({effects:aH(n.state,[$v.of(!0)])});let t=cv(n,Ph.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},gQ=n=>{let e=n.state.field(bi,!1);return!e||!e.panel?!1:(n.dispatch({effects:$v.of(!1)}),!0)},fH=n=>{let e=n.state.field(bi,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},dH=[{key:"Mod-Shift-m",run:hH,preventDefault:!0},{key:"F8",run:fH}],Ah=Se.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...Dr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:OQ,tooltipFilter:OQ,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,r,s)=>e(i,r,s)||t(i,r,s):e:t,autoPanel:(e,t)=>e||t})}}});function OQ(n,e){return n?e?(t,i)=>e(n(t,i),i):n:e}function MD(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function $D(n,e,t){var i;let r=t?MD(e.actions):[];return bt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},bt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,l)=>{let o=!1,c=y=>{if(y.preventDefault(),o)return;o=!0;let S=Go(n.state.field(bi).diagnostics,e);S&&s.apply(n,S.from,S.to)},{name:f}=s,d=r[l]?f.indexOf(r[l]):-1,m=d<0?f:[f.slice(0,d),bt("u",f.slice(d,d+1)),f.slice(d+1)],g=s.markClass?" "+s.markClass:"";return bt("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:c,onmousedown:c,"aria-label":` Action: ${f}${d<0?"":` (access key "${r[l]})"`}.`},m)}),e.source&&bt("div",{class:"cm-diagnosticSource"},e.source))}class pH extends ar{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return bt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class yQ{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=$D(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ph{constructor(e){this.view=e,this.items=[];let t=r=>{if(!(r.ctrlKey||r.altKey||r.metaKey)){if(r.keyCode==27)gQ(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=MD(s.actions);for(let o=0;o<l.length;o++)if(l[o].toUpperCase().charCodeAt(0)==r.keyCode){let c=Go(this.view.state.field(bi).diagnostics,s);c&&s.actions[o].apply(e,c.from,c.to)}}else return;r.preventDefault()}},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=bt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=bt("div",{class:"cm-panel-lint"},this.list,bt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gQ(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(bi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(bi),i=0,r=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(o,c,{spec:f})=>{for(let d of f.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let y=i;y<this.items.length;y++)if(this.items[y].diagnostic==d){m=y;break}m<0?(g=new yQ(this.view,d),this.items.splice(i,0,g),r=!0):(g=this.items[m],m>i&&(this.items.splice(i,m-i),r=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new yQ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:c})=>{let f=c.height/this.list.offsetHeight;o.top<c.top?this.list.scrollTop-=(c.top-o.top)/f:o.bottom>c.bottom&&(this.list.scrollTop+=(o.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(bi),i=Go(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:RD.of(i)})}static open(e){return new Ph(e)}}function mH(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Fd(n){return mH(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const gH=ge.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Fd("#d11")},".cm-lintRange-warning":{backgroundImage:Fd("orange")},".cm-lintRange-info":{backgroundImage:Fd("#999")},".cm-lintRange-hint":{backgroundImage:Fd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function OH(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function yH(n){let e="hint",t=1;for(let i of n){let r=OH(i.severity);r>t&&(t=r,e=i.severity)}return e}const bH=[bi,ge.decorations.compute([bi],n=>{let{selected:e,panel:t}=n.field(bi);return!e||!t||e.from==e.to?Ee.none:Ee.set([oH.range(e.from,e.to)])}),G8(uH,{hideOn:lH}),gH];var bQ=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(GW)),e.defaultKeymap!==!1&&(i=i.concat(MY)),e.searchKeymap!==!1&&(i=i.concat(lW)),e.historyKeymap!==!1&&(i=i.concat(B7)),e.foldKeymap!==!1&&(i=i.concat(t7)),e.completionKeymap!==!1&&(i=i.concat(AD)),e.lintKeymap!==!1&&(i=i.concat(dH));var r=[];return e.lineNumbers!==!1&&r.push(c9()),e.highlightActiveLineGutter!==!1&&r.push(d9()),e.highlightSpecialChars!==!1&&r.push(C8()),e.history!==!1&&r.push(P7()),e.foldGutter!==!1&&r.push(s7()),e.drawSelection!==!1&&r.push(m8()),e.dropCursor!==!1&&r.push(S8()),e.allowMultipleSelections!==!1&&r.push(Je.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(Y9()),e.syntaxHighlighting!==!1&&r.push(T$(u7,{fallback:!0})),e.bracketMatching!==!1&&r.push(g7()),e.closeBrackets!==!1&&r.push(YW()),e.autocompletion!==!1&&r.push(rH()),e.rectangularSelection!==!1&&r.push(B8()),t!==!1&&r.push(U8()),e.highlightActiveLine!==!1&&r.push(R8()),e.highlightSelectionMatches!==!1&&r.push(zY()),e.tabSize&&typeof e.tabSize=="number"&&r.push(mu.of(" ".repeat(e.tabSize))),r.concat([du.of(i.flat())]).filter(Boolean)};const SH="#e5c07b",SQ="#e06c75",vH="#56b6c2",xH="#ffffff",yp="#abb2bf",S1="#7d8799",wH="#61afef",kH="#98c379",vQ="#d19a66",_H="#c678dd",CH="#21252b",xQ="#2c313a",wQ="#282c34",v0="#353a42",TH="#3E4451",kQ="#528bff",EH=ge.theme({"&":{color:yp,backgroundColor:wQ},".cm-content":{caretColor:kQ},".cm-cursor, .cm-dropCursor":{borderLeftColor:kQ},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:TH},".cm-panels":{backgroundColor:CH,color:yp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:wQ,color:S1,border:"none"},".cm-activeLineGutter":{backgroundColor:xQ},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:v0},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:v0,borderBottomColor:v0},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:xQ,color:yp}}},{dark:!0}),QH=rf.define([{tag:Q.keyword,color:_H},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:SQ},{tag:[Q.function(Q.variableName),Q.labelName],color:wH},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:vQ},{tag:[Q.definition(Q.name),Q.separator],color:yp},{tag:[Q.typeName,Q.className,Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:SH},{tag:[Q.operator,Q.operatorKeyword,Q.url,Q.escape,Q.regexp,Q.link,Q.special(Q.string)],color:vH},{tag:[Q.meta,Q.comment],color:S1},{tag:Q.strong,fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.link,color:S1,textDecoration:"underline"},{tag:Q.heading,fontWeight:"bold",color:SQ},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:vQ},{tag:[Q.processingInstruction,Q.string,Q.inserted],color:kH},{tag:Q.invalid,color:xH}]),AH=[EH,T$(QH)];var PH=ge.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),RH=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:r=!1,theme:s="light",placeholder:l="",basicSetup:o=!0}=e,c=[];switch(t&&c.unshift(du.of([$Y])),o&&(typeof o=="boolean"?c.unshift(bQ()):c.unshift(bQ(o))),l&&c.unshift(I8(l)),s){case"light":c.push(PH);break;case"dark":c.push(AH);break;case"none":break;default:c.push(s);break}return i===!1&&c.push(ge.editable.of(!1)),r&&c.push(Je.readOnly.of(!0)),[...c]},MH=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class $H{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class _Q{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var x0=null,DH=()=>typeof window>"u"?new _Q:(x0||(x0=new _Q),x0),CQ=$r.define(),IH=200,LH=[];function NH(n){var{value:e,selection:t,onChange:i,onStatistics:r,onCreateEditor:s,onUpdate:l,extensions:o=LH,autoFocus:c,theme:f="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:y=null,minWidth:S=null,maxWidth:v=null,placeholder:w="",editable:k=!0,readOnly:E=!1,indentWithTab:C=!0,basicSetup:X=!0,root:N,initialState:P}=n,[I,ae]=D.useState(),[te,L]=D.useState(),[F,H]=D.useState(),fe=D.useState(()=>({current:null}))[0],oe=D.useState(()=>({current:null}))[0],ne=ge.theme({"&":{height:d,minHeight:m,maxHeight:g,width:y,minWidth:S,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),B=ge.updateListener.of(be=>{if(be.docChanged&&typeof i=="function"&&!be.transactions.some(Y=>Y.annotation(CQ))){fe.current?fe.current.reset():(fe.current=new $H(()=>{if(oe.current){var Y=oe.current;oe.current=null,Y()}fe.current=null},IH),DH().add(fe.current));var A=be.state.doc,M=A.toString();i(M,be)}r&&r(MH(be))}),ie=RH({theme:f,editable:k,readOnly:E,placeholder:w,indentWithTab:C,basicSetup:X}),me=[B,ne,...ie];return l&&typeof l=="function"&&me.push(ge.updateListener.of(l)),me=me.concat(o),D.useLayoutEffect(()=>{if(I&&!F){var be={doc:e,selection:t,extensions:me},A=P?Je.fromJSON(P.json,be,P.fields):Je.create(be);if(H(A),!te){var M=new ge({state:A,parent:I,root:N});L(M),s&&s(M,A)}}return()=>{te&&(H(void 0),L(void 0))}},[I,F]),D.useEffect(()=>{n.container&&ae(n.container)},[n.container]),D.useEffect(()=>()=>{te&&(te.destroy(),L(void 0)),fe.current&&(fe.current.cancel(),fe.current=null)},[te]),D.useEffect(()=>{c&&te&&te.focus()},[c,te]),D.useEffect(()=>{te&&te.dispatch({effects:De.reconfigure.of(me)})},[f,o,d,m,g,y,S,v,w,k,E,C,X,i,l]),D.useEffect(()=>{if(e!==void 0){var be=te?te.state.doc.toString():"";if(te&&e!==be){var A=fe.current&&!fe.current.isDone,M=()=>{te&&e!==te.state.doc.toString()&&te.dispatch({changes:{from:0,to:te.state.doc.toString().length,insert:e||""},annotations:[CQ.of(!0)]})};A?oe.current=M:M()}}},[e,te]),{state:F,setState:H,view:te,setView:L,container:I,setContainer:ae}}var zH=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],DD=D.forwardRef((n,e)=>{var{className:t,value:i="",selection:r,extensions:s=[],onChange:l,onStatistics:o,onCreateEditor:c,onUpdate:f,autoFocus:d,theme:m="light",height:g,minHeight:y,maxHeight:S,width:v,minWidth:w,maxWidth:k,basicSetup:E,placeholder:C,indentWithTab:X,editable:N,readOnly:P,root:I,initialState:ae}=n,te=nq(n,zH),L=D.useRef(null),{state:F,view:H,container:fe,setContainer:oe}=NH({root:I,value:i,autoFocus:d,theme:m,height:g,minHeight:y,maxHeight:S,width:v,minWidth:w,maxWidth:k,basicSetup:E,placeholder:C,indentWithTab:X,editable:N,readOnly:P,selection:r,onChange:l,onStatistics:o,onCreateEditor:c,onUpdate:f,extensions:s,initialState:ae});D.useImperativeHandle(e,()=>({editor:L.current,state:F,view:H}),[L,fe,F,H]);var ne=D.useCallback(ie=>{L.current=ie,oe(ie)},[oe]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var B=typeof m=="string"?"cm-theme-"+m:"cm-theme";return V.jsx("div",Tb({ref:ne,className:""+B+(t?" "+t:"")},te))});DD.displayName="CodeMirror";class ym{static create(e,t,i,r,s){let l=r+(r<<8)+e+(t<<4)|0;return new ym(e,t,i,l,s,[],[])}constructor(e,t,i,r,s,l,o){this.type=e,this.value=t,this.from=i,this.hash=r,this.end=s,this.children=l,this.positions=o,this.hashProp=[[Ie.contextHash,r]]}addChild(e,t){e.prop(Ie.contextHash)!=this.hash&&(e=new ct(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let i=this.children.length-1;return i>=0&&(t=Math.max(t,this.positions[i]+this.children[i].length+this.from)),new ct(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(r,s,l)=>new ct(rn.none,r,s,l,this.hashProp)})}}var ce;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(ce||(ce={}));class BH{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class XH{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Gc(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,i=0){for(let r=t;r<e;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(e){let t=0;for(let i=0;t<this.text.length&&i<e;t++)i+=this.text.charCodeAt(t)==9?4-i%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function TQ(n,e,t){if(t.pos==t.text.length||n!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let i=(n.type==ce.OrderedList?Lv:Iv)(t,e,!1);return i>0&&(n.type!=ce.BulletList||Dv(t,e,!1)<0)&&t.text.charCodeAt(t.pos+i-1)==n.value}const ID={[ce.Blockquote](n,e,t){return t.next!=62?!1:(t.markers.push(nt(ce.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(Zi(t.text.charCodeAt(t.pos+1))?2:1)),n.end=e.lineStart+t.text.length,!0)},[ce.ListItem](n,e,t){return t.indent<t.baseIndent+n.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+n.value),!0)},[ce.OrderedList]:TQ,[ce.BulletList]:TQ,[ce.Document](){return!0}};function Zi(n){return n==32||n==9||n==10||n==13}function Gc(n,e=0){for(;e<n.length&&Zi(n.charCodeAt(e));)e++;return e}function EQ(n,e,t){for(;e>t&&Zi(n.charCodeAt(e-1));)e--;return e}function LD(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let t=e;t<n.text.length;t++)if(n.text.charCodeAt(t)==96)return-1}return e}function ND(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function Dv(n,e,t){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let i=1;for(let r=n.pos+1;r<n.text.length;r++){let s=n.text.charCodeAt(r);if(s==n.next)i++;else if(!Zi(s))return-1}return t&&n.next==45&&XD(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(qD.SetextHeading)>-1||i<3?-1:1}function zD(n,e){for(let t=n.stack.length-1;t>=0;t--)if(n.stack[t].type==e)return!0;return!1}function Iv(n,e,t){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||Zi(n.text.charCodeAt(n.pos+1)))&&(!t||zD(e,ce.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function Lv(n,e,t){let i=n.pos,r=n.next;for(;r>=48&&r<=57;){i++;if(i==n.text.length)return-1;r=n.text.charCodeAt(i)}return i==n.pos||i>n.pos+9||r!=46&&r!=41||i<n.text.length-1&&!Zi(n.text.charCodeAt(i+1))||t&&!zD(e,ce.OrderedList)&&(n.skipSpace(i+1)==n.text.length||i>n.pos+1||n.next!=49)?-1:i+1-n.pos}function BD(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let t=e-n.pos;return t>6?-1:t}function XD(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let t=e;for(;e<n.text.length&&Zi(n.text.charCodeAt(e));)e++;return e==n.text.length?t:-1}const v1=/^[ \t]*$/,ZD=/-->/,UD=/\?>/,x1=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,ZD],[/^\s*<\?/,UD],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,v1],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,v1]];function jD(n,e,t){if(n.next!=60)return-1;let i=n.text.slice(n.pos);for(let r=0,s=x1.length-(t?1:0);r<s;r++)if(x1[r][0].test(i))return r;return-1}function QQ(n,e){let t=n.countIndent(e,n.pos,n.indent),i=n.countIndent(n.skipSpace(e),e,t);return i>=t+5?t+1:i}function Ks(n,e,t){let i=n.length-1;i>=0&&n[i].to==e&&n[i].type==ce.CodeText?n[i].to=t:n.push(nt(ce.CodeText,e,t))}const Gd={LinkReference:void 0,IndentedCode(n,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let i=e.findColumn(t),r=n.lineStart+i,s=n.lineStart+e.text.length,l=[],o=[];for(Ks(l,r,s);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){Ks(o,n.lineStart-1,n.lineStart);for(let c of e.markers)o.push(c)}else{if(e.indent<t)break;{if(o.length){for(let f of o)f.type==ce.CodeText?Ks(l,f.from,f.to):l.push(f);o=[]}Ks(l,n.lineStart-1,n.lineStart);for(let f of e.markers)l.push(f);s=n.lineStart+e.text.length;let c=n.lineStart+e.findColumn(e.baseIndent+4);c<s&&Ks(l,c,s)}}return o.length&&(o=o.filter(c=>c.type!=ce.CodeText),o.length&&(e.markers=o.concat(e.markers))),n.addNode(n.buffer.writeElements(l,-r).finish(ce.CodeBlock,s-r),r),!0},FencedCode(n,e){let t=LD(e);if(t<0)return!1;let i=n.lineStart+e.pos,r=e.next,s=t-e.pos,l=e.skipSpace(t),o=EQ(e.text,e.text.length,l),c=[nt(ce.CodeMark,i,i+s)];l<o&&c.push(nt(ce.CodeInfo,n.lineStart+l,n.lineStart+o));for(let f=!0,d=!0,m=!1;n.nextLine()&&e.depth>=n.stack.length;f=!1){let g=e.pos;if(e.indent-e.baseIndent<4)for(;g<e.text.length&&e.text.charCodeAt(g)==r;)g++;if(g-e.pos>=s&&e.skipSpace(g)==e.text.length){for(let y of e.markers)c.push(y);d&&m&&Ks(c,n.lineStart-1,n.lineStart),c.push(nt(ce.CodeMark,n.lineStart+e.pos,n.lineStart+g)),n.nextLine();break}else{m=!0,f||(Ks(c,n.lineStart-1,n.lineStart),d=!1);for(let v of e.markers)c.push(v);let y=n.lineStart+e.basePos,S=n.lineStart+e.text.length;y<S&&(Ks(c,y,S),d=!1)}}return n.addNode(n.buffer.writeElements(c,-i).finish(ce.FencedCode,n.prevLineEnd()-i),i),!0},Blockquote(n,e){let t=ND(e);return t<0?!1:(n.startContext(ce.Blockquote,e.pos),n.addNode(ce.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(n,e){if(Dv(e,n,!1)<0)return!1;let t=n.lineStart+e.pos;return n.nextLine(),n.addNode(ce.HorizontalRule,t),!0},BulletList(n,e){let t=Iv(e,n,!1);if(t<0)return!1;n.block.type!=ce.BulletList&&n.startContext(ce.BulletList,e.basePos,e.next);let i=QQ(e,e.pos+1);return n.startContext(ce.ListItem,e.basePos,i-e.baseIndent),n.addNode(ce.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(i),null},OrderedList(n,e){let t=Lv(e,n,!1);if(t<0)return!1;n.block.type!=ce.OrderedList&&n.startContext(ce.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let i=QQ(e,e.pos+t);return n.startContext(ce.ListItem,e.basePos,i-e.baseIndent),n.addNode(ce.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(i),null},ATXHeading(n,e){let t=BD(e);if(t<0)return!1;let i=e.pos,r=n.lineStart+i,s=EQ(e.text,e.text.length,i),l=s;for(;l>i&&e.text.charCodeAt(l-1)==e.next;)l--;(l==s||l==i||!Zi(e.text.charCodeAt(l-1)))&&(l=e.text.length);let o=n.buffer.write(ce.HeaderMark,0,t).writeElements(n.parser.parseInline(e.text.slice(i+t+1,l),r+t+1),-r);l<e.text.length&&o.write(ce.HeaderMark,l-i,s-i);let c=o.finish(ce.ATXHeading1-1+t,e.text.length-i);return n.nextLine(),n.addNode(c,r),!0},HTMLBlock(n,e){let t=jD(e,n,!1);if(t<0)return!1;let i=n.lineStart+e.pos,r=x1[t][1],s=[],l=r!=v1;for(;!r.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){l=!1;break}for(let f of e.markers)s.push(f)}l&&n.nextLine();let o=r==ZD?ce.CommentBlock:r==UD?ce.ProcessingInstructionBlock:ce.HTMLBlock,c=n.prevLineEnd();return n.addNode(n.buffer.writeElements(s,-i).finish(o,c-i),i),!0},SetextHeading:void 0};class ZH{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,i){if(this.stage==-1)return!1;let r=i.content+`
`+t.scrub(),s=this.advance(r);return s>-1&&s<r.length?this.complete(e,i,s):!1}finish(e,t){return(this.stage==2||this.stage==3)&&Gc(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,i){return e.addLeafElement(t,nt(ce.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(eI(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(nt(ce.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(KD(e,Gc(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=Gc(e,this.pos),i=0;if(t>this.pos){let r=JD(e,t,this.start);if(r){let s=w0(e,r.to-this.start);s>0&&(this.nextStage(r),i=s)}}return i||(i=w0(e,this.pos)),i>0&&i<e.length?i:-1}else return w0(e,this.pos)}}}function w0(n,e){for(;e<n.length;e++){let t=n.charCodeAt(e);if(t==10)break;if(!Zi(t))return-1}return e}class UH{nextLine(e,t,i){let r=t.depth<e.stack.length?-1:XD(t),s=t.next;if(r<0)return!1;let l=nt(ce.HeaderMark,e.lineStart+t.pos,e.lineStart+r);return e.nextLine(),e.addLeafElement(i,nt(s==61?ce.SetextHeading1:ce.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),l])),!0}finish(){return!1}}const qD={LinkReference(n,e){return e.content.charCodeAt(0)==91?new ZH(e):null},SetextHeading(){return new UH}},jH=[(n,e)=>BD(e)>=0,(n,e)=>LD(e)>=0,(n,e)=>ND(e)>=0,(n,e)=>Iv(e,n,!0)>=0,(n,e)=>Lv(e,n,!0)>=0,(n,e)=>Dv(e,n,!0)>=0,(n,e)=>jD(e,n,!0)>=0],qH={text:"",end:0};class VH{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.line=new XH,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=ym.create(ce.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new HH(i,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let r=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!r||e.markers[i].from<r.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!r)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,e);if(r!=!1){if(r==!0)return null;e.forward();continue e}}break}let t=new BH(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,t);r&&t.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,t))break e}for(let i of t.parsers)if(i.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let i of e.markers)t.marks.push(i)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=tI(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=qH;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<t.end;){r++;let s=this.ranges[r].from,l=this.lineChunkAt(s);t.end=s+l.length,t.text=t.text.slice(0,this.ranges[r-1].to-i)+l,i=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(t);e.depth<this.stack.length;e.depth++){let r=this.stack[e.depth],s=this.parser.skipContextMarkup[r.type];if(!s)throw new Error("Unhandled block context "+ce[r.type]);let l=this.line.markers.length;if(!s(r,this,e)){this.line.markers.length>l&&(r.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),i;if(this.input.lineChunks)i=t==`
`?"":t;else{let r=t.indexOf(`
`);i=r<0?t:t.slice(0,r)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,i=0){this.block=ym.create(e,i,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,i=0){this.startContext(this.parser.getNodeType(e),t,i)}addNode(e,t,i){typeof e=="number"&&(e=new ct(this.parser.nodeSet.types[e],Ko,Ko,(i??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(k1(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?VD(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let t=k1(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(ce.Paragraph,e.content.length),e.start)}elt(e,t,i,r){return typeof e=="string"?nt(this.parser.getNodeType(e),t,i,r):new HD(e,t)}get buffer(){return new WD(this.parser.nodeSet)}}function VD(n,e,t,i,r){let s=n[e].to,l=[],o=[],c=t.from+i;function f(d,m){for(;m?d>=s:d>s;){let g=n[e+1].from-s;i+=g,d+=g,e++,s=n[e].to}}for(let d=t.firstChild;d;d=d.nextSibling){f(d.from+i,!0);let m=d.from+i,g,y=r.get(d.tree);y?g=y:d.to+i>s?(g=VD(n,e,d,i,r),f(d.to+i,!1)):g=d.toTree(),l.push(g),o.push(m-c)}return f(t.to+i,!1),new ct(t.type,l,o,t.to+i-c,t.tree?t.tree.propValues:void 0)}class sg extends pv{constructor(e,t,i,r,s,l,o,c,f){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=s,this.skipContextMarkup=l,this.inlineParsers=o,this.inlineNames=c,this.wrappers=f,this.nodeTypes=Object.create(null);for(let d of e.types)this.nodeTypes[d.name]=d.id}createParse(e,t,i){let r=new VH(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}configure(e){let t=w1(e);if(!t)return this;let{nodeSet:i,skipContextMarkup:r}=this,s=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),o=this.blockNames.slice(),c=this.inlineParsers.slice(),f=this.inlineNames.slice(),d=this.endLeafBlock.slice(),m=this.wrappers;if(_c(t.defineNodes)){r=Object.assign({},r);let g=i.types.slice(),y;for(let S of t.defineNodes){let{name:v,block:w,composite:k,style:E}=typeof S=="string"?{name:S}:S;if(g.some(N=>N.name==v))continue;k&&(r[g.length]=(N,P,I)=>k(P,I,N.value));let C=g.length,X=k?["Block","BlockContext"]:w?C>=ce.ATXHeading1&&C<=ce.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;g.push(rn.define({id:C,name:v,props:X&&[[Ie.group,X]]})),E&&(y||(y={}),Array.isArray(E)||E instanceof yi?y[v]=E:Object.assign(y,E))}i=new ef(g),y&&(i=i.extend(pu(y)))}if(_c(t.props)&&(i=i.extend(...t.props)),_c(t.remove))for(let g of t.remove){let y=this.blockNames.indexOf(g),S=this.inlineNames.indexOf(g);y>-1&&(s[y]=l[y]=void 0),S>-1&&(c[S]=void 0)}if(_c(t.parseBlock))for(let g of t.parseBlock){let y=o.indexOf(g.name);if(y>-1)s[y]=g.parse,l[y]=g.leaf;else{let S=g.before?Kd(o,g.before):g.after?Kd(o,g.after)+1:o.length-1;s.splice(S,0,g.parse),l.splice(S,0,g.leaf),o.splice(S,0,g.name)}g.endLeaf&&d.push(g.endLeaf)}if(_c(t.parseInline))for(let g of t.parseInline){let y=f.indexOf(g.name);if(y>-1)c[y]=g.parse;else{let S=g.before?Kd(f,g.before):g.after?Kd(f,g.after)+1:f.length-1;c.splice(S,0,g.parse),f.splice(S,0,g.name)}}return t.wrap&&(m=m.concat(t.wrap)),new sg(i,s,l,o,d,r,c,f,m)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let i=new Nv(this,e,t);e:for(let r=t;r<i.end;){let s=i.char(r);for(let l of this.inlineParsers)if(l){let o=l(i,s,r);if(o>=0){r=o;continue e}}r++}return i.resolveMarkers(0)}}function _c(n){return n!=null&&n.length>0}function w1(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=w1(n[0]);if(n.length==1)return e;let t=w1(n.slice(1));if(!t||!e)return e||t;let i=(l,o)=>(l||Ko).concat(o||Ko),r=e.wrap,s=t.wrap;return{props:i(e.props,t.props),defineNodes:i(e.defineNodes,t.defineNodes),parseBlock:i(e.parseBlock,t.parseBlock),parseInline:i(e.parseInline,t.parseInline),remove:i(e.remove,t.remove),wrap:r?s?(l,o,c,f)=>r(s(l,o,c,f),o,c,f):r:s}}function Kd(n,e){let t=n.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let YD=[rn.none];for(let n=1,e;e=ce[n];n++)YD[n]=rn.define({id:n,name:e,props:n>=ce.Escape?[]:[[Ie.group,n in ID?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Ko=[];class WD{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,i,r=0){return this.content.push(e,t,i,4+r*4),this}writeElements(e,t=0){for(let i of e)i.writeTo(this,t);return this}finish(e,t){return ct.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let Rh=class{constructor(e,t,i,r=Ko){this.type=e,this.from=t,this.to=i,this.children=r}writeTo(e,t){let i=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-i)}toTree(e){return new WD(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class HD{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Ko}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function nt(n,e,t,i){return new Rh(n,e,t,i)}const FD={resolve:"Emphasis",mark:"EmphasisMark"},GD={resolve:"Emphasis",mark:"EmphasisMark"},ta={},bm={};class Oi{constructor(e,t,i,r){this.type=e,this.from=t,this.to=i,this.side=r}}const AQ="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Mh=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Mh=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const k0={Escape(n,e,t){if(e!=92||t==n.end-1)return-1;let i=n.char(t+1);for(let r=0;r<AQ.length;r++)if(AQ.charCodeAt(r)==i)return n.append(nt(ce.Escape,t,t+2));return-1},Entity(n,e,t){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(t+1,t+31));return i?n.append(nt(ce.Entity,t,t+1+i[0].length)):-1},InlineCode(n,e,t){if(e!=96||t&&n.char(t-1)==96)return-1;let i=t+1;for(;i<n.end&&n.char(i)==96;)i++;let r=i-t,s=0;for(;i<n.end;i++)if(n.char(i)==96){if(s++,s==r&&n.char(i+1)!=96)return n.append(nt(ce.InlineCode,t,i+1,[nt(ce.CodeMark,t,t+r),nt(ce.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(n,e,t){if(e!=60||t==n.end-1)return-1;let i=n.slice(t+1,n.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return n.append(nt(ce.Autolink,t,t+1+r[0].length,[nt(ce.LinkMark,t,t+1),nt(ce.URL,t+1,t+r[0].length),nt(ce.LinkMark,t+r[0].length,t+1+r[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return n.append(nt(ce.Comment,t,t+1+s[0].length));let l=/^\?[^]*?\?>/.exec(i);if(l)return n.append(nt(ce.ProcessingInstruction,t,t+1+l[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return o?n.append(nt(ce.HTMLTag,t,t+1+o[0].length)):-1},Emphasis(n,e,t){if(e!=95&&e!=42)return-1;let i=t+1;for(;n.char(i)==e;)i++;let r=n.slice(t-1,t),s=n.slice(i,i+1),l=Mh.test(r),o=Mh.test(s),c=/\s|^$/.test(r),f=/\s|^$/.test(s),d=!f&&(!o||c||l),m=!c&&(!l||f||o),g=d&&(e==42||!m||l),y=m&&(e==42||!d||o);return n.append(new Oi(e==95?FD:GD,t,i,(g?1:0)|(y?2:0)))},HardBreak(n,e,t){if(e==92&&n.char(t+1)==10)return n.append(nt(ce.HardBreak,t,t+2));if(e==32){let i=t+1;for(;n.char(i)==32;)i++;if(n.char(i)==10&&i>=t+2)return n.append(nt(ce.HardBreak,t,i+1))}return-1},Link(n,e,t){return e==91?n.append(new Oi(ta,t,t+1,1)):-1},Image(n,e,t){return e==33&&n.char(t+1)==91?n.append(new Oi(bm,t,t+2,1)):-1},LinkEnd(n,e,t){if(e!=93)return-1;for(let i=n.parts.length-1;i>=0;i--){let r=n.parts[i];if(r instanceof Oi&&(r.type==ta||r.type==bm)){if(!r.side||n.skipSpace(r.to)==t&&!/[(\[]/.test(n.slice(t+1,t+2)))return n.parts[i]=null,-1;let s=n.takeContent(i),l=n.parts[i]=YH(n,s,r.type==ta?ce.Link:ce.Image,r.from,t+1);if(r.type==ta)for(let o=0;o<i;o++){let c=n.parts[o];c instanceof Oi&&c.type==ta&&(c.side=0)}return l.to}}return-1}};function YH(n,e,t,i,r){let{text:s}=n,l=n.char(r),o=r;if(e.unshift(nt(ce.LinkMark,i,i+(t==ce.Image?2:1))),e.push(nt(ce.LinkMark,r-1,r)),l==40){let c=n.skipSpace(r+1),f=KD(s,c-n.offset,n.offset),d;f&&(c=n.skipSpace(f.to),c!=f.to&&(d=JD(s,c-n.offset,n.offset),d&&(c=n.skipSpace(d.to)))),n.char(c)==41&&(e.push(nt(ce.LinkMark,r,r+1)),o=c+1,f&&e.push(f),d&&e.push(d),e.push(nt(ce.LinkMark,c,o)))}else if(l==91){let c=eI(s,r-n.offset,n.offset,!1);c&&(e.push(c),o=c.to)}return nt(t,i,o,e)}function KD(n,e,t){if(n.charCodeAt(e)==60){for(let r=e+1;r<n.length;r++){let s=n.charCodeAt(r);if(s==62)return nt(ce.URL,e+t,r+1+t);if(s==60||s==10)return!1}return null}else{let r=0,s=e;for(let l=!1;s<n.length;s++){let o=n.charCodeAt(s);if(Zi(o))break;if(l)l=!1;else if(o==40)r++;else if(o==41){if(!r)break;r--}else o==92&&(l=!0)}return s>e?nt(ce.URL,e+t,s+t):s==n.length?null:!1}}function JD(n,e,t){let i=n.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let s=e+1,l=!1;s<n.length;s++){let o=n.charCodeAt(s);if(l)l=!1;else{if(o==r)return nt(ce.LinkTitle,e+t,s+1+t);o==92&&(l=!0)}}return null}function eI(n,e,t,i){for(let r=!1,s=e+1,l=Math.min(n.length,s+999);s<l;s++){let o=n.charCodeAt(s);if(r)r=!1;else{if(o==93)return i?!1:nt(ce.LinkLabel,e+t,s+1+t);if(i&&!Zi(o)&&(i=!1),o==91)return!1;o==92&&(r=!0)}}return null}class Nv{constructor(e,t,i){this.parser=e,this.text=t,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,i,r,s){return this.append(new Oi(e,t,i,(r?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof Oi&&(t.type==ta||t.type==bm))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof Oi&&r.type.resolve&&r.side&2))continue;let s=r.type==FD||r.type==GD,l=r.to-r.from,o,c=i-1;for(;c>=e;c--){let v=this.parts[c];if(v instanceof Oi&&v.side&1&&v.type==r.type&&!(s&&(r.side&1||v.side&2)&&(v.to-v.from+l)%3==0&&((v.to-v.from)%3||l%3))){o=v;break}}if(!o)continue;let f=r.type.resolve,d=[],m=o.from,g=r.to;if(s){let v=Math.min(2,o.to-o.from,l);m=o.to-v,g=r.from+v,f=v==1?"Emphasis":"StrongEmphasis"}o.type.mark&&d.push(this.elt(o.type.mark,m,o.to));for(let v=c+1;v<i;v++)this.parts[v]instanceof Rh&&d.push(this.parts[v]),this.parts[v]=null;r.type.mark&&d.push(this.elt(r.type.mark,r.from,g));let y=this.elt(f,m,g,d);this.parts[c]=s&&o.from!=m?new Oi(o.type,o.from,m,o.side):null,(this.parts[i]=s&&r.to!=g?new Oi(r.type,g,r.to,r.side):null)?this.parts.splice(i,0,y):this.parts[i]=y}let t=[];for(let i=e;i<this.parts.length;i++){let r=this.parts[i];r instanceof Rh&&t.push(r)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let i=this.parts[t];if(i instanceof Oi&&i.type==e&&i.side&1)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}getDelimiterAt(e){let t=this.parts[e];return t instanceof Oi?t:null}skipSpace(e){return Gc(this.text,e-this.offset)+this.offset}elt(e,t,i,r){return typeof e=="string"?nt(this.parser.getNodeType(e),t,i,r):new HD(e,t)}}Nv.linkStart=ta;Nv.imageStart=bm;function k1(n,e){if(!e.length)return n;if(!n.length)return e;let t=n.slice(),i=0;for(let r of e){for(;i<t.length&&t[i].to<r.to;)i++;if(i<t.length&&t[i].from<r.from){let s=t[i];s instanceof Rh&&(t[i]=new Rh(s.type,s.from,s.to,k1(s.children,[r])))}else t.splice(i++,0,r)}return t}const WH=[ce.CodeBlock,ce.ListItem,ce.OrderedList,ce.BulletList];let HH=class{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=e+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=t;if(!i.childAfter(r))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(Ie.contextHash)==e}takeNodes(e){let t=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,l=s,o=e.block.children.length,c=l,f=o;for(;;){if(t.to-i>r){if(t.type.isAnonymous&&t.firstChild())continue;break}let d=tI(t.from-i,e.ranges);if(t.to-i<=e.ranges[e.rangeI].to)e.addNode(t.tree,d);else{let m=new ct(e.parser.nodeSet.types[ce.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(m,t.tree),e.addNode(m,d)}if(t.type.is("Block")&&(WH.indexOf(t.type.id)<0?(l=t.to-i,o=e.block.children.length):(l=c,o=f),c=t.to-i,f=e.block.children.length),!t.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return l-s}};function tI(n,e){let t=n;for(let i=1;i<e.length;i++){let r=e[i-1].to,s=e[i].from;r<n&&(t-=s-r)}return t}const FH=pu({"Blockquote/...":Q.quote,HorizontalRule:Q.contentSeparator,"ATXHeading1/... SetextHeading1/...":Q.heading1,"ATXHeading2/... SetextHeading2/...":Q.heading2,"ATXHeading3/...":Q.heading3,"ATXHeading4/...":Q.heading4,"ATXHeading5/...":Q.heading5,"ATXHeading6/...":Q.heading6,"Comment CommentBlock":Q.comment,Escape:Q.escape,Entity:Q.character,"Emphasis/...":Q.emphasis,"StrongEmphasis/...":Q.strong,"Link/... Image/...":Q.link,"OrderedList/... BulletList/...":Q.list,"BlockQuote/...":Q.quote,"InlineCode CodeText":Q.monospace,"URL Autolink":Q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Q.processingInstruction,"CodeInfo LinkLabel":Q.labelName,LinkTitle:Q.string,Paragraph:Q.content}),GH=new sg(new ef(YD).extend(FH),Object.keys(Gd).map(n=>Gd[n]),Object.keys(Gd).map(n=>qD[n]),Object.keys(Gd),jH,ID,Object.keys(k0).map(n=>k0[n]),Object.keys(k0),[]);function KH(n,e,t){let i=[];for(let r=n.firstChild,s=e;;r=r.nextSibling){let l=r?r.from:t;if(l>s&&i.push({from:s,to:l}),!r)break;s=r.to}return i}function JH(n){let{codeParser:e,htmlParser:t}=n;return{wrap:h$((r,s)=>{let l=r.type.id;if(e&&(l==ce.CodeBlock||l==ce.FencedCode)){let o="";if(l==ce.FencedCode){let f=r.node.getChild(ce.CodeInfo);f&&(o=s.read(f.from,f.to))}let c=e(o);if(c)return{parser:c,overlay:f=>f.type.id==ce.CodeText,bracketed:l==ce.FencedCode}}else if(t&&(l==ce.HTMLBlock||l==ce.HTMLTag||l==ce.CommentBlock))return{parser:t,overlay:KH(r.node,r.from,r.to)};return null})}}const eF={resolve:"Strikethrough",mark:"StrikethroughMark"},tF={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Q.strikethrough}},{name:"StrikethroughMark",style:Q.processingInstruction}],parseInline:[{name:"Strikethrough",parse(n,e,t){if(e!=126||n.char(t+1)!=126||n.char(t+2)==126)return-1;let i=n.slice(t-1,t),r=n.slice(t+2,t+3),s=/\s|^$/.test(i),l=/\s|^$/.test(r),o=Mh.test(i),c=Mh.test(r);return n.addDelimiter(eF,t,t+2,!l&&(!c||s||o),!s&&(!o||l||c))},after:"Emphasis"}]};function Kc(n,e,t=0,i,r=0){let s=0,l=!0,o=-1,c=-1,f=!1,d=()=>{i.push(n.elt("TableCell",r+o,r+c,n.parser.parseInline(e.slice(o,c),r+o)))};for(let m=t;m<e.length;m++){let g=e.charCodeAt(m);g==124&&!f?((!l||o>-1)&&s++,l=!1,i&&(o>-1&&d(),i.push(n.elt("TableDelimiter",m+r,m+r+1))),o=c=-1):(f||g!=32&&g!=9)&&(o<0&&(o=m),c=m+1),f=!f&&g==92}return o>-1&&(s++,i&&d()),s}function PQ(n,e){for(let t=e;t<n.length;t++){let i=n.charCodeAt(t);if(i==124)return!0;i==92&&t++}return!1}const nI=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class RQ{constructor(){this.rows=null}nextLine(e,t,i){if(this.rows==null){this.rows=!1;let r;if((t.next==45||t.next==58||t.next==124)&&nI.test(r=t.text.slice(t.pos))){let s=[];Kc(e,i.content,0,s,i.start)==Kc(e,r,t.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let r=[];Kc(e,t.text,t.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,r))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}const nF={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Q.heading}},"TableRow",{name:"TableCell",style:Q.content},{name:"TableDelimiter",style:Q.processingInstruction}],parseBlock:[{name:"Table",leaf(n,e){return PQ(e.content,0)?new RQ:null},endLeaf(n,e,t){if(t.parsers.some(r=>r instanceof RQ)||!PQ(e.text,e.basePos))return!1;let i=n.peekLine();return nI.test(i)&&Kc(n,e.text,e.basePos)==Kc(n,i,e.basePos)},before:"SetextHeading"}]};class iF{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const rF={defineNodes:[{name:"Task",block:!0,style:Q.list},{name:"TaskMarker",style:Q.atom}],parseBlock:[{name:"TaskList",leaf(n,e){return/^\[[ xX]\][ \t]/.test(e.content)&&n.parentType().name=="ListItem"?new iF:null},after:"SetextHeading"}]},MQ=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,$Q=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,sF=/[\w-]+\.[\w-]+($|\/)/,DQ=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,IQ=/\/[a-zA-Z\d@.]+/gy;function LQ(n,e,t,i){let r=0;for(let s=e;s<t;s++)n[s]==i&&r++;return r}function lF(n,e){$Q.lastIndex=e;let t=$Q.exec(n);if(!t||sF.exec(t[0])[0].indexOf("_")>-1)return-1;let i=e+t[0].length;for(;;){let r=n[i-1],s;if(/[?!.,:*_~]/.test(r)||r==")"&&LQ(n,e,i,")")>LQ(n,e,i,"("))i--;else if(r==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(n.slice(e,i))))i=e+s.index;else break}return i}function NQ(n,e){DQ.lastIndex=e;let t=DQ.exec(n);if(!t)return-1;let i=t[0][t[0].length-1];return i=="_"||i=="-"?-1:e+t[0].length-(i=="."?1:0)}const aF={parseInline:[{name:"Autolink",parse(n,e,t){let i=t-n.offset;if(i&&/\w/.test(n.text[i-1]))return-1;MQ.lastIndex=i;let r=MQ.exec(n.text),s=-1;if(!r)return-1;if(r[1]||r[2]){if(s=lF(n.text,i+r[0].length),s>-1&&n.hasOpenLink){let l=/([^\[\]]|\[[^\]]*\])*/.exec(n.text.slice(i,s));s=i+l[0].length}}else r[3]?s=NQ(n.text,i):(s=NQ(n.text,i+r[0].length),s>-1&&r[0]=="xmpp:"&&(IQ.lastIndex=s,r=IQ.exec(n.text),r&&(s=r.index+r[0].length)));return s<0?-1:(n.addElement(n.elt("URL",t,s+n.offset)),s+n.offset)}}]},oF=[nF,rF,tF,aF];function iI(n,e,t){return(i,r,s)=>{if(r!=n||i.char(s+1)==n)return-1;let l=[i.elt(t,s,s+1)];for(let o=s+1;o<i.end;o++){let c=i.char(o);if(c==n)return i.addElement(i.elt(e,s,o+1,l.concat(i.elt(t,o,o+1))));if(c==92&&l.push(i.elt("Escape",o,o+++2)),Zi(c))break}return-1}}const uF={defineNodes:[{name:"Superscript",style:Q.special(Q.content)},{name:"SuperscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Superscript",parse:iI(94,"Superscript","SuperscriptMark")}]},cF={defineNodes:[{name:"Subscript",style:Q.special(Q.content)},{name:"SubscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Subscript",parse:iI(126,"Subscript","SubscriptMark")}]},hF={defineNodes:[{name:"Emoji",style:Q.character}],parseInline:[{name:"Emoji",parse(n,e,t){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(n.slice(t+1,n.end)))?-1:n.addElement(n.elt("Emoji",t,t+1+i[0].length))}}]};var zQ={};class Sm{constructor(e,t,i,r,s,l,o,c,f,d=0,m){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=l,this.buffer=o,this.bufferBase=c,this.curContext=f,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new Sm(e,[],t,i,i,0,[],0,r?new BQ(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(r,this.reducePos);return}let c=this.stack.length-(i-1)*3-(e&262144?6:0),f=c?this.stack[c-2]:this.p.ranges[0].from,d=this.reducePos-f;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=d));let m=c?this.stack[c-1]:0,g=this.bufferBase+this.buffer.length-m;if(r<s.minRepeatTerm||e&131072){let y=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,f,y,g+4,!0)}if(e&262144)this.state=this.stack[c];else{let y=this.stack[c-3];this.state=s.getGoto(y,r,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(r,f)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(t==i)return;if(l.buffer[o-2]>=t){l.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let c=l;c>0&&this.buffer[c-2]>i;c-=4)if(this.buffer[c-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>i;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,r>4&&(r-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=i,this.buffer[l+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;this.pos=r;let o=l.stateFlag(s,1);!o&&(r>i||t<=l.maxNode)&&(this.reducePos=r),this.pushState(s,o?i:Math.min(i,this.reducePos)),this.shiftContext(t,i),t<=l.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Sm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new fF(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&r.push(t[s],l);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let l=t[s+1];r.some((o,c)=>c&1&&o==l)||r.push(t[s],l)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[r],this.pos),l.reducePos=this.pos,l.score-=200,i.push(l)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-s;if(o>1){let c=l&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],c,!1)>=0)return o<<19|65536|c}}else{let o=i(l,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new BQ(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class BQ{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class fF{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class vm{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new vm(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new vm(this.stack,this.pos,this.index)}}function Ic(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let l=n.charCodeAt(i++),o=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let c=l-32;if(c>=46&&(c-=46,o=!0),s+=c,o)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class bp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const XQ=new bp;class dF{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=XQ,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let l=this.ranges[--r];s-=i.from-l.to,i=l}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let l=this.ranges[++r];s+=l.from-i.to,i=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=XQ,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Do{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;rI(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Do.prototype.contextual=Do.prototype.fallback=Do.prototype.extend=!1;class xm{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Ic(e):e}token(e,t){let i=e.pos,r=0;for(;;){let s=e.next<0,l=e.resolveOffset(1,1);if(rI(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,l==null)break;e.reset(l,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}xm.prototype.contextual=Do.prototype.fallback=Do.prototype.extend=!1;class vi{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function rI(n,e,t,i,r,s){let l=0,o=1<<i,{dialect:c}=t.p.parser;e:for(;(o&n[l])!=0;){let f=n[l+1];for(let y=l+3;y<f;y+=2)if((n[y+1]&o)>0){let S=n[y];if(c.allows(S)&&(e.token.value==-1||e.token.value==S||pF(S,e.token.value,r,s))){e.acceptToken(S);break}}let d=e.next,m=0,g=n[l+2];if(e.next<0&&g>m&&n[f+g*3-3]==65535){l=n[f+g*3-1];continue e}for(;m<g;){let y=m+g>>1,S=f+y+(y<<1),v=n[S],w=n[S+1]||65536;if(d<v)g=y;else if(d>=w)m=y+1;else{l=n[S+2],e.advance();continue e}}break}}function ZQ(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function pF(n,e,t,i){let r=ZQ(t,i,e);return r<0||ZQ(t,i,n)<r}const fi=typeof process<"u"&&zQ&&/\bparse\b/.test(zQ.LOG);let _0=null;function UQ(n,e,t){let i=n.cursor(ht.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class mF{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?UQ(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?UQ(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],l=this.start[t]+i.positions[r];if(l>e)return this.nextStart=l,null;if(s instanceof ct){if(l==e){if(l<this.safeFrom)return null;let o=l+s.length;if(o<=this.safeTo){let c=s.prop(Ie.lookAhead);if(!c||o+c<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class gF{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new bp)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,l=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,c=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let d=s[f],m=this.tokens[f];if(!(i&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=o)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=o),m.lookAhead>m.end+25&&(c=Math.max(m.lookAhead,c)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(i=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return c&&e.setLookAhead(c),!i&&e.pos==this.stream.end&&(i=new bp,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new bp,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let o=s.specializers[l](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:l}=e.p,{data:o}=l;for(let c=0;c<2;c++)for(let f=l.stateSlot(s,c?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=rs(o,f+2);else{r==0&&o[f+1]==2&&(r=this.putAction(rs(o,f+2),t,i,r));break}o[f]==t&&(r=this.putAction(rs(o,f+1),t,i,r))}return r}}class OF{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new dF(t,r),this.tokens=new gF(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[Sm.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new mF(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{r||(r=[],s=[]),r.push(o);let c=this.tokens.getMainToken(o);s.push(c.value,c.end)}}break}}if(!i.length){let l=r&&bF(r);if(l)return fi&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw fi&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let l=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(l)return fi&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(i.length>l)for(i.sort((o,c)=>c.score-o.score);i.length>l;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let l=0;l<i.length-1;l++){let o=i[l];for(let c=l+1;c<i.length;c++){let f=i[c];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(c--,1);else{i.splice(l--,1);continue e}}}i.length>12&&(i.sort((l,o)=>o.score-l.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let l=1;l<i.length;l++)i[l].pos<this.minStackPos&&(this.minStackPos=i[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,l=fi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,d=f?e.curContext.hash:0;for(let m=this.fragments.nodeAt(r);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!f||(m.prop(Ie.contextHash)||0)==d))return e.useNode(m,g),fi&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof ct)||m.children.length==0||m.positions[0]>0)break;let y=m.children[0];if(y instanceof ct&&m.positions[0]==0)m=y;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),fi&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let f=0;f<c.length;){let d=c[f++],m=c[f++],g=c[f++],y=f==c.length||!i,S=y?e:e.split(),v=this.tokens.mainToken;if(S.apply(d,m,v?v.start:S.pos,g),fi&&console.log(l+this.stackID(S)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${r}${S==e?"":", split"})`),y)return!0;S.pos>r?t.push(S):i.push(S)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return jQ(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let l=0;l<e.length;l++){let o=e[l],c=t[l<<1],f=t[(l<<1)+1],d=fi?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),fi&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let m=o.split(),g=d;for(let y=0;y<10&&m.forceReduce()&&(fi&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,i));y++)fi&&(g=this.stackID(m)+" -> ");for(let y of o.recoverByInsert(c))fi&&console.log(d+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,i);this.stream.end>o.pos?(f==o.pos&&(f++,c=0),o.recoverByDelete(c,f),fi&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(c)})`),jQ(o,i)):(!r||r.score<m.score)&&(r=m)}return r}stackToTree(e){return e.close(),ct.build({buffer:vm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(_0||(_0=new WeakMap)).get(e);return t||_0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function jQ(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class yF{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const C0=n=>n;class sI{constructor(e){this.start=e.start,this.shift=e.shift||C0,this.reduce=e.reduce||C0,this.reuse=e.reuse||C0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Jo extends pv{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),r=[];for(let o=0;o<t.length;o++)r.push([]);function s(o,c,f){r[o].push([c,c.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let c=o[0];typeof c=="string"&&(c=Ie[c]);for(let f=1;f<o.length;){let d=o[f++];if(d>=0)s(d,c,o[f++]);else{let m=o[f+-d];for(let g=-d;g>0;g--)s(o[f++],c,m);f++}}}this.nodeSet=new ef(t.map((o,c)=>rn.define({name:c>=this.minRepeatTerm?void 0:o,id:c,props:r[c],top:i.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=l$;let l=Ic(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(qQ),this.states=Ic(e.states,Uint32Array),this.data=Ic(e.stateData),this.goto=Ic(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Do(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new OF(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let l=r[s++],o=l&1,c=r[s++];if(o&&i)return c;for(let f=s+(l>>1);s<f;s++)if(r[s]==e)return c;if(o)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),l;;s+=3){if((l=i[s])==65535)if(i[s+1]==1)l=i[s=rs(i,s+2)];else{if(i[s+1]==2)return rs(i,s+2);break}if(l==t||l==0)return rs(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=rs(this.data,s+2);else break;r=t(rs(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=rs(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];t.some((s,l)=>l&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(Jo.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(o=>o.from==i.external);if(!s)return i;let l=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=qQ(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(i[l]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let l=this.dialects[t[s]],o;(o=this.data[l++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[o]=1;return new yF(e,i,r)}static deserialize(e){return new Jo(e)}}function rs(n,e){return n[e]|n[e+1]<<16}function bF(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function qQ(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const SF=55,vF=1,xF=56,wF=2,kF=57,_F=3,VQ=4,CF=5,zv=6,lI=7,aI=8,oI=9,uI=10,TF=11,EF=12,QF=13,T0=58,AF=14,PF=15,YQ=59,cI=21,RF=23,hI=24,MF=25,_1=27,fI=28,$F=29,DF=32,IF=35,LF=37,NF=38,zF=0,BF=1,XF={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},ZF={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},WQ={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function UF(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}let HQ=null,FQ=null,GQ=0;function C1(n,e){let t=n.pos+e;if(GQ==t&&FQ==n)return HQ;let i=n.peek(e),r="";for(;UF(i);)r+=String.fromCharCode(i),i=n.peek(++e);return FQ=n,GQ=t,HQ=r?r.toLowerCase():i==jF||i==qF?void 0:null}const dI=60,wm=62,Bv=47,jF=63,qF=33,VF=45;function KQ(n,e){this.name=n,this.parent=e}const YF=[zv,uI,lI,aI,oI],WF=new sI({start:null,shift(n,e,t,i){return YF.indexOf(e)>-1?new KQ(C1(i,1)||"",n):n},reduce(n,e){return e==cI&&n?n.parent:n},reuse(n,e,t,i){let r=e.type.id;return r==zv||r==LF?new KQ(C1(i,1)||"",n):n},strict:!1}),HF=new vi((n,e)=>{if(n.next!=dI){n.next<0&&e.context&&n.acceptToken(T0);return}n.advance();let t=n.next==Bv;t&&n.advance();let i=C1(n,0);if(i===void 0)return;if(!i)return n.acceptToken(t?PF:AF);let r=e.context?e.context.name:null;if(t){if(i==r)return n.acceptToken(TF);if(r&&ZF[r])return n.acceptToken(T0,-2);if(e.dialectEnabled(zF))return n.acceptToken(EF);for(let s=e.context;s;s=s.parent)if(s.name==i)return;n.acceptToken(QF)}else{if(i=="script")return n.acceptToken(lI);if(i=="style")return n.acceptToken(aI);if(i=="textarea")return n.acceptToken(oI);if(XF.hasOwnProperty(i))return n.acceptToken(uI);r&&WQ[r]&&WQ[r][i]?n.acceptToken(T0,-1):n.acceptToken(zv)}},{contextual:!0}),FF=new vi(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(YQ);break}if(n.next==VF)e++;else if(n.next==wm&&e>=2){t>=3&&n.acceptToken(YQ,-2);break}else e=0;n.advance()}});function GF(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const KF=new vi((n,e)=>{if(n.next==Bv&&n.peek(1)==wm){let t=e.dialectEnabled(BF)||GF(e.context);n.acceptToken(t?CF:VQ,2)}else n.next==wm&&n.acceptToken(VQ,1)});function Xv(n,e,t){let i=2+n.length;return new vi(r=>{for(let s=0,l=0,o=0;;o++){if(r.next<0){o&&r.acceptToken(e);break}if(s==0&&r.next==dI||s==1&&r.next==Bv||s>=2&&s<i&&r.next==n.charCodeAt(s-2))s++,l++;else if(s==i&&r.next==wm){o>l?r.acceptToken(e,-l):r.acceptToken(t,-(l-2));break}else if((r.next==10||r.next==13)&&o){r.acceptToken(e,1);break}else s=l=0;r.advance()}})}const JF=Xv("script",SF,vF),eG=Xv("style",xF,wF),tG=Xv("textarea",kF,_F),nG=pu({"Text RawText IncompleteTag IncompleteCloseTag":Q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,"AttributeValue UnquotedAttributeValue":Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta}),iG=Jo.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:WF,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[nG],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[JF,eG,tG,KF,HF,FF,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function pI(n,e){let t=Object.create(null);for(let i of n.getChildren(hI)){let r=i.getChild(MF),s=i.getChild(_1)||i.getChild(fI);r&&(t[e.read(r.from,r.to)]=s?s.type.id==_1?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function JQ(n,e){let t=n.getChild(RF);return t?e.read(t.from,t.to):" "}function E0(n,e,t){let i;for(let r of t)if(!r.attrs||r.attrs(i||(i=pI(n.node.parent.firstChild,e))))return{parser:r.parser,bracketed:!0};return null}function mI(n=[],e=[]){let t=[],i=[],r=[],s=[];for(let o of n)(o.tag=="script"?t:o.tag=="style"?i:o.tag=="textarea"?r:s).push(o);let l=e.length?Object.create(null):null;for(let o of e)(l[o.name]||(l[o.name]=[])).push(o);return h$((o,c)=>{let f=o.type.id;if(f==$F)return E0(o,c,t);if(f==DF)return E0(o,c,i);if(f==IF)return E0(o,c,r);if(f==cI&&s.length){let d=o.node,m=d.firstChild,g=m&&JQ(m,c),y;if(g){for(let S of s)if(S.tag==g&&(!S.attrs||S.attrs(y||(y=pI(m,c))))){let v=d.lastChild,w=v.type.id==NF?v.from:d.to;if(w>m.to)return{parser:S.parser,overlay:[{from:m.to,to:w}]}}}}if(l&&f==hI){let d=o.node,m;if(m=d.firstChild){let g=l[c.read(m.from,m.to)];if(g)for(let y of g){if(y.tagName&&y.tagName!=JQ(d.parent,c))continue;let S=d.lastChild;if(S.type.id==_1){let v=S.from+1,w=S.lastChild,k=S.to-(w&&w.isError?0:1);if(k>v)return{parser:y.parser,overlay:[{from:v,to:k}],bracketed:!0}}else if(S.type.id==fI)return{parser:y.parser,overlay:[{from:S.from,to:S.to}]}}}}return null})}const rG=122,eA=1,sG=123,lG=124,gI=2,aG=125,oG=3,uG=4,OI=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],cG=58,hG=40,yI=95,fG=91,Sp=45,dG=46,pG=35,mG=37,gG=38,OG=92,yG=10,bG=42;function $h(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function Zv(n){return n>=48&&n<=57}function tA(n){return Zv(n)||n>=97&&n<=102||n>=65&&n<=70}const bI=(n,e,t)=>(i,r)=>{for(let s=!1,l=0,o=0;;o++){let{next:c}=i;if($h(c)||c==Sp||c==yI||s&&Zv(c))!s&&(c!=Sp||o>0)&&(s=!0),l===o&&c==Sp&&l++,i.advance();else if(c==OG&&i.peek(1)!=yG){if(i.advance(),tA(i.next)){do i.advance();while(tA(i.next));i.next==32&&i.advance()}else i.next>-1&&i.advance();s=!0}else{s&&i.acceptToken(l==2&&r.canShift(gI)?e:c==hG?t:n);break}}},SG=new vi(bI(sG,gI,lG)),vG=new vi(bI(aG,oG,uG)),xG=new vi(n=>{if(OI.includes(n.peek(-1))){let{next:e}=n;($h(e)||e==yI||e==pG||e==dG||e==bG||e==fG||e==cG&&$h(n.peek(1))||e==Sp||e==gG)&&n.acceptToken(rG)}}),wG=new vi(n=>{if(!OI.includes(n.peek(-1))){let{next:e}=n;if(e==mG&&(n.advance(),n.acceptToken(eA)),$h(e)){do n.advance();while($h(n.next)||Zv(n.next));n.acceptToken(eA)}}}),kG=pu({"AtKeyword import charset namespace keyframes media supports":Q.definitionKeyword,"from to selector":Q.keyword,NamespaceName:Q.namespace,KeyframeName:Q.labelName,KeyframeRangeName:Q.operatorKeyword,TagName:Q.tagName,ClassName:Q.className,PseudoClassName:Q.constant(Q.className),IdName:Q.labelName,"FeatureName PropertyName":Q.propertyName,AttributeName:Q.attributeName,NumberLiteral:Q.number,KeywordQuery:Q.keyword,UnaryQueryOp:Q.operatorKeyword,"CallTag ValueName":Q.atom,VariableName:Q.variableName,Callee:Q.operatorKeyword,Unit:Q.unit,"UniversalSelector NestingSelector":Q.definitionOperator,"MatchOp CompareOp":Q.compareOperator,"ChildOp SiblingOp, LogicOp":Q.logicOperator,BinOp:Q.arithmeticOperator,Important:Q.modifier,Comment:Q.blockComment,ColorLiteral:Q.color,"ParenthesizedContent StringLiteral":Q.string,":":Q.punctuation,"PseudoOp #":Q.derefOperator,"; ,":Q.separator,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace}),_G={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},CG={__proto__:null,or:98,and:98,not:106,only:106,layer:170},TG={__proto__:null,selector:112,layer:166},EG={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},QG={__proto__:null,to:207},AG=Jo.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[kG],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[xG,wG,SG,vG,1,2,3,4,new xm("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:n=>_G[n]||-1},{term:125,get:n=>CG[n]||-1},{term:4,get:n=>TG[n]||-1},{term:25,get:n=>EG[n]||-1},{term:123,get:n=>QG[n]||-1}],tokenPrec:1963});let Q0=null;function A0(){if(!Q0&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let i in n)i!="cssText"&&i!="cssFloat"&&typeof n[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));Q0=e.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return Q0||[]}const nA=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),iA=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),PG=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),RG=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),is=/^(\w[\w-]*|-\w[\w-]*|)$/,MG=/^-(-[\w-]*)?$/;function $G(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let i=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(i==null?void 0:i.name)!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const rA=new c$,DG=["Declaration"];function IG(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function SI(n,e,t){if(e.to-e.from>4096){let i=rA.get(e);if(i)return i;let r=[],s=new Set,l=e.cursor(ht.IncludeAnonymous);if(l.firstChild())do for(let o of SI(n,l.node,t))s.has(o.label)||(s.add(o.label),r.push(o));while(l.nextSibling());return rA.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(s=>{var l;if(t(s)&&s.matchContext(DG)&&((l=s.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let o=n.sliceString(s.from,s.to);r.has(o)||(r.add(o),i.push({label:o,type:"variable"}))}}),i}}const LG=n=>e=>{let{state:t,pos:i}=e,r=Ct(t).resolveInner(i,-1),s=r.type.isError&&r.from==r.to-1&&t.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(s||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:A0(),validFor:is};if(r.name=="ValueName")return{from:r.from,options:iA,validFor:is};if(r.name=="PseudoClassName")return{from:r.from,options:nA,validFor:is};if(n(r)||(e.explicit||s)&&$G(r,t.doc))return{from:n(r)||s?r.from:i,options:SI(t.doc,IG(r),n),validFor:MG};if(r.name=="TagName"){for(let{parent:c}=r;c;c=c.parent)if(c.name=="Block")return{from:r.from,options:A0(),validFor:is};return{from:r.from,options:PG,validFor:is}}if(r.name=="AtKeyword")return{from:r.from,options:RG,validFor:is};if(!e.explicit)return null;let l=r.resolve(i),o=l.childBefore(i);return o&&o.name==":"&&l.name=="PseudoClassSelector"?{from:i,options:nA,validFor:is}:o&&o.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:i,options:iA,validFor:is}:l.name=="Block"||l.name=="Styles"?{from:i,options:A0(),validFor:is}:null},NG=LG(n=>n.name=="VariableName"),km=Wo.define({name:"css",parser:AG.configure({props:[tf.add({Declaration:Op()}),gu.add({"Block KeyframeList":y$})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function zG(){return new kh(km,km.data.of({autocomplete:NG}))}const BG=316,XG=317,sA=1,ZG=2,UG=3,jG=4,qG=318,VG=320,YG=321,WG=5,HG=6,FG=0,T1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],vI=125,GG=59,E1=47,KG=42,JG=43,eK=45,tK=60,nK=44,iK=63,rK=46,sK=91,lK=new sI({start:!1,shift(n,e){return e==WG||e==HG||e==VG?n:e==YG},strict:!1}),aK=new vi((n,e)=>{let{next:t}=n;(t==vI||t==-1||e.context)&&n.acceptToken(qG)},{contextual:!0,fallback:!0}),oK=new vi((n,e)=>{let{next:t}=n,i;T1.indexOf(t)>-1||t==E1&&((i=n.peek(1))==E1||i==KG)||t!=vI&&t!=GG&&t!=-1&&!e.context&&n.acceptToken(BG)},{contextual:!0}),uK=new vi((n,e)=>{n.next==sK&&!e.context&&n.acceptToken(XG)},{contextual:!0}),cK=new vi((n,e)=>{let{next:t}=n;if(t==JG||t==eK){if(n.advance(),t==n.next){n.advance();let i=!e.context&&e.canShift(sA);n.acceptToken(i?sA:ZG)}}else t==iK&&n.peek(1)==rK&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(UG))},{contextual:!0});function P0(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const hK=new vi((n,e)=>{if(n.next!=tK||!e.dialectEnabled(FG)||(n.advance(),n.next==E1))return;let t=0;for(;T1.indexOf(n.next)>-1;)n.advance(),t++;if(P0(n.next,!0)){for(n.advance(),t++;P0(n.next,!1);)n.advance(),t++;for(;T1.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==nK)return;for(let i=0;;i++){if(i==7){if(!P0(n.next,!0))return;break}if(n.next!="extends".charCodeAt(i))break;n.advance(),t++}}n.acceptToken(jG,-t)}),fK=pu({"get set async static":Q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Q.operatorKeyword,"let var const using function class extends":Q.definitionKeyword,"import export from":Q.moduleKeyword,"with debugger new":Q.keyword,TemplateString:Q.special(Q.string),super:Q.atom,BooleanLiteral:Q.bool,this:Q.self,null:Q.null,Star:Q.modifier,VariableName:Q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Q.function(Q.variableName),VariableDefinition:Q.definition(Q.variableName),Label:Q.labelName,PropertyName:Q.propertyName,PrivatePropertyName:Q.special(Q.propertyName),"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),"FunctionDeclaration/VariableDefinition":Q.function(Q.definition(Q.variableName)),"ClassDeclaration/VariableDefinition":Q.definition(Q.className),"NewExpression/VariableName":Q.className,PropertyDefinition:Q.definition(Q.propertyName),PrivatePropertyDefinition:Q.definition(Q.special(Q.propertyName)),UpdateOp:Q.updateOperator,"LineComment Hashbang":Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,Escape:Q.escape,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,RegExp:Q.regexp,Equals:Q.definitionOperator,Arrow:Q.function(Q.punctuation),": Spread":Q.punctuation,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"InterpolationStart InterpolationEnd":Q.special(Q.brace),".":Q.derefOperator,", ;":Q.separator,"@":Q.meta,TypeName:Q.typeName,TypeDefinition:Q.definition(Q.typeName),"type enum interface implements namespace module declare":Q.definitionKeyword,"abstract global Privacy readonly override":Q.modifier,"is keyof unique infer asserts":Q.operatorKeyword,JSXAttributeValue:Q.attributeValue,JSXText:Q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Q.angleBracket,"JSXIdentifier JSXNameSpacedName":Q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Q.attributeName,"JSXBuiltin/JSXIdentifier":Q.standard(Q.tagName)}),dK={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},pK={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},mK={__proto__:null,"<":193},gK=Jo.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:lK,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[fK],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[oK,uK,cK,hK,2,3,4,5,6,7,8,9,10,11,12,13,14,aK,new xm("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new xm("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:n=>dK[n]||-1},{term:343,get:n=>pK[n]||-1},{term:95,get:n=>mK[n]||-1}],tokenPrec:15201}),xI=[Yn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Yn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Yn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Yn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Yn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Yn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Yn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Yn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Yn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Yn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Yn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],OK=xI.concat([Yn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Yn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Yn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),lA=new c$,wI=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Cc(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const yK=["FunctionDeclaration"],bK={FunctionDeclaration:Cc("function"),ClassDeclaration:Cc("class"),ClassExpression:()=>!0,EnumDeclaration:Cc("constant"),TypeAliasDeclaration:Cc("type"),NamespaceDeclaration:Cc("namespace"),VariableDefinition(n,e){n.matchContext(yK)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function kI(n,e){let t=lA.get(e);if(t)return t;let i=[],r=!0;function s(l,o){let c=n.sliceString(l.from,l.to);i.push({label:c,type:o})}return e.cursor(ht.IncludeAnonymous).iterate(l=>{if(r)r=!1;else if(l.name){let o=bK[l.name];if(o&&o(l,s)||wI.has(l.name))return!1}else if(l.to-l.from>8192){for(let o of kI(n,l.node))i.push(o);return!1}}),lA.set(e,i),i}const aA=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,_I=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function SK(n){let e=Ct(n.state).resolveInner(n.pos,-1);if(_I.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&aA.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)wI.has(r.name)&&(i=i.concat(kI(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:aA}}const Rr=Wo.define({name:"javascript",parser:gK.configure({props:[tf.add({IfStatement:Op({except:/^\s*({|else\b)/}),TryStatement:Op({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:q9,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:j9({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Op({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),gu.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":y$,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),CI={test:n=>/^JSX/.test(n.name),facet:mv({commentTokens:{block:{open:"{/*",close:"*/}"}}})},TI=Rr.configure({dialect:"ts"},"typescript"),EI=Rr.configure({dialect:"jsx",props:[gv.add(n=>n.isTop?[CI]:void 0)]}),QI=Rr.configure({dialect:"jsx ts",props:[gv.add(n=>n.isTop?[CI]:void 0)]},"typescript");let AI=n=>({label:n,type:"keyword"});const PI="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(AI),vK=PI.concat(["declare","implements","private","protected","public"].map(AI));function xK(n={}){let e=n.jsx?n.typescript?QI:EI:n.typescript?TI:Rr,t=n.typescript?OK.concat(vK):xI.concat(PI);return new kh(e,[Rr.data.of({autocomplete:hW(_I,SD(t))}),Rr.data.of({autocomplete:SK}),n.jsx?_K:[]])}function wK(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function oA(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const kK=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),_K=ge.inputHandler.of((n,e,t,i,r)=>{if((kK?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Rr.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:l}=s,o=l.changeByRange(c=>{var f;let{head:d}=c,m=Ct(l).resolveInner(d-1,-1),g;if(m.name=="JSXStartTag"&&(m=m.parent),!(l.doc.sliceString(d-1,d)!=i||m.name=="JSXAttributeValue"&&m.to>d)){if(i==">"&&m.name=="JSXFragmentTag")return{range:c,changes:{from:d,insert:"</>"}};if(i=="/"&&m.name=="JSXStartCloseTag"){let y=m.parent,S=y.parent;if(S&&y.from==d-2&&((g=oA(l.doc,S.firstChild,d))||((f=S.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let v=`${g}>`;return{range:K.cursor(d+v.length,-1),changes:{from:d,insert:v}}}}else if(i==">"){let y=wK(m);if(y&&y.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(d,d+2))&&(g=oA(l.doc,y,d)))return{range:c,changes:{from:d,insert:`</${g}>`}}}}return{range:c}});return o.changes.empty?!1:(n.dispatch([s,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Tc=["_blank","_self","_top","_parent"],R0=["ascii","utf-8","utf-16","latin1","latin1"],M0=["get","post","put","delete"],$0=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],di=["true","false"],Ce={},CK={a:{attrs:{href:null,ping:null,type:null,media:null,target:Tc,hreflang:null}},abbr:Ce,address:Ce,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Ce,aside:Ce,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Ce,base:{attrs:{href:null,target:Tc}},bdi:Ce,bdo:Ce,blockquote:{attrs:{cite:null}},body:Ce,br:Ce,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:$0,formmethod:M0,formnovalidate:["novalidate"],formtarget:Tc,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Ce,center:Ce,cite:Ce,code:Ce,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Ce,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Ce,div:Ce,dl:Ce,dt:Ce,em:Ce,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Ce,figure:Ce,footer:Ce,form:{attrs:{action:null,name:null,"accept-charset":R0,autocomplete:["on","off"],enctype:$0,method:M0,novalidate:["novalidate"],target:Tc}},h1:Ce,h2:Ce,h3:Ce,h4:Ce,h5:Ce,h6:Ce,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Ce,hgroup:Ce,hr:Ce,html:{attrs:{manifest:null}},i:Ce,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:$0,formmethod:M0,formnovalidate:["novalidate"],formtarget:Tc,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Ce,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Ce,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Ce,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:R0,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Ce,noscript:Ce,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Ce,param:{attrs:{name:null,value:null}},pre:Ce,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Ce,rt:Ce,ruby:Ce,samp:Ce,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:R0}},section:Ce,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Ce,source:{attrs:{src:null,type:null,media:null}},span:Ce,strong:Ce,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Ce,summary:Ce,sup:Ce,table:Ce,tbody:Ce,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Ce,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Ce,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Ce,time:{attrs:{datetime:null}},title:Ce,tr:Ce,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Ce,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Ce},RI={accesskey:null,class:null,contenteditable:di,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:di,autocorrect:di,autocapitalize:di,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":di,"aria-autocomplete":["inline","list","both","none"],"aria-busy":di,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":di,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":di,"aria-hidden":di,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":di,"aria-multiselectable":di,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":di,"aria-relevant":null,"aria-required":di,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},MI="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of MI)RI[n]=null;let Dh=class{constructor(e,t){this.tags={...CK,...e},this.globalAttrs={...RI,...t},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};Dh.default=new Dh;function eu(n,e,t=n.length){if(!e)return"";let i=e.firstChild,r=i&&i.getChild("TagName");return r?n.sliceString(r.from,Math.min(r.to,t)):""}function tu(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function $I(n,e,t){let i=t.tags[eu(n,tu(e))];return(i==null?void 0:i.children)||t.allTags}function Uv(n,e){let t=[];for(let i=tu(e);i&&!i.type.isTop;i=tu(i.parent)){let r=eu(n,i);if(r&&i.lastChild.name=="CloseTag")break;r&&t.indexOf(r)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&t.push(r)}return t}const DI=/^[:\-\.\w\u00b7-\uffff]*$/;function uA(n,e,t,i,r){let s=/\s*>/.test(n.sliceDoc(r,r+5))?"":">",l=tu(t,t.name=="StartTag"||t.name=="TagName");return{from:i,to:r,options:$I(n.doc,l,e).map(o=>({label:o,type:"type"})).concat(Uv(n.doc,t).map((o,c)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-c}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function cA(n,e,t,i){let r=/\s*>/.test(n.sliceDoc(i,i+5))?"":">";return{from:t,to:i,options:Uv(n.doc,e).map((s,l)=>({label:s,apply:s+r,type:"type",boost:99-l})),validFor:DI}}function TK(n,e,t,i){let r=[],s=0;for(let l of $I(n.doc,t,e))r.push({label:"<"+l,type:"type"});for(let l of Uv(n.doc,t))r.push({label:"</"+l+">",type:"type",boost:99-s++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function EK(n,e,t,i,r){let s=tu(t),l=s?e.tags[eu(n.doc,s)]:null,o=l&&l.attrs?Object.keys(l.attrs):[],c=l&&l.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:r,options:c.map(f=>({label:f,type:"property"})),validFor:DI}}function QK(n,e,t,i,r){var s;let l=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),o=[],c;if(l){let f=n.sliceDoc(l.from,l.to),d=e.globalAttrs[f];if(!d){let m=tu(t),g=m?e.tags[eu(n.doc,m)]:null;d=(g==null?void 0:g.attrs)&&g.attrs[f]}if(d){let m=n.sliceDoc(i,r).toLowerCase(),g='"',y='"';/^['"]/.test(m)?(c=m[0]=='"'?/^[^"]*$/:/^[^']*$/,g="",y=n.sliceDoc(r,r+1)==m[0]?"":m[0],m=m.slice(1),i++):c=/^[^\s<>='"]*$/;for(let S of d)o.push({label:S,apply:g+S+y,type:"constant"})}}return{from:i,to:r,options:o,validFor:c}}function II(n,e){let{state:t,pos:i}=e,r=Ct(t).resolveInner(i,-1),s=r.resolve(i);for(let l=i,o;s==r&&(o=r.childBefore(l));){let c=o.lastChild;if(!c||!c.type.isError||c.from<c.to)break;s=r=o,l=c.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?cA(t,r,r.from,i):uA(t,n,r,r.from,i):r.name=="StartTag"||r.name=="IncompleteTag"?uA(t,n,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?cA(t,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?EK(t,n,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?QK(t,n,r,r.name=="Is"?i:r.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?TK(t,n,r,i):null}function AK(n){return II(Dh.default,n)}function PK(n){let{extraTags:e,extraGlobalAttributes:t}=n,i=t||e?new Dh(e,t):Dh.default;return r=>II(i,r)}const RK=Rr.parser.configure({top:"SingleExpression"}),LI=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:TI.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:EI.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:QI.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:RK},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:Rr.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:km.parser}],NI=[{name:"style",parser:km.parser.configure({top:"Styles"})}].concat(MI.map(n=>({name:n,parser:Rr.parser}))),zI=Wo.define({name:"html",parser:iG.configure({props:[tf.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let i=n.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),gu.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),P$.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),vp=zI.configure({wrap:mI(LI,NI)});function MK(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=mI((n.nestedLanguages||[]).concat(LI),(n.nestedAttributes||[]).concat(NI)));let i=t?zI.configure({wrap:t,dialect:e}):e?vp.configure({dialect:e}):vp;return new kh(i,[vp.data.of({autocomplete:PK(n)}),n.autoCloseTags!==!1?$K:[],xK().support,zG().support])}const hA=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),$K=ge.inputHandler.of((n,e,t,i,r)=>{if(n.composing||n.state.readOnly||e!=t||i!=">"&&i!="/"||!vp.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:l}=s,o=l.changeByRange(c=>{var f,d,m;let g=l.doc.sliceString(c.from-1,c.to)==i,{head:y}=c,S=Ct(l).resolveInner(y,-1),v;if(g&&i==">"&&S.name=="EndTag"){let w=S.parent;if(((d=(f=w.parent)===null||f===void 0?void 0:f.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(v=eu(l.doc,w.parent,y))&&!hA.has(v)){let k=y+(l.doc.sliceString(y,y+1)===">"?1:0),E=`</${v}>`;return{range:c,changes:{from:y,to:k,insert:E}}}}else if(g&&i=="/"&&S.name=="IncompleteCloseTag"){let w=S.parent;if(S.from==y-2&&((m=w.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(v=eu(l.doc,w,y))&&!hA.has(v)){let k=y+(l.doc.sliceString(y,y+1)===">"?1:0),E=`${v}>`;return{range:K.cursor(y+E.length,-1),changes:{from:y,to:k,insert:E}}}}return{range:c}});return o.changes.empty?!1:(n.dispatch([s,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),BI=mv({commentTokens:{block:{open:"<!--",close:"-->"}}}),XI=new Ie,ZI=GH.configure({props:[gu.add(n=>!n.is("Block")||n.is("Document")||Q1(n)!=null||DK(n)?void 0:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})),XI.add(Q1),tf.add({Document:()=>null}),la.add({Document:BI})]});function Q1(n){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(n.name);return e?+e[1]:void 0}function DK(n){return n.name=="OrderedList"||n.name=="BulletList"}function IK(n,e){let t=n;for(;;){let i=t.nextSibling,r;if(!i||(r=Q1(i.type))!=null&&r<=e)break;t=i}return t.to}const LK=O$.of((n,e,t)=>{for(let i=Ct(n).resolveInner(t,-1);i&&!(i.from<e);i=i.parent){let r=i.type.prop(XI);if(r==null)continue;let s=IK(i,r);if(s>t)return{from:t,to:s}}return null});function jv(n){return new Di(BI,n,[],"markdown")}const NK=jv(ZI),zK=ZI.configure([oF,cF,uF,hF,{props:[gu.add({Table:(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}]),_m=jv(zK);function BK(n,e){return t=>{if(t&&n){let i=null;if(t=/\S*/.exec(t)[0],typeof n=="function"?i=n(t):i=lm.matchLanguageName(n,t,!0),i instanceof lm)return i.support?i.support.language.parser:wh.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class D0{constructor(e,t,i,r,s,l,o){this.node=e,this.from=t,this.to=i,this.spaceBefore=r,this.spaceAfter=s,this.type=l,this.item=o}blank(e,t=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(t?this.spaceAfter:"")}}marker(e,t){let i=this.node.name=="OrderedList"?String(+jI(this.item,e)[2]+t):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function UI(n,e){let t=[],i=[];for(let r=n;r;r=r.parent){if(r.name=="FencedCode")return i;(r.name=="ListItem"||r.name=="Blockquote")&&t.push(r)}for(let r=t.length-1;r>=0;r--){let s=t[r],l,o=e.lineAt(s.from),c=s.from-o.from;if(s.name=="Blockquote"&&(l=/^ *>( ?)/.exec(o.text.slice(c))))i.push(new D0(s,c,c+l[0].length,"",l[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(l=/^( *)\d+([.)])( *)/.exec(o.text.slice(c)))){let f=l[3],d=l[0].length;f.length>=4&&(f=f.slice(0,f.length-4),d-=4),i.push(new D0(s.parent,c,c+d,l[1],f,l[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(l=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(o.text.slice(c)))){let f=l[4],d=l[0].length;f.length>4&&(f=f.slice(0,f.length-4),d-=4);let m=l[2];l[3]&&(m+=l[3].replace(/[xX]/," ")),i.push(new D0(s.parent,c,c+d,l[1],f,m,s))}}return i}function jI(n,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(n.from,n.from+10))}function I0(n,e,t,i=0){for(let r=-1,s=n;;){if(s.name=="ListItem"){let o=jI(s,e),c=+o[2];if(r>=0){if(c!=r+1)return;t.push({from:s.from+o[1].length,to:s.from+o[0].length,insert:String(r+2+i)})}r=c}let l=s.nextSibling;if(!l)break;s=l}}function qv(n,e){let t=/^[ \t]*/.exec(n)[0].length;if(!t||e.facet(mu)!="	")return n;let i=sr(n,4,t),r="";for(let s=i;s>0;)s>=4?(r+="	",s-=4):(r+=" ",s--);return r+n.slice(t)}const XK=(n={})=>({state:e,dispatch:t})=>{let i=Ct(e),{doc:r}=e,s=null,l=e.changeByRange(o=>{if(!o.empty||!_m.isActiveAt(e,o.from,-1)&&!_m.isActiveAt(e,o.from,1))return s={range:o};let c=o.from,f=r.lineAt(c),d=UI(i.resolveInner(c,-1),r);for(;d.length&&d[d.length-1].from>c-f.from;)d.pop();if(!d.length)return s={range:o};let m=d[d.length-1];if(m.to-m.spaceAfter.length>c-f.from)return s={range:o};let g=c>=m.to-m.spaceAfter.length&&!/\S/.test(f.text.slice(m.to));if(m.item&&g){let k=m.node.firstChild,E=m.node.getChild("ListItem","ListItem");if(k.to>=c||E&&E.to<c||f.from>0&&!/[^\s>]/.test(r.lineAt(f.from-1).text)||n.nonTightLists===!1){let C=d.length>1?d[d.length-2]:null,X,N="";C&&C.item?(X=f.from+C.from,N=C.marker(r,1)):X=f.from+(C?C.to:0);let P=[{from:X,to:c,insert:N}];return m.node.name=="OrderedList"&&I0(m.item,r,P,-2),C&&C.node.name=="OrderedList"&&I0(C.item,r,P),{range:K.cursor(X+N.length),changes:P}}else{let C=dA(d,e,f);return{range:K.cursor(c+C.length+1),changes:{from:f.from,insert:C+e.lineBreak}}}}if(m.node.name=="Blockquote"&&g&&f.from){let k=r.lineAt(f.from-1),E=/>\s*$/.exec(k.text);if(E&&E.index==m.from){let C=e.changes([{from:k.from+E.index,to:k.to},{from:f.from+m.from,to:f.to}]);return{range:o.map(C),changes:C}}}let y=[];m.node.name=="OrderedList"&&I0(m.item,r,y);let S=m.item&&m.item.from<f.from,v="";if(!S||/^[\s\d.)\-+*>]*/.exec(f.text)[0].length>=m.to)for(let k=0,E=d.length-1;k<=E;k++)v+=k==E&&!S?d[k].marker(r,1):d[k].blank(k<E?sr(f.text,4,d[k+1].from)-v.length:null);let w=c;for(;w>f.from&&/\s/.test(f.text.charAt(w-f.from-1));)w--;return v=qv(v,e),UK(m.node,e.doc)&&(v=dA(d,e,f)+e.lineBreak+v),y.push({from:w,to:c,insert:e.lineBreak+v}),{range:K.cursor(w+v.length+1),changes:y}});return s?!1:(t(e.update(l,{scrollIntoView:!0,userEvent:"input"})),!0)},ZK=XK();function fA(n){return n.name=="QuoteMark"||n.name=="ListMark"}function UK(n,e){if(n.name!="OrderedList"&&n.name!="BulletList")return!1;let t=n.firstChild,i=n.getChild("ListItem","ListItem");if(!i)return!1;let r=e.lineAt(t.to),s=e.lineAt(i.from),l=/^[\s>]*$/.test(r.text);return r.number+(l?0:1)<s.number}function dA(n,e,t){let i="";for(let r=0,s=n.length-2;r<=s;r++)i+=n[r].blank(r<s?sr(t.text,4,n[r+1].from)-i.length:null,r<s);return qv(i,e)}function jK(n,e){let t=n.resolveInner(e,-1),i=e;fA(t)&&(i=t.from,t=t.parent);for(let r;r=t.childBefore(i);)if(fA(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")t=r.lastChild,i=t.to;else break;return t}const qK=({state:n,dispatch:e})=>{let t=Ct(n),i=null,r=n.changeByRange(s=>{let l=s.from,{doc:o}=n;if(s.empty&&_m.isActiveAt(n,s.from)){let c=o.lineAt(l),f=UI(jK(t,l),o);if(f.length){let d=f[f.length-1],m=d.to-d.spaceAfter.length+(d.spaceAfter?1:0);if(l-c.from>m&&!/\S/.test(c.text.slice(m,l-c.from)))return{range:K.cursor(c.from+m),changes:{from:c.from+m,to:l}};if(l-c.from==m&&(!d.item||c.from<=d.item.from||!/\S/.test(c.text.slice(0,d.to)))){let g=c.from+d.from;if(d.item&&d.node.from<d.item.from&&/\S/.test(c.text.slice(d.from,d.to))){let y=d.blank(sr(c.text,4,d.to)-sr(c.text,4,d.from));return g==c.from&&(y=qv(y,n)),{range:K.cursor(g+y.length),changes:{from:g,to:c.from+d.to,insert:y}}}if(g<l)return{range:K.cursor(g),changes:{from:g,to:l}}}}}return i={range:s}});return i?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},VK=[{key:"Enter",run:ZK},{key:"Backspace",run:qK}],qI=MK({matchClosingTags:!1});function YK(n={}){let{codeLanguages:e,defaultCodeLanguage:t,addKeymap:i=!0,base:{parser:r}=NK,completeHTMLTags:s=!0,pasteURLAsLink:l=!0,htmlTagLanguage:o=qI}=n;if(!(r instanceof sg))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let c=n.extensions?[n.extensions]:[],f=[o.support,LK],d;l&&f.push(GK),t instanceof kh?(f.push(t.support),d=t.language):t&&(d=t);let m=e||d?BK(e,d):void 0;c.push(JH({codeParser:m,htmlParser:o.language.parser})),i&&f.push(ks.high(du.of(VK)));let g=jv(r.configure(c));return s&&f.push(g.data.of({autocomplete:WK})),new kh(g,f)}function WK(n){let{state:e,pos:t}=n,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(t-25,t));if(!i)return null;let r=Ct(e).resolveInner(t,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:t-i[0].length,to:t,options:HK(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let L0=null;function HK(){if(L0)return L0;let n=AK(new Cv(Je.create({extensions:qI}),0,!0));return L0=n?n.options:[]}const FK=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,GK=ge.domEventHandlers({paste:(n,e)=>{var t;let{main:i}=e.state.selection;if(i.empty)return!1;let r=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("text/plain");if(!r||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(r)||(/^www\./.test(r)&&(r="https://"+r),!_m.isActiveAt(e.state,i.from,1)))return!1;let s=Ct(e.state),l=!1;return s.iterate({from:i.from,to:i.to,enter:o=>{(o.from>i.from||FK.test(o.name))&&(l=!0)},leave:o=>{o.to<i.to&&(l=!0)}}),l?!1:(e.dispatch({changes:[{from:i.from,insert:"["},{from:i.to,insert:`](${r})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}});function KK(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const JK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eJ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tJ={};function pA(n,e){return(tJ.jsx?eJ:JK).test(n)}const nJ=/[ \t\n\f\r]/g;function iJ(n){return typeof n=="object"?n.type==="text"?mA(n.value):!1:mA(n)}function mA(n){return n.replace(nJ,"")===""}class of{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}of.prototype.normal={};of.prototype.property={};of.prototype.space=void 0;function VI(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new of(t,i,e)}function A1(n){return n.toLowerCase()}class ii{constructor(e,t){this.attribute=t,this.property=e}}ii.prototype.attribute="";ii.prototype.booleanish=!1;ii.prototype.boolean=!1;ii.prototype.commaOrSpaceSeparated=!1;ii.prototype.commaSeparated=!1;ii.prototype.defined=!1;ii.prototype.mustUseProperty=!1;ii.prototype.number=!1;ii.prototype.overloadedBoolean=!1;ii.prototype.property="";ii.prototype.spaceSeparated=!1;ii.prototype.space=void 0;let rJ=0;const Ze=wa(),Ft=wa(),P1=wa(),ue=wa(),Tt=wa(),Io=wa(),mi=wa();function wa(){return 2**++rJ}const R1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:Ft,commaOrSpaceSeparated:mi,commaSeparated:Io,number:ue,overloadedBoolean:P1,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),N0=Object.keys(R1);class Vv extends ii{constructor(e,t,i,r){let s=-1;if(super(e,t),gA(this,"space",r),typeof i=="number")for(;++s<N0.length;){const l=N0[s];gA(this,N0[s],(i&R1[l])===R1[l])}}}Vv.prototype.defined=!0;function gA(n,e,t){t&&(n[e]=t)}function Su(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const s=new Vv(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[A1(i)]=i,t[A1(s.attribute)]=i}return new of(e,t,n.space)}const YI=Su({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:Tt,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:ue,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:Tt,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:Ft,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function WI(n,e){return e in n?n[e]:e}function HI(n,e){return WI(n,e.toLowerCase())}const sJ=Su({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Io,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:Tt,autoFocus:Ze,autoPlay:Ze,blocking:Tt,capture:null,charSet:null,checked:Ze,cite:null,className:Tt,cols:ue,colSpan:null,content:null,contentEditable:Ft,controls:Ze,controlsList:Tt,coords:ue|Io,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:P1,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:Tt,height:ue,hidden:P1,high:ue,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:Ze,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:Ze,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:ue,pattern:null,ping:Tt,placeholder:null,playsInline:Ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:Tt,required:Ze,reversed:Ze,rows:ue,rowSpan:ue,sandbox:Tt,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shadowRootClonable:Ze,shadowRootDelegatesFocus:Ze,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:Ft,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:HI}),lJ=Su({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mi,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Io,g2:Io,glyphName:Io,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mi,rev:mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mi,requiredFeatures:mi,requiredFonts:mi,requiredFormats:mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mi,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:WI}),FI=Su({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),GI=Su({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:HI}),KI=Su({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),aJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oJ=/[A-Z]/g,OA=/-[a-z]/g,uJ=/^data[-\w.:]+$/i;function cJ(n,e){const t=A1(e);let i=e,r=ii;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&uJ.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(OA,fJ);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!OA.test(s)){let l=s.replace(oJ,hJ);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}r=Vv}return new r(i,e)}function hJ(n){return"-"+n.toLowerCase()}function fJ(n){return n.charAt(1).toUpperCase()}const dJ=VI([YI,sJ,FI,GI,KI],"html"),Yv=VI([YI,lJ,FI,GI,KI],"svg");function pJ(n){return n.join(" ").trim()}var ho={},z0,yA;function mJ(){if(yA)return z0;yA=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,f="/",d="*",m="",g="comment",y="declaration";function S(w,k){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];k=k||{};var E=1,C=1;function X(oe){var ne=oe.match(e);ne&&(E+=ne.length);var B=oe.lastIndexOf(c);C=~B?oe.length-B:C+oe.length}function N(){var oe={line:E,column:C};return function(ne){return ne.position=new P(oe),te(),ne}}function P(oe){this.start=oe,this.end={line:E,column:C},this.source=k.source}P.prototype.content=w;function I(oe){var ne=new Error(k.source+":"+E+":"+C+": "+oe);if(ne.reason=oe,ne.filename=k.source,ne.line=E,ne.column=C,ne.source=w,!k.silent)throw ne}function ae(oe){var ne=oe.exec(w);if(ne){var B=ne[0];return X(B),w=w.slice(B.length),ne}}function te(){ae(t)}function L(oe){var ne;for(oe=oe||[];ne=F();)ne!==!1&&oe.push(ne);return oe}function F(){var oe=N();if(!(f!=w.charAt(0)||d!=w.charAt(1))){for(var ne=2;m!=w.charAt(ne)&&(d!=w.charAt(ne)||f!=w.charAt(ne+1));)++ne;if(ne+=2,m===w.charAt(ne-1))return I("End of comment missing");var B=w.slice(2,ne-2);return C+=2,X(B),w=w.slice(ne),C+=2,oe({type:g,comment:B})}}function H(){var oe=N(),ne=ae(i);if(ne){if(F(),!ae(r))return I("property missing ':'");var B=ae(s),ie=oe({type:y,property:v(ne[0].replace(n,m)),value:B?v(B[0].replace(n,m)):m});return ae(l),ie}}function fe(){var oe=[];L(oe);for(var ne;ne=H();)ne!==!1&&(oe.push(ne),L(oe));return oe}return te(),fe()}function v(w){return w?w.replace(o,m):m}return z0=S,z0}var bA;function gJ(){if(bA)return ho;bA=1;var n=ho&&ho.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ho,"__esModule",{value:!0}),ho.default=t;const e=n(mJ());function t(i,r){let s=null;if(!i||typeof i!="string")return s;const l=(0,e.default)(i),o=typeof r=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:d}=c;o?r(f,d,c):d&&(s=s||{},s[f]=d)}),s}return ho}var Ec={},SA;function OJ(){if(SA)return Ec;SA=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(f){return!f||t.test(f)||n.test(f)},l=function(f,d){return d.toUpperCase()},o=function(f,d){return"".concat(d,"-")},c=function(f,d){return d===void 0&&(d={}),s(f)?f:(f=f.toLowerCase(),d.reactCompat?f=f.replace(r,o):f=f.replace(i,o),f.replace(e,l))};return Ec.camelCase=c,Ec}var Qc,vA;function yJ(){if(vA)return Qc;vA=1;var n=Qc&&Qc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(gJ()),t=OJ();function i(r,s){var l={};return!r||typeof r!="string"||(0,e.default)(r,function(o,c){o&&c&&(l[(0,t.camelCase)(o,s)]=c)}),l}return i.default=i,Qc=i,Qc}var bJ=yJ();const SJ=X1(bJ),JI=eL("end"),Wv=eL("start");function eL(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function vJ(n){const e=Wv(n),t=JI(n);if(e&&t)return{start:e,end:t}}function Jc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?xA(n.position):"start"in n||"end"in n?xA(n):"line"in n||"column"in n?M1(n):""}function M1(n){return wA(n&&n.line)+":"+wA(n&&n.column)}function xA(n){return M1(n&&n.start)+"-"+M1(n&&n.end)}function wA(n){return n&&typeof n=="number"?n:1}class Rn extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",s={},l=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?r=e:!s.cause&&e&&(l=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?s.ruleId=i:(s.source=i.slice(0,c),s.ruleId=i.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=Jc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rn.prototype.file="";Rn.prototype.name="";Rn.prototype.reason="";Rn.prototype.message="";Rn.prototype.stack="";Rn.prototype.column=void 0;Rn.prototype.line=void 0;Rn.prototype.ancestors=void 0;Rn.prototype.cause=void 0;Rn.prototype.fatal=void 0;Rn.prototype.place=void 0;Rn.prototype.ruleId=void 0;Rn.prototype.source=void 0;const Hv={}.hasOwnProperty,xJ=new Map,wJ=/[A-Z]/g,kJ=new Set(["table","tbody","thead","tfoot","tr"]),_J=new Set(["td","th"]),tL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function CJ(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=$J(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=MJ(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Yv:dJ,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=nL(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function nL(n,e,t){if(e.type==="element")return TJ(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return EJ(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return AJ(n,e,t);if(e.type==="mdxjsEsm")return QJ(n,e);if(e.type==="root")return PJ(n,e,t);if(e.type==="text")return RJ(n,e)}function TJ(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Yv,n.schema=r),n.ancestors.push(e);const s=rL(n,e.tagName,!1),l=DJ(n,e);let o=Gv(n,e);return kJ.has(e.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!iJ(c):!0})),iL(n,l,s,e),Fv(l,o),n.ancestors.pop(),n.schema=i,n.create(e,s,l,t)}function EJ(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Ih(n,e.position)}function QJ(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Ih(n,e.position)}function AJ(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=Yv,n.schema=r),n.ancestors.push(e);const s=e.name===null?n.Fragment:rL(n,e.name,!0),l=IJ(n,e),o=Gv(n,e);return iL(n,l,s,e),Fv(l,o),n.ancestors.pop(),n.schema=i,n.create(e,s,l,t)}function PJ(n,e,t){const i={};return Fv(i,Gv(n,e)),n.create(e,n.Fragment,i,t)}function RJ(n,e){return e.value}function iL(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function Fv(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function MJ(n,e,t){return i;function i(r,s,l,o){const f=Array.isArray(l.children)?t:e;return o?f(s,l,o):f(s,l)}}function $J(n,e){return t;function t(i,r,s,l){const o=Array.isArray(s.children),c=Wv(i);return e(r,s,l,o,{columnNumber:c?c.column-1:void 0,fileName:n,lineNumber:c?c.line:void 0},void 0)}}function DJ(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&Hv.call(e.properties,r)){const s=LJ(n,r,e.properties[r]);if(s){const[l,o]=s;n.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&_J.has(e.tagName)?i=o:t[l]=o}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function IJ(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const l=s.expression;l.type;const o=l.properties[0];o.type,Object.assign(t,n.evaluater.evaluateExpression(o.argument))}else Ih(n,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const o=i.value.data.estree.body[0];o.type,s=n.evaluater.evaluateExpression(o.expression)}else Ih(n,e.position);else s=i.value===null?!0:i.value;t[r]=s}return t}function Gv(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:xJ;for(;++i<e.children.length;){const s=e.children[i];let l;if(n.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const f=r.get(c)||0;l=c+"-"+f,r.set(c,f+1)}}const o=nL(n,s,l);o!==void 0&&t.push(o)}return t}function LJ(n,e,t){const i=cJ(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?KK(t):pJ(t)),i.property==="style"){let r=typeof t=="object"?t:NJ(n,String(t));return n.stylePropertyNameCase==="css"&&(r=zJ(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?aJ[i.property]||i.property:i.attribute,t]}}function NJ(n,e){try{return SJ(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Rn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=tL+"#cannot-parse-style-attribute",r}}function rL(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,l;for(;++s<r.length;){const o=pA(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}i=l}else i=pA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return Hv.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Ih(n)}function Ih(n,e){const t=new Rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=tL+"#cannot-handle-mdx-estrees-without-createevaluater",t}function zJ(n){const e={};let t;for(t in n)Hv.call(n,t)&&(e[BJ(t)]=n[t]);return e}function BJ(n){let e=n.replace(wJ,XJ);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function XJ(n){return"-"+n.toLowerCase()}const B0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ZJ={};function Kv(n,e){const t=ZJ,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return sL(n,i,r)}function sL(n,e,t){if(UJ(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return kA(n.children,e,t)}return Array.isArray(n)?kA(n,e,t):""}function kA(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=sL(n[r],e,t);return i.join("")}function UJ(n){return!!(n&&typeof n=="object")}const _A=document.createElement("i");function Jv(n){const e="&"+n+";";_A.innerHTML=e;const t=_A.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Si(n,e,t,i){const r=n.length;let s=0,l;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);s<i.length;)l=i.slice(s,s+1e4),l.unshift(e,0),n.splice(...l),s+=1e4,e+=1e4}function Ri(n,e){return n.length>0?(Si(n,n.length,0,e),n):e}const CA={}.hasOwnProperty;function lL(n){const e={};let t=-1;for(;++t<n.length;)jJ(e,n[t]);return e}function jJ(n,e){let t;for(t in e){const r=(CA.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let l;if(s)for(l in s){CA.call(r,l)||(r[l]=[]);const o=s[l];qJ(r[l],Array.isArray(o)?o:o?[o]:[])}}}function qJ(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Si(n,0,0,i)}function aL(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function ir(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dn=_l(/[A-Za-z]/),Qn=_l(/[\dA-Za-z]/),VJ=_l(/[#-'*+\--9=?A-Z^-~]/);function Cm(n){return n!==null&&(n<32||n===127)}const $1=_l(/\d/),YJ=_l(/[\dA-Fa-f]/),WJ=_l(/[!-/:-@[-`{-~]/);function Ae(n){return n!==null&&n<-2}function kt(n){return n!==null&&(n<0||n===32)}function Fe(n){return n===-2||n===-1||n===32}const lg=_l(new RegExp("\\p{P}|\\p{S}","u")),va=_l(/\s/);function _l(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function vu(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const s=n.charCodeAt(t);let l="";if(s===37&&Qn(n.charCodeAt(t+1))&&Qn(n.charCodeAt(t+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const o=n.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(l=String.fromCharCode(s,o),r=1):l=""}else l=String.fromCharCode(s);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+r+1,l=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function it(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(c){return Fe(c)?(n.enter(t),o(c)):e(c)}function o(c){return Fe(c)&&s++<r?(n.consume(c),o):(n.exit(t),e(c))}}const HJ={tokenize:FJ};function FJ(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),it(n,e,"linePrefix")}function r(o){return n.enter("paragraph"),s(o)}function s(o){const c=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,l(o)}function l(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return Ae(o)?(n.consume(o),n.exit("chunkText"),s):(n.consume(o),l)}}const GJ={tokenize:KJ},TA={tokenize:JJ};function KJ(n){const e=this,t=[];let i=0,r,s,l;return o;function o(C){if(i<t.length){const X=t[i];return e.containerState=X[1],n.attempt(X[0].continuation,c,f)(C)}return f(C)}function c(C){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&E();const X=e.events.length;let N=X,P;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){P=e.events[N][1].end;break}k(i);let I=X;for(;I<e.events.length;)e.events[I][1].end={...P},I++;return Si(e.events,N+1,0,e.events.slice(X)),e.events.length=I,f(C)}return o(C)}function f(C){if(i===t.length){if(!r)return g(C);if(r.currentConstruct&&r.currentConstruct.concrete)return S(C);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(TA,d,m)(C)}function d(C){return r&&E(),k(i),g(C)}function m(C){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,S(C)}function g(C){return e.containerState={},n.attempt(TA,y,S)(C)}function y(C){return i++,t.push([e.currentConstruct,e.containerState]),g(C)}function S(C){if(C===null){r&&E(),k(0),n.consume(C);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),v(C)}function v(C){if(C===null){w(n.exit("chunkFlow"),!0),k(0),n.consume(C);return}return Ae(C)?(n.consume(C),w(n.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(n.consume(C),v)}function w(C,X){const N=e.sliceStream(C);if(X&&N.push(null),C.previous=s,s&&(s.next=C),s=C,r.defineSkip(C.start),r.write(N),e.parser.lazy[C.start.line]){let P=r.events.length;for(;P--;)if(r.events[P][1].start.offset<l&&(!r.events[P][1].end||r.events[P][1].end.offset>l))return;const I=e.events.length;let ae=I,te,L;for(;ae--;)if(e.events[ae][0]==="exit"&&e.events[ae][1].type==="chunkFlow"){if(te){L=e.events[ae][1].end;break}te=!0}for(k(i),P=I;P<e.events.length;)e.events[P][1].end={...L},P++;Si(e.events,ae+1,0,e.events.slice(I)),e.events.length=P}}function k(C){let X=t.length;for(;X-- >C;){const N=t[X];e.containerState=N[1],N[0].exit.call(e,n)}t.length=C}function E(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function JJ(n,e,t){return it(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nu(n){if(n===null||kt(n)||va(n))return 1;if(lg(n))return 2}function ag(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const D1={name:"attention",resolveAll:eee,tokenize:tee};function eee(n,e){let t=-1,i,r,s,l,o,c,f,d;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;c=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m={...n[i][1].end},g={...n[t][1].start};EA(m,-c),EA(g,c),l={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:c>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},n[i][1].end={...l.start},n[t][1].start={...o.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=Ri(f,[["enter",n[i][1],e],["exit",n[i][1],e]])),f=Ri(f,[["enter",r,e],["enter",l,e],["exit",l,e],["enter",s,e]]),f=Ri(f,ag(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),f=Ri(f,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(d=2,f=Ri(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):d=0,Si(n,i-1,t-i+3,f),t=i+f.length-d-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function tee(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=nu(i);let s;return l;function l(c){return s=c,n.enter("attentionSequence"),o(c)}function o(c){if(c===s)return n.consume(c),o;const f=n.exit("attentionSequence"),d=nu(c),m=!d||d===2&&r||t.includes(c),g=!r||r===2&&d||t.includes(i);return f._open=!!(s===42?m:m&&(r||!g)),f._close=!!(s===42?g:g&&(d||!m)),e(c)}}function EA(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const nee={name:"autolink",tokenize:iee};function iee(n,e,t){let i=0;return r;function r(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(y){return Dn(y)?(n.consume(y),l):y===64?t(y):f(y)}function l(y){return y===43||y===45||y===46||Qn(y)?(i=1,o(y)):f(y)}function o(y){return y===58?(n.consume(y),i=0,c):(y===43||y===45||y===46||Qn(y))&&i++<32?(n.consume(y),o):(i=0,f(y))}function c(y){return y===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):y===null||y===32||y===60||Cm(y)?t(y):(n.consume(y),c)}function f(y){return y===64?(n.consume(y),d):VJ(y)?(n.consume(y),f):t(y)}function d(y){return Qn(y)?m(y):t(y)}function m(y){return y===46?(n.consume(y),i=0,d):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):g(y)}function g(y){if((y===45||Qn(y))&&i++<63){const S=y===45?g:m;return n.consume(y),S}return t(y)}}const uf={partial:!0,tokenize:ree};function ree(n,e,t){return i;function i(s){return Fe(s)?it(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||Ae(s)?e(s):t(s)}}const oL={continuation:{tokenize:lee},exit:aee,name:"blockQuote",tokenize:see};function see(n,e,t){const i=this;return r;function r(l){if(l===62){const o=i.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),s}return t(l)}function s(l){return Fe(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function lee(n,e,t){const i=this;return r;function r(l){return Fe(l)?it(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return n.attempt(oL,e,t)(l)}}function aee(n){n.exit("blockQuote")}const uL={name:"characterEscape",tokenize:oee};function oee(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return WJ(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const cL={name:"characterReference",tokenize:uee};function uee(n,e,t){const i=this;let r=0,s,l;return o;function o(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),c}function c(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,l=Qn,d(m))}function f(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,l=YJ,d):(n.enter("characterReferenceValue"),s=7,l=$1,d(m))}function d(m){if(m===59&&r){const g=n.exit("characterReferenceValue");return l===Qn&&!Jv(i.sliceSerialize(g))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(m)&&r++<s?(n.consume(m),d):t(m)}}const QA={partial:!0,tokenize:hee},AA={concrete:!0,name:"codeFenced",tokenize:cee};function cee(n,e,t){const i=this,r={partial:!0,tokenize:N};let s=0,l=0,o;return c;function c(P){return f(P)}function f(P){const I=i.events[i.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=P,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),d(P)}function d(P){return P===o?(l++,n.consume(P),d):l<3?t(P):(n.exit("codeFencedFenceSequence"),Fe(P)?it(n,m,"whitespace")(P):m(P))}function m(P){return P===null||Ae(P)?(n.exit("codeFencedFence"),i.interrupt?e(P):n.check(QA,v,X)(P)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Ae(P)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(P)):Fe(P)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),it(n,y,"whitespace")(P)):P===96&&P===o?t(P):(n.consume(P),g)}function y(P){return P===null||Ae(P)?m(P):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(P))}function S(P){return P===null||Ae(P)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(P)):P===96&&P===o?t(P):(n.consume(P),S)}function v(P){return n.attempt(r,X,w)(P)}function w(P){return n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),k}function k(P){return s>0&&Fe(P)?it(n,E,"linePrefix",s+1)(P):E(P)}function E(P){return P===null||Ae(P)?n.check(QA,v,X)(P):(n.enter("codeFlowValue"),C(P))}function C(P){return P===null||Ae(P)?(n.exit("codeFlowValue"),E(P)):(n.consume(P),C)}function X(P){return n.exit("codeFenced"),e(P)}function N(P,I,ae){let te=0;return L;function L(ne){return P.enter("lineEnding"),P.consume(ne),P.exit("lineEnding"),F}function F(ne){return P.enter("codeFencedFence"),Fe(ne)?it(P,H,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):H(ne)}function H(ne){return ne===o?(P.enter("codeFencedFenceSequence"),fe(ne)):ae(ne)}function fe(ne){return ne===o?(te++,P.consume(ne),fe):te>=l?(P.exit("codeFencedFenceSequence"),Fe(ne)?it(P,oe,"whitespace")(ne):oe(ne)):ae(ne)}function oe(ne){return ne===null||Ae(ne)?(P.exit("codeFencedFence"),I(ne)):ae(ne)}}}function hee(n,e,t){const i=this;return r;function r(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s)}function s(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const X0={name:"codeIndented",tokenize:dee},fee={partial:!0,tokenize:pee};function dee(n,e,t){const i=this;return r;function r(f){return n.enter("codeIndented"),it(n,s,"linePrefix",5)(f)}function s(f){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(f):t(f)}function l(f){return f===null?c(f):Ae(f)?n.attempt(fee,l,c)(f):(n.enter("codeFlowValue"),o(f))}function o(f){return f===null||Ae(f)?(n.exit("codeFlowValue"),l(f)):(n.consume(f),o)}function c(f){return n.exit("codeIndented"),e(f)}}function pee(n,e,t){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?t(l):Ae(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):it(n,s,"linePrefix",5)(l)}function s(l){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(l):Ae(l)?r(l):t(l)}}const mee={name:"codeText",previous:Oee,resolve:gee,tokenize:yee};function gee(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function Oee(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yee(n,e,t){let i=0,r,s;return l;function l(m){return n.enter("codeText"),n.enter("codeTextSequence"),o(m)}function o(m){return m===96?(n.consume(m),i++,o):(n.exit("codeTextSequence"),c(m))}function c(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),c):m===96?(s=n.enter("codeTextSequence"),r=0,d(m)):Ae(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),c):(n.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ae(m)?(n.exit("codeTextData"),c(m)):(n.consume(m),f)}function d(m){return m===96?(n.consume(m),r++,d):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(s.type="codeTextData",f(m))}}class bee{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Ac(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ac(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ac(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Ac(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ac(this.left,t.reverse())}}}function Ac(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function hL(n){const e={};let t=-1,i,r,s,l,o,c,f;const d=new bee(n);for(;++t<d.length;){for(;t in e;)t=e[t];if(i=d.get(t),t&&i[1].type==="chunkFlow"&&d.get(t-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,See(d,t)),t=e[t],f=!0);else if(i[1]._container){for(s=t,r=void 0;s--;)if(l=d.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},o=d.slice(r,t),o.unshift(i),d.splice(r,t-r+1,o))}}return Si(n,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function See(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const s=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,c=[],f={};let d,m,g=-1,y=t,S=0,v=0;const w=[v];for(;y;){for(;n.get(++r)[1]!==y;);s.push(r),y._tokenizer||(d=i.sliceStream(y),y.next||d.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=t;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(v=g+1,w.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):w.pop(),g=w.length;g--;){const k=o.slice(w[g],w[g+1]),E=s.pop();c.push([E,E+k.length-1]),n.splice(E,2,k)}for(c.reverse(),g=-1;++g<c.length;)f[S+c[g][0]]=S+c[g][1],S+=c[g][1]-c[g][0]-1;return f}const vee={resolve:wee,tokenize:kee},xee={partial:!0,tokenize:_ee};function wee(n){return hL(n),n}function kee(n,e){let t;return i;function i(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?s(o):Ae(o)?n.check(xee,l,s)(o):(n.consume(o),r)}function s(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function l(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function _ee(n,e,t){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),it(n,s,"linePrefix")}function s(l){if(l===null||Ae(l))return t(l);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function fL(n,e,t,i,r,s,l,o,c){const f=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(k){return k===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(k),n.exit(s),g):k===null||k===32||k===41||Cm(k)?t(k):(n.enter(i),n.enter(l),n.enter(o),n.enter("chunkString",{contentType:"string"}),v(k))}function g(k){return k===62?(n.enter(s),n.consume(k),n.exit(s),n.exit(r),n.exit(i),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(n.exit("chunkString"),n.exit(o),g(k)):k===null||k===60||Ae(k)?t(k):(n.consume(k),k===92?S:y)}function S(k){return k===60||k===62||k===92?(n.consume(k),y):y(k)}function v(k){return!d&&(k===null||k===41||kt(k))?(n.exit("chunkString"),n.exit(o),n.exit(l),n.exit(i),e(k)):d<f&&k===40?(n.consume(k),d++,v):k===41?(n.consume(k),d--,v):k===null||k===32||k===40||Cm(k)?t(k):(n.consume(k),k===92?w:v)}function w(k){return k===40||k===41||k===92?(n.consume(k),v):v(k)}}function dL(n,e,t,i,r,s){const l=this;let o=0,c;return f;function f(y){return n.enter(i),n.enter(r),n.consume(y),n.exit(r),n.enter(s),d}function d(y){return o>999||y===null||y===91||y===93&&!c||y===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?t(y):y===93?(n.exit(s),n.enter(r),n.consume(y),n.exit(r),n.exit(i),e):Ae(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),d):(n.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Ae(y)||o++>999?(n.exit("chunkString"),d(y)):(n.consume(y),c||(c=!Fe(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(n.consume(y),o++,m):m(y)}}function pL(n,e,t,i,r,s){let l;return o;function o(g){return g===34||g===39||g===40?(n.enter(i),n.enter(r),n.consume(g),n.exit(r),l=g===40?41:g,c):t(g)}function c(g){return g===l?(n.enter(r),n.consume(g),n.exit(r),n.exit(i),e):(n.enter(s),f(g))}function f(g){return g===l?(n.exit(s),c(l)):g===null?t(g):Ae(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),it(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===l||g===null||Ae(g)?(n.exit("chunkString"),f(g)):(n.consume(g),g===92?m:d)}function m(g){return g===l||g===92?(n.consume(g),d):d(g)}}function eh(n,e){let t;return i;function i(r){return Ae(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Fe(r)?it(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const Cee={name:"definition",tokenize:Eee},Tee={partial:!0,tokenize:Qee};function Eee(n,e,t){const i=this;let r;return s;function s(y){return n.enter("definition"),l(y)}function l(y){return dL.call(i,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return r=ir(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(n.enter("definitionMarker"),n.consume(y),n.exit("definitionMarker"),c):t(y)}function c(y){return kt(y)?eh(n,f)(y):f(y)}function f(y){return fL(n,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return n.attempt(Tee,m,m)(y)}function m(y){return Fe(y)?it(n,g,"whitespace")(y):g(y)}function g(y){return y===null||Ae(y)?(n.exit("definition"),i.parser.defined.push(r),e(y)):t(y)}}function Qee(n,e,t){return i;function i(o){return kt(o)?eh(n,r)(o):t(o)}function r(o){return pL(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Fe(o)?it(n,l,"whitespace")(o):l(o)}function l(o){return o===null||Ae(o)?e(o):t(o)}}const Aee={name:"hardBreakEscape",tokenize:Pee};function Pee(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return Ae(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const Ree={name:"headingAtx",resolve:Mee,tokenize:$ee};function Mee(n,e){let t=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Si(n,i,t-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),n}function $ee(n,e,t){let i=0;return r;function r(d){return n.enter("atxHeading"),s(d)}function s(d){return n.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&i++<6?(n.consume(d),l):d===null||kt(d)?(n.exit("atxHeadingSequence"),o(d)):t(d)}function o(d){return d===35?(n.enter("atxHeadingSequence"),c(d)):d===null||Ae(d)?(n.exit("atxHeading"),e(d)):Fe(d)?it(n,o,"whitespace")(d):(n.enter("atxHeadingText"),f(d))}function c(d){return d===35?(n.consume(d),c):(n.exit("atxHeadingSequence"),o(d))}function f(d){return d===null||d===35||kt(d)?(n.exit("atxHeadingText"),o(d)):(n.consume(d),f)}}const Dee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PA=["pre","script","style","textarea"],Iee={concrete:!0,name:"htmlFlow",resolveTo:zee,tokenize:Bee},Lee={partial:!0,tokenize:Zee},Nee={partial:!0,tokenize:Xee};function zee(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Bee(n,e,t){const i=this;let r,s,l,o,c;return f;function f(T){return d(T)}function d(T){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(T),m}function m(T){return T===33?(n.consume(T),g):T===47?(n.consume(T),s=!0,v):T===63?(n.consume(T),r=3,i.interrupt?e:A):Dn(T)?(n.consume(T),l=String.fromCharCode(T),w):t(T)}function g(T){return T===45?(n.consume(T),r=2,y):T===91?(n.consume(T),r=5,o=0,S):Dn(T)?(n.consume(T),r=4,i.interrupt?e:A):t(T)}function y(T){return T===45?(n.consume(T),i.interrupt?e:A):t(T)}function S(T){const he="CDATA[";return T===he.charCodeAt(o++)?(n.consume(T),o===he.length?i.interrupt?e:H:S):t(T)}function v(T){return Dn(T)?(n.consume(T),l=String.fromCharCode(T),w):t(T)}function w(T){if(T===null||T===47||T===62||kt(T)){const he=T===47,_e=l.toLowerCase();return!he&&!s&&PA.includes(_e)?(r=1,i.interrupt?e(T):H(T)):Dee.includes(l.toLowerCase())?(r=6,he?(n.consume(T),k):i.interrupt?e(T):H(T)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(T):s?E(T):C(T))}return T===45||Qn(T)?(n.consume(T),l+=String.fromCharCode(T),w):t(T)}function k(T){return T===62?(n.consume(T),i.interrupt?e:H):t(T)}function E(T){return Fe(T)?(n.consume(T),E):L(T)}function C(T){return T===47?(n.consume(T),L):T===58||T===95||Dn(T)?(n.consume(T),X):Fe(T)?(n.consume(T),C):L(T)}function X(T){return T===45||T===46||T===58||T===95||Qn(T)?(n.consume(T),X):N(T)}function N(T){return T===61?(n.consume(T),P):Fe(T)?(n.consume(T),N):C(T)}function P(T){return T===null||T===60||T===61||T===62||T===96?t(T):T===34||T===39?(n.consume(T),c=T,I):Fe(T)?(n.consume(T),P):ae(T)}function I(T){return T===c?(n.consume(T),c=null,te):T===null||Ae(T)?t(T):(n.consume(T),I)}function ae(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||kt(T)?N(T):(n.consume(T),ae)}function te(T){return T===47||T===62||Fe(T)?C(T):t(T)}function L(T){return T===62?(n.consume(T),F):t(T)}function F(T){return T===null||Ae(T)?H(T):Fe(T)?(n.consume(T),F):t(T)}function H(T){return T===45&&r===2?(n.consume(T),B):T===60&&r===1?(n.consume(T),ie):T===62&&r===4?(n.consume(T),M):T===63&&r===3?(n.consume(T),A):T===93&&r===5?(n.consume(T),be):Ae(T)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(Lee,Y,fe)(T)):T===null||Ae(T)?(n.exit("htmlFlowData"),fe(T)):(n.consume(T),H)}function fe(T){return n.check(Nee,oe,Y)(T)}function oe(T){return n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),ne}function ne(T){return T===null||Ae(T)?fe(T):(n.enter("htmlFlowData"),H(T))}function B(T){return T===45?(n.consume(T),A):H(T)}function ie(T){return T===47?(n.consume(T),l="",me):H(T)}function me(T){if(T===62){const he=l.toLowerCase();return PA.includes(he)?(n.consume(T),M):H(T)}return Dn(T)&&l.length<8?(n.consume(T),l+=String.fromCharCode(T),me):H(T)}function be(T){return T===93?(n.consume(T),A):H(T)}function A(T){return T===62?(n.consume(T),M):T===45&&r===2?(n.consume(T),A):H(T)}function M(T){return T===null||Ae(T)?(n.exit("htmlFlowData"),Y(T)):(n.consume(T),M)}function Y(T){return n.exit("htmlFlow"),e(T)}}function Xee(n,e,t){const i=this;return r;function r(l){return Ae(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s):t(l)}function s(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function Zee(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(uf,e,t)}}const Uee={name:"htmlText",tokenize:jee};function jee(n,e,t){const i=this;let r,s,l;return o;function o(A){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(A),c}function c(A){return A===33?(n.consume(A),f):A===47?(n.consume(A),N):A===63?(n.consume(A),C):Dn(A)?(n.consume(A),ae):t(A)}function f(A){return A===45?(n.consume(A),d):A===91?(n.consume(A),s=0,S):Dn(A)?(n.consume(A),E):t(A)}function d(A){return A===45?(n.consume(A),y):t(A)}function m(A){return A===null?t(A):A===45?(n.consume(A),g):Ae(A)?(l=m,ie(A)):(n.consume(A),m)}function g(A){return A===45?(n.consume(A),y):m(A)}function y(A){return A===62?B(A):A===45?g(A):m(A)}function S(A){const M="CDATA[";return A===M.charCodeAt(s++)?(n.consume(A),s===M.length?v:S):t(A)}function v(A){return A===null?t(A):A===93?(n.consume(A),w):Ae(A)?(l=v,ie(A)):(n.consume(A),v)}function w(A){return A===93?(n.consume(A),k):v(A)}function k(A){return A===62?B(A):A===93?(n.consume(A),k):v(A)}function E(A){return A===null||A===62?B(A):Ae(A)?(l=E,ie(A)):(n.consume(A),E)}function C(A){return A===null?t(A):A===63?(n.consume(A),X):Ae(A)?(l=C,ie(A)):(n.consume(A),C)}function X(A){return A===62?B(A):C(A)}function N(A){return Dn(A)?(n.consume(A),P):t(A)}function P(A){return A===45||Qn(A)?(n.consume(A),P):I(A)}function I(A){return Ae(A)?(l=I,ie(A)):Fe(A)?(n.consume(A),I):B(A)}function ae(A){return A===45||Qn(A)?(n.consume(A),ae):A===47||A===62||kt(A)?te(A):t(A)}function te(A){return A===47?(n.consume(A),B):A===58||A===95||Dn(A)?(n.consume(A),L):Ae(A)?(l=te,ie(A)):Fe(A)?(n.consume(A),te):B(A)}function L(A){return A===45||A===46||A===58||A===95||Qn(A)?(n.consume(A),L):F(A)}function F(A){return A===61?(n.consume(A),H):Ae(A)?(l=F,ie(A)):Fe(A)?(n.consume(A),F):te(A)}function H(A){return A===null||A===60||A===61||A===62||A===96?t(A):A===34||A===39?(n.consume(A),r=A,fe):Ae(A)?(l=H,ie(A)):Fe(A)?(n.consume(A),H):(n.consume(A),oe)}function fe(A){return A===r?(n.consume(A),r=void 0,ne):A===null?t(A):Ae(A)?(l=fe,ie(A)):(n.consume(A),fe)}function oe(A){return A===null||A===34||A===39||A===60||A===61||A===96?t(A):A===47||A===62||kt(A)?te(A):(n.consume(A),oe)}function ne(A){return A===47||A===62||kt(A)?te(A):t(A)}function B(A){return A===62?(n.consume(A),n.exit("htmlTextData"),n.exit("htmlText"),e):t(A)}function ie(A){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),me}function me(A){return Fe(A)?it(n,be,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):be(A)}function be(A){return n.enter("htmlTextData"),l(A)}}const ex={name:"labelEnd",resolveAll:Wee,resolveTo:Hee,tokenize:Fee},qee={tokenize:Gee},Vee={tokenize:Kee},Yee={tokenize:Jee};function Wee(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&Si(n,0,n.length,t),n}function Hee(n,e){let t=n.length,i=0,r,s,l,o;for(;t--;)if(r=n[t][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=t);const c={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[s][1].start},end:{...n[l][1].end}},d={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[l-2][1].start}};return o=[["enter",c,e],["enter",f,e]],o=Ri(o,n.slice(s+1,s+i+3)),o=Ri(o,[["enter",d,e]]),o=Ri(o,ag(e.parser.constructs.insideSpan.null,n.slice(s+i+4,l-3),e)),o=Ri(o,[["exit",d,e],n[l-2],n[l-1],["exit",f,e]]),o=Ri(o,n.slice(l+1)),o=Ri(o,[["exit",c,e]]),Si(n,s,n.length,o),n}function Fee(n,e,t){const i=this;let r=i.events.length,s,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return o;function o(g){return s?s._inactive?m(g):(l=i.parser.defined.includes(ir(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),c):t(g)}function c(g){return g===40?n.attempt(qee,d,l?d:m)(g):g===91?n.attempt(Vee,d,l?f:m)(g):l?d(g):m(g)}function f(g){return n.attempt(Yee,d,m)(g)}function d(g){return e(g)}function m(g){return s._balanced=!0,t(g)}}function Gee(n,e,t){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),r}function r(m){return kt(m)?eh(n,s)(m):s(m)}function s(m){return m===41?d(m):fL(n,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return kt(m)?eh(n,c)(m):d(m)}function o(m){return t(m)}function c(m){return m===34||m===39||m===40?pL(n,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function f(m){return kt(m)?eh(n,d)(m):d(m)}function d(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function Kee(n,e,t){const i=this;return r;function r(o){return dL.call(i,n,s,l,"reference","referenceMarker","referenceString")(o)}function s(o){return i.parser.defined.includes(ir(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function l(o){return t(o)}}function Jee(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const ete={name:"labelStartImage",resolveAll:ex.resolveAll,tokenize:tte};function tte(n,e,t){const i=this;return r;function r(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),s}function s(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),l):t(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const nte={name:"labelStartLink",resolveAll:ex.resolveAll,tokenize:ite};function ite(n,e,t){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const Z0={name:"lineEnding",tokenize:rte};function rte(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),it(n,e,"linePrefix")}}const xp={name:"thematicBreak",tokenize:ste};function ste(n,e,t){let i=0,r;return s;function s(f){return n.enter("thematicBreak"),l(f)}function l(f){return r=f,o(f)}function o(f){return f===r?(n.enter("thematicBreakSequence"),c(f)):i>=3&&(f===null||Ae(f))?(n.exit("thematicBreak"),e(f)):t(f)}function c(f){return f===r?(n.consume(f),i++,c):(n.exit("thematicBreakSequence"),Fe(f)?it(n,o,"whitespace")(f):o(f))}}const Vn={continuation:{tokenize:ute},exit:hte,name:"list",tokenize:ote},lte={partial:!0,tokenize:fte},ate={partial:!0,tokenize:cte};function ote(n,e,t){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return o;function o(y){const S=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:$1(y)){if(i.containerState.type||(i.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),y===42||y===45?n.check(xp,t,f)(y):f(y);if(!i.interrupt||y===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(y)}return t(y)}function c(y){return $1(y)&&++l<10?(n.consume(y),c):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(n.exit("listItemValue"),f(y)):t(y)}function f(y){return n.enter("listItemMarker"),n.consume(y),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,n.check(uf,i.interrupt?t:d,n.attempt(lte,g,m))}function d(y){return i.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return Fe(y)?(n.enter("listItemPrefixWhitespace"),n.consume(y),n.exit("listItemPrefixWhitespace"),g):t(y)}function g(y){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(y)}}function ute(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(uf,r,s);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,it(n,e,"listItemIndent",i.containerState.size+1)(o)}function s(o){return i.containerState.furtherBlankLines||!Fe(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(ate,e,l)(o))}function l(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,it(n,n.attempt(Vn,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function cte(n,e,t){const i=this;return it(n,r,"listItemIndent",i.containerState.size+1);function r(s){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(s):t(s)}}function hte(n){n.exit(this.containerState.type)}function fte(n,e,t){const i=this;return it(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const l=i.events[i.events.length-1];return!Fe(s)&&l&&l[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const RA={name:"setextUnderline",resolveTo:dte,tokenize:pte};function dte(n,e){let t=n.length,i,r,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",l,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function pte(n,e,t){const i=this;let r;return s;function s(f){let d=i.events.length,m;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){m=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),r=f,l(f)):t(f)}function l(f){return n.enter("setextHeadingLineSequence"),o(f)}function o(f){return f===r?(n.consume(f),o):(n.exit("setextHeadingLineSequence"),Fe(f)?it(n,c,"lineSuffix")(f):c(f))}function c(f){return f===null||Ae(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const mte={tokenize:gte};function gte(n){const e=this,t=n.attempt(uf,i,n.attempt(this.parser.constructs.flowInitial,r,it(n,n.attempt(this.parser.constructs.flow,r,n.attempt(vee,r)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Ote={resolveAll:gL()},yte=mL("string"),bte=mL("text");function mL(n){return{resolveAll:gL(n==="text"?Ste:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],s=t.attempt(r,l,o);return l;function l(d){return f(d)?s(d):o(d)}function o(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),c}function c(d){return f(d)?(t.exit("data"),s(d)):(t.consume(d),c)}function f(d){if(d===null)return!0;const m=r[d];let g=-1;if(m)for(;++g<m.length;){const y=m[g];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function gL(n){return e;function e(t,i){let r=-1,s;for(;++r<=t.length;)s===void 0?t[r]&&t[r][1].type==="data"&&(s=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(t,i):t}}function Ste(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let s=r.length,l=-1,o=0,c;for(;s--;){const f=r[s];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(f===-2)c=!0,o++;else if(f!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(o=0),o){const f={type:t===n.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:i.start._bufferIndex+l,_index:i.start._index+s,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}const vte={42:Vn,43:Vn,45:Vn,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,62:oL},xte={91:Cee},wte={[-2]:X0,[-1]:X0,32:X0},kte={35:Ree,42:xp,45:[RA,xp],60:Iee,61:RA,95:xp,96:AA,126:AA},_te={38:cL,92:uL},Cte={[-5]:Z0,[-4]:Z0,[-3]:Z0,33:ete,38:cL,42:D1,60:[nee,Uee],91:nte,92:[Aee,uL],93:ex,95:D1,96:mee},Tte={null:[D1,Ote]},Ete={null:[42,95]},Qte={null:[]},Ate=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ete,contentInitial:xte,disable:Qte,document:vte,flow:kte,flowInitial:wte,insideSpan:Tte,string:_te,text:Cte},Symbol.toStringTag,{value:"Module"}));function Pte(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},s=[];let l=[],o=[];const c={attempt:I(N),check:I(P),consume:E,enter:C,exit:X,interrupt:I(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:S,parser:n,previous:null,sliceSerialize:g,sliceStream:y,write:m};let d=e.tokenize.call(f,c);return e.resolveAll&&s.push(e),f;function m(F){return l=Ri(l,F),w(),l[l.length-1]!==null?[]:(ae(e,0),f.events=ag(s,f.events,f),f.events)}function g(F,H){return Mte(y(F),H)}function y(F){return Rte(l,F)}function S(){const{_bufferIndex:F,_index:H,line:fe,column:oe,offset:ne}=i;return{_bufferIndex:F,_index:H,line:fe,column:oe,offset:ne}}function v(F){r[F.line]=F.column,L()}function w(){let F;for(;i._index<l.length;){const H=l[i._index];if(typeof H=="string")for(F=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===F&&i._bufferIndex<H.length;)k(H.charCodeAt(i._bufferIndex));else k(H)}}function k(F){d=d(F)}function E(F){Ae(F)?(i.line++,i.column=1,i.offset+=F===-3?2:1,L()):F!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=F}function C(F,H){const fe=H||{};return fe.type=F,fe.start=S(),f.events.push(["enter",fe,f]),o.push(fe),fe}function X(F){const H=o.pop();return H.end=S(),f.events.push(["exit",H,f]),H}function N(F,H){ae(F,H.from)}function P(F,H){H.restore()}function I(F,H){return fe;function fe(oe,ne,B){let ie,me,be,A;return Array.isArray(oe)?Y(oe):"tokenize"in oe?Y([oe]):M(oe);function M(xe){return Be;function Be(pt){const rt=pt!==null&&xe[pt],kn=pt!==null&&xe.null,Ui=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(kn)?kn:kn?[kn]:[]];return Y(Ui)(pt)}}function Y(xe){return ie=xe,me=0,xe.length===0?B:T(xe[me])}function T(xe){return Be;function Be(pt){return A=te(),be=xe,xe.partial||(f.currentConstruct=xe),xe.name&&f.parser.constructs.disable.null.includes(xe.name)?_e():xe.tokenize.call(H?Object.assign(Object.create(f),H):f,c,he,_e)(pt)}}function he(xe){return F(be,A),ne}function _e(xe){return A.restore(),++me<ie.length?T(ie[me]):B}}}function ae(F,H){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&Si(f.events,H,f.events.length-H,F.resolve(f.events.slice(H),f)),F.resolveTo&&(f.events=F.resolveTo(f.events,f))}function te(){const F=S(),H=f.previous,fe=f.currentConstruct,oe=f.events.length,ne=Array.from(o);return{from:oe,restore:B};function B(){i=F,f.previous=H,f.currentConstruct=fe,f.events.length=oe,o=ne,L()}}function L(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Rte(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let l;if(t===r)l=[n[t].slice(i,s)];else{if(l=n.slice(t,r),i>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(i):l.shift()}s>0&&l.push(n[r].slice(0,s))}return l}function Mte(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const s=n[t];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&r)continue;l=" ";break}default:l=String.fromCharCode(s)}r=s===-2,i.push(l)}return i.join("")}function $te(n){const i={constructs:lL([Ate,...(n||{}).extensions||[]]),content:r(HJ),defined:[],document:r(GJ),flow:r(mte),lazy:{},string:r(yte),text:r(bte)};return i;function r(s){return l;function l(o){return Pte(i,s,o)}}}function Dte(n){for(;!hL(n););return n}const MA=/[\0\t\n\r]/g;function Ite(){let n=1,e="",t=!0,i;return r;function r(s,l,o){const c=[];let f,d,m,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,e="",t&&(s.charCodeAt(0)===65279&&m++,t=void 0);m<s.length;){if(MA.lastIndex=m,f=MA.exec(s),g=f&&f.index!==void 0?f.index:s.length,y=s.charCodeAt(g),!f){e=s.slice(m);break}if(y===10&&m===g&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),m<g&&(c.push(s.slice(m,g)),n+=g-m),y){case 0:{c.push(65533),n++;break}case 9:{for(d=Math.ceil(n/4)*4,c.push(-2);n++<d;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:i=!0,n=1}m=g+1}return o&&(i&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Lte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Nte(n){return n.replace(Lte,zte)}function zte(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),s=r===120||r===88;return aL(t.slice(s?2:1),s?16:10)}return Jv(t)||n}const OL={}.hasOwnProperty;function Bte(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Xte(t)(Dte($te(t).document().write(Ite()(n,e,!0))))}function Xte(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Cs),autolinkProtocol:te,autolinkEmail:te,atxHeading:s(cr),blockQuote:s(kn),characterEscape:te,characterReference:te,codeFenced:s(Ui),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Ui,l),codeText:s(Dt,l),codeTextData:te,data:te,codeFlowValue:te,definition:s(Bt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(ji),hardBreakEscape:s(Xt),hardBreakTrailing:s(Xt),htmlFlow:s(hr,l),htmlFlowData:te,htmlText:s(hr,l),htmlTextData:te,image:s(Lr),label:l,link:s(Cs),listItem:s(Cl),listItemValue:g,listOrdered:s(Nr,m),listUnordered:s(Nr),paragraph:s(Tl),reference:T,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(cr),strong:s(El),thematicBreak:s(ka)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:rt,autolinkProtocol:pt,blockQuote:c(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:xe,characterReference:Be,codeFenced:c(w),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:L,codeIndented:c(k),codeText:c(ne),codeTextData:L,data:L,definition:c(),definitionDestinationString:X,definitionLabelString:E,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(H),hardBreakTrailing:c(H),htmlFlow:c(fe),htmlFlowData:L,htmlText:c(oe),htmlTextData:L,image:c(ie),label:be,labelText:me,lineEnding:F,link:c(B),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:he,resourceDestinationString:A,resourceTitleString:M,resource:Y,setextHeading:c(ae),setextHeadingLineSequence:I,setextHeadingText:P,strong:c(),thematicBreak:c()}};yL(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(J){let de={type:"root",children:[]};const Re={stack:[de],tokenStack:[],config:e,enter:o,exit:f,buffer:l,resume:d,data:t},Ue=[];let tt=-1;for(;++tt<J.length;)if(J[tt][1].type==="listOrdered"||J[tt][1].type==="listUnordered")if(J[tt][0]==="enter")Ue.push(tt);else{const _n=Ue.pop();tt=r(J,_n,tt)}for(tt=-1;++tt<J.length;){const _n=e[J[tt][0]];OL.call(_n,J[tt][1].type)&&_n[J[tt][1].type].call(Object.assign({sliceSerialize:J[tt][2].sliceSerialize},Re),J[tt][1])}if(Re.tokenStack.length>0){const _n=Re.tokenStack[Re.tokenStack.length-1];(_n[1]||$A).call(Re,void 0,_n[0])}for(de.position={start:Js(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Js(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)de=e.transforms[tt](de)||de;return de}function r(J,de,Re){let Ue=de-1,tt=-1,_n=!1,qi,dn,U,se;for(;++Ue<=Re;){const le=J[Ue];switch(le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{le[0]==="enter"?tt++:tt--,se=void 0;break}case"lineEndingBlank":{le[0]==="enter"&&(qi&&!se&&!tt&&!U&&(U=Ue),se=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:se=void 0}if(!tt&&le[0]==="enter"&&le[1].type==="listItemPrefix"||tt===-1&&le[0]==="exit"&&(le[1].type==="listUnordered"||le[1].type==="listOrdered")){if(qi){let ye=Ue;for(dn=void 0;ye--;){const Te=J[ye];if(Te[1].type==="lineEnding"||Te[1].type==="lineEndingBlank"){if(Te[0]==="exit")continue;dn&&(J[dn][1].type="lineEndingBlank",_n=!0),Te[1].type="lineEnding",dn=ye}else if(!(Te[1].type==="linePrefix"||Te[1].type==="blockQuotePrefix"||Te[1].type==="blockQuotePrefixWhitespace"||Te[1].type==="blockQuoteMarker"||Te[1].type==="listItemIndent"))break}U&&(!dn||U<dn)&&(qi._spread=!0),qi.end=Object.assign({},dn?J[dn][1].start:le[1].end),J.splice(dn||Ue,0,["exit",qi,le[2]]),Ue++,Re++}if(le[1].type==="listItemPrefix"){const ye={type:"listItem",_spread:!1,start:Object.assign({},le[1].start),end:void 0};qi=ye,J.splice(Ue,0,["enter",ye,le[2]]),Ue++,Re++,U=void 0,se=!0}}}return J[de][1]._spread=_n,Re}function s(J,de){return Re;function Re(Ue){o.call(this,J(Ue),Ue),de&&de.call(this,Ue)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(J,de,Re){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([de,Re||void 0]),J.position={start:Js(de.start),end:void 0}}function c(J){return de;function de(Re){J&&J.call(this,Re),f.call(this,Re)}}function f(J,de){const Re=this.stack.pop(),Ue=this.tokenStack.pop();if(Ue)Ue[0].type!==J.type&&(de?de.call(this,J,Ue[0]):(Ue[1]||$A).call(this,J,Ue[0]));else throw new Error("Cannot close `"+J.type+"` ("+Jc({start:J.start,end:J.end})+"): its not open");Re.position.end=Js(J.end)}function d(){return Kv(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(J){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function y(){const J=this.resume(),de=this.stack[this.stack.length-1];de.lang=J}function S(){const J=this.resume(),de=this.stack[this.stack.length-1];de.meta=J}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J.replace(/(\r?\n|\r)$/g,"")}function E(J){const de=this.resume(),Re=this.stack[this.stack.length-1];Re.label=de,Re.identifier=ir(this.sliceSerialize(J)).toLowerCase()}function C(){const J=this.resume(),de=this.stack[this.stack.length-1];de.title=J}function X(){const J=this.resume(),de=this.stack[this.stack.length-1];de.url=J}function N(J){const de=this.stack[this.stack.length-1];if(!de.depth){const Re=this.sliceSerialize(J).length;de.depth=Re}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function I(J){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function ae(){this.data.setextHeadingSlurpLineEnding=void 0}function te(J){const Re=this.stack[this.stack.length-1].children;let Ue=Re[Re.length-1];(!Ue||Ue.type!=="text")&&(Ue=fn(),Ue.position={start:Js(J.start),end:void 0},Re.push(Ue)),this.stack.push(Ue)}function L(J){const de=this.stack.pop();de.value+=this.sliceSerialize(J),de.position.end=Js(J.end)}function F(J){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=de.children[de.children.length-1];Re.position.end=Js(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(te.call(this,J),L.call(this,J))}function H(){this.data.atHardBreak=!0}function fe(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J}function oe(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J}function ne(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J}function B(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=de,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ie(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=de,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function me(J){const de=this.sliceSerialize(J),Re=this.stack[this.stack.length-2];Re.label=Nte(de),Re.identifier=ir(de).toLowerCase()}function be(){const J=this.stack[this.stack.length-1],de=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const Ue=J.children;Re.children=Ue}else Re.alt=de}function A(){const J=this.resume(),de=this.stack[this.stack.length-1];de.url=J}function M(){const J=this.resume(),de=this.stack[this.stack.length-1];de.title=J}function Y(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function he(J){const de=this.resume(),Re=this.stack[this.stack.length-1];Re.label=de,Re.identifier=ir(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function _e(J){this.data.characterReferenceType=J.type}function xe(J){const de=this.sliceSerialize(J),Re=this.data.characterReferenceType;let Ue;Re?(Ue=aL(de,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ue=Jv(de);const tt=this.stack[this.stack.length-1];tt.value+=Ue}function Be(J){const de=this.stack.pop();de.position.end=Js(J.end)}function pt(J){L.call(this,J);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(J)}function rt(J){L.call(this,J);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(J)}function kn(){return{type:"blockquote",children:[]}}function Ui(){return{type:"code",lang:null,meta:null,value:""}}function Dt(){return{type:"inlineCode",value:""}}function Bt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ji(){return{type:"emphasis",children:[]}}function cr(){return{type:"heading",depth:0,children:[]}}function Xt(){return{type:"break"}}function hr(){return{type:"html",value:""}}function Lr(){return{type:"image",title:null,url:"",alt:null}}function Cs(){return{type:"link",title:null,url:"",children:[]}}function Nr(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Cl(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Tl(){return{type:"paragraph",children:[]}}function El(){return{type:"strong",children:[]}}function fn(){return{type:"text",value:""}}function ka(){return{type:"thematicBreak"}}}function Js(n){return{line:n.line,column:n.column,offset:n.offset}}function yL(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?yL(n,i):Zte(n,i)}}function Zte(n,e){let t;for(t in e)if(OL.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function $A(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Jc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Jc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Jc({start:e.start,end:e.end})+") is still open")}function Ute(n){const e=this;e.parser=t;function t(i){return Bte(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function jte(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function qte(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Vte(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function Yte(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Wte(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Hte(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=vu(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let l,o=n.footnoteCounts.get(i);o===void 0?(o=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=s+1,o+=1,n.footnoteCounts.set(i,o);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return n.patch(e,f),n.applyData(e,f)}function Fte(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Gte(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function bL(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function Kte(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return bL(n,e);const r={src:vu(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,s),n.applyData(e,s)}function Jte(n,e){const t={src:vu(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function ene(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function tne(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return bL(n,e);const r={href:vu(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function nne(n,e){const t={href:vu(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function ine(n,e,t){const i=n.all(e),r=t?rne(t):SL(e),s={},l=[];if(typeof e.checked=="boolean"){const d=i[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(r||o!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?l.push(...d.children):l.push(d)}const c=i[i.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:l};return n.patch(e,f),n.applyData(e,f)}function rne(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=SL(t[i])}return e}function SL(n){const e=n.spread;return e??n.children.length>1}function sne(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function lne(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function ane(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function one(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function une(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),r.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=Wv(e.children[1]),c=JI(e.children[e.children.length-1]);o&&c&&(l.position={start:o,end:c}),r.push(l)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function cne(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,o=l?l.length:e.children.length;let c=-1;const f=[];for(;++c<o;){const m=e.children[c],g={},y=l?l[c]:void 0;y&&(g.align=y);let S={type:"element",tagName:s,properties:g,children:[]};m&&(S.children=n.all(m),n.patch(m,S),S=n.applyData(m,S)),f.push(S)}const d={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(e,d),n.applyData(e,d)}function hne(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const DA=9,IA=32;function fne(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const s=[];for(;i;)s.push(LA(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return s.push(LA(e.slice(r),r>0,!1)),s.join("")}function LA(n,e,t){let i=0,r=n.length;if(e){let s=n.codePointAt(i);for(;s===DA||s===IA;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(r-1);for(;s===DA||s===IA;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function dne(n,e){const t={type:"text",value:fne(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function pne(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const mne={blockquote:jte,break:qte,code:Vte,delete:Yte,emphasis:Wte,footnoteReference:Hte,heading:Fte,html:Gte,imageReference:Kte,image:Jte,inlineCode:ene,linkReference:tne,link:nne,listItem:ine,list:sne,paragraph:lne,root:ane,strong:one,table:une,tableCell:hne,tableRow:cne,text:dne,thematicBreak:pne,toml:Jd,yaml:Jd,definition:Jd,footnoteDefinition:Jd};function Jd(){}const vL=-1,og=0,th=1,Tm=2,tx=3,nx=4,ix=5,rx=6,xL=7,wL=8,NA=typeof self=="object"?self:globalThis,gne=(n,e)=>{const t=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,l]=e[r];switch(s){case og:case vL:return t(l,r);case th:{const o=t([],r);for(const c of l)o.push(i(c));return o}case Tm:{const o=t({},r);for(const[c,f]of l)o[i(c)]=i(f);return o}case tx:return t(new Date(l),r);case nx:{const{source:o,flags:c}=l;return t(new RegExp(o,c),r)}case ix:{const o=t(new Map,r);for(const[c,f]of l)o.set(i(c),i(f));return o}case rx:{const o=t(new Set,r);for(const c of l)o.add(i(c));return o}case xL:{const{name:o,message:c}=l;return t(new NA[o](c),r)}case wL:return t(BigInt(l),r);case"BigInt":return t(Object(BigInt(l)),r);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return t(new DataView(o),l)}}return t(new NA[s](l),r)};return i},zA=n=>gne(new Map,n)(0),fo="",{toString:One}={},{keys:yne}=Object,Pc=n=>{const e=typeof n;if(e!=="object"||!n)return[og,e];const t=One.call(n).slice(8,-1);switch(t){case"Array":return[th,fo];case"Object":return[Tm,fo];case"Date":return[tx,fo];case"RegExp":return[nx,fo];case"Map":return[ix,fo];case"Set":return[rx,fo];case"DataView":return[th,t]}return t.includes("Array")?[th,t]:t.includes("Error")?[xL,t]:[Tm,t]},ep=([n,e])=>n===og&&(e==="function"||e==="symbol"),bne=(n,e,t,i)=>{const r=(l,o)=>{const c=i.push(l)-1;return t.set(o,c),c},s=l=>{if(t.has(l))return t.get(l);let[o,c]=Pc(l);switch(o){case og:{let d=l;switch(c){case"bigint":o=wL,d=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return r([vL],l)}return r([o,d],l)}case th:{if(c){let g=l;return c==="DataView"?g=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(l)),r([c,[...g]],l)}const d=[],m=r([o,d],l);for(const g of l)d.push(s(g));return m}case Tm:{if(c)switch(c){case"BigInt":return r([c,l.toString()],l);case"Boolean":case"Number":case"String":return r([c,l.valueOf()],l)}if(e&&"toJSON"in l)return s(l.toJSON());const d=[],m=r([o,d],l);for(const g of yne(l))(n||!ep(Pc(l[g])))&&d.push([s(g),s(l[g])]);return m}case tx:return r([o,l.toISOString()],l);case nx:{const{source:d,flags:m}=l;return r([o,{source:d,flags:m}],l)}case ix:{const d=[],m=r([o,d],l);for(const[g,y]of l)(n||!(ep(Pc(g))||ep(Pc(y))))&&d.push([s(g),s(y)]);return m}case rx:{const d=[],m=r([o,d],l);for(const g of l)(n||!ep(Pc(g)))&&d.push(s(g));return m}}const{message:f}=l;return r([o,{name:c,message:f}],l)};return s},BA=(n,{json:e,lossy:t}={})=>{const i=[];return bne(!(e||t),!!e,new Map,i)(n),i},Em=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?zA(BA(n,e)):structuredClone(n):(n,e)=>zA(BA(n,e));function Sne(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function vne(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function xne(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||Sne,i=n.options.footnoteBackLabel||vne,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[c]);if(!f)continue;const d=n.all(f),m=String(f.identifier).toUpperCase(),g=vu(m.toLowerCase());let y=0;const S=[],v=n.footnoteCounts.get(m);for(;v!==void 0&&++y<=v;){S.length>0&&S.push({type:"text",value:" "});let E=typeof t=="string"?t:t(c,y);typeof E=="string"&&(E={type:"text",value:E}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,y),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...S)}else d.push(...S);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:n.wrap(d,!0)};n.patch(f,k),o.push(k)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Em(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(o,!0)},{type:"text",value:`
`}]}}const ug=(function(n){if(n==null)return Cne;if(typeof n=="function")return cg(n);if(typeof n=="object")return Array.isArray(n)?wne(n):kne(n);if(typeof n=="string")return _ne(n);throw new Error("Expected function, string, or object as test")});function wne(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=ug(n[t]);return cg(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function kne(n){const e=n;return cg(t);function t(i){const r=i;let s;for(s in n)if(r[s]!==e[s])return!1;return!0}}function _ne(n){return cg(e);function e(t){return t&&t.type===n}}function cg(n){return e;function e(t,i,r){return!!(Tne(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function Cne(){return!0}function Tne(n){return n!==null&&typeof n=="object"&&"type"in n}const kL=[],Ene=!0,I1=!1,Qne="skip";function _L(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const s=ug(r),l=i?-1:1;o(n,void 0,[])();function o(c,f,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=kL,S,v,w;if((!e||s(c,f,d[d.length-1]||void 0))&&(y=Ane(t(c,d)),y[0]===I1))return y;if("children"in c&&c.children){const k=c;if(k.children&&y[0]!==Qne)for(v=(i?k.children.length:-1)+l,w=d.concat(k);v>-1&&v<k.children.length;){const E=k.children[v];if(S=o(E,v,w)(),S[0]===I1)return S;v=typeof S[1]=="number"?S[1]:v+l}}return y}}}function Ane(n){return Array.isArray(n)?n:typeof n=="number"?[Ene,n]:n==null?kL:[n]}function sx(n,e,t,i){let r,s,l;typeof e=="function"&&typeof t!="function"?(s=void 0,l=e,r=t):(s=e,l=t,r=i),_L(n,s,o,r);function o(c,f){const d=f[f.length-1],m=d?d.children.indexOf(c):void 0;return l(c,m,d)}}const L1={}.hasOwnProperty,Pne={};function Rne(n,e){const t=e||Pne,i=new Map,r=new Map,s=new Map,l={...mne,...t.handlers},o={all:f,applyData:$ne,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:l,one:c,options:t,patch:Mne,wrap:Ine};return sx(n,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?i:r,g=String(d.identifier).toUpperCase();m.has(g)||m.set(g,d)}}),o;function c(d,m){const g=d.type,y=o.handlers[g];if(L1.call(o.handlers,g)&&y)return y(o,d,m);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in d){const{children:v,...w}=d,k=Em(w);return k.children=o.all(d),k}return Em(d)}return(o.options.unknownHandler||Dne)(o,d,m)}function f(d){const m=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const S=o.one(g[y],d);if(S){if(y&&g[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=XA(S.value)),!Array.isArray(S)&&S.type==="element")){const v=S.children[0];v&&v.type==="text"&&(v.value=XA(v.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function Mne(n,e){n.position&&(e.position=vJ(n))}function $ne(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&s&&Object.assign(t.properties,Em(s)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function Dne(n,e){const t=e.data||{},i="value"in e&&!(L1.call(t,"hProperties")||L1.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Ine(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function XA(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function ZA(n,e){const t=Rne(n,e),i=t.one(n,void 0),r=xne(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Lne(n,e){return n&&"run"in n?async function(t,i){const r=ZA(t,{file:i,...e});await n.run(r,i)}:function(t,i){return ZA(t,{file:i,...n||e})}}function UA(n){if(n)throw n}var U0,jA;function Nne(){if(jA)return U0;jA=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},s=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var d=n.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!m)return!1;var g;for(g in f);return typeof g>"u"||n.call(f,g)},l=function(f,d){t&&d.name==="__proto__"?t(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},o=function(f,d){if(d==="__proto__")if(n.call(f,d)){if(i)return i(f,d).value}else return;return f[d]};return U0=function c(){var f,d,m,g,y,S,v=arguments[0],w=1,k=arguments.length,E=!1;for(typeof v=="boolean"&&(E=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<k;++w)if(f=arguments[w],f!=null)for(d in f)m=o(v,d),g=o(f,d),v!==g&&(E&&g&&(s(g)||(y=r(g)))?(y?(y=!1,S=m&&r(m)?m:[]):S=m&&s(m)?m:{},l(v,{name:d,newValue:c(E,S,g)})):typeof g<"u"&&l(v,{name:d,newValue:g}));return v},U0}var zne=Nne();const j0=X1(zne);function N1(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Bne(){const n=[],e={run:t,use:i};return e;function t(...r){let s=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...r);function o(c,...f){const d=n[++s];let m=-1;if(c){l(c);return}for(;++m<r.length;)(f[m]===null||f[m]===void 0)&&(f[m]=r[m]);r=f,d?Xne(d,o)(...f):l(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Xne(n,e){let t;return i;function i(...l){const o=n.length>l.length;let c;o&&l.push(r);try{c=n.apply(this,l)}catch(f){const d=f;if(o&&t)throw d;return r(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,r):c instanceof Error?r(c):s(c))}function r(l,...o){t||(t=!0,e(l,...o))}function s(l){r(null,l)}}const vr={basename:Zne,dirname:Une,extname:jne,join:qne,sep:"/"};function Zne(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');cf(n);let t=0,i=-1,r=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,o=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else l<0&&(s=!0,l=r+1),o>-1&&(n.codePointAt(r)===e.codePointAt(o--)?o<0&&(i=r):(o=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function Une(n){if(cf(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function jne(n){cf(n);let e=n.length,t=-1,i=0,r=-1,s=0,l;for(;e--;){const o=n.codePointAt(e);if(o===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),o===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||t<0||s===0||s===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function qne(...n){let e=-1,t;for(;++e<n.length;)cf(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Vne(t)}function Vne(n){cf(n);const e=n.codePointAt(0)===47;let t=Yne(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Yne(n,e){let t="",i=0,r=-1,s=0,l=-1,o,c;for(;++l<=n.length;){if(l<n.length)o=n.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(r===l-1||s===1))if(r!==l-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",i=0):(t=t.slice(0,c),i=t.length-1-t.lastIndexOf("/")),r=l,s=0;continue}}else if(t.length>0){t="",i=0,r=l,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,l):t=n.slice(r+1,l),i=l-r-1;r=l,s=0}else o===46&&s>-1?s++:s=-1}return t}function cf(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Wne={cwd:Hne};function Hne(){return"/"}function z1(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function Fne(n){if(typeof n=="string")n=new URL(n);else if(!z1(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Gne(n)}function Gne(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const q0=["history","path","basename","stem","extname","dirname"];class CL{constructor(e){let t;e?z1(e)?t={path:e}:typeof e=="string"||Kne(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Wne.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<q0.length;){const s=q0[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let r;for(r in t)q0.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(e){Y0(e,"basename"),V0(e,"basename"),this.path=vr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(e){qA(this.basename,"dirname"),this.path=vr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(e){if(V0(e,"extname"),qA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){z1(e)&&(e=Fne(e)),Y0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(e){Y0(e,"stem"),V0(e,"stem"),this.path=vr.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Rn(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function V0(n,e){if(n&&n.includes(vr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+vr.sep+"`")}function Y0(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function qA(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Kne(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Jne=(function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),eie={}.hasOwnProperty;class lx extends Jne{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Bne()}copy(){const e=new lx;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(j0(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(F0("data",this.frozen),this.namespace[e]=t,this):eie.call(this.namespace,e)&&this.namespace[e]||void 0:e?(F0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=tp(e),i=this.parser||this.Parser;return W0("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),W0("process",this.parser||this.Parser),H0("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(s,l){const o=tp(e),c=i.parse(o);i.run(c,o,function(d,m,g){if(d||!m||!g)return f(d);const y=m,S=i.stringify(y,g);iie(S)?g.value=S:g.result=S,f(d,g)});function f(d,m){d||!m?l(d):s?s(m):t(void 0,m)}}}processSync(e){let t=!1,i;return this.freeze(),W0("processSync",this.parser||this.Parser),H0("processSync",this.compiler||this.Compiler),this.process(e,r),YA("processSync","process",t),i;function r(s,l){t=!0,UA(s),i=l}}run(e,t,i){VA(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(l,o){const c=tp(t);r.run(e,c,f);function f(d,m,g){const y=m||e;d?o(d):l?l(y):i(void 0,y,g)}}}runSync(e,t){let i=!1,r;return this.run(e,t,s),YA("runSync","run",i),r;function s(l,o){UA(l),r=o,i=!0}}stringify(e,t){this.freeze();const i=tp(t),r=this.compiler||this.Compiler;return H0("stringify",r),VA(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(F0("use",this.frozen),e!=null)if(typeof e=="function")c(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...m]=f;c(d,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(f.plugins),f.settings&&(r.settings=j0(!0,r.settings,f.settings))}function o(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const m=f[d];s(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,d){let m=-1,g=-1;for(;++m<i.length;)if(i[m][0]===f){g=m;break}if(g===-1)i.push([f,...d]);else if(d.length>0){let[y,...S]=d;const v=i[g][1];N1(v)&&N1(y)&&(y=j0(!0,v,y)),i[g]=[f,y,...S]}}}}const tie=new lx().freeze();function W0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function H0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function F0(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function VA(n){if(!N1(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function YA(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function tp(n){return nie(n)?n:new CL(n)}function nie(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function iie(n){return typeof n=="string"||rie(n)}function rie(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const sie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",WA=[],HA={allowDangerousHtml:!0},lie=/^(https?|ircs?|mailto|xmpp)$/i,aie=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oie(n){const e=uie(n),t=cie(n);return hie(e.runSync(e.parse(t),t),n)}function uie(n){const e=n.rehypePlugins||WA,t=n.remarkPlugins||WA,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...HA}:HA;return tie().use(Ute).use(t).use(Lne,i).use(e)}function cie(n){const e=n.children||"",t=new CL;return typeof e=="string"&&(t.value=e),t}function hie(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,l=e.skipHtml,o=e.unwrapDisallowed,c=e.urlTransform||fie;for(const d of aie)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+sie+d.id,void 0);return e.className&&(n={type:"element",tagName:"div",properties:{className:e.className},children:n.type==="root"?n.children:[n]}),sx(n,f),CJ(n,{Fragment:V.Fragment,components:r,ignoreInvalidStyle:!0,jsx:V.jsx,jsxs:V.jsxs,passKeys:!0,passNode:!0});function f(d,m,g){if(d.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let y;for(y in B0)if(Object.hasOwn(B0,y)&&Object.hasOwn(d.properties,y)){const S=d.properties[y],v=B0[y];(v===null||v.includes(d.tagName))&&(d.properties[y]=c(String(S||""),y,d))}}if(d.type==="element"){let y=t?!t.includes(d.tagName):s?s.includes(d.tagName):!1;if(!y&&i&&typeof m=="number"&&(y=!i(d,m,g)),y&&g&&typeof m=="number")return o&&d.children?g.children.splice(m,1,...d.children):g.children.splice(m,1),m}}}function fie(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||lie.test(n.slice(0,e))?n:""}function FA(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function die(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function pie(n,e,t){const r=ug((t||{}).ignore||[]),s=mie(e);let l=-1;for(;++l<s.length;)_L(n,"text",o);function o(f,d){let m=-1,g;for(;++m<d.length;){const y=d[m],S=g?g.children:void 0;if(r(y,S?S.indexOf(y):void 0,g))return;g=y}if(g)return c(f,d)}function c(f,d){const m=d[d.length-1],g=s[l][0],y=s[l][1];let S=0;const w=m.children.indexOf(f);let k=!1,E=[];g.lastIndex=0;let C=g.exec(f.value);for(;C;){const X=C.index,N={index:C.index,input:C.input,stack:[...d,f]};let P=y(...C,N);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=X+1:(S!==X&&E.push({type:"text",value:f.value.slice(S,X)}),Array.isArray(P)?E.push(...P):P&&E.push(P),S=X+C[0].length,k=!0),!g.global)break;C=g.exec(f.value)}return k?(S<f.value.length&&E.push({type:"text",value:f.value.slice(S)}),m.children.splice(w,1,...E)):E=[f],w+E.length}}function mie(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<t.length;){const r=t[i];e.push([gie(r[0]),Oie(r[1])])}return e}function gie(n){return typeof n=="string"?new RegExp(die(n),"g"):n}function Oie(n){return typeof n=="function"?n:function(){return n}}const G0="phrasing",K0=["autolink","link","image","label"];function yie(){return{transforms:[_ie],enter:{literalAutolink:Sie,literalAutolinkEmail:J0,literalAutolinkHttp:J0,literalAutolinkWww:J0},exit:{literalAutolink:kie,literalAutolinkEmail:wie,literalAutolinkHttp:vie,literalAutolinkWww:xie}}}function bie(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:G0,notInConstruct:K0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:G0,notInConstruct:K0},{character:":",before:"[ps]",after:"\\/",inConstruct:G0,notInConstruct:K0}]}}function Sie(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function J0(n){this.config.enter.autolinkProtocol.call(this,n)}function vie(n){this.config.exit.autolinkProtocol.call(this,n)}function xie(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function wie(n){this.config.exit.autolinkEmail.call(this,n)}function kie(n){this.exit(n)}function _ie(n){pie(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Cie],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Tie]],{ignore:["link","linkReference"]})}function Cie(n,e,t,i,r){let s="";if(!TL(r)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!Eie(t)))return!1;const l=Qie(t+i);if(!l[0])return!1;const o={type:"link",title:null,url:s+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[o,{type:"text",value:l[1]}]:o}function Tie(n,e,t,i){return!TL(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function Eie(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Qie(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=FA(n,"(");let s=FA(n,")");for(;i!==-1&&r>s;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),s++;return[n,t]}function TL(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||va(t)||lg(t))&&(!e||t!==47)}EL.peek=Nie;function Aie(){this.buffer()}function Pie(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function Rie(){this.buffer()}function Mie(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function $ie(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=ir(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Die(n){this.exit(n)}function Iie(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=ir(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Lie(n){this.exit(n)}function Nie(){return"["}function EL(n,e,t,i){const r=t.createTracker(i);let s=r.move("[^");const l=t.enter("footnoteReference"),o=t.enter("reference");return s+=r.move(t.safe(t.associationId(n),{after:"]",before:s})),o(),l(),s+=r.move("]"),s}function zie(){return{enter:{gfmFootnoteCallString:Aie,gfmFootnoteCall:Pie,gfmFootnoteDefinitionLabelString:Rie,gfmFootnoteDefinition:Mie},exit:{gfmFootnoteCallString:$ie,gfmFootnoteCall:Die,gfmFootnoteDefinitionLabelString:Iie,gfmFootnoteDefinition:Lie}}}function Bie(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:EL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(i,r,s,l){const o=s.createTracker(l);let c=o.move("[^");const f=s.enter("footnoteDefinition"),d=s.enter("label");return c+=o.move(s.safe(s.associationId(i),{before:c,after:"]"})),d(),c+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),c+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,o.current()),e?QL:Xie))),f(),c}}function Xie(n,e,t){return e===0?n:QL(n,e,t)}function QL(n,e,t){return(t?"":"    ")+n}const Zie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];AL.peek=Yie;function Uie(){return{canContainEols:["delete"],enter:{strikethrough:qie},exit:{strikethrough:Vie}}}function jie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Zie}],handlers:{delete:AL}}}function qie(n){this.enter({type:"delete",children:[]},n)}function Vie(n){this.exit(n)}function AL(n,e,t,i){const r=t.createTracker(i),s=t.enter("strikethrough");let l=r.move("~~");return l+=t.containerPhrasing(n,{...r.current(),before:l,after:"~"}),l+=r.move("~~"),s(),l}function Yie(){return"~"}function Wie(n){return n.length}function Hie(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||Wie,s=[],l=[],o=[],c=[];let f=0,d=-1;for(;++d<n.length;){const v=[],w=[];let k=-1;for(n[d].length>f&&(f=n[d].length);++k<n[d].length;){const E=Fie(n[d][k]);if(t.alignDelimiters!==!1){const C=r(E);w[k]=C,(c[k]===void 0||C>c[k])&&(c[k]=C)}v.push(E)}l[d]=v,o[d]=w}let m=-1;if(typeof i=="object"&&"length"in i)for(;++m<f;)s[m]=GA(i[m]);else{const v=GA(i);for(;++m<f;)s[m]=v}m=-1;const g=[],y=[];for(;++m<f;){const v=s[m];let w="",k="";v===99?(w=":",k=":"):v===108?w=":":v===114&&(k=":");let E=t.alignDelimiters===!1?1:Math.max(1,c[m]-w.length-k.length);const C=w+"-".repeat(E)+k;t.alignDelimiters!==!1&&(E=w.length+E+k.length,E>c[m]&&(c[m]=E),y[m]=E),g[m]=C}l.splice(1,0,g),o.splice(1,0,y),d=-1;const S=[];for(;++d<l.length;){const v=l[d],w=o[d];m=-1;const k=[];for(;++m<f;){const E=v[m]||"";let C="",X="";if(t.alignDelimiters!==!1){const N=c[m]-(w[m]||0),P=s[m];P===114?C=" ".repeat(N):P===99?N%2?(C=" ".repeat(N/2+.5),X=" ".repeat(N/2-.5)):(C=" ".repeat(N/2),X=C):X=" ".repeat(N)}t.delimiterStart!==!1&&!m&&k.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&E==="")&&(t.delimiterStart!==!1||m)&&k.push(" "),t.alignDelimiters!==!1&&k.push(C),k.push(E),t.alignDelimiters!==!1&&k.push(X),t.padding!==!1&&k.push(" "),(t.delimiterEnd!==!1||m!==f-1)&&k.push("|")}S.push(t.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return S.join(`
`)}function Fie(n){return n==null?"":String(n)}function GA(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Gie(n,e,t,i){const r=t.enter("blockquote"),s=t.createTracker(i);s.move("> "),s.shift(2);const l=t.indentLines(t.containerFlow(n,s.current()),Kie);return r(),l}function Kie(n,e,t){return">"+(t?"":" ")+n}function Jie(n,e){return KA(n,e.inConstruct,!0)&&!KA(n,e.notInConstruct,!1)}function KA(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function JA(n,e,t,i){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&Jie(t.stack,t.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function ere(n,e){const t=String(n);let i=t.indexOf(e),r=i,s=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>l&&(l=s):s=1,r=i+e.length,i=t.indexOf(e,r);return l}function tre(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function nre(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function ire(n,e,t,i){const r=nre(t),s=n.value||"",l=r==="`"?"GraveAccent":"Tilde";if(tre(n,t)){const m=t.enter("codeIndented"),g=t.indentLines(s,rre);return m(),g}const o=t.createTracker(i),c=r.repeat(Math.max(ere(s,r)+1,3)),f=t.enter("codeFenced");let d=o.move(c);if(n.lang){const m=t.enter(`codeFencedLang${l}`);d+=o.move(t.safe(n.lang,{before:d,after:" ",encode:["`"],...o.current()})),m()}if(n.lang&&n.meta){const m=t.enter(`codeFencedMeta${l}`);d+=o.move(" "),d+=o.move(t.safe(n.meta,{before:d,after:`
`,encode:["`"],...o.current()})),m()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(c),f(),d}function rre(n,e,t){return(t?"":"    ")+n}function ax(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function sre(n,e,t,i){const r=ax(t),s=r==='"'?"Quote":"Apostrophe",l=t.enter("definition");let o=t.enter("label");const c=t.createTracker(i);let f=c.move("[");return f+=c.move(t.safe(t.associationId(n),{before:f,after:"]",...c.current()})),f+=c.move("]: "),o(),!n.url||/[\0- \u007F]/.test(n.url)?(o=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(n.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(o=t.enter("destinationRaw"),f+=c.move(t.safe(n.url,{before:f,after:n.title?" ":`
`,...c.current()}))),o(),n.title&&(o=t.enter(`title${s}`),f+=c.move(" "+r),f+=c.move(t.safe(n.title,{before:f,after:r,...c.current()})),f+=c.move(r),o()),l(),f}function lre(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Lh(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Qm(n,e,t){const i=nu(n),r=nu(e);return i===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}PL.peek=are;function PL(n,e,t,i){const r=lre(t),s=t.enter("emphasis"),l=t.createTracker(i),o=l.move(r);let c=l.move(t.containerPhrasing(n,{after:r,before:o,...l.current()}));const f=c.charCodeAt(0),d=Qm(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(c=Lh(f)+c.slice(1));const m=c.charCodeAt(c.length-1),g=Qm(i.after.charCodeAt(0),m,r);g.inside&&(c=c.slice(0,-1)+Lh(m));const y=l.move(r);return s(),t.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},o+c+y}function are(n,e,t){return t.options.emphasis||"*"}function ore(n,e){let t=!1;return sx(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return t=!0,I1}),!!((!n.depth||n.depth<3)&&Kv(n)&&(e.options.setext||t))}function ure(n,e,t,i){const r=Math.max(Math.min(6,n.depth||1),1),s=t.createTracker(i);if(ore(n,t)){const d=t.enter("headingSetext"),m=t.enter("phrasing"),g=t.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return m(),d(),g+`
`+(r===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(r),o=t.enter("headingAtx"),c=t.enter("phrasing");s.move(l+" ");let f=t.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(f)&&(f=Lh(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,t.options.closeAtx&&(f+=" "+l),c(),o(),f}RL.peek=cre;function RL(n){return n.value||""}function cre(){return"<"}ML.peek=hre;function ML(n,e,t,i){const r=ax(t),s=r==='"'?"Quote":"Apostrophe",l=t.enter("image");let o=t.enter("label");const c=t.createTracker(i);let f=c.move("![");return f+=c.move(t.safe(n.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),o(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(o=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(n.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(o=t.enter("destinationRaw"),f+=c.move(t.safe(n.url,{before:f,after:n.title?" ":")",...c.current()}))),o(),n.title&&(o=t.enter(`title${s}`),f+=c.move(" "+r),f+=c.move(t.safe(n.title,{before:f,after:r,...c.current()})),f+=c.move(r),o()),f+=c.move(")"),l(),f}function hre(){return"!"}$L.peek=fre;function $L(n,e,t,i){const r=n.referenceType,s=t.enter("imageReference");let l=t.enter("label");const o=t.createTracker(i);let c=o.move("![");const f=t.safe(n.alt,{before:c,after:"]",...o.current()});c+=o.move(f+"]["),l();const d=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(n),{before:c,after:"]",...o.current()});return l(),t.stack=d,s(),r==="full"||!f||f!==m?c+=o.move(m+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function fre(){return"!"}DL.peek=dre;function DL(n,e,t){let i=n.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<t.unsafe.length;){const l=t.unsafe[s],o=t.compilePattern(l);let c;if(l.atBreak)for(;c=o.exec(i);){let f=c.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(c.index+1)}}return r+i+r}function dre(){return"`"}function IL(n,e){const t=Kv(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}LL.peek=pre;function LL(n,e,t,i){const r=ax(t),s=r==='"'?"Quote":"Apostrophe",l=t.createTracker(i);let o,c;if(IL(n,t)){const d=t.stack;t.stack=[],o=t.enter("autolink");let m=l.move("<");return m+=l.move(t.containerPhrasing(n,{before:m,after:">",...l.current()})),m+=l.move(">"),o(),t.stack=d,m}o=t.enter("link"),c=t.enter("label");let f=l.move("[");return f+=l.move(t.containerPhrasing(n,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(c=t.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(t.safe(n.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=t.enter("destinationRaw"),f+=l.move(t.safe(n.url,{before:f,after:n.title?" ":")",...l.current()}))),c(),n.title&&(c=t.enter(`title${s}`),f+=l.move(" "+r),f+=l.move(t.safe(n.title,{before:f,after:r,...l.current()})),f+=l.move(r),c()),f+=l.move(")"),o(),f}function pre(n,e,t){return IL(n,t)?"<":"["}NL.peek=mre;function NL(n,e,t,i){const r=n.referenceType,s=t.enter("linkReference");let l=t.enter("label");const o=t.createTracker(i);let c=o.move("[");const f=t.containerPhrasing(n,{before:c,after:"]",...o.current()});c+=o.move(f+"]["),l();const d=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(n),{before:c,after:"]",...o.current()});return l(),t.stack=d,s(),r==="full"||!f||f!==m?c+=o.move(m+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function mre(){return"["}function ox(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function gre(n){const e=ox(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function Ore(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function zL(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function yre(n,e,t,i){const r=t.enter("list"),s=t.bulletCurrent;let l=n.ordered?Ore(t):ox(t);const o=n.ordered?l==="."?")":".":gre(t);let c=e&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!n.ordered){const d=n.children?n.children[0]:void 0;if((l==="*"||l==="-")&&d&&(!d.children||!d.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(c=!0),zL(t)===l&&d){let m=-1;for(;++m<n.children.length;){const g=n.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=o),t.bulletCurrent=l;const f=t.containerFlow(n,i);return t.bulletLastUsed=l,t.bulletCurrent=s,r(),f}function bre(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Sre(n,e,t,i){const r=bre(t);let s=t.bulletCurrent||ox(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+s);let l=s.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(l=Math.ceil(l/4)*4);const o=t.createTracker(i);o.move(s+" ".repeat(l-s.length)),o.shift(l);const c=t.enter("listItem"),f=t.indentLines(t.containerFlow(n,o.current()),d);return c(),f;function d(m,g,y){return g?(y?"":" ".repeat(l))+m:(y?s:s+" ".repeat(l-s.length))+m}}function vre(n,e,t,i){const r=t.enter("paragraph"),s=t.enter("phrasing"),l=t.containerPhrasing(n,i);return s(),r(),l}const xre=ug(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function wre(n,e,t,i){return(n.children.some(function(l){return xre(l)})?t.containerPhrasing:t.containerFlow).call(t,n,i)}function kre(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}BL.peek=_re;function BL(n,e,t,i){const r=kre(t),s=t.enter("strong"),l=t.createTracker(i),o=l.move(r+r);let c=l.move(t.containerPhrasing(n,{after:r,before:o,...l.current()}));const f=c.charCodeAt(0),d=Qm(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(c=Lh(f)+c.slice(1));const m=c.charCodeAt(c.length-1),g=Qm(i.after.charCodeAt(0),m,r);g.inside&&(c=c.slice(0,-1)+Lh(m));const y=l.move(r+r);return s(),t.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},o+c+y}function _re(n,e,t){return t.options.strong||"*"}function Cre(n,e,t,i){return t.safe(n.value,i)}function Tre(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Ere(n,e,t){const i=(zL(t)+(t.options.ruleSpaces?" ":"")).repeat(Tre(t));return t.options.ruleSpaces?i.slice(0,-1):i}const XL={blockquote:Gie,break:JA,code:ire,definition:sre,emphasis:PL,hardBreak:JA,heading:ure,html:RL,image:ML,imageReference:$L,inlineCode:DL,link:LL,linkReference:NL,list:yre,listItem:Sre,paragraph:vre,root:wre,strong:BL,text:Cre,thematicBreak:Ere};function Qre(){return{enter:{table:Are,tableData:eP,tableHeader:eP,tableRow:Rre},exit:{codeText:Mre,table:Pre,tableData:eb,tableHeader:eb,tableRow:eb}}}function Are(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function Pre(n){this.exit(n),this.data.inTable=void 0}function Rre(n){this.enter({type:"tableRow",children:[]},n)}function eb(n){this.exit(n)}function eP(n){this.enter({type:"tableCell",children:[]},n)}function Mre(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,$re));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function $re(n,e){return e==="|"?e:n}function Dre(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:c,tableRow:o}};function l(y,S,v,w){return f(d(y,v,w),y.align)}function o(y,S,v,w){const k=m(y,v,w),E=f([k]);return E.slice(0,E.indexOf(`
`))}function c(y,S,v,w){const k=v.enter("tableCell"),E=v.enter("phrasing"),C=v.containerPhrasing(y,{...w,before:s,after:s});return E(),k(),C}function f(y,S){return Hie(y,{align:S,alignDelimiters:i,padding:t,stringLength:r})}function d(y,S,v){const w=y.children;let k=-1;const E=[],C=S.enter("table");for(;++k<w.length;)E[k]=m(w[k],S,v);return C(),E}function m(y,S,v){const w=y.children;let k=-1;const E=[],C=S.enter("tableRow");for(;++k<w.length;)E[k]=c(w[k],y,S,v);return C(),E}function g(y,S,v){let w=XL.inlineCode(y,S,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Ire(){return{exit:{taskListCheckValueChecked:tP,taskListCheckValueUnchecked:tP,paragraph:Nre}}}function Lre(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:zre}}}function tP(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function Nre(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const i=t.children[0];if(i&&i.type==="text"){const r=e.children;let s=-1,l;for(;++s<r.length;){const o=r[s];if(o.type==="paragraph"){l=o;break}}l===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function zre(n,e,t,i){const r=n.children[0],s=typeof n.checked=="boolean"&&r&&r.type==="paragraph",l="["+(n.checked?"x":" ")+"] ",o=t.createTracker(i);s&&o.move(l);let c=XL.listItem(n,e,t,{...i,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(d){return d+l}}function Bre(){return[yie(),zie(),Uie(),Qre(),Ire()]}function Xre(n){return{extensions:[bie(),Bie(n),jie(),Dre(n),Lre()]}}const Zre={tokenize:Wre,partial:!0},ZL={tokenize:Hre,partial:!0},UL={tokenize:Fre,partial:!0},jL={tokenize:Gre,partial:!0},Ure={tokenize:Kre,partial:!0},qL={name:"wwwAutolink",tokenize:Vre,previous:YL},VL={name:"protocolAutolink",tokenize:Yre,previous:WL},_s={name:"emailAutolink",tokenize:qre,previous:HL},Ir={};function jre(){return{text:Ir}}let Hl=48;for(;Hl<123;)Ir[Hl]=_s,Hl++,Hl===58?Hl=65:Hl===91&&(Hl=97);Ir[43]=_s;Ir[45]=_s;Ir[46]=_s;Ir[95]=_s;Ir[72]=[_s,VL];Ir[104]=[_s,VL];Ir[87]=[_s,qL];Ir[119]=[_s,qL];function qre(n,e,t){const i=this;let r,s;return l;function l(m){return!B1(m)||!HL.call(i,i.previous)||ux(i.events)?t(m):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(m))}function o(m){return B1(m)?(n.consume(m),o):m===64?(n.consume(m),c):t(m)}function c(m){return m===46?n.check(Ure,d,f)(m):m===45||m===95||Qn(m)?(s=!0,n.consume(m),c):d(m)}function f(m){return n.consume(m),r=!0,c}function d(m){return s&&r&&Dn(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(m)):t(m)}}function Vre(n,e,t){const i=this;return r;function r(l){return l!==87&&l!==119||!YL.call(i,i.previous)||ux(i.events)?t(l):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(Zre,n.attempt(ZL,n.attempt(UL,s),t),t)(l))}function s(l){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(l)}}function Yre(n,e,t){const i=this;let r="",s=!1;return l;function l(m){return(m===72||m===104)&&WL.call(i,i.previous)&&!ux(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(m),n.consume(m),o):t(m)}function o(m){if(Dn(m)&&r.length<5)return r+=String.fromCodePoint(m),n.consume(m),o;if(m===58){const g=r.toLowerCase();if(g==="http"||g==="https")return n.consume(m),c}return t(m)}function c(m){return m===47?(n.consume(m),s?f:(s=!0,c)):t(m)}function f(m){return m===null||Cm(m)||kt(m)||va(m)||lg(m)?t(m):n.attempt(ZL,n.attempt(UL,d),t)(m)}function d(m){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(m)}}function Wre(n,e,t){let i=0;return r;function r(l){return(l===87||l===119)&&i<3?(i++,n.consume(l),r):l===46&&i===3?(n.consume(l),s):t(l)}function s(l){return l===null?t(l):e(l)}}function Hre(n,e,t){let i,r,s;return l;function l(f){return f===46||f===95?n.check(jL,c,o)(f):f===null||kt(f)||va(f)||f!==45&&lg(f)?c(f):(s=!0,n.consume(f),l)}function o(f){return f===95?i=!0:(r=i,i=void 0),n.consume(f),l}function c(f){return r||i||!s?t(f):e(f)}}function Fre(n,e){let t=0,i=0;return r;function r(l){return l===40?(t++,n.consume(l),r):l===41&&i<t?s(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?n.check(jL,e,s)(l):l===null||kt(l)||va(l)?e(l):(n.consume(l),r)}function s(l){return l===41&&i++,n.consume(l),r}}function Gre(n,e,t){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(n.consume(o),i):o===38?(n.consume(o),s):o===93?(n.consume(o),r):o===60||o===null||kt(o)||va(o)?e(o):t(o)}function r(o){return o===null||o===40||o===91||kt(o)||va(o)?e(o):i(o)}function s(o){return Dn(o)?l(o):t(o)}function l(o){return o===59?(n.consume(o),i):Dn(o)?(n.consume(o),l):t(o)}}function Kre(n,e,t){return i;function i(s){return n.consume(s),r}function r(s){return Qn(s)?t(s):e(s)}}function YL(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||kt(n)}function WL(n){return!Dn(n)}function HL(n){return!(n===47||B1(n))}function B1(n){return n===43||n===45||n===46||n===95||Qn(n)}function ux(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const Jre={tokenize:ase,partial:!0};function ese(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:rse,continuation:{tokenize:sse},exit:lse}},text:{91:{name:"gfmFootnoteCall",tokenize:ise},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tse,resolveTo:nse}}}}function tse(n,e,t){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l;for(;r--;){const c=i.events[r][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!l||!l._balanced)return t(c);const f=ir(i.sliceSerialize({start:l.end,end:i.now()}));return f.codePointAt(0)!==94||!s.includes(f.slice(1))?t(c):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),e(c))}}function nse(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",s,e],["enter",l,e],["exit",l,e],["exit",s,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...o),n}function ise(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,l;return o;function o(m){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==94?t(m):(n.enter("gfmFootnoteCallMarker"),n.consume(m),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",f)}function f(m){if(s>999||m===93&&!l||m===null||m===91||kt(m))return t(m);if(m===93){n.exit("chunkString");const g=n.exit("gfmFootnoteCallString");return r.includes(ir(i.sliceSerialize(g)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(m)}return kt(m)||(l=!0),s++,n.consume(m),m===92?d:f}function d(m){return m===91||m===92||m===93?(n.consume(m),s++,f):f(m)}}function rse(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,l=0,o;return c;function c(S){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",d):t(S)}function d(S){if(l>999||S===93&&!o||S===null||S===91||kt(S))return t(S);if(S===93){n.exit("chunkString");const v=n.exit("gfmFootnoteDefinitionLabelString");return s=ir(i.sliceSerialize(v)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),g}return kt(S)||(o=!0),l++,n.consume(S),S===92?m:d}function m(S){return S===91||S===92||S===93?(n.consume(S),l++,d):d(S)}function g(S){return S===58?(n.enter("definitionMarker"),n.consume(S),n.exit("definitionMarker"),r.includes(s)||r.push(s),it(n,y,"gfmFootnoteDefinitionWhitespace")):t(S)}function y(S){return e(S)}}function sse(n,e,t){return n.check(uf,e,n.attempt(Jre,e,t))}function lse(n){n.exit("gfmFootnoteDefinition")}function ase(n,e,t){const i=this;return it(n,r,"gfmFootnoteDefinitionIndent",5);function r(s){const l=i.events[i.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(s):t(s)}}function ose(n){let t=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(l,o){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},m={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},g=[["enter",d,o],["enter",l[f][1],o],["exit",l[f][1],o],["enter",m,o]],y=o.parser.constructs.insideSpan.null;y&&Si(g,g.length,0,ag(y,l.slice(f+1,c),o)),Si(g,g.length,0,[["exit",m,o],["enter",l[c][1],o],["exit",l[c][1],o],["exit",d,o]]),Si(l,f-1,c-f+3,g),c=f+g.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function s(l,o,c){const f=this.previous,d=this.events;let m=0;return g;function g(S){return f===126&&d[d.length-1][1].type!=="characterEscape"?c(S):(l.enter("strikethroughSequenceTemporary"),y(S))}function y(S){const v=nu(f);if(S===126)return m>1?c(S):(l.consume(S),m++,y);if(m<2&&!t)return c(S);const w=l.exit("strikethroughSequenceTemporary"),k=nu(S);return w._open=!k||k===2&&!!v,w._close=!v||v===2&&!!k,o(S)}}}class use{constructor(){this.map=[]}add(e,t,i){cse(this,e,t,i)}consume(e){if(this.map.sort(function(s,l){return s[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const s of r)e.push(s);r=i.pop()}this.map.length=0}}function cse(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function hse(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}function fse(){return{flow:{null:{name:"table",tokenize:dse,resolveAll:pse}}}}function dse(n,e,t){const i=this;let r=0,s=0,l;return o;function o(L){let F=i.events.length-1;for(;F>-1;){const oe=i.events[F][1].type;if(oe==="lineEnding"||oe==="linePrefix")F--;else break}const H=F>-1?i.events[F][1].type:null,fe=H==="tableHead"||H==="tableRow"?P:c;return fe===P&&i.parser.lazy[i.now().line]?t(L):fe(L)}function c(L){return n.enter("tableHead"),n.enter("tableRow"),f(L)}function f(L){return L===124||(l=!0,s+=1),d(L)}function d(L){return L===null?t(L):Ae(L)?s>1?(s=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(L),n.exit("lineEnding"),y):t(L):Fe(L)?it(n,d,"whitespace")(L):(s+=1,l&&(l=!1,r+=1),L===124?(n.enter("tableCellDivider"),n.consume(L),n.exit("tableCellDivider"),l=!0,d):(n.enter("data"),m(L)))}function m(L){return L===null||L===124||kt(L)?(n.exit("data"),d(L)):(n.consume(L),L===92?g:m)}function g(L){return L===92||L===124?(n.consume(L),m):m(L)}function y(L){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(L):(n.enter("tableDelimiterRow"),l=!1,Fe(L)?it(n,S,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):S(L))}function S(L){return L===45||L===58?w(L):L===124?(l=!0,n.enter("tableCellDivider"),n.consume(L),n.exit("tableCellDivider"),v):N(L)}function v(L){return Fe(L)?it(n,w,"whitespace")(L):w(L)}function w(L){return L===58?(s+=1,l=!0,n.enter("tableDelimiterMarker"),n.consume(L),n.exit("tableDelimiterMarker"),k):L===45?(s+=1,k(L)):L===null||Ae(L)?X(L):N(L)}function k(L){return L===45?(n.enter("tableDelimiterFiller"),E(L)):N(L)}function E(L){return L===45?(n.consume(L),E):L===58?(l=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(L),n.exit("tableDelimiterMarker"),C):(n.exit("tableDelimiterFiller"),C(L))}function C(L){return Fe(L)?it(n,X,"whitespace")(L):X(L)}function X(L){return L===124?S(L):L===null||Ae(L)?!l||r!==s?N(L):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(L)):N(L)}function N(L){return t(L)}function P(L){return n.enter("tableRow"),I(L)}function I(L){return L===124?(n.enter("tableCellDivider"),n.consume(L),n.exit("tableCellDivider"),I):L===null||Ae(L)?(n.exit("tableRow"),e(L)):Fe(L)?it(n,I,"whitespace")(L):(n.enter("data"),ae(L))}function ae(L){return L===null||L===124||kt(L)?(n.exit("data"),I(L)):(n.consume(L),L===92?te:ae)}function te(L){return L===92||L===124?(n.consume(L),ae):ae(L)}}function pse(n,e){let t=-1,i=!0,r=0,s=[0,0,0,0],l=[0,0,0,0],o=!1,c=0,f,d,m;const g=new use;for(;++t<n.length;){const y=n[t],S=y[1];y[0]==="enter"?S.type==="tableHead"?(o=!1,c!==0&&(nP(g,e,c,f,d),d=void 0,c=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(t,0,[["enter",f,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(i=!0,m=void 0,s=[0,0,0,0],l=[0,t+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(t,0,[["enter",d,e]])),r=S.type==="tableDelimiterRow"?2:d?3:1):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(i=!1,l[2]===0&&(s[1]!==0&&(l[0]=l[1],m=np(g,e,s,r,void 0,m),s=[0,0,0,0]),l[2]=t)):S.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(l[0]=l[1],m=np(g,e,s,r,void 0,m)),s=l,l=[s[1],t,0,0])):S.type==="tableHead"?(o=!0,c=t):S.type==="tableRow"||S.type==="tableDelimiterRow"?(c=t,s[1]!==0?(l[0]=l[1],m=np(g,e,s,r,t,m)):l[1]!==0&&(m=np(g,e,l,r,t,m)),r=0):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=t)}for(c!==0&&nP(g,e,c,f,d),g.consume(e.events),t=-1;++t<e.events.length;){const y=e.events[t];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=hse(e.events,t))}return n}function np(n,e,t,i,r,s){const l=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";t[0]!==0&&(s.end=Object.assign({},go(e.events,t[0])),n.add(t[0],0,[["exit",s,e]]));const c=go(e.events,t[1]);if(s={type:l,start:Object.assign({},c),end:Object.assign({},c)},n.add(t[1],0,[["enter",s,e]]),t[2]!==0){const f=go(e.events,t[2]),d=go(e.events,t[3]),m={type:o,start:Object.assign({},f),end:Object.assign({},d)};if(n.add(t[2],0,[["enter",m,e]]),i!==2){const g=e.events[t[2]],y=e.events[t[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",t[3]>t[2]+1){const S=t[2]+1,v=t[3]-t[2]-1;n.add(S,v,[])}}n.add(t[3]+1,0,[["exit",m,e]])}return r!==void 0&&(s.end=Object.assign({},go(e.events,r)),n.add(r,0,[["exit",s,e]]),s=void 0),s}function nP(n,e,t,i,r){const s=[],l=go(e.events,t);r&&(r.end=Object.assign({},l),s.push(["exit",r,e])),i.end=Object.assign({},l),s.push(["exit",i,e]),n.add(t+1,0,s)}function go(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const mse={name:"tasklistCheck",tokenize:Ose};function gse(){return{text:{91:mse}}}function Ose(n,e,t){const i=this;return r;function r(c){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(c):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),s)}function s(c){return kt(c)?(n.enter("taskListCheckValueUnchecked"),n.consume(c),n.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(n.enter("taskListCheckValueChecked"),n.consume(c),n.exit("taskListCheckValueChecked"),l):t(c)}function l(c){return c===93?(n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),o):t(c)}function o(c){return Ae(c)?e(c):Fe(c)?n.check({tokenize:yse},e,t)(c):t(c)}}function yse(n,e,t){return it(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function bse(n){return lL([jre(),ese(),ose(n),fse(),gse()])}const Sse={};function vse(n){const e=this,t=n||Sse,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),l=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(bse(t)),s.push(Bre()),l.push(Xre(t))}function xse(){return{serverUrl:localStorage.getItem("mdflare_server_url")||"http://localhost:7779",token:localStorage.getItem("mdflare_token")||"",useProxy:localStorage.getItem("mdflare_use_proxy")==="true"}}function wse({userId:n,isPrivateVault:e=!1,onConnectionChange:t}){const[i,r]=D.useState(null),[s,l]=D.useState(null),o=D.useCallback(async()=>{try{if(e){const f=xse();let d;if(f.useProxy){const w=f.serverUrl.replace("http://","").replace("https://","");d=`/_tunnel?server=${encodeURIComponent(w)}&path=${encodeURIComponent("/api/files")}`}else d=`${f.serverUrl}/api/files`;const m={};f.token&&(m.Authorization=`Bearer ${f.token}`);const g=new AbortController,y=setTimeout(()=>g.abort(),3e3),S=await fetch(d,{headers:m,signal:g.signal});clearTimeout(y);const v=S.ok;r(v),l(null),t&&t(v)}else{const f={};if(fh.currentUser)try{const m=await fh.currentUser.getIdToken();f.Authorization=`Bearer ${m}`}catch{}const d=await fetch(`/api/${n}/agent-status`,{headers:f});if(d.ok){const m=await d.json();r(m.connected),l(m.minutesAgo),t&&t(m.connected)}}}catch{e&&(r(!1),t&&t(!1))}},[n,e]);if(D.useEffect(()=>{o();const f=setInterval(o,e?5e3:6e4);return()=>clearInterval(f)},[o,e]),i===null)return null;const c=!i&&s!=null?` : ${s} `:i?" ":"  ";return V.jsx("span",{className:`agent-status-dot ${i?"connected":"disconnected"}`,title:c})}const kse="/api",_se=1e3;function FL(){return{serverUrl:localStorage.getItem("mdflare_server_url")||"http://localhost:7779",token:localStorage.getItem("mdflare_token")||"",useProxy:localStorage.getItem("mdflare_use_proxy")==="true"}}const br=n=>n.split("/").map(e=>encodeURIComponent(e)).join("/");async function pi(n=!1){const e={"Content-Type":"application/json"};if(n){const{token:t}=FL();t&&(e.Authorization=`Bearer ${t}`)}else if(fh.currentUser)try{const t=await fh.currentUser.getIdToken();e.Authorization=`Bearer ${t}`}catch(t){console.error("Failed to get ID token:",t)}return e}const Cse=ge.theme({"&":{backgroundColor:"#0d1117",color:"#e6edf3"},".cm-content":{caretColor:"#58a6ff"},".cm-cursor":{borderLeftColor:"#58a6ff"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground":{backgroundColor:"#1f6feb44"},".cm-gutters":{backgroundColor:"#161b22",color:"#484f58",border:"none"},".cm-activeLineGutter":{backgroundColor:"#1f6feb22"},".cm-activeLine":{backgroundColor:"#1f6feb11"}},{dark:!0}),Tse=ge.theme({"&":{backgroundColor:"#ffffff",color:"#24292f"},".cm-content":{caretColor:"#0969da"},".cm-cursor":{borderLeftColor:"#0969da"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground":{backgroundColor:"#0969da22"},".cm-gutters":{backgroundColor:"#f6f8fa",color:"#8c959f",border:"none"},".cm-activeLineGutter":{backgroundColor:"#0969da11"},".cm-activeLine":{backgroundColor:"#0969da08"}},{dark:!1}),Ese={flex:1,overflow:"auto"};function Qse({toasts:n,onRemove:e}){return V.jsx("div",{className:"toast-container",children:n.map(t=>V.jsxs("div",{className:`toast toast-${t.type}`,onClick:()=>e(t.id),children:[V.jsx("span",{className:"toast-icon",children:t.type==="loading"?"":t.type==="success"?"":""}),V.jsx("span",{className:"toast-msg",children:t.message})]},t.id))})}function Ase({user:n,isPrivateVault:e=!1}){const{userId:t,"*":i}=s3(),r=Pm(),s=e?"":t,l=e?FL():null,o=U=>{if(e&&l){if(l.useProxy){const se=l.serverUrl.replace("http://","").replace("https://","");return`/_tunnel?server=${encodeURIComponent(se)}&path=${encodeURIComponent("/api"+U)}`}return`${l.serverUrl}/api${U}`}return`${kse}/${s}${U}`},[c,f]=D.useState([]),[d,m]=D.useState(null),[g,y]=D.useState(""),[S,v]=D.useState(""),[w,k]=D.useState("edit"),[E,C]=D.useState("idle"),[X,N]=D.useState(null),[P,I]=D.useState(!1),[ae,te]=D.useState([]),[L,F]=D.useState(!1),[H,fe]=D.useState(""),[oe,ne]=D.useState(null),[B,ie]=D.useState(null),[me,be]=D.useState(""),[A,M]=D.useState(()=>localStorage.getItem("mdflare-theme")==="light"),[Y,T]=D.useState(null),[he,_e]=D.useState(()=>{try{return JSON.parse(localStorage.getItem("mdflare-recent")||"[]")}catch{return[]}}),xe=D.useRef(null),Be=D.useRef(0),pt=D.useRef(""),rt=D.useRef(""),kn=D.useRef(null);D.useEffect(()=>{pt.current=g},[g]),D.useEffect(()=>{rt.current=S},[S]);const Ui=D.useMemo(()=>[YK(),A?Tse:Cse,ge.lineWrapping],[A]),Dt=D.useCallback((U,se="loading",le=null)=>{const ye=++Be.current;return te(Te=>[...Te,{id:ye,message:U,type:se}]),le&&setTimeout(()=>te(Te=>Te.filter(Le=>Le.id!==ye)),le),ye},[]),Bt=D.useCallback((U,se,le,ye=2e3)=>{te(Te=>Te.map(Le=>Le.id===U?{...Le,message:se,type:le}:Le)),ye&&setTimeout(()=>te(Te=>Te.filter(Le=>Le.id!==U)),ye)},[]),ji=D.useCallback(U=>{te(se=>se.filter(le=>le.id!==U))},[]),cr=D.useCallback(U=>[...U].sort((se,le)=>se.type==="folder"&&le.type!=="folder"?-1:se.type!=="folder"&&le.type==="folder"?1:se.name.localeCompare(le.name,"ko")).map(se=>se.children?{...se,children:cr(se.children)}:se),[]),Xt=D.useCallback(async()=>{try{const U=await pi(e),le=await(await fetch(o("/files"),{headers:U})).json();f(cr(le.files||[]))}catch(U){console.error("Failed to load files:",U)}},[s,cr]);D.useEffect(()=>{Xt()},[Xt]),D.useEffect(()=>{if(i){const U=decodeURIComponent(i);y(""),v(""),m({path:U,loading:!0}),C("idle"),(async()=>{try{const se=await pi(e),ye=await(await fetch(o(`/file/${br(U)}`),{headers:se})).json();ye.error||(m(ye),y(ye.content),v(ye.content))}catch{}})()}else m(null),y(""),v("")},[i,s]),D.useEffect(()=>{const U=()=>N(null);return window.addEventListener("click",U),window.addEventListener("touchmove",U,{passive:!0}),()=>{window.removeEventListener("click",U),window.removeEventListener("touchmove",U)}},[]),D.useEffect(()=>{if(e)return;const U=Kj(s,async se=>{if(d){const le=se.find(ye=>ye.path===d.path);if(le){if(le.hash===kn.current){kn.current=null,Xt();return}if(pt.current!==rt.current){Xt();return}if(le.hash!==Yl(pt.current))try{const ye=await pi(e),Le=await(await fetch(o(`/file/${br(d.path)}`),{headers:ye})).json();y(Le.content),v(Le.content),C("idle")}catch(ye){console.error("Failed to reload:",ye)}}}Xt()});return()=>U&&U()},[d,Xt,s]);const hr=D.useCallback(U=>{r(e?`/private/${U}`:`/${s}/${U}`),_e(se=>{const le=[U,...se.filter(ye=>ye!==U)].slice(0,10);return localStorage.setItem("mdflare-recent",JSON.stringify(le)),le})},[s,e,r]),Lr=D.useCallback(async(U,se)=>{C("saving");try{const le=rt.current,ye=Yl(le),Te=Yl(se),Le=Jj(le,se);(await(await fetch(o(`/file/${br(U)}`),{method:"PUT",headers:await pi(e),body:JSON.stringify({content:se,oldHash:ye,diff:Le})})).json()).saved&&(kn.current=Te,v(se),C("saved"),setTimeout(()=>C(Vi=>Vi==="saved"?"idle":Vi),2e3))}catch(le){console.error("Failed to save:",le),C("error")}},[s,e]),Cs=D.useCallback(U=>{y(U),xe.current&&clearTimeout(xe.current),U!==rt.current&&d&&(C("editing"),xe.current=setTimeout(()=>{Lr(d.path,U)},_se))},[d,Lr]);D.useEffect(()=>()=>{xe.current&&clearTimeout(xe.current)},[]);const Nr=D.useCallback((U,se)=>{if(!se)return U;const le=se.toLowerCase();return U.reduce((ye,Te)=>{if(Te.type==="folder"){const Le=Nr(Te.children||[],se);(Le.length>0||Te.name.toLowerCase().includes(le))&&ye.push({...Te,children:Le})}else Te.name.toLowerCase().includes(le)&&ye.push(Te);return ye},[])},[]),Cl=me?Nr(c,me):c,Tl=D.useCallback((U,se)=>{for(const le of se)if(le.path===U||le.children&&Tl(U,le.children))return!0;return!1},[]),El=async U=>{const se=prompt("   (.md  )");if(!se)return;const le=se.endsWith(".md")?se:`${se}.md`,ye=U?`${U}/${le}`:le;if(Tl(ye,c)){Dt(` "${le}"      `,"error",3e3);return}const Te=Dt(` "${le}"  ...`,"loading");F(!0);try{const Le=`# ${se.replace(".md","")}

`;await fetch(o(`/file/${br(ye)}`),{method:"PUT",headers:await pi(e),body:JSON.stringify({content:Le})}),e||co(s,ye,{size:new Blob([Le]).size,hash:Yl(Le),action:"create"}).catch(mt=>console.error("Firebase meta update failed:",mt)),await Xt(),Bt(Te,` "${le}"  !`,"success"),hr(ye)}catch(Le){console.error("Failed to create file:",Le),Bt(Te,` "${le}"  `,"error")}finally{F(!1)}},fn=async()=>{if(!confirm("   ?"))return;const U=Dt("   ...","loading");F(!0);const se=[{path:"Getting Started/welcome.md",content:`# Welcome to MDFlare! 

This is your markdown workspace.

## Quick Tips
- Click any file to edit
- Auto-saves after 1 second
- Right-click for more options
`},{path:"Getting Started/markdown-guide.md",content:`# Markdown Guide

## Headers
# H1
## H2
### H3

## Formatting
**bold** *italic* ~~strikethrough~~

## Lists
- Item 1
- Item 2
  - Nested

## Code
\`\`\`js
console.log("Hello MDFlare!");
\`\`\`

## Links
[MDFlare](https://mdflare.com)
`},{path:"Notes/ideas.md",content:`#  Ideas

- [ ] Build something awesome
- [ ] Share with the world
- [x] Try MDFlare
`},{path:"Notes/meeting-notes.md",content:`#  Meeting Notes

## 2025-01-15
- Discussed project roadmap
- Next milestone: v1.0 launch
- Action items:
  1. Finalize design
  2. Write documentation
`},{path:"Projects/project-alpha.md",content:`# Project Alpha 

## Overview
A brief description of the project.

## Status
| Task | Status |
|------|--------|
| Design |  Done |
| Backend |  In Progress |
| Frontend |  Todo |

## Notes
Keep track of important decisions here.
`},{path:"journal.md",content:`#  Journal

## Today
Started using MDFlare for my notes.
Love the clean interface and auto-save!

---

> "The best time to start writing is now."
`}];try{for(const le of se)await fetch(o(`/file/${br(le.path)}`),{method:"PUT",headers:await pi(e),body:JSON.stringify({content:le.content})});await Xt(),Bt(U,"   ! (3 + 6)","success",3e3)}catch(le){console.error("Failed to generate samples:",le),Bt(U,"   ","error")}finally{F(!1)}},ka=async(U,se)=>{const le=U.split("/").pop();if((U.includes("/")?U.substring(0,U.lastIndexOf("/")):"")===se)return;const Te=se?`${se}/${le}`:le;if(U===Te)return;if(Te.startsWith(U+"/")){Dt("      ","error",3e3);return}const Le=Dt(` "${le}"  ...`,"loading");F(!0);try{await fetch(o("/rename"),{method:"POST",headers:await pi(e),body:JSON.stringify({oldPath:U,newPath:Te})}),e||(Vy(s,U).catch(mt=>console.error("Firebase delete old meta failed:",mt)),co(s,Te,{size:0,hash:"",action:"rename",oldPath:U}).catch(mt=>console.error("Firebase move meta failed:",mt))),await Xt(),Bt(Le,` "${le}"  !`,"success"),(d==null?void 0:d.path)===U&&hr(Te)}catch(mt){console.error("Failed to move:",mt),Bt(Le,"  ","error")}finally{F(!1)}},J=async U=>{const se=prompt("  ");if(!se)return;const le=U?`${U}/${se}`:se;if(Tl(le,c)){Dt(` "${se}"      `,"error",3e3);return}const ye=`${le}/.gitkeep`,Te=Dt(` "${se}"   ...`,"loading");F(!0);try{await fetch(o(`/file/${br(ye)}`),{method:"PUT",headers:await pi(e),body:JSON.stringify({content:""})}),e||co(s,ye,{size:0,hash:Yl(""),action:"create"}).catch(Le=>console.error("Firebase meta update failed:",Le)),await Xt(),Bt(Te,` "${se}"   !`,"success")}catch(Le){console.error("Failed to create folder:",Le),Bt(Te,` "${se}"   `,"error")}finally{F(!1)}},de=async U=>{const se=U.split("/").pop(),le=prompt(" ",se);if(!le||le===se)return;const ye=U.includes("/")?U.substring(0,U.lastIndexOf("/")):"",Te=ye?`${ye}/${le}`:le,Le=Dt(` "${se}"  "${le}"  ...`,"loading");F(!0);try{await fetch(o("/rename"),{method:"POST",headers:await pi(e),body:JSON.stringify({oldPath:U,newPath:Te})}),e||(Vy(s,U).catch(mt=>console.error("Firebase delete old meta failed:",mt)),co(s,Te,{size:0,hash:"",action:"rename",oldPath:U}).catch(mt=>console.error("Firebase rename meta failed:",mt))),await Xt(),Bt(Le,"   !","success"),(d==null?void 0:d.path)===U&&hr(Te)}catch(mt){console.error("Failed to rename:",mt),Bt(Le,"   ","error")}finally{F(!1)}},Re=async(U,se,le="file")=>{var mt;const ye=le==="folder",Te=ye?"":"";if(!confirm(`"${se}" ${Te} ?${ye?`
(    )`:""}`))return;const Le=Dt(` "${se}" ${Te}  ...`,"loading");F(!0);try{const Nn=ye?"?folder=true":"";await fetch(o(`/file/${br(U)}${Nn}`),{method:"DELETE",headers:await pi(e)}),e||Vy(s,U).catch(Vi=>console.error("Firebase delete meta failed:",Vi)),await Xt(),Bt(Le,` "${se}" ${Te}  `,"success"),((d==null?void 0:d.path)===U||ye&&((mt=d==null?void 0:d.path)!=null&&mt.startsWith(U+"/")))&&r(e?"/private":`/${s}`)}catch(Nn){console.error("Failed to delete:",Nn),Bt(Le,` "${se}" ${Te}  `,"error")}finally{F(!1)}},Ue=async U=>{const se=U.split("/").pop(),le=Dt(` "${se}"  ...`,"loading");F(!0);try{const ye=await pi(e),Le=await(await fetch(o(`/file/${br(U)}`),{headers:ye})).json(),mt=U.lastIndexOf(".md"),Nn=mt>0?`${U.slice(0,mt)} (copy).md`:`${U} (copy)`;await fetch(o(`/file/${br(Nn)}`),{method:"PUT",headers:await pi(e),body:JSON.stringify({content:Le.content})}),e||co(s,Nn,{size:new Blob([Le.content]).size,hash:Yl(Le.content),action:"create"}).catch(Vi=>console.error("Firebase meta update failed:",Vi)),await Xt(),Bt(le,` "${se}"  !`,"success")}catch(ye){console.error("Failed to duplicate:",ye),Bt(le,"  ","error")}finally{F(!1)}},tt=(U,se,le,ye)=>{U.preventDefault(),U.stopPropagation(),N({x:U.clientX,y:U.clientY,type:se,path:le,name:ye})},_n=async()=>{e?(localStorage.removeItem("mdflare_mode"),localStorage.removeItem("mdflare_server_url"),localStorage.removeItem("mdflare_token"),localStorage.removeItem("mdflare_use_proxy")):await eq(),r("/")};D.useEffect(()=>{const U=se=>{g!==S&&(se.preventDefault(),se.returnValue="")};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[g,S]),D.useEffect(()=>{document.body.classList.toggle("light-mode",A),localStorage.setItem("mdflare-theme",A?"light":"dark")},[A]),D.useEffect(()=>{const U=se=>{(se.ctrlKey||se.metaKey)&&se.key==="s"&&(se.preventDefault(),d&&g!==S&&(xe.current&&clearTimeout(xe.current),Lr(d.path,g))),(se.ctrlKey||se.metaKey)&&se.key==="b"&&(se.preventDefault(),I(le=>!le)),se.key==="Escape"&&(be(""),N(null))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[d,g,S,Lr]);const qi={idle:"idle",editing:"unsaved",saving:"saving",saved:"saved",error:"error"},dn={idle:"",editing:"",saving:" ...",saved:"",error:" "};return V.jsxs(V.Fragment,{children:[V.jsxs("header",{className:"header",children:[V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[V.jsx("button",{className:"sidebar-toggle",onClick:()=>I(!P),children:P?"":""}),V.jsxs("h1",{onClick:()=>r(e?"/private":`/${s}`),style:{cursor:"pointer"},children:[" ",D2()]})]}),V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[V.jsx(wse,{userId:s,isPrivateVault:e,onConnectionChange:e?T:void 0}),V.jsx("span",{className:"user-badge",children:e?" Private Vault":` ${(n==null?void 0:n.displayName)||s}`}),V.jsx("button",{className:"logout-btn",onClick:_n,children:e?" ":""})]})]}),V.jsxs("div",{className:"main",children:[V.jsxs("aside",{className:`sidebar ${P?"open":""}`,children:[!P&&V.jsx("div",{className:"sidebar-collapsed",onClick:()=>I(!0),children:""}),V.jsxs("div",{className:"sidebar-header",onContextMenu:U=>{U.preventDefault(),tt(U,"root","","root")},children:[V.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,flex:1,minWidth:0},children:[V.jsxs("span",{children:[" Files ",L&&V.jsx("span",{className:"sidebar-spinner",children:""})]}),H&&V.jsxs("span",{className:"focused-folder-label",onClick:()=>fe(""),children:[" ",H," "]})]}),V.jsxs("div",{className:"sidebar-actions",children:[V.jsx("button",{className:"sidebar-action-btn",onClick:()=>El(H),title:H?`${H}  `:" ",disabled:L,children:"+"}),V.jsx("button",{className:"sidebar-action-btn",onClick:()=>J(H),title:H?`${H}  `:" ",disabled:L,children:"+"})]})]}),V.jsxs("div",{className:"sidebar-search",children:[V.jsx("input",{type:"text",placeholder:"  ...",value:me,onChange:U=>be(U.target.value),className:"search-input"}),me&&V.jsx("button",{className:"search-clear",onClick:()=>be(""),children:""})]}),V.jsx("div",{className:"file-tree",onContextMenu:U=>{U.preventDefault(),!U.target.closest(".tree-item")&&tt(U,"root","","root")},onDragOver:U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},onDrop:U=>{U.preventDefault();const se=U.dataTransfer.getData("text/plain");se&&ka(se,"")},children:V.jsx(KL,{items:Cl,currentPath:d==null?void 0:d.path,onSelect:hr,onContextMenu:tt,focusedFolder:H,onFocusFolder:fe,onNewFile:El,onDragMove:ka,dragOver:oe,onDragOver:ne,dragSrc:B,onDragStart:ie})}),V.jsxs("div",{className:"sidebar-footer",children:[V.jsxs("span",{title:"Rust  +  ",children:["v","1.0.15","  ","Rust  +  "]}),V.jsx("button",{className:"sample-btn",onClick:fn,disabled:L,children:" "})]}),V.jsx("div",{className:"sidebar-handle",onClick:()=>I(!1),children:""})]}),V.jsx("div",{className:"editor-area",children:d?d.loading?V.jsxs("div",{className:"empty-state",children:[V.jsx("div",{className:"loading-spinner",children:""}),V.jsx("p",{children:" ..."})]}):V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"editor-toolbar",children:[V.jsx("span",{className:"file-path",children:(()=>{const U=d.path.split("/");return U.map((se,le)=>V.jsxs("span",{children:[le>0&&V.jsx("span",{className:"breadcrumb-sep",children:"/"}),le<U.length-1?V.jsx("span",{className:"breadcrumb-link",onClick:()=>{const ye=U.slice(0,le+1).join("/");fe(ye),I(!0)},children:se}):V.jsx("span",{className:"breadcrumb-current",children:se})]},le))})()}),V.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[V.jsxs("div",{className:"tab-bar",children:[V.jsx("button",{className:`tab-btn ${w==="edit"?"active":""}`,onClick:()=>k("edit"),children:"Edit"}),V.jsx("button",{className:`tab-btn ${w==="split"?"active":""}`,onClick:()=>k("split"),children:"Split"}),V.jsx("button",{className:`tab-btn ${w==="preview"?"active":""}`,onClick:()=>k("preview"),children:"Preview"})]}),V.jsx("button",{className:"tab-btn",onClick:()=>{const U=parseInt(prompt(" :","3"));if(!U||U<1)return;const se="| "+Array.from({length:U},(Te,Le)=>`${Le+1}`).join(" | ")+" |",le="| "+Array.from({length:U},()=>"---").join(" | ")+" |",ye="| "+Array.from({length:U},()=>"  ").join(" | ")+" |";y(Te=>Te+`
`+se+`
`+le+`
`+ye+`
`),Dt("  ","success",2e3)},title:" ",children:""}),V.jsx("button",{className:"tab-btn",onClick:()=>{const U=prompt(" URL:");if(!U)return;const le=`![${prompt(" :","image")||"image"}](${U})`;y(ye=>ye+`
`+le+`
`),Dt("  ","success",2e3)},title:" ",children:""}),!e&&V.jsx("button",{className:"tab-btn",onClick:async()=>{const U=`${window.location.origin}/${s}/${d.path}`;try{await navigator.clipboard.writeText(U),Dt("   ","success",2e3)}catch{prompt(" :",U)}},title:"  ",children:""}),V.jsx("button",{className:"tab-btn",onClick:()=>M(!A),title:" ",children:A?"":""}),V.jsx("button",{className:"tab-btn",onClick:()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},title:" ",children:""}),V.jsx("button",{className:"tab-btn",onClick:async()=>{try{await navigator.clipboard.writeText(g),Dt("  ","success",2e3)}catch{Dt("  ","error",2e3)}},title:"  ",children:""}),V.jsx("button",{className:"tab-btn",onClick:()=>{const U=new Blob([g],{type:"text/markdown"}),se=URL.createObjectURL(U),le=document.createElement("a");le.href=se,le.download=d.path.split("/").pop(),le.click(),URL.revokeObjectURL(se),Dt("  ","success",2e3)},title:" ",children:""}),V.jsx("span",{className:`save-status ${qi[E]}`,title:dn[E]})]})]}),V.jsxs("div",{className:"editor-stats",children:[V.jsxs("span",{children:[g.length,""]}),V.jsxs("span",{children:[g.trim()?g.trim().split(/\s+/).length:0,""]}),V.jsxs("span",{children:[g.split(`
`).length,""]})]}),V.jsxs("div",{className:"editor-content",children:[(w==="edit"||w==="split")&&V.jsx(DD,{value:g,onChange:Cs,extensions:Ui,theme:"none",style:Ese}),(w==="preview"||w==="split")&&V.jsx("div",{className:"preview",children:V.jsx(oie,{remarkPlugins:[vse],children:g})})]})]}):V.jsxs("div",{className:"empty-state",onDragOver:U=>{U.preventDefault(),U.dataTransfer.dropEffect="copy"},onDrop:async U=>{U.preventDefault();const se=[...U.dataTransfer.files].filter(ye=>ye.name.endsWith(".md")||ye.name.endsWith(".txt")||ye.name.endsWith(".markdown"));if(se.length===0)return;const le=Dt(` ${se.length}   ...`,"loading");F(!0);try{for(const ye of se){const Te=await ye.text(),Le=H||"",mt=Le?`${Le}/${ye.name}`:ye.name;await fetch(o(`/file/${br(mt)}`),{method:"PUT",headers:await pi(e),body:JSON.stringify({content:Te})}),e||co(s,mt,{size:new Blob([Te]).size,hash:Yl(Te),action:"create"}).catch(Nn=>console.error("Firebase meta update failed:",Nn))}await Xt(),Bt(le,` ${se.length}   !`,"success")}catch{Bt(le,"  ","error")}finally{F(!1)}},children:[V.jsx("div",{className:"logo",children:""}),V.jsx("p",{children:"  .md   "}),he.length>0&&V.jsxs("div",{className:"recent-files",children:[V.jsx("h4",{children:" "}),he.map(U=>V.jsxs("div",{className:"recent-item",onClick:()=>hr(U),children:[" ",U]},U))]})]})})]}),X&&V.jsx(Pse,{...X,onNewFile:El,onNewFolder:J,onRename:de,onDelete:Re,onDuplicate:Ue,onClose:()=>N(null)}),V.jsx(Qse,{toasts:ae,onRemove:ji}),e&&Y===!1&&V.jsx("div",{className:"agent-disconnected-overlay",children:V.jsxs("div",{className:"agent-disconnected-modal",children:[V.jsx("div",{className:"agent-disconnected-icon",children:""}),V.jsx("h3",{children:"  "}),V.jsxs("p",{children:["Private Vault   .",V.jsx("br",{}),"    ."]}),V.jsx("div",{className:"agent-disconnected-spinner",children:""}),V.jsx("p",{className:"agent-disconnected-sub",children:"  ..."}),V.jsx("button",{className:"agent-disconnected-btn",onClick:_n,children:" "})]})})]})}function Pse({x:n,y:e,type:t,path:i,name:r,onNewFile:s,onNewFolder:l,onRename:o,onDelete:c,onDuplicate:f,onClose:d}){const m=D.useRef(null);D.useEffect(()=>{if(m.current){const y=m.current.getBoundingClientRect();y.right>window.innerWidth&&(m.current.style.left=`${window.innerWidth-y.width-8}px`),y.bottom>window.innerHeight&&(m.current.style.top=`${window.innerHeight-y.height-8}px`)}},[]);const g=t==="folder"?i:t==="root"?"":i.substring(0,i.lastIndexOf("/"));return V.jsxs("div",{className:"context-menu",ref:m,style:{left:n,top:e},children:[V.jsx("div",{className:"context-item",onClick:()=>{s(g),d()},children:"  "}),V.jsx("div",{className:"context-item",onClick:()=>{l(g),d()},children:"  "}),t!=="root"&&V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"context-divider"}),V.jsx("div",{className:"context-item",onClick:()=>{o(i,t),d()},children:"  "}),t==="file"&&V.jsx("div",{className:"context-item",onClick:()=>{f(i),d()},children:" "}),V.jsx("div",{className:"context-divider"}),V.jsx("div",{className:"context-item danger",onClick:()=>{c(i,r,t),d()},children:" "})]})]})}function GL(n,e,t=500){const i=D.useRef(null),r=D.useRef(!1),s=D.useRef(!1),l=D.useRef(!1),o=D.useCallback(m=>{var v;r.current=!1,s.current=!1,l.current=!0;const g=(v=m.touches)==null?void 0:v[0],y=(g==null?void 0:g.clientX)??m.clientX,S=(g==null?void 0:g.clientY)??m.clientY;i.current=setTimeout(()=>{s.current=!0,navigator.vibrate&&navigator.vibrate(30),n({clientX:y,clientY:S,preventDefault:()=>{},stopPropagation:()=>{}})},t)},[n,t]),c=D.useCallback(()=>{r.current=!0,i.current&&(clearTimeout(i.current),i.current=null)},[]),f=D.useCallback(m=>{if(i.current&&(clearTimeout(i.current),i.current=null),s.current){m.preventDefault();return}!r.current&&e&&e(m),setTimeout(()=>{l.current=!1},300)},[e]),d=D.useCallback(m=>{l.current||e&&e(m)},[e]);return{onTouchStart:o,onTouchMove:c,onTouchEnd:f,onClick:d,onContextMenu:m=>{m.preventDefault(),m.stopPropagation(),n(m)}}}function KL({items:n,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:c,onDragOver:f,dragSrc:d,onDragStart:m,depth:g=0}){return n.map(y=>V.jsx("div",{children:y.type==="folder"?V.jsx(Mse,{item:y,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:c,onDragOver:f,dragSrc:d,onDragStart:m,depth:g}):V.jsx(Rse,{item:y,currentPath:e,onSelect:t,onContextMenu:i,onDragMove:o,onDragStart:m,depth:g})},y.path))}function Rse({item:n,currentPath:e,onSelect:t,onContextMenu:i,onDragMove:r,onDragStart:s,depth:l}){const o=GL(c=>i(c,"file",n.path,n.name),()=>t(n.path));return V.jsxs("div",{className:`tree-item ${n.path===e?"active":""}`,style:{paddingLeft:16+l*16},draggable:!0,onDragStart:c=>{c.dataTransfer.setData("text/plain",n.path),c.dataTransfer.effectAllowed="move",s(n.path)},onDragEnd:()=>s(null),...o,children:[V.jsx("span",{className:"icon",children:""}),V.jsx("span",{className:"tree-item-name",children:n.name}),V.jsx("button",{className:"tree-item-menu",onClick:c=>{c.stopPropagation(),i(c,"file",n.path,n.name)},children:""})]})}function Mse({item:n,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:c,onDragOver:f,dragSrc:d,onDragStart:m,depth:g}){var P;const[y,S]=D.useState(!0),v=r===n.path,w=d!=null&&d.includes("/")?d.substring(0,d.lastIndexOf("/")):"",k=d&&w===n.path,E=c===n.path&&!k,C=((P=n.children)==null?void 0:P.filter(I=>I.name!==".gitkeep"))||[],X=C.length===0,N=GL(I=>i(I,"folder",n.path,n.name),()=>{S(!y),s&&s(v?"":n.path)});return V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:`tree-item tree-folder ${v?"focused":""} ${E?"drag-over":""}`,style:{paddingLeft:16+g*16},onDragOver:I=>{if(I.preventDefault(),k){I.dataTransfer.dropEffect="none";return}I.dataTransfer.dropEffect="move",f(n.path)},onDragLeave:()=>f(null),onDrop:I=>{I.preventDefault(),I.stopPropagation();const ae=I.dataTransfer.getData("text/plain");f(null),ae&&!k&&o&&o(ae,n.path)},...N,children:[V.jsx("span",{className:"icon",children:y?"":""}),V.jsx("span",{className:"tree-item-name",children:n.name}),V.jsx("button",{className:"tree-item-menu",onClick:I=>{I.stopPropagation(),i(I,"folder",n.path,n.name)},children:""})]}),y&&V.jsx("div",{style:{paddingLeft:0},children:X?V.jsx("div",{className:"empty-folder",style:{paddingLeft:32+g*16},children:V.jsx("button",{className:"empty-folder-btn",onClick:()=>l&&l(n.path),children:"+  "})}):V.jsx(KL,{items:C,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:c,onDragOver:f,dragSrc:d,onDragStart:m,depth:g+1})})]})}function $se(){const n=Pm(),[e]=F3(),[t,i]=D.useState(""),[r,s]=D.useState(!1),[l,o]=D.useState(""),c=d=>{try{const m=atob(d);if(m.includes("|")){const[g,y]=m.split("|");return{serverUrl:g,token:y}}}catch{}return{serverUrl:"http://localhost:7779",token:d}},f=D.useCallback(async d=>{o(""),s(!0);try{const{serverUrl:m,token:g}=c(d),y=!m.includes("localhost")&&!m.includes("127.0.0.1"),S=y?`/_tunnel?server=${encodeURIComponent(m.replace(/^https?:\/\//,""))}&path=/api/files`:`${m}/api/files`,v=await fetch(S,{headers:g?{Authorization:`Bearer ${g}`}:{}});if(!v.ok){const w=await v.text();throw new Error(`  ${v.status}: ${w}`)}localStorage.setItem("mdflare_mode","private_vault"),localStorage.setItem("mdflare_server_url",m),localStorage.setItem("mdflare_token",g),localStorage.setItem("mdflare_use_proxy",y?"true":"false"),n("/workspace")}catch(m){o(` : ${m.message}`)}finally{s(!1)}},[n]);return D.useEffect(()=>{if(localStorage.getItem("mdflare_mode")==="private_vault"){n("/workspace");return}const m=e.get("pvtoken");m&&f(m)},[n,e,f]),V.jsxs("div",{className:"landing",children:[V.jsxs("nav",{className:"landing-nav",children:[V.jsxs("h1",{children:[" ",D2()," Private"]}),V.jsx("div",{style:{display:"flex",gap:12,alignItems:"center"},children:V.jsx("a",{href:"https://mdflare.com",className:"nav-link",children:""})})]}),V.jsxs("div",{className:"hero",children:[V.jsx("h2",{children:"Private Vault"}),V.jsxs("p",{className:"hero-sub",children:[" PC ,  .",V.jsx("br",{}),"    ."]}),V.jsxs("div",{className:"private-vault-form",style:{marginTop:24},children:[V.jsx("div",{className:"form-group",children:V.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),placeholder:"  ",autoFocus:!0,className:"token-input"})}),l&&V.jsx("p",{className:"form-error",children:l}),V.jsx("div",{className:"form-buttons",children:V.jsx("button",{className:"cta-btn",onClick:()=>f(t.trim()),disabled:r||!t.trim(),children:r?" ...":""})})]})]}),V.jsxs("footer",{className:"landing-footer",children:[V.jsx("p",{children:" 2026 MDFlare  Built with Cloudflare"}),V.jsxs("p",{style:{marginTop:4,fontSize:11,color:"#30363d"},children:["v","1.0.15","  ","2026. 2. 11. PM 5:03:28"]})]})]})}function Dse(){return tq("Private Vault"),V.jsxs(S3,{children:[V.jsx(nb,{path:"/",element:V.jsx($se,{})}),V.jsx(nb,{path:"/workspace/*",element:V.jsx(Ase,{user:null,isPrivateVault:!0})})]})}x5.createRoot(document.getElementById("root")).render(V.jsx(q3,{children:V.jsx(Dse,{})}));
