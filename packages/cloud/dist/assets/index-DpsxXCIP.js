(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function zv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var h0={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function f4(){if(mC)return Iu;mC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return Iu.Fragment=e,Iu.jsx=t,Iu.jsxs=t,Iu}var gC;function d4(){return gC||(gC=1,h0.exports=f4()),h0.exports}var A=d4(),f0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function p4(){if(OC)return Le;OC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function k(M,Y,E){this.props=M,this.context=Y,this.refs=x,this.updater=E||S}k.prototype.isReactComponent={},k.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=k.prototype;function T(M,Y,E){this.props=M,this.context=Y,this.refs=x,this.updater=E||S}var X=T.prototype=new C;X.constructor=T,v(X,k.prototype),X.isPureReactComponent=!0;var L=Array.isArray;function R(){}var N={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function te(M,Y,E){var he=E.ref;return{$$typeof:n,type:M,key:Y,ref:he!==void 0?he:null,props:E}}function z(M,Y){return te(M.type,Y,M.props)}function H(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function W(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(E){return Y[E]})}var fe=/\/+/g;function oe(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?W(""+M.key):Y.toString(36)}function ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,Y,E,he,_e){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(we){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case n:case e:Be=!0;break;case d:return Be=M._init,U(Be(M._payload),Y,E,he,_e)}}if(Be)return _e=_e(M),Be=he===""?"."+oe(M,0):he,L(_e)?(E="",Be!=null&&(E=Be.replace(fe,"$&/")+"/"),U(_e,Y,E,"",function(Tn){return Tn})):_e!=null&&(H(_e)&&(_e=z(_e,E+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(fe,"$&/")+"/")+Be)),Y.push(_e)),1;Be=0;var mt=he===""?".":he+":";if(L(M))for(var st=0;st<M.length;st++)he=M[st],we=mt+oe(he,st),Be+=U(he,Y,E,we,_e);else if(st=y(M),typeof st=="function")for(M=st.call(M),st=0;!(he=M.next()).done;)he=he.value,we=mt+oe(he,st++),Be+=U(he,Y,E,we,_e);else if(we==="object"){if(typeof M.then=="function")return U(ne(M),Y,E,he,_e);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(M,Y,E){if(M==null)return M;var he=[],_e=0;return U(M,he,"","",function(we){return Y.call(E,we,_e++)}),he}function me(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(E){(M._status===0||M._status===-1)&&(M._status=1,M._result=E)},function(E){(M._status===0||M._status===-1)&&(M._status=2,M._result=E)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},P={map:ie,forEach:function(M,Y,E){ie(M,function(){Y.apply(this,arguments)},E)},count:function(M){var Y=0;return ie(M,function(){Y++}),Y},toArray:function(M){return ie(M,function(Y){return Y})||[]},only:function(M){if(!H(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Le.Activity=m,Le.Children=P,Le.Component=k,Le.Fragment=t,Le.Profiler=r,Le.PureComponent=T,Le.StrictMode=i,Le.Suspense=u,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Le.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Le.cache=function(M){return function(){return M.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(M,Y,E){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=v({},M.props),_e=M.key;if(Y!=null)for(we in Y.key!==void 0&&(_e=""+Y.key),Y)!ae.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(he[we]=Y[we]);var we=arguments.length-2;if(we===1)he.children=E;else if(1<we){for(var Be=Array(we),mt=0;mt<we;mt++)Be[mt]=arguments[mt+2];he.children=Be}return te(M.type,_e,he)},Le.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Le.createElement=function(M,Y,E){var he,_e={},we=null;if(Y!=null)for(he in Y.key!==void 0&&(we=""+Y.key),Y)ae.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=Y[he]);var Be=arguments.length-2;if(Be===1)_e.children=E;else if(1<Be){for(var mt=Array(Be),st=0;st<Be;st++)mt[st]=arguments[st+2];_e.children=mt}if(M&&M.defaultProps)for(he in Be=M.defaultProps,Be)_e[he]===void 0&&(_e[he]=Be[he]);return te(M,we,_e)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:o,render:M}},Le.isValidElement=H,Le.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:me}},Le.memo=function(M,Y){return{$$typeof:f,type:M,compare:Y===void 0?null:Y}},Le.startTransition=function(M){var Y=N.T,E={};N.T=E;try{var he=M(),_e=N.S;_e!==null&&_e(E,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(R,be)}catch(we){be(we)}finally{Y!==null&&E.types!==null&&(Y.types=E.types),N.T=Y}},Le.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Le.use=function(M){return N.H.use(M)},Le.useActionState=function(M,Y,E){return N.H.useActionState(M,Y,E)},Le.useCallback=function(M,Y){return N.H.useCallback(M,Y)},Le.useContext=function(M){return N.H.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M,Y){return N.H.useDeferredValue(M,Y)},Le.useEffect=function(M,Y){return N.H.useEffect(M,Y)},Le.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Le.useId=function(){return N.H.useId()},Le.useImperativeHandle=function(M,Y,E){return N.H.useImperativeHandle(M,Y,E)},Le.useInsertionEffect=function(M,Y){return N.H.useInsertionEffect(M,Y)},Le.useLayoutEffect=function(M,Y){return N.H.useLayoutEffect(M,Y)},Le.useMemo=function(M,Y){return N.H.useMemo(M,Y)},Le.useOptimistic=function(M,Y){return N.H.useOptimistic(M,Y)},Le.useReducer=function(M,Y,E){return N.H.useReducer(M,Y,E)},Le.useRef=function(M){return N.H.useRef(M)},Le.useState=function(M){return N.H.useState(M)},Le.useSyncExternalStore=function(M,Y,E){return N.H.useSyncExternalStore(M,Y,E)},Le.useTransition=function(){return N.H.useTransition()},Le.version="19.2.4",Le}var yC;function Bv(){return yC||(yC=1,f0.exports=p4()),f0.exports}var I=Bv(),d0={exports:{}},Du={},p0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function m4(){return bC||(bC=1,(function(n){function e(U,ie){var me=U.length;U.push(ie);e:for(;0<me;){var be=me-1>>>1,P=U[be];if(0<r(P,ie))U[be]=ie,U[me]=P,me=be;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var ie=U[0],me=U.pop();if(me!==ie){U[0]=me;e:for(var be=0,P=U.length,M=P>>>1;be<M;){var Y=2*(be+1)-1,E=U[Y],he=Y+1,_e=U[he];if(0>r(E,me))he<P&&0>r(_e,E)?(U[be]=_e,U[he]=me,be=he):(U[be]=E,U[Y]=me,be=Y);else if(he<P&&0>r(_e,me))U[be]=_e,U[he]=me,be=he;else break e}}return ie}function r(U,ie){var me=U.sortIndex-ie.sortIndex;return me!==0?me:U.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();n.unstable_now=function(){return l.now()-o}}var u=[],f=[],d=1,m=null,g=3,y=!1,S=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function X(U){for(var ie=t(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=U)i(f),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=t(f)}}function L(U){if(v=!1,X(U),!S)if(t(u)!==null)S=!0,R||(R=!0,W());else{var ie=t(f);ie!==null&&ne(L,ie.startTime-U)}}var R=!1,N=-1,ae=5,te=-1;function z(){return x?!0:!(n.unstable_now()-te<ae)}function H(){if(x=!1,R){var U=n.unstable_now();te=U;var ie=!0;try{e:{S=!1,v&&(v=!1,C(N),N=-1),y=!0;var me=g;try{t:{for(X(U),m=t(u);m!==null&&!(m.expirationTime>U&&z());){var be=m.callback;if(typeof be=="function"){m.callback=null,g=m.priorityLevel;var P=be(m.expirationTime<=U);if(U=n.unstable_now(),typeof P=="function"){m.callback=P,X(U),ie=!0;break t}m===t(u)&&i(u),X(U)}else i(u);m=t(u)}if(m!==null)ie=!0;else{var M=t(f);M!==null&&ne(L,M.startTime-U),ie=!1}}break e}finally{m=null,g=me,y=!1}ie=void 0}}finally{ie?W():R=!1}}}var W;if(typeof T=="function")W=function(){T(H)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,oe=fe.port2;fe.port1.onmessage=H,W=function(){oe.postMessage(null)}}else W=function(){k(H,0)};function ne(U,ie){N=k(function(){U(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(U){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var me=g;g=ie;try{return U()}finally{g=me}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(U,ie){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var me=g;g=U;try{return ie()}finally{g=me}},n.unstable_scheduleCallback=function(U,ie,me){var be=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=me+P,U={id:d++,callback:ie,priorityLevel:U,startTime:me,expirationTime:P,sortIndex:-1},me>be?(U.sortIndex=me,e(f,U),t(u)===null&&U===t(f)&&(v?(C(N),N=-1):v=!0,ne(L,me-be))):(U.sortIndex=P,e(u,U),S||y||(S=!0,R||(R=!0,W()))),U},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(U){var ie=g;return function(){var me=g;g=ie;try{return U.apply(this,arguments)}finally{g=me}}}})(m0)),m0}var SC;function g4(){return SC||(SC=1,p0.exports=m4()),p0.exports}var g0={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function O4(){if(vC)return En;vC=1;var n=Bv();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:f,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,En.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,d)},En.flushSync=function(u){var f=l.T,d=i.p;try{if(l.T=null,i.p=2,u)return u()}finally{l.T=f,i.p=d,i.d.f()}},En.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},En.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},En.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):d==="script"&&i.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},En.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},En.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin);i.d.L(u,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},En.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=o(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},En.requestFormReset=function(u){i.d.r(u)},En.unstable_batchedUpdates=function(u,f){return u(f)},En.useFormState=function(u,f,d){return l.H.useFormState(u,f,d)},En.useFormStatus=function(){return l.H.useHostTransitionStatus()},En.version="19.2.4",En}var wC;function y4(){if(wC)return g0.exports;wC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),g0.exports=O4(),g0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function b4(){if(xC)return Du;xC=1;var n=g4(),e=Bv(),t=y4();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function o(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function f(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var h=a,p=c;;){var O=h.return;if(O===null)break;var b=O.alternate;if(b===null){if(p=O.return,p!==null){h=p;continue}break}if(O.child===b.child){for(b=O.child;b;){if(b===h)return u(O),a;if(b===p)return u(O),c;b=b.sibling}throw Error(i(188))}if(h.return!==p.return)h=O,p=b;else{for(var w=!1,_=O.child;_;){if(_===h){w=!0,h=O,p=b;break}if(_===p){w=!0,p=O,h=b;break}_=_.sibling}if(!w){for(_=b.child;_;){if(_===h){w=!0,h=b,p=O;break}if(_===p){w=!0,p=b,h=O;break}_=_.sibling}if(!w)throw Error(i(189))}}if(h.alternate!==p)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:c}function d(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=d(a),c!==null)return c;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case k:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case R:return"SuspenseList";case te:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case X:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return c=a.displayName||null,c!==null?c:oe(a.type)||"Memo";case ae:c=a._payload,a=a._init;try{return oe(a(c))}catch{}}return null}var ne=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],P=-1;function M(a){return{current:a}}function Y(a){0>P||(a.current=be[P],be[P]=null,P--)}function E(a,c){P++,be[P]=a.current,a.current=c}var he=M(null),_e=M(null),we=M(null),Be=M(null);function mt(a,c){switch(E(we,c),E(_e,a),E(he,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?LT(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=LT(c),a=zT(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(he),E(he,a)}function st(){Y(he),Y(_e),Y(we)}function Tn(a){a.memoizedState!==null&&E(Be,a);var c=he.current,h=zT(c,a.type);c!==h&&(E(_e,a),E(he,h))}function Vi(a){_e.current===a&&(Y(he),Y(_e)),Be.current===a&&(Y(Be),Pu._currentValue=me)}var Nt,Xt;function qi(a){if(Nt===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Nt=c&&c[1]||"",Xt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+a+Xt}var pr=!1;function Zt(a,c){if(!a||pr)return"";pr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(F){var q=F}Reflect.construct(a,[],re)}else{try{re.call()}catch(F){q=F}a.call(re.prototype)}}else{try{throw Error()}catch(F){q=F}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),w=b[0],_=b[1];if(w&&_){var $=w.split(`
`),V=_.split(`
`);for(O=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;O<V.length&&!V[O].includes("DetermineComponentFrameRoot");)O++;if(p===$.length||O===V.length)for(p=$.length-1,O=V.length-1;1<=p&&0<=O&&$[p]!==V[O];)O--;for(;1<=p&&0<=O;p--,O--)if($[p]!==V[O]){if(p!==1||O!==1)do if(p--,O--,0>O||$[p]!==V[O]){var G=`
`+$[p].replace(" at new "," at ");return a.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",a.displayName)),G}while(1<=p&&0<=O);break}}}finally{pr=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?qi(h):""}function mr(a,c){switch(a.tag){case 26:case 27:case 5:return qi(a.type);case 16:return qi("Lazy");case 13:return a.child!==c&&c!==null?qi("Suspense Fallback"):qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Zt(a.type,!1);case 11:return Zt(a.type.render,!1);case 1:return Zt(a.type,!0);case 31:return qi("Activity");default:return""}}function Ur(a){try{var c="",h=null;do c+=mr(a,h),h=a,a=a.return;while(a);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Rs=Object.prototype.hasOwnProperty,Xr=n.unstable_scheduleCallback,Ml=n.unstable_cancelCallback,Il=n.unstable_shouldYield,Dl=n.unstable_requestPaint,pn=n.unstable_now,Na=n.unstable_getCurrentPriorityLevel,J=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,Re=n.unstable_NormalPriority,Ze=n.unstable_LowPriority,nt=n.unstable_IdlePriority,Cn=n.log,Yi=n.unstable_setDisableYieldValue,mn=null,j=null;function se(a){if(typeof Cn=="function"&&Yi(a),j&&typeof j.setStrictMode=="function")try{j.setStrictMode(mn,a)}catch{}}var le=Math.clz32?Math.clz32:Ne,ye=Math.log,Ce=Math.LN2;function Ne(a){return a>>>=0,a===0?32:31-(ye(a)/Ce|0)|0}var gt=256,Bn=262144,Fi=4194304;function Nl(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vf(a,c,h){var p=a.pendingLanes;if(p===0)return 0;var O=0,b=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var _=p&134217727;return _!==0?(p=_&~b,p!==0?O=Nl(p):(w&=_,w!==0?O=Nl(w):h||(h=_&~a,h!==0&&(O=Nl(h))))):(_=p&~b,_!==0?O=Nl(_):w!==0?O=Nl(w):h||(h=p&~a,h!==0&&(O=Nl(h)))),O===0?0:c!==0&&c!==O&&(c&b)===0&&(b=O&-O,h=c&-c,b>=h||b===32&&(h&4194048)!==0)?c:O}function jc(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Jz(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bx(){var a=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),a}function Jg(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function Vc(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function e5(a,c,h,p,O,b){var w=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var _=a.entanglements,$=a.expirationTimes,V=a.hiddenUpdates;for(h=w&~h;0<h;){var G=31-le(h),re=1<<G;_[G]=0,$[G]=-1;var q=V[G];if(q!==null)for(V[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}h&=~re}p!==0&&Sx(a,p,0),b!==0&&O===0&&a.tag!==0&&(a.suspendedLanes|=b&~(w&~c))}function Sx(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var p=31-le(c);a.entangledLanes|=c,a.entanglements[p]=a.entanglements[p]|1073741824|h&261930}function vx(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var p=31-le(h),O=1<<p;O&c|a[p]&c&&(a[p]|=c),h&=~O}}function wx(a,c){var h=c&-c;return h=(h&42)!==0?1:eO(h),(h&(a.suspendedLanes|c))!==0?0:h}function eO(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function tO(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xx(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:oC(a.type))}function kx(a,c){var h=ie.p;try{return ie.p=a,c()}finally{ie.p=h}}var $s=Math.random().toString(36).slice(2),gn="__reactFiber$"+$s,Un="__reactProps$"+$s,La="__reactContainer$"+$s,nO="__reactEvents$"+$s,t5="__reactListeners$"+$s,n5="__reactHandles$"+$s,_x="__reactResources$"+$s,qc="__reactMarker$"+$s;function iO(a){delete a[gn],delete a[Un],delete a[nO],delete a[t5],delete a[n5]}function za(a){var c=a[gn];if(c)return c;for(var h=a.parentNode;h;){if(c=h[La]||h[gn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=qT(a);a!==null;){if(h=a[gn])return h;a=qT(a)}return c}a=h,h=a.parentNode}return null}function Ba(a){if(a=a[gn]||a[La]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function Yc(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function Ua(a){var c=a[_x];return c||(c=a[_x]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function an(a){a[qc]=!0}var Tx=new Set,Cx={};function Ll(a,c){Xa(a,c),Xa(a+"Capture",c)}function Xa(a,c){for(Cx[a]=c,a=0;a<c.length;a++)Tx.add(c[a])}var i5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ex={},Ax={};function r5(a){return Rs.call(Ax,a)?!0:Rs.call(Ex,a)?!1:i5.test(a)?Ax[a]=!0:(Ex[a]=!0,!1)}function qf(a,c,h){if(r5(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function Yf(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function Zr(a,c,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+p)}}function _i(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Qx(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function s5(a,c,h){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,b=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return O.call(this)},set:function(w){h=""+w,b.call(this,w)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function rO(a){if(!a._valueTracker){var c=Qx(a)?"checked":"value";a._valueTracker=s5(a,c,""+a[c])}}function Px(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return a&&(p=Qx(a)?a.checked?"true":"false":a.value),a=p,a!==h?(c.setValue(a),!0):!1}function Ff(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var l5=/[\n"\\]/g;function Ti(a){return a.replace(l5,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function sO(a,c,h,p,O,b,w,_){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),c!=null?w==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+_i(c)):a.value!==""+_i(c)&&(a.value=""+_i(c)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),c!=null?lO(a,w,_i(c)):h!=null?lO(a,w,_i(h)):p!=null&&a.removeAttribute("value"),O==null&&b!=null&&(a.defaultChecked=!!b),O!=null&&(a.checked=O&&typeof O!="function"&&typeof O!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.name=""+_i(_):a.removeAttribute("name")}function Rx(a,c,h,p,O,b,w,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),c!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||c!=null)){rO(a);return}h=h!=null?""+_i(h):"",c=c!=null?""+_i(c):h,_||c===a.value||(a.value=c),a.defaultValue=c}p=p??O,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=_?a.checked:!!p,a.defaultChecked=!!p,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w),rO(a)}function lO(a,c,h){c==="number"&&Ff(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Za(a,c,h,p){if(a=a.options,c){c={};for(var O=0;O<h.length;O++)c["$"+h[O]]=!0;for(h=0;h<a.length;h++)O=c.hasOwnProperty("$"+a[h].value),a[h].selected!==O&&(a[h].selected=O),O&&p&&(a[h].defaultSelected=!0)}else{for(h=""+_i(h),c=null,O=0;O<a.length;O++){if(a[O].value===h){a[O].selected=!0,p&&(a[O].defaultSelected=!0);return}c!==null||a[O].disabled||(c=a[O])}c!==null&&(c.selected=!0)}}function $x(a,c,h){if(c!=null&&(c=""+_i(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+_i(h):""}function Mx(a,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(i(92));if(ne(p)){if(1<p.length)throw Error(i(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=_i(c),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p),rO(a)}function ja(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var a5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ix(a,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":p?a.setProperty(c,h):typeof h!="number"||h===0||a5.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function Dx(a,c,h){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var O in c)p=c[O],c.hasOwnProperty(O)&&h[O]!==p&&Ix(a,O,p)}else for(var b in c)c.hasOwnProperty(b)&&Ix(a,b,c[b])}function aO(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wf(a){return c5.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function jr(){}var oO=null;function cO(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Va=null,qa=null;function Nx(a){var c=Ba(a);if(c&&(a=c.stateNode)){var h=a[Un]||null;e:switch(a=c.stateNode,c.type){case"input":if(sO(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ti(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==a&&p.form===a.form){var O=p[Un]||null;if(!O)throw Error(i(90));sO(p,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===a.form&&Px(p)}break e;case"textarea":$x(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Za(a,!!h.multiple,c,!1)}}}var uO=!1;function Lx(a,c,h){if(uO)return a(c,h);uO=!0;try{var p=a(c);return p}finally{if(uO=!1,(Va!==null||qa!==null)&&(Dd(),Va&&(c=Va,a=qa,qa=Va=null,Nx(c),a)))for(c=0;c<a.length;c++)Nx(a[c])}}function Fc(a,c){var h=a.stateNode;if(h===null)return null;var p=h[Un]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,c,typeof h));return h}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hO=!1;if(Vr)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){hO=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{hO=!1}var Ms=null,fO=null,Hf=null;function zx(){if(Hf)return Hf;var a,c=fO,h=c.length,p,O="value"in Ms?Ms.value:Ms.textContent,b=O.length;for(a=0;a<h&&c[a]===O[a];a++);var w=h-a;for(p=1;p<=w&&c[h-p]===O[b-p];p++);return Hf=O.slice(a,1<p?1-p:void 0)}function Gf(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Kf(){return!0}function Bx(){return!1}function Xn(a){function c(h,p,O,b,w){this._reactName=h,this._targetInst=O,this.type=p,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var _ in a)a.hasOwnProperty(_)&&(h=a[_],this[_]=h?h(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Kf:Bx,this.isPropagationStopped=Bx,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),c}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Xn(zl),Hc=m({},zl,{view:0,detail:0}),u5=Xn(Hc),dO,pO,Gc,ed=m({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gO,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Gc&&(Gc&&a.type==="mousemove"?(dO=a.screenX-Gc.screenX,pO=a.screenY-Gc.screenY):pO=dO=0,Gc=a),dO)},movementY:function(a){return"movementY"in a?a.movementY:pO}}),Ux=Xn(ed),h5=m({},ed,{dataTransfer:0}),f5=Xn(h5),d5=m({},Hc,{relatedTarget:0}),mO=Xn(d5),p5=m({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),m5=Xn(p5),g5=m({},zl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),O5=Xn(g5),y5=m({},zl,{data:0}),Xx=Xn(y5),b5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w5(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=v5[a])?!!c[a]:!1}function gO(){return w5}var x5=m({},Hc,{key:function(a){if(a.key){var c=b5[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Gf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?S5[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gO,charCode:function(a){return a.type==="keypress"?Gf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),k5=Xn(x5),_5=m({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zx=Xn(_5),T5=m({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gO}),C5=Xn(T5),E5=m({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),A5=Xn(E5),Q5=m({},ed,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),P5=Xn(Q5),R5=m({},zl,{newState:0,oldState:0}),$5=Xn(R5),M5=[9,13,27,32],OO=Vr&&"CompositionEvent"in window,Kc=null;Vr&&"documentMode"in document&&(Kc=document.documentMode);var I5=Vr&&"TextEvent"in window&&!Kc,jx=Vr&&(!OO||Kc&&8<Kc&&11>=Kc),Vx=" ",qx=!1;function Yx(a,c){switch(a){case"keyup":return M5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ya=!1;function D5(a,c){switch(a){case"compositionend":return Fx(c);case"keypress":return c.which!==32?null:(qx=!0,Vx);case"textInput":return a=c.data,a===Vx&&qx?null:a;default:return null}}function N5(a,c){if(Ya)return a==="compositionend"||!OO&&Yx(a,c)?(a=zx(),Hf=fO=Ms=null,Ya=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return jx&&c.locale!=="ko"?null:c.data;default:return null}}var L5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wx(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!L5[a.type]:c==="textarea"}function Hx(a,c,h,p){Va?qa?qa.push(p):qa=[p]:Va=p,c=Zd(c,"onChange"),0<c.length&&(h=new Jf("onChange","change",null,h,p),a.push({event:h,listeners:c}))}var Jc=null,eu=null;function z5(a){RT(a,0)}function td(a){var c=Yc(a);if(Px(c))return a}function Gx(a,c){if(a==="change")return c}var Kx=!1;if(Vr){var yO;if(Vr){var bO="oninput"in document;if(!bO){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),bO=typeof Jx.oninput=="function"}yO=bO}else yO=!1;Kx=yO&&(!document.documentMode||9<document.documentMode)}function ek(){Jc&&(Jc.detachEvent("onpropertychange",tk),eu=Jc=null)}function tk(a){if(a.propertyName==="value"&&td(eu)){var c=[];Hx(c,eu,a,cO(a)),Lx(z5,c)}}function B5(a,c,h){a==="focusin"?(ek(),Jc=c,eu=h,Jc.attachEvent("onpropertychange",tk)):a==="focusout"&&ek()}function U5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return td(eu)}function X5(a,c){if(a==="click")return td(c)}function Z5(a,c){if(a==="input"||a==="change")return td(c)}function j5(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var li=typeof Object.is=="function"?Object.is:j5;function tu(a,c){if(li(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var O=h[p];if(!Rs.call(c,O)||!li(a[O],c[O]))return!1}return!0}function nk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ik(a,c){var h=nk(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=c&&p>=c)return{node:h,offset:c-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=nk(h)}}function rk(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?rk(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function sk(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Ff(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Ff(a.document)}return c}function SO(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var V5=Vr&&"documentMode"in document&&11>=document.documentMode,Fa=null,vO=null,nu=null,wO=!1;function lk(a,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;wO||Fa==null||Fa!==Ff(p)||(p=Fa,"selectionStart"in p&&SO(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),nu&&tu(nu,p)||(nu=p,p=Zd(vO,"onSelect"),0<p.length&&(c=new Jf("onSelect","select",null,c,h),a.push({event:c,listeners:p}),c.target=Fa)))}function Bl(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Wa={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionrun:Bl("Transition","TransitionRun"),transitionstart:Bl("Transition","TransitionStart"),transitioncancel:Bl("Transition","TransitionCancel"),transitionend:Bl("Transition","TransitionEnd")},xO={},ak={};Vr&&(ak=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Ul(a){if(xO[a])return xO[a];if(!Wa[a])return a;var c=Wa[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in ak)return xO[a]=c[h];return a}var ok=Ul("animationend"),ck=Ul("animationiteration"),uk=Ul("animationstart"),q5=Ul("transitionrun"),Y5=Ul("transitionstart"),F5=Ul("transitioncancel"),hk=Ul("transitionend"),fk=new Map,kO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kO.push("scrollEnd");function Wi(a,c){fk.set(a,c),Ll(c,[a])}var nd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ci=[],Ha=0,_O=0;function id(){for(var a=Ha,c=_O=Ha=0;c<a;){var h=Ci[c];Ci[c++]=null;var p=Ci[c];Ci[c++]=null;var O=Ci[c];Ci[c++]=null;var b=Ci[c];if(Ci[c++]=null,p!==null&&O!==null){var w=p.pending;w===null?O.next=O:(O.next=w.next,w.next=O),p.pending=O}b!==0&&dk(h,O,b)}}function rd(a,c,h,p){Ci[Ha++]=a,Ci[Ha++]=c,Ci[Ha++]=h,Ci[Ha++]=p,_O|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function TO(a,c,h,p){return rd(a,c,h,p),sd(a)}function Xl(a,c){return rd(a,null,null,c),sd(a)}function dk(a,c,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var O=!1,b=a.return;b!==null;)b.childLanes|=h,p=b.alternate,p!==null&&(p.childLanes|=h),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(O=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,O&&c!==null&&(O=31-le(h),a=b.hiddenUpdates,p=a[O],p===null?a[O]=[c]:p.push(c),c.lane=h|536870912),b):null}function sd(a){if(50<ku)throw ku=0,Iy=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Ga={};function W5(a,c,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(a,c,h,p){return new W5(a,c,h,p)}function CO(a){return a=a.prototype,!(!a||!a.isReactComponent)}function qr(a,c){var h=a.alternate;return h===null?(h=ai(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function pk(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function ld(a,c,h,p,O,b){var w=0;if(p=a,typeof a=="function")CO(a)&&(w=1);else if(typeof a=="string")w=e4(a,h,he.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case te:return a=ai(31,h,c,O),a.elementType=te,a.lanes=b,a;case v:return Zl(h.children,O,b,c);case x:w=8,O|=24;break;case k:return a=ai(12,h,c,O|2),a.elementType=k,a.lanes=b,a;case L:return a=ai(13,h,c,O),a.elementType=L,a.lanes=b,a;case R:return a=ai(19,h,c,O),a.elementType=R,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:w=10;break e;case C:w=9;break e;case X:w=11;break e;case N:w=14;break e;case ae:w=16,p=null;break e}w=29,h=Error(i(130,a===null?"null":typeof a,"")),p=null}return c=ai(w,h,c,O),c.elementType=a,c.type=p,c.lanes=b,c}function Zl(a,c,h,p){return a=ai(7,a,p,c),a.lanes=h,a}function EO(a,c,h){return a=ai(6,a,null,c),a.lanes=h,a}function mk(a){var c=ai(18,null,null,0);return c.stateNode=a,c}function AO(a,c,h){return c=ai(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var gk=new WeakMap;function Ei(a,c){if(typeof a=="object"&&a!==null){var h=gk.get(a);return h!==void 0?h:(c={value:a,source:c,stack:Ur(c)},gk.set(a,c),c)}return{value:a,source:c,stack:Ur(c)}}var Ka=[],Ja=0,ad=null,iu=0,Ai=[],Qi=0,Is=null,gr=1,Or="";function Yr(a,c){Ka[Ja++]=iu,Ka[Ja++]=ad,ad=a,iu=c}function Ok(a,c,h){Ai[Qi++]=gr,Ai[Qi++]=Or,Ai[Qi++]=Is,Is=a;var p=gr;a=Or;var O=32-le(p)-1;p&=~(1<<O),h+=1;var b=32-le(c)+O;if(30<b){var w=O-O%5;b=(p&(1<<w)-1).toString(32),p>>=w,O-=w,gr=1<<32-le(c)+O|h<<O|p,Or=b+a}else gr=1<<b|h<<O|p,Or=a}function QO(a){a.return!==null&&(Yr(a,1),Ok(a,1,0))}function PO(a){for(;a===ad;)ad=Ka[--Ja],Ka[Ja]=null,iu=Ka[--Ja],Ka[Ja]=null;for(;a===Is;)Is=Ai[--Qi],Ai[Qi]=null,Or=Ai[--Qi],Ai[Qi]=null,gr=Ai[--Qi],Ai[Qi]=null}function yk(a,c){Ai[Qi++]=gr,Ai[Qi++]=Or,Ai[Qi++]=Is,gr=c.id,Or=c.overflow,Is=a}var On=null,Rt=null,tt=!1,Ds=null,Pi=!1,RO=Error(i(519));function Ns(a){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ru(Ei(c,a)),RO}function bk(a){var c=a.stateNode,h=a.type,p=a.memoizedProps;switch(c[gn]=a,c[Un]=p,h){case"dialog":Fe("cancel",c),Fe("close",c);break;case"iframe":case"object":case"embed":Fe("load",c);break;case"video":case"audio":for(h=0;h<Tu.length;h++)Fe(Tu[h],c);break;case"source":Fe("error",c);break;case"img":case"image":case"link":Fe("error",c),Fe("load",c);break;case"details":Fe("toggle",c);break;case"input":Fe("invalid",c),Rx(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Fe("invalid",c);break;case"textarea":Fe("invalid",c),Mx(c,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||DT(c.textContent,h)?(p.popover!=null&&(Fe("beforetoggle",c),Fe("toggle",c)),p.onScroll!=null&&Fe("scroll",c),p.onScrollEnd!=null&&Fe("scrollend",c),p.onClick!=null&&(c.onclick=jr),c=!0):c=!1,c||Ns(a,!0)}function Sk(a){for(On=a.return;On;)switch(On.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:On=On.return}}function eo(a){if(a!==On)return!1;if(!tt)return Sk(a),tt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Hy(a.type,a.memoizedProps)),h=!h),h&&Rt&&Ns(a),Sk(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Rt=VT(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Rt=VT(a)}else c===27?(c=Rt,Gs(a.type)?(a=t0,t0=null,Rt=a):Rt=c):Rt=On?$i(a.stateNode.nextSibling):null;return!0}function jl(){Rt=On=null,tt=!1}function $O(){var a=Ds;return a!==null&&(qn===null?qn=a:qn.push.apply(qn,a),Ds=null),a}function ru(a){Ds===null?Ds=[a]:Ds.push(a)}var MO=M(null),Vl=null,Fr=null;function Ls(a,c,h){E(MO,c._currentValue),c._currentValue=h}function Wr(a){a._currentValue=MO.current,Y(MO)}function IO(a,c,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),a===h)break;a=a.return}}function DO(a,c,h,p){var O=a.child;for(O!==null&&(O.return=a);O!==null;){var b=O.dependencies;if(b!==null){var w=O.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=O;for(var $=0;$<c.length;$++)if(_.context===c[$]){b.lanes|=h,_=b.alternate,_!==null&&(_.lanes|=h),IO(b.return,h,a),p||(w=null);break e}b=_.next}}else if(O.tag===18){if(w=O.return,w===null)throw Error(i(341));w.lanes|=h,b=w.alternate,b!==null&&(b.lanes|=h),IO(w,h,a),w=null}else w=O.child;if(w!==null)w.return=O;else for(w=O;w!==null;){if(w===a){w=null;break}if(O=w.sibling,O!==null){O.return=w.return,w=O;break}w=w.return}O=w}}function to(a,c,h,p){a=null;for(var O=c,b=!1;O!==null;){if(!b){if((O.flags&524288)!==0)b=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var w=O.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var _=O.type;li(O.pendingProps.value,w.value)||(a!==null?a.push(_):a=[_])}}else if(O===Be.current){if(w=O.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(a!==null?a.push(Pu):a=[Pu])}O=O.return}a!==null&&DO(c,a,h,p),c.flags|=262144}function od(a){for(a=a.firstContext;a!==null;){if(!li(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){Vl=a,Fr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function yn(a){return vk(Vl,a)}function cd(a,c){return Vl===null&&ql(a),vk(a,c)}function vk(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Fr===null){if(a===null)throw Error(i(308));Fr=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Fr=Fr.next=c;return h}var H5=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},G5=n.unstable_scheduleCallback,K5=n.unstable_NormalPriority,Ft={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function NO(){return{controller:new H5,data:new Map,refCount:0}}function su(a){a.refCount--,a.refCount===0&&G5(K5,function(){a.controller.abort()})}var lu=null,LO=0,no=0,io=null;function J5(a,c){if(lu===null){var h=lu=[];LO=0,no=Uy(),io={status:"pending",value:void 0,then:function(p){h.push(p)}}}return LO++,c.then(wk,wk),c}function wk(){if(--LO===0&&lu!==null){io!==null&&(io.status="fulfilled");var a=lu;lu=null,no=0,io=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function e3(a,c){var h=[],p={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return a.then(function(){p.status="fulfilled",p.value=c;for(var O=0;O<h.length;O++)(0,h[O])(c)},function(O){for(p.status="rejected",p.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),p}var xk=U.S;U.S=function(a,c){lT=pn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&J5(a,c),xk!==null&&xk(a,c)};var Yl=M(null);function zO(){var a=Yl.current;return a!==null?a:wt.pooledCache}function ud(a,c){c===null?E(Yl,Yl.current):E(Yl,c.pool)}function kk(){var a=zO();return a===null?null:{parent:Ft._currentValue,pool:a}}var ro=Error(i(460)),BO=Error(i(474)),hd=Error(i(542)),fd={then:function(){}};function _k(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Tk(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(jr,jr),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Ek(a),a;default:if(typeof c.status=="string")c.then(jr,jr);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(p){if(c.status==="pending"){var O=c;O.status="fulfilled",O.value=p}},function(p){if(c.status==="pending"){var O=c;O.status="rejected",O.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Ek(a),a}throw Wl=c,ro}}function Fl(a){try{var c=a._init;return c(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Wl=h,ro):h}}var Wl=null;function Ck(){if(Wl===null)throw Error(i(459));var a=Wl;return Wl=null,a}function Ek(a){if(a===ro||a===hd)throw Error(i(483))}var so=null,au=0;function dd(a){var c=au;return au+=1,so===null&&(so=[]),Tk(so,a,c)}function ou(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function pd(a,c){throw c.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Ak(a){function c(B,D){if(a){var Z=B.deletions;Z===null?(B.deletions=[D],B.flags|=16):Z.push(D)}}function h(B,D){if(!a)return null;for(;D!==null;)c(B,D),D=D.sibling;return null}function p(B){for(var D=new Map;B!==null;)B.key!==null?D.set(B.key,B):D.set(B.index,B),B=B.sibling;return D}function O(B,D){return B=qr(B,D),B.index=0,B.sibling=null,B}function b(B,D,Z){return B.index=Z,a?(Z=B.alternate,Z!==null?(Z=Z.index,Z<D?(B.flags|=67108866,D):Z):(B.flags|=67108866,D)):(B.flags|=1048576,D)}function w(B){return a&&B.alternate===null&&(B.flags|=67108866),B}function _(B,D,Z,ee){return D===null||D.tag!==6?(D=EO(Z,B.mode,ee),D.return=B,D):(D=O(D,Z),D.return=B,D)}function $(B,D,Z,ee){var Ae=Z.type;return Ae===v?G(B,D,Z.props.children,ee,Z.key):D!==null&&(D.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ae&&Fl(Ae)===D.type)?(D=O(D,Z.props),ou(D,Z),D.return=B,D):(D=ld(Z.type,Z.key,Z.props,null,B.mode,ee),ou(D,Z),D.return=B,D)}function V(B,D,Z,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==Z.containerInfo||D.stateNode.implementation!==Z.implementation?(D=AO(Z,B.mode,ee),D.return=B,D):(D=O(D,Z.children||[]),D.return=B,D)}function G(B,D,Z,ee,Ae){return D===null||D.tag!==7?(D=Zl(Z,B.mode,ee,Ae),D.return=B,D):(D=O(D,Z),D.return=B,D)}function re(B,D,Z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=EO(""+D,B.mode,Z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return Z=ld(D.type,D.key,D.props,null,B.mode,Z),ou(Z,D),Z.return=B,Z;case S:return D=AO(D,B.mode,Z),D.return=B,D;case ae:return D=Fl(D),re(B,D,Z)}if(ne(D)||W(D))return D=Zl(D,B.mode,Z,null),D.return=B,D;if(typeof D.then=="function")return re(B,dd(D),Z);if(D.$$typeof===T)return re(B,cd(B,D),Z);pd(B,D)}return null}function q(B,D,Z,ee){var Ae=D!==null?D.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ae!==null?null:_(B,D,""+Z,ee);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Ae?$(B,D,Z,ee):null;case S:return Z.key===Ae?V(B,D,Z,ee):null;case ae:return Z=Fl(Z),q(B,D,Z,ee)}if(ne(Z)||W(Z))return Ae!==null?null:G(B,D,Z,ee,null);if(typeof Z.then=="function")return q(B,D,dd(Z),ee);if(Z.$$typeof===T)return q(B,D,cd(B,Z),ee);pd(B,Z)}return null}function F(B,D,Z,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(Z)||null,_(D,B,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return B=B.get(ee.key===null?Z:ee.key)||null,$(D,B,ee,Ae);case S:return B=B.get(ee.key===null?Z:ee.key)||null,V(D,B,ee,Ae);case ae:return ee=Fl(ee),F(B,D,Z,ee,Ae)}if(ne(ee)||W(ee))return B=B.get(Z)||null,G(D,B,ee,Ae,null);if(typeof ee.then=="function")return F(B,D,Z,dd(ee),Ae);if(ee.$$typeof===T)return F(B,D,Z,cd(D,ee),Ae);pd(D,ee)}return null}function xe(B,D,Z,ee){for(var Ae=null,at=null,ke=D,Ue=D=0,Je=null;ke!==null&&Ue<Z.length;Ue++){ke.index>Ue?(Je=ke,ke=null):Je=ke.sibling;var ot=q(B,ke,Z[Ue],ee);if(ot===null){ke===null&&(ke=Je);break}a&&ke&&ot.alternate===null&&c(B,ke),D=b(ot,D,Ue),at===null?Ae=ot:at.sibling=ot,at=ot,ke=Je}if(Ue===Z.length)return h(B,ke),tt&&Yr(B,Ue),Ae;if(ke===null){for(;Ue<Z.length;Ue++)ke=re(B,Z[Ue],ee),ke!==null&&(D=b(ke,D,Ue),at===null?Ae=ke:at.sibling=ke,at=ke);return tt&&Yr(B,Ue),Ae}for(ke=p(ke);Ue<Z.length;Ue++)Je=F(ke,B,Ue,Z[Ue],ee),Je!==null&&(a&&Je.alternate!==null&&ke.delete(Je.key===null?Ue:Je.key),D=b(Je,D,Ue),at===null?Ae=Je:at.sibling=Je,at=Je);return a&&ke.forEach(function(nl){return c(B,nl)}),tt&&Yr(B,Ue),Ae}function Pe(B,D,Z,ee){if(Z==null)throw Error(i(151));for(var Ae=null,at=null,ke=D,Ue=D=0,Je=null,ot=Z.next();ke!==null&&!ot.done;Ue++,ot=Z.next()){ke.index>Ue?(Je=ke,ke=null):Je=ke.sibling;var nl=q(B,ke,ot.value,ee);if(nl===null){ke===null&&(ke=Je);break}a&&ke&&nl.alternate===null&&c(B,ke),D=b(nl,D,Ue),at===null?Ae=nl:at.sibling=nl,at=nl,ke=Je}if(ot.done)return h(B,ke),tt&&Yr(B,Ue),Ae;if(ke===null){for(;!ot.done;Ue++,ot=Z.next())ot=re(B,ot.value,ee),ot!==null&&(D=b(ot,D,Ue),at===null?Ae=ot:at.sibling=ot,at=ot);return tt&&Yr(B,Ue),Ae}for(ke=p(ke);!ot.done;Ue++,ot=Z.next())ot=F(ke,B,Ue,ot.value,ee),ot!==null&&(a&&ot.alternate!==null&&ke.delete(ot.key===null?Ue:ot.key),D=b(ot,D,Ue),at===null?Ae=ot:at.sibling=ot,at=ot);return a&&ke.forEach(function(h4){return c(B,h4)}),tt&&Yr(B,Ue),Ae}function bt(B,D,Z,ee){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Ae=Z.key;D!==null;){if(D.key===Ae){if(Ae=Z.type,Ae===v){if(D.tag===7){h(B,D.sibling),ee=O(D,Z.props.children),ee.return=B,B=ee;break e}}else if(D.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ae&&Fl(Ae)===D.type){h(B,D.sibling),ee=O(D,Z.props),ou(ee,Z),ee.return=B,B=ee;break e}h(B,D);break}else c(B,D);D=D.sibling}Z.type===v?(ee=Zl(Z.props.children,B.mode,ee,Z.key),ee.return=B,B=ee):(ee=ld(Z.type,Z.key,Z.props,null,B.mode,ee),ou(ee,Z),ee.return=B,B=ee)}return w(B);case S:e:{for(Ae=Z.key;D!==null;){if(D.key===Ae)if(D.tag===4&&D.stateNode.containerInfo===Z.containerInfo&&D.stateNode.implementation===Z.implementation){h(B,D.sibling),ee=O(D,Z.children||[]),ee.return=B,B=ee;break e}else{h(B,D);break}else c(B,D);D=D.sibling}ee=AO(Z,B.mode,ee),ee.return=B,B=ee}return w(B);case ae:return Z=Fl(Z),bt(B,D,Z,ee)}if(ne(Z))return xe(B,D,Z,ee);if(W(Z)){if(Ae=W(Z),typeof Ae!="function")throw Error(i(150));return Z=Ae.call(Z),Pe(B,D,Z,ee)}if(typeof Z.then=="function")return bt(B,D,dd(Z),ee);if(Z.$$typeof===T)return bt(B,D,cd(B,Z),ee);pd(B,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,D!==null&&D.tag===6?(h(B,D.sibling),ee=O(D,Z),ee.return=B,B=ee):(h(B,D),ee=EO(Z,B.mode,ee),ee.return=B,B=ee),w(B)):h(B,D)}return function(B,D,Z,ee){try{au=0;var Ae=bt(B,D,Z,ee);return so=null,Ae}catch(ke){if(ke===ro||ke===hd)throw ke;var at=ai(29,ke,null,B.mode);return at.lanes=ee,at.return=B,at}finally{}}}var Hl=Ak(!0),Qk=Ak(!1),zs=!1;function UO(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function XO(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Bs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Us(a,c,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ct&2)!==0){var O=p.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),p.pending=c,c=sd(a),dk(a,null,h),c}return rd(a,p,c,h),sd(a)}function cu(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var p=c.lanes;p&=a.pendingLanes,h|=p,c.lanes=h,vx(a,h)}}function ZO(a,c){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var O=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var w={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?O=b=w:b=b.next=w,h=h.next}while(h!==null);b===null?O=b=c:b=b.next=c}else O=b=c;h={baseState:p.baseState,firstBaseUpdate:O,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var jO=!1;function uu(){if(jO){var a=io;if(a!==null)throw a}}function hu(a,c,h,p){jO=!1;var O=a.updateQueue;zs=!1;var b=O.firstBaseUpdate,w=O.lastBaseUpdate,_=O.shared.pending;if(_!==null){O.shared.pending=null;var $=_,V=$.next;$.next=null,w===null?b=V:w.next=V,w=$;var G=a.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==w&&(_===null?G.firstBaseUpdate=V:_.next=V,G.lastBaseUpdate=$))}if(b!==null){var re=O.baseState;w=0,G=V=$=null,_=b;do{var q=_.lane&-536870913,F=q!==_.lane;if(F?(Ke&q)===q:(p&q)===q){q!==0&&q===no&&(jO=!0),G!==null&&(G=G.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var xe=a,Pe=_;q=c;var bt=h;switch(Pe.tag){case 1:if(xe=Pe.payload,typeof xe=="function"){re=xe.call(bt,re,q);break e}re=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Pe.payload,q=typeof xe=="function"?xe.call(bt,re,q):xe,q==null)break e;re=m({},re,q);break e;case 2:zs=!0}}q=_.callback,q!==null&&(a.flags|=64,F&&(a.flags|=8192),F=O.callbacks,F===null?O.callbacks=[q]:F.push(q))}else F={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(V=G=F,$=re):G=G.next=F,w|=q;if(_=_.next,_===null){if(_=O.shared.pending,_===null)break;F=_,_=F.next,F.next=null,O.lastBaseUpdate=F,O.shared.pending=null}}while(!0);G===null&&($=re),O.baseState=$,O.firstBaseUpdate=V,O.lastBaseUpdate=G,b===null&&(O.shared.lanes=0),qs|=w,a.lanes=w,a.memoizedState=re}}function Pk(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function Rk(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Pk(h[a],c)}var lo=M(null),md=M(0);function $k(a,c){a=rs,E(md,a),E(lo,c),rs=a|c.baseLanes}function VO(){E(md,rs),E(lo,lo.current)}function qO(){rs=md.current,Y(lo),Y(md)}var oi=M(null),Ri=null;function Xs(a){var c=a.alternate;E(jt,jt.current&1),E(oi,a),Ri===null&&(c===null||lo.current!==null||c.memoizedState!==null)&&(Ri=a)}function YO(a){E(jt,jt.current),E(oi,a),Ri===null&&(Ri=a)}function Mk(a){a.tag===22?(E(jt,jt.current),E(oi,a),Ri===null&&(Ri=a)):Zs()}function Zs(){E(jt,jt.current),E(oi,oi.current)}function ci(a){Y(oi),Ri===a&&(Ri=null),Y(jt)}var jt=M(0);function gd(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Jy(h)||e0(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Hr=0,ze=null,Ot=null,Wt=null,Od=!1,ao=!1,Gl=!1,yd=0,fu=0,oo=null,t3=0;function zt(){throw Error(i(321))}function FO(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!li(a[h],c[h]))return!1;return!0}function WO(a,c,h,p,O,b){return Hr=b,ze=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=a===null||a.memoizedState===null?O_:uy,Gl=!1,b=h(p,O),Gl=!1,ao&&(b=Dk(c,h,p,O)),Ik(a),b}function Ik(a){U.H=mu;var c=Ot!==null&&Ot.next!==null;if(Hr=0,Wt=Ot=ze=null,Od=!1,fu=0,oo=null,c)throw Error(i(300));a===null||Ht||(a=a.dependencies,a!==null&&od(a)&&(Ht=!0))}function Dk(a,c,h,p){ze=a;var O=0;do{if(ao&&(oo=null),fu=0,ao=!1,25<=O)throw Error(i(301));if(O+=1,Wt=Ot=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}U.H=y_,b=c(h,p)}while(ao);return b}function n3(){var a=U.H,c=a.useState()[0];return c=typeof c.then=="function"?du(c):c,a=a.useState()[0],(Ot!==null?Ot.memoizedState:null)!==a&&(ze.flags|=1024),c}function HO(){var a=yd!==0;return yd=0,a}function GO(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function KO(a){if(Od){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Od=!1}Hr=0,Wt=Ot=ze=null,ao=!1,fu=yd=0,oo=null}function In(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ze.memoizedState=Wt=a:Wt=Wt.next=a,Wt}function Vt(){if(Ot===null){var a=ze.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var c=Wt===null?ze.memoizedState:Wt.next;if(c!==null)Wt=c,Ot=a;else{if(a===null)throw ze.alternate===null?Error(i(467)):Error(i(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Wt===null?ze.memoizedState=Wt=a:Wt=Wt.next=a}return Wt}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(a){var c=fu;return fu+=1,oo===null&&(oo=[]),a=Tk(oo,a,c),c=ze,(Wt===null?c.memoizedState:Wt.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?O_:uy),a}function Sd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return du(a);if(a.$$typeof===T)return yn(a)}throw Error(i(438,String(a)))}function JO(a){var c=null,h=ze.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(O){return O.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=bd(),ze.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),p=0;p<a;p++)h[p]=z;return c.index++,h}function Gr(a,c){return typeof c=="function"?c(a):c}function vd(a){var c=Vt();return ey(c,Ot,a)}function ey(a,c,h){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=h;var O=a.baseQueue,b=p.pending;if(b!==null){if(O!==null){var w=O.next;O.next=b.next,b.next=w}c.baseQueue=O=b,p.pending=null}if(b=a.baseState,O===null)a.memoizedState=b;else{c=O.next;var _=w=null,$=null,V=c,G=!1;do{var re=V.lane&-536870913;if(re!==V.lane?(Ke&re)===re:(Hr&re)===re){var q=V.revertLane;if(q===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),re===no&&(G=!0);else if((Hr&q)===q){V=V.next,q===no&&(G=!0);continue}else re={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},$===null?(_=$=re,w=b):$=$.next=re,ze.lanes|=q,qs|=q;re=V.action,Gl&&h(b,re),b=V.hasEagerState?V.eagerState:h(b,re)}else q={lane:re,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},$===null?(_=$=q,w=b):$=$.next=q,ze.lanes|=re,qs|=re;V=V.next}while(V!==null&&V!==c);if($===null?w=b:$.next=_,!li(b,a.memoizedState)&&(Ht=!0,G&&(h=io,h!==null)))throw h;a.memoizedState=b,a.baseState=w,a.baseQueue=$,p.lastRenderedState=b}return O===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function ty(a){var c=Vt(),h=c.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var p=h.dispatch,O=h.pending,b=c.memoizedState;if(O!==null){h.pending=null;var w=O=O.next;do b=a(b,w.action),w=w.next;while(w!==O);li(b,c.memoizedState)||(Ht=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),h.lastRenderedState=b}return[b,p]}function Nk(a,c,h){var p=ze,O=Vt(),b=tt;if(b){if(h===void 0)throw Error(i(407));h=h()}else h=c();var w=!li((Ot||O).memoizedState,h);if(w&&(O.memoizedState=h,Ht=!0),O=O.queue,ry(Bk.bind(null,p,O,a),[a]),O.getSnapshot!==c||w||Wt!==null&&Wt.memoizedState.tag&1){if(p.flags|=2048,co(9,{destroy:void 0},zk.bind(null,p,O,h,c),null),wt===null)throw Error(i(349));b||(Hr&127)!==0||Lk(p,c,h)}return h}function Lk(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=ze.updateQueue,c===null?(c=bd(),ze.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function zk(a,c,h,p){c.value=h,c.getSnapshot=p,Uk(c)&&Xk(a)}function Bk(a,c,h){return h(function(){Uk(c)&&Xk(a)})}function Uk(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!li(a,h)}catch{return!0}}function Xk(a){var c=Xl(a,2);c!==null&&Yn(c,a,2)}function ny(a){var c=In();if(typeof a=="function"){var h=a;if(a=h(),Gl){se(!0);try{h()}finally{se(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},c}function Zk(a,c,h,p){return a.baseState=h,ey(a,Ot,typeof p=="function"?p:Gr)}function i3(a,c,h,p,O){if(kd(a))throw Error(i(485));if(a=c.action,a!==null){var b={payload:O,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};U.T!==null?h(!0):b.isTransition=!1,p(b),h=c.pending,h===null?(b.next=c.pending=b,jk(c,b)):(b.next=h.next,c.pending=h.next=b)}}function jk(a,c){var h=c.action,p=c.payload,O=a.state;if(c.isTransition){var b=U.T,w={};U.T=w;try{var _=h(O,p),$=U.S;$!==null&&$(w,_),Vk(a,c,_)}catch(V){iy(a,c,V)}finally{b!==null&&w.types!==null&&(b.types=w.types),U.T=b}}else try{b=h(O,p),Vk(a,c,b)}catch(V){iy(a,c,V)}}function Vk(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){qk(a,c,p)},function(p){return iy(a,c,p)}):qk(a,c,h)}function qk(a,c,h){c.status="fulfilled",c.value=h,Yk(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,jk(a,h)))}function iy(a,c,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,Yk(c),c=c.next;while(c!==p)}a.action=null}function Yk(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function Fk(a,c){return c}function Wk(a,c){if(tt){var h=wt.formState;if(h!==null){e:{var p=ze;if(tt){if(Rt){t:{for(var O=Rt,b=Pi;O.nodeType!==8;){if(!b){O=null;break t}if(O=$i(O.nextSibling),O===null){O=null;break t}}b=O.data,O=b==="F!"||b==="F"?O:null}if(O){Rt=$i(O.nextSibling),p=O.data==="F!";break e}}Ns(p)}p=!1}p&&(c=h[0])}}return h=In(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fk,lastRenderedState:c},h.queue=p,h=p_.bind(null,ze,p),p.dispatch=h,p=ny(!1),b=cy.bind(null,ze,!1,p.queue),p=In(),O={state:c,dispatch:null,action:a,pending:null},p.queue=O,h=i3.bind(null,ze,O,b,h),O.dispatch=h,p.memoizedState=a,[c,h,!1]}function Hk(a){var c=Vt();return Gk(c,Ot,a)}function Gk(a,c,h){if(c=ey(a,c,Fk)[0],a=vd(Gr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=du(c)}catch(w){throw w===ro?hd:w}else p=c;c=Vt();var O=c.queue,b=O.dispatch;return h!==c.memoizedState&&(ze.flags|=2048,co(9,{destroy:void 0},r3.bind(null,O,h),null)),[p,b,a]}function r3(a,c){a.action=c}function Kk(a){var c=Vt(),h=Ot;if(h!==null)return Gk(c,h,a);Vt(),c=c.memoizedState,h=Vt();var p=h.queue.dispatch;return h.memoizedState=a,[c,p,!1]}function co(a,c,h,p){return a={tag:a,create:h,deps:p,inst:c,next:null},c=ze.updateQueue,c===null&&(c=bd(),ze.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,c.lastEffect=a),a}function Jk(){return Vt().memoizedState}function wd(a,c,h,p){var O=In();ze.flags|=a,O.memoizedState=co(1|c,{destroy:void 0},h,p===void 0?null:p)}function xd(a,c,h,p){var O=Vt();p=p===void 0?null:p;var b=O.memoizedState.inst;Ot!==null&&p!==null&&FO(p,Ot.memoizedState.deps)?O.memoizedState=co(c,b,h,p):(ze.flags|=a,O.memoizedState=co(1|c,b,h,p))}function e_(a,c){wd(8390656,8,a,c)}function ry(a,c){xd(2048,8,a,c)}function s3(a){ze.flags|=4;var c=ze.updateQueue;if(c===null)c=bd(),ze.updateQueue=c,c.events=[a];else{var h=c.events;h===null?c.events=[a]:h.push(a)}}function t_(a){var c=Vt().memoizedState;return s3({ref:c,nextImpl:a}),function(){if((ct&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function n_(a,c){return xd(4,2,a,c)}function i_(a,c){return xd(4,4,a,c)}function r_(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function s_(a,c,h){h=h!=null?h.concat([a]):null,xd(4,4,r_.bind(null,c,a),h)}function sy(){}function l_(a,c){var h=Vt();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&FO(c,p[1])?p[0]:(h.memoizedState=[a,c],a)}function a_(a,c){var h=Vt();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&FO(c,p[1]))return p[0];if(p=a(),Gl){se(!0);try{a()}finally{se(!1)}}return h.memoizedState=[p,c],p}function ly(a,c,h){return h===void 0||(Hr&1073741824)!==0&&(Ke&261930)===0?a.memoizedState=c:(a.memoizedState=h,a=oT(),ze.lanes|=a,qs|=a,h)}function o_(a,c,h,p){return li(h,c)?h:lo.current!==null?(a=ly(a,h,p),li(a,c)||(Ht=!0),a):(Hr&42)===0||(Hr&1073741824)!==0&&(Ke&261930)===0?(Ht=!0,a.memoizedState=h):(a=oT(),ze.lanes|=a,qs|=a,c)}function c_(a,c,h,p,O){var b=ie.p;ie.p=b!==0&&8>b?b:8;var w=U.T,_={};U.T=_,cy(a,!1,c,h);try{var $=O(),V=U.S;if(V!==null&&V(_,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var G=e3($,p);pu(a,c,G,fi(a))}else pu(a,c,p,fi(a))}catch(re){pu(a,c,{then:function(){},status:"rejected",reason:re},fi())}finally{ie.p=b,w!==null&&_.types!==null&&(w.types=_.types),U.T=w}}function l3(){}function ay(a,c,h,p){if(a.tag!==5)throw Error(i(476));var O=u_(a).queue;c_(a,O,c,me,h===null?l3:function(){return h_(a),h(p)})}function u_(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:me},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function h_(a){var c=u_(a);c.next===null&&(c=a.alternate.memoizedState),pu(a,c.next.queue,{},fi())}function oy(){return yn(Pu)}function f_(){return Vt().memoizedState}function d_(){return Vt().memoizedState}function a3(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=fi();a=Bs(h);var p=Us(c,a,h);p!==null&&(Yn(p,c,h),cu(p,c,h)),c={cache:NO()},a.payload=c;return}c=c.return}}function o3(a,c,h){var p=fi();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},kd(a)?m_(c,h):(h=TO(a,c,h,p),h!==null&&(Yn(h,a,p),g_(h,c,p)))}function p_(a,c,h){var p=fi();pu(a,c,h,p)}function pu(a,c,h,p){var O={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(kd(a))m_(c,O);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var w=c.lastRenderedState,_=b(w,h);if(O.hasEagerState=!0,O.eagerState=_,li(_,w))return rd(a,c,O,0),wt===null&&id(),!1}catch{}finally{}if(h=TO(a,c,O,p),h!==null)return Yn(h,a,p),g_(h,c,p),!0}return!1}function cy(a,c,h,p){if(p={lane:2,revertLane:Uy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},kd(a)){if(c)throw Error(i(479))}else c=TO(a,h,p,2),c!==null&&Yn(c,a,2)}function kd(a){var c=a.alternate;return a===ze||c!==null&&c===ze}function m_(a,c){ao=Od=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function g_(a,c,h){if((h&4194048)!==0){var p=c.lanes;p&=a.pendingLanes,h|=p,c.lanes=h,vx(a,h)}}var mu={readContext:yn,use:Sd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};mu.useEffectEvent=zt;var O_={readContext:yn,use:Sd,useCallback:function(a,c){return In().memoizedState=[a,c===void 0?null:c],a},useContext:yn,useEffect:e_,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,wd(4194308,4,r_.bind(null,c,a),h)},useLayoutEffect:function(a,c){return wd(4194308,4,a,c)},useInsertionEffect:function(a,c){wd(4,2,a,c)},useMemo:function(a,c){var h=In();c=c===void 0?null:c;var p=a();if(Gl){se(!0);try{a()}finally{se(!1)}}return h.memoizedState=[p,c],p},useReducer:function(a,c,h){var p=In();if(h!==void 0){var O=h(c);if(Gl){se(!0);try{h(c)}finally{se(!1)}}}else O=c;return p.memoizedState=p.baseState=O,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:O},p.queue=a,a=a.dispatch=o3.bind(null,ze,a),[p.memoizedState,a]},useRef:function(a){var c=In();return a={current:a},c.memoizedState=a},useState:function(a){a=ny(a);var c=a.queue,h=p_.bind(null,ze,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:sy,useDeferredValue:function(a,c){var h=In();return ly(h,a,c)},useTransition:function(){var a=ny(!1);return a=c_.bind(null,ze,a.queue,!0,!1),In().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var p=ze,O=In();if(tt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=c(),wt===null)throw Error(i(349));(Ke&127)!==0||Lk(p,c,h)}O.memoizedState=h;var b={value:h,getSnapshot:c};return O.queue=b,e_(Bk.bind(null,p,b,a),[a]),p.flags|=2048,co(9,{destroy:void 0},zk.bind(null,p,b,h,c),null),h},useId:function(){var a=In(),c=wt.identifierPrefix;if(tt){var h=Or,p=gr;h=(p&~(1<<32-le(p)-1)).toString(32)+h,c="_"+c+"R_"+h,h=yd++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=t3++,c="_"+c+"r_"+h.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:oy,useFormState:Wk,useActionState:Wk,useOptimistic:function(a){var c=In();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=cy.bind(null,ze,!0,h),h.dispatch=c,[a,c]},useMemoCache:JO,useCacheRefresh:function(){return In().memoizedState=a3.bind(null,ze)},useEffectEvent:function(a){var c=In(),h={impl:a};return c.memoizedState=h,function(){if((ct&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},uy={readContext:yn,use:Sd,useCallback:l_,useContext:yn,useEffect:ry,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:a_,useReducer:vd,useRef:Jk,useState:function(){return vd(Gr)},useDebugValue:sy,useDeferredValue:function(a,c){var h=Vt();return o_(h,Ot.memoizedState,a,c)},useTransition:function(){var a=vd(Gr)[0],c=Vt().memoizedState;return[typeof a=="boolean"?a:du(a),c]},useSyncExternalStore:Nk,useId:f_,useHostTransitionStatus:oy,useFormState:Hk,useActionState:Hk,useOptimistic:function(a,c){var h=Vt();return Zk(h,Ot,a,c)},useMemoCache:JO,useCacheRefresh:d_};uy.useEffectEvent=t_;var y_={readContext:yn,use:Sd,useCallback:l_,useContext:yn,useEffect:ry,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:a_,useReducer:ty,useRef:Jk,useState:function(){return ty(Gr)},useDebugValue:sy,useDeferredValue:function(a,c){var h=Vt();return Ot===null?ly(h,a,c):o_(h,Ot.memoizedState,a,c)},useTransition:function(){var a=ty(Gr)[0],c=Vt().memoizedState;return[typeof a=="boolean"?a:du(a),c]},useSyncExternalStore:Nk,useId:f_,useHostTransitionStatus:oy,useFormState:Kk,useActionState:Kk,useOptimistic:function(a,c){var h=Vt();return Ot!==null?Zk(h,Ot,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:JO,useCacheRefresh:d_};y_.useEffectEvent=t_;function hy(a,c,h,p){c=a.memoizedState,h=h(p,c),h=h==null?c:m({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var fy={enqueueSetState:function(a,c,h){a=a._reactInternals;var p=fi(),O=Bs(p);O.payload=c,h!=null&&(O.callback=h),c=Us(a,O,p),c!==null&&(Yn(c,a,p),cu(c,a,p))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var p=fi(),O=Bs(p);O.tag=1,O.payload=c,h!=null&&(O.callback=h),c=Us(a,O,p),c!==null&&(Yn(c,a,p),cu(c,a,p))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=fi(),p=Bs(h);p.tag=2,c!=null&&(p.callback=c),c=Us(a,p,h),c!==null&&(Yn(c,a,h),cu(c,a,h))}};function b_(a,c,h,p,O,b,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,w):c.prototype&&c.prototype.isPureReactComponent?!tu(h,p)||!tu(O,b):!0}function S_(a,c,h,p){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==a&&fy.enqueueReplaceState(c,c.state,null)}function Kl(a,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(a=a.defaultProps){h===c&&(h=m({},h));for(var O in a)h[O]===void 0&&(h[O]=a[O])}return h}function v_(a){nd(a)}function w_(a){console.error(a)}function x_(a){nd(a)}function _d(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function k_(a,c,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function dy(a,c,h){return h=Bs(h),h.tag=3,h.payload={element:null},h.callback=function(){_d(a,c)},h}function __(a){return a=Bs(a),a.tag=3,a}function T_(a,c,h,p){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var b=p.value;a.payload=function(){return O(b)},a.callback=function(){k_(c,h,p)}}var w=h.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){k_(c,h,p),typeof O!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var _=p.stack;this.componentDidCatch(p.value,{componentStack:_!==null?_:""})})}function c3(a,c,h,p,O){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&to(c,h,O,!0),h=oi.current,h!==null){switch(h.tag){case 31:case 13:return Ri===null?Nd():h.alternate===null&&Bt===0&&(Bt=3),h.flags&=-257,h.flags|=65536,h.lanes=O,p===fd?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),Ly(a,p,O)),!1;case 22:return h.flags|=65536,p===fd?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),Ly(a,p,O)),!1}throw Error(i(435,h.tag))}return Ly(a,p,O),Nd(),!1}if(tt)return c=oi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=O,p!==RO&&(a=Error(i(422),{cause:p}),ru(Ei(a,h)))):(p!==RO&&(c=Error(i(423),{cause:p}),ru(Ei(c,h))),a=a.current.alternate,a.flags|=65536,O&=-O,a.lanes|=O,p=Ei(p,h),O=dy(a.stateNode,p,O),ZO(a,O),Bt!==4&&(Bt=2)),!1;var b=Error(i(520),{cause:p});if(b=Ei(b,h),xu===null?xu=[b]:xu.push(b),Bt!==4&&(Bt=2),c===null)return!0;p=Ei(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=O&-O,h.lanes|=a,a=dy(h.stateNode,p,a),ZO(h,a),!1;case 1:if(c=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ys===null||!Ys.has(b))))return h.flags|=65536,O&=-O,h.lanes|=O,O=__(O),T_(O,a,h,p),ZO(h,O),!1}h=h.return}while(h!==null);return!1}var py=Error(i(461)),Ht=!1;function bn(a,c,h,p){c.child=a===null?Qk(c,null,h,p):Hl(c,a.child,h,p)}function C_(a,c,h,p,O){h=h.render;var b=c.ref;if("ref"in p){var w={};for(var _ in p)_!=="ref"&&(w[_]=p[_])}else w=p;return ql(c),p=WO(a,c,h,w,b,O),_=HO(),a!==null&&!Ht?(GO(a,c,O),Kr(a,c,O)):(tt&&_&&QO(c),c.flags|=1,bn(a,c,p,O),c.child)}function E_(a,c,h,p,O){if(a===null){var b=h.type;return typeof b=="function"&&!CO(b)&&b.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=b,A_(a,c,b,p,O)):(a=ld(h.type,null,p,c,c.mode,O),a.ref=c.ref,a.return=c,c.child=a)}if(b=a.child,!wy(a,O)){var w=b.memoizedProps;if(h=h.compare,h=h!==null?h:tu,h(w,p)&&a.ref===c.ref)return Kr(a,c,O)}return c.flags|=1,a=qr(b,p),a.ref=c.ref,a.return=c,c.child=a}function A_(a,c,h,p,O){if(a!==null){var b=a.memoizedProps;if(tu(b,p)&&a.ref===c.ref)if(Ht=!1,c.pendingProps=p=b,wy(a,O))(a.flags&131072)!==0&&(Ht=!0);else return c.lanes=a.lanes,Kr(a,c,O)}return my(a,c,h,p,O)}function Q_(a,c,h,p){var O=p.children,b=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,a!==null){for(p=c.child=a.child,O=0;p!==null;)O=O|p.lanes|p.childLanes,p=p.sibling;p=O&~b}else p=0,c.child=null;return P_(a,c,b,h,p)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&ud(c,b!==null?b.cachePool:null),b!==null?$k(c,b):VO(),Mk(c);else return p=c.lanes=536870912,P_(a,c,b!==null?b.baseLanes|h:h,h,p)}else b!==null?(ud(c,b.cachePool),$k(c,b),Zs(),c.memoizedState=null):(a!==null&&ud(c,null),VO(),Zs());return bn(a,c,O,h),c.child}function gu(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function P_(a,c,h,p,O){var b=zO();return b=b===null?null:{parent:Ft._currentValue,pool:b},c.memoizedState={baseLanes:h,cachePool:b},a!==null&&ud(c,null),VO(),Mk(c),a!==null&&to(a,c,p,!0),c.childLanes=O,null}function Td(a,c){return c=Ed({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function R_(a,c,h){return Hl(c,a.child,null,h),a=Td(c,c.pendingProps),a.flags|=2,ci(c),c.memoizedState=null,a}function u3(a,c,h){var p=c.pendingProps,O=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(tt){if(p.mode==="hidden")return a=Td(c,p),c.lanes=536870912,gu(null,a);if(YO(c),(a=Rt)?(a=jT(a,Pi),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Is!==null?{id:gr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},h=mk(a),h.return=c,c.child=h,On=c,Rt=null)):a=null,a===null)throw Ns(c);return c.lanes=536870912,null}return Td(c,p)}var b=a.memoizedState;if(b!==null){var w=b.dehydrated;if(YO(c),O)if(c.flags&256)c.flags&=-257,c=R_(a,c,h);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(i(558));else if(Ht||to(a,c,h,!1),O=(h&a.childLanes)!==0,Ht||O){if(p=wt,p!==null&&(w=wx(p,h),w!==0&&w!==b.retryLane))throw b.retryLane=w,Xl(a,w),Yn(p,a,w),py;Nd(),c=R_(a,c,h)}else a=b.treeContext,Rt=$i(w.nextSibling),On=c,tt=!0,Ds=null,Pi=!1,a!==null&&yk(c,a),c=Td(c,p),c.flags|=4096;return c}return a=qr(a.child,{mode:p.mode,children:p.children}),a.ref=c.ref,c.child=a,a.return=c,a}function Cd(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function my(a,c,h,p,O){return ql(c),h=WO(a,c,h,p,void 0,O),p=HO(),a!==null&&!Ht?(GO(a,c,O),Kr(a,c,O)):(tt&&p&&QO(c),c.flags|=1,bn(a,c,h,O),c.child)}function $_(a,c,h,p,O,b){return ql(c),c.updateQueue=null,h=Dk(c,p,h,O),Ik(a),p=HO(),a!==null&&!Ht?(GO(a,c,b),Kr(a,c,b)):(tt&&p&&QO(c),c.flags|=1,bn(a,c,h,b),c.child)}function M_(a,c,h,p,O){if(ql(c),c.stateNode===null){var b=Ga,w=h.contextType;typeof w=="object"&&w!==null&&(b=yn(w)),b=new h(p,b),c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=fy,c.stateNode=b,b._reactInternals=c,b=c.stateNode,b.props=p,b.state=c.memoizedState,b.refs={},UO(c),w=h.contextType,b.context=typeof w=="object"&&w!==null?yn(w):Ga,b.state=c.memoizedState,w=h.getDerivedStateFromProps,typeof w=="function"&&(hy(c,h,w,p),b.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&fy.enqueueReplaceState(b,b.state,null),hu(c,p,b,O),uu(),b.state=c.memoizedState),typeof b.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(a===null){b=c.stateNode;var _=c.memoizedProps,$=Kl(h,_);b.props=$;var V=b.context,G=h.contextType;w=Ga,typeof G=="object"&&G!==null&&(w=yn(G));var re=h.getDerivedStateFromProps;G=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=c.pendingProps!==_,G||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||V!==w)&&S_(c,b,p,w),zs=!1;var q=c.memoizedState;b.state=q,hu(c,p,b,O),uu(),V=c.memoizedState,_||q!==V||zs?(typeof re=="function"&&(hy(c,h,re,p),V=c.memoizedState),($=zs||b_(c,h,$,p,q,V,w))?(G||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(c.flags|=4194308)):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=V),b.props=p,b.state=V,b.context=w,p=$):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{b=c.stateNode,XO(a,c),w=c.memoizedProps,G=Kl(h,w),b.props=G,re=c.pendingProps,q=b.context,V=h.contextType,$=Ga,typeof V=="object"&&V!==null&&($=yn(V)),_=h.getDerivedStateFromProps,(V=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==re||q!==$)&&S_(c,b,p,$),zs=!1,q=c.memoizedState,b.state=q,hu(c,p,b,O),uu();var F=c.memoizedState;w!==re||q!==F||zs||a!==null&&a.dependencies!==null&&od(a.dependencies)?(typeof _=="function"&&(hy(c,h,_,p),F=c.memoizedState),(G=zs||b_(c,h,G,p,q,F,$)||a!==null&&a.dependencies!==null&&od(a.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,F,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,F,$)),typeof b.componentDidUpdate=="function"&&(c.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&q===a.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&q===a.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=F),b.props=p,b.state=F,b.context=$,p=G):(typeof b.componentDidUpdate!="function"||w===a.memoizedProps&&q===a.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&q===a.memoizedState||(c.flags|=1024),p=!1)}return b=p,Cd(a,c),p=(c.flags&128)!==0,b||p?(b=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:b.render(),c.flags|=1,a!==null&&p?(c.child=Hl(c,a.child,null,O),c.child=Hl(c,null,h,O)):bn(a,c,h,O),c.memoizedState=b.state,a=c.child):a=Kr(a,c,O),a}function I_(a,c,h,p){return jl(),c.flags|=256,bn(a,c,h,p),c.child}var gy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oy(a){return{baseLanes:a,cachePool:kk()}}function yy(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=hi),a}function D_(a,c,h){var p=c.pendingProps,O=!1,b=(c.flags&128)!==0,w;if((w=b)||(w=a!==null&&a.memoizedState===null?!1:(jt.current&2)!==0),w&&(O=!0,c.flags&=-129),w=(c.flags&32)!==0,c.flags&=-33,a===null){if(tt){if(O?Xs(c):Zs(),(a=Rt)?(a=jT(a,Pi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Is!==null?{id:gr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},h=mk(a),h.return=c,c.child=h,On=c,Rt=null)):a=null,a===null)throw Ns(c);return e0(a)?c.lanes=32:c.lanes=536870912,null}var _=p.children;return p=p.fallback,O?(Zs(),O=c.mode,_=Ed({mode:"hidden",children:_},O),p=Zl(p,O,h,null),_.return=c,p.return=c,_.sibling=p,c.child=_,p=c.child,p.memoizedState=Oy(h),p.childLanes=yy(a,w,h),c.memoizedState=gy,gu(null,p)):(Xs(c),by(c,_))}var $=a.memoizedState;if($!==null&&(_=$.dehydrated,_!==null)){if(b)c.flags&256?(Xs(c),c.flags&=-257,c=Sy(a,c,h)):c.memoizedState!==null?(Zs(),c.child=a.child,c.flags|=128,c=null):(Zs(),_=p.fallback,O=c.mode,p=Ed({mode:"visible",children:p.children},O),_=Zl(_,O,h,null),_.flags|=2,p.return=c,_.return=c,p.sibling=_,c.child=p,Hl(c,a.child,null,h),p=c.child,p.memoizedState=Oy(h),p.childLanes=yy(a,w,h),c.memoizedState=gy,c=gu(null,p));else if(Xs(c),e0(_)){if(w=_.nextSibling&&_.nextSibling.dataset,w)var V=w.dgst;w=V,p=Error(i(419)),p.stack="",p.digest=w,ru({value:p,source:null,stack:null}),c=Sy(a,c,h)}else if(Ht||to(a,c,h,!1),w=(h&a.childLanes)!==0,Ht||w){if(w=wt,w!==null&&(p=wx(w,h),p!==0&&p!==$.retryLane))throw $.retryLane=p,Xl(a,p),Yn(w,a,p),py;Jy(_)||Nd(),c=Sy(a,c,h)}else Jy(_)?(c.flags|=192,c.child=a.child,c=null):(a=$.treeContext,Rt=$i(_.nextSibling),On=c,tt=!0,Ds=null,Pi=!1,a!==null&&yk(c,a),c=by(c,p.children),c.flags|=4096);return c}return O?(Zs(),_=p.fallback,O=c.mode,$=a.child,V=$.sibling,p=qr($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,V!==null?_=qr(V,_):(_=Zl(_,O,h,null),_.flags|=2),_.return=c,p.return=c,p.sibling=_,c.child=p,gu(null,p),p=c.child,_=a.child.memoizedState,_===null?_=Oy(h):(O=_.cachePool,O!==null?($=Ft._currentValue,O=O.parent!==$?{parent:$,pool:$}:O):O=kk(),_={baseLanes:_.baseLanes|h,cachePool:O}),p.memoizedState=_,p.childLanes=yy(a,w,h),c.memoizedState=gy,gu(a.child,p)):(Xs(c),h=a.child,a=h.sibling,h=qr(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,a!==null&&(w=c.deletions,w===null?(c.deletions=[a],c.flags|=16):w.push(a)),c.child=h,c.memoizedState=null,h)}function by(a,c){return c=Ed({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Ed(a,c){return a=ai(22,a,null,c),a.lanes=0,a}function Sy(a,c,h){return Hl(c,a.child,null,h),a=by(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function N_(a,c,h){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c),IO(a.return,c,h)}function vy(a,c,h,p,O,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:O,treeForkCount:b}:(w.isBackwards=c,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=h,w.tailMode=O,w.treeForkCount=b)}function L_(a,c,h){var p=c.pendingProps,O=p.revealOrder,b=p.tail;p=p.children;var w=jt.current,_=(w&2)!==0;if(_?(w=w&1|2,c.flags|=128):w&=1,E(jt,w),bn(a,c,p,h),p=tt?iu:0,!_&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&N_(a,h,c);else if(a.tag===19)N_(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(O){case"forwards":for(h=c.child,O=null;h!==null;)a=h.alternate,a!==null&&gd(a)===null&&(O=h),h=h.sibling;h=O,h===null?(O=c.child,c.child=null):(O=h.sibling,h.sibling=null),vy(c,!1,O,h,b,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=c.child,c.child=null;O!==null;){if(a=O.alternate,a!==null&&gd(a)===null){c.child=O;break}a=O.sibling,O.sibling=h,h=O,O=a}vy(c,!0,h,null,b,p);break;case"together":vy(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Kr(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),qs|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(to(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,h=qr(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=qr(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function wy(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&od(a)))}function h3(a,c,h){switch(c.tag){case 3:mt(c,c.stateNode.containerInfo),Ls(c,Ft,a.memoizedState.cache),jl();break;case 27:case 5:Tn(c);break;case 4:mt(c,c.stateNode.containerInfo);break;case 10:Ls(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,YO(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Xs(c),c.flags|=128,null):(h&c.child.childLanes)!==0?D_(a,c,h):(Xs(c),a=Kr(a,c,h),a!==null?a.sibling:null);Xs(c);break;case 19:var O=(a.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(to(a,c,h,!1),p=(h&c.childLanes)!==0),O){if(p)return L_(a,c,h);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),E(jt,jt.current),p)break;return null;case 22:return c.lanes=0,Q_(a,c,h,c.pendingProps);case 24:Ls(c,Ft,a.memoizedState.cache)}return Kr(a,c,h)}function z_(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)Ht=!0;else{if(!wy(a,h)&&(c.flags&128)===0)return Ht=!1,h3(a,c,h);Ht=(a.flags&131072)!==0}else Ht=!1,tt&&(c.flags&1048576)!==0&&Ok(c,iu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(a=Fl(c.elementType),c.type=a,typeof a=="function")CO(a)?(p=Kl(a,p),c.tag=1,c=M_(null,c,a,p,h)):(c.tag=0,c=my(null,c,a,p,h));else{if(a!=null){var O=a.$$typeof;if(O===X){c.tag=11,c=C_(null,c,a,p,h);break e}else if(O===N){c.tag=14,c=E_(null,c,a,p,h);break e}}throw c=oe(a)||a,Error(i(306,c,""))}}return c;case 0:return my(a,c,c.type,c.pendingProps,h);case 1:return p=c.type,O=Kl(p,c.pendingProps),M_(a,c,p,O,h);case 3:e:{if(mt(c,c.stateNode.containerInfo),a===null)throw Error(i(387));p=c.pendingProps;var b=c.memoizedState;O=b.element,XO(a,c),hu(c,p,null,h);var w=c.memoizedState;if(p=w.cache,Ls(c,Ft,p),p!==b.cache&&DO(c,[Ft],h,!0),uu(),p=w.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:w.cache},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){c=I_(a,c,p,h);break e}else if(p!==O){O=Ei(Error(i(424)),c),ru(O),c=I_(a,c,p,h);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Rt=$i(a.firstChild),On=c,tt=!0,Ds=null,Pi=!0,h=Qk(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(jl(),p===O){c=Kr(a,c,h);break e}bn(a,c,p,h)}c=c.child}return c;case 26:return Cd(a,c),a===null?(h=HT(c.type,null,c.pendingProps,null))?c.memoizedState=h:tt||(h=c.type,a=c.pendingProps,p=jd(we.current).createElement(h),p[gn]=c,p[Un]=a,Sn(p,h,a),an(p),c.stateNode=p):c.memoizedState=HT(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Tn(c),a===null&&tt&&(p=c.stateNode=YT(c.type,c.pendingProps,we.current),On=c,Pi=!0,O=Rt,Gs(c.type)?(t0=O,Rt=$i(p.firstChild)):Rt=O),bn(a,c,c.pendingProps.children,h),Cd(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&tt&&((O=p=Rt)&&(p=U3(p,c.type,c.pendingProps,Pi),p!==null?(c.stateNode=p,On=c,Rt=$i(p.firstChild),Pi=!1,O=!0):O=!1),O||Ns(c)),Tn(c),O=c.type,b=c.pendingProps,w=a!==null?a.memoizedProps:null,p=b.children,Hy(O,b)?p=null:w!==null&&Hy(O,w)&&(c.flags|=32),c.memoizedState!==null&&(O=WO(a,c,n3,null,null,h),Pu._currentValue=O),Cd(a,c),bn(a,c,p,h),c.child;case 6:return a===null&&tt&&((a=h=Rt)&&(h=X3(h,c.pendingProps,Pi),h!==null?(c.stateNode=h,On=c,Rt=null,a=!0):a=!1),a||Ns(c)),null;case 13:return D_(a,c,h);case 4:return mt(c,c.stateNode.containerInfo),p=c.pendingProps,a===null?c.child=Hl(c,null,p,h):bn(a,c,p,h),c.child;case 11:return C_(a,c,c.type,c.pendingProps,h);case 7:return bn(a,c,c.pendingProps,h),c.child;case 8:return bn(a,c,c.pendingProps.children,h),c.child;case 12:return bn(a,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,Ls(c,c.type,p.value),bn(a,c,p.children,h),c.child;case 9:return O=c.type._context,p=c.pendingProps.children,ql(c),O=yn(O),p=p(O),c.flags|=1,bn(a,c,p,h),c.child;case 14:return E_(a,c,c.type,c.pendingProps,h);case 15:return A_(a,c,c.type,c.pendingProps,h);case 19:return L_(a,c,h);case 31:return u3(a,c,h);case 22:return Q_(a,c,h,c.pendingProps);case 24:return ql(c),p=yn(Ft),a===null?(O=zO(),O===null&&(O=wt,b=NO(),O.pooledCache=b,b.refCount++,b!==null&&(O.pooledCacheLanes|=h),O=b),c.memoizedState={parent:p,cache:O},UO(c),Ls(c,Ft,O)):((a.lanes&h)!==0&&(XO(a,c),hu(c,null,null,h),uu()),O=a.memoizedState,b=c.memoizedState,O.parent!==p?(O={parent:p,cache:p},c.memoizedState=O,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=O),Ls(c,Ft,p)):(p=b.cache,Ls(c,Ft,p),p!==O.cache&&DO(c,[Ft],h,!0))),bn(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Jr(a){a.flags|=4}function xy(a,c,h,p,O){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(O&335544128)===O)if(a.stateNode.complete)a.flags|=8192;else if(fT())a.flags|=8192;else throw Wl=fd,BO}else a.flags&=-16777217}function B_(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!tC(c))if(fT())a.flags|=8192;else throw Wl=fd,BO}function Ad(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?bx():536870912,a.lanes|=c,po|=c)}function Ou(a,c){if(!tt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function $t(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(c)for(var O=a.child;O!==null;)h|=O.lanes|O.childLanes,p|=O.subtreeFlags&65011712,p|=O.flags&65011712,O.return=a,O=O.sibling;else for(O=a.child;O!==null;)h|=O.lanes|O.childLanes,p|=O.subtreeFlags,p|=O.flags,O.return=a,O=O.sibling;return a.subtreeFlags|=p,a.childLanes=h,c}function f3(a,c,h){var p=c.pendingProps;switch(PO(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(c),null;case 1:return $t(c),null;case 3:return h=c.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Wr(Ft),st(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(eo(c)?Jr(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,$O())),$t(c),null;case 26:var O=c.type,b=c.memoizedState;return a===null?(Jr(c),b!==null?($t(c),B_(c,b)):($t(c),xy(c,O,null,p,h))):b?b!==a.memoizedState?(Jr(c),$t(c),B_(c,b)):($t(c),c.flags&=-16777217):(a=a.memoizedProps,a!==p&&Jr(c),$t(c),xy(c,O,a,p,h)),null;case 27:if(Vi(c),h=we.current,O=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==p&&Jr(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return $t(c),null}a=he.current,eo(c)?bk(c):(a=YT(O,p,h),c.stateNode=a,Jr(c))}return $t(c),null;case 5:if(Vi(c),O=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==p&&Jr(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return $t(c),null}if(b=he.current,eo(c))bk(c);else{var w=jd(we.current);switch(b){case 1:b=w.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:b=w.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":b=w.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":b=w.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":b=w.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?w.createElement(O,{is:p.is}):w.createElement(O)}}b[gn]=c,b[Un]=p;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)b.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=b;e:switch(Sn(b,O,p),O){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Jr(c)}}return $t(c),xy(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,h),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==p&&Jr(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(i(166));if(a=we.current,eo(c)){if(a=c.stateNode,h=c.memoizedProps,p=null,O=On,O!==null)switch(O.tag){case 27:case 5:p=O.memoizedProps}a[gn]=c,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||DT(a.nodeValue,h)),a||Ns(c,!0)}else a=jd(a).createTextNode(p),a[gn]=c,c.stateNode=a}return $t(c),null;case 31:if(h=c.memoizedState,a===null||a.memoizedState!==null){if(p=eo(c),h!==null){if(a===null){if(!p)throw Error(i(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[gn]=c}else jl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$t(c),a=!1}else h=$O(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return c.flags&256?(ci(c),c):(ci(c),null);if((c.flags&128)!==0)throw Error(i(558))}return $t(c),null;case 13:if(p=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(O=eo(c),p!==null&&p.dehydrated!==null){if(a===null){if(!O)throw Error(i(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[gn]=c}else jl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$t(c),O=!1}else O=$O(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=O),O=!0;if(!O)return c.flags&256?(ci(c),c):(ci(c),null)}return ci(c),(c.flags&128)!==0?(c.lanes=h,c):(h=p!==null,a=a!==null&&a.memoizedState!==null,h&&(p=c.child,O=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(O=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==O&&(p.flags|=2048)),h!==a&&h&&(c.child.flags|=8192),Ad(c,c.updateQueue),$t(c),null);case 4:return st(),a===null&&Vy(c.stateNode.containerInfo),$t(c),null;case 10:return Wr(c.type),$t(c),null;case 19:if(Y(jt),p=c.memoizedState,p===null)return $t(c),null;if(O=(c.flags&128)!==0,b=p.rendering,b===null)if(O)Ou(p,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(b=gd(a),b!==null){for(c.flags|=128,Ou(p,!1),a=b.updateQueue,c.updateQueue=a,Ad(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)pk(h,a),h=h.sibling;return E(jt,jt.current&1|2),tt&&Yr(c,p.treeForkCount),c.child}a=a.sibling}p.tail!==null&&pn()>Md&&(c.flags|=128,O=!0,Ou(p,!1),c.lanes=4194304)}else{if(!O)if(a=gd(b),a!==null){if(c.flags|=128,O=!0,a=a.updateQueue,c.updateQueue=a,Ad(c,a),Ou(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!tt)return $t(c),null}else 2*pn()-p.renderingStartTime>Md&&h!==536870912&&(c.flags|=128,O=!0,Ou(p,!1),c.lanes=4194304);p.isBackwards?(b.sibling=c.child,c.child=b):(a=p.last,a!==null?a.sibling=b:c.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=pn(),a.sibling=null,h=jt.current,E(jt,O?h&1|2:h&1),tt&&Yr(c,p.treeForkCount),a):($t(c),null);case 22:case 23:return ci(c),qO(),p=c.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(h&536870912)!==0&&(c.flags&128)===0&&($t(c),c.subtreeFlags&6&&(c.flags|=8192)):$t(c),h=c.updateQueue,h!==null&&Ad(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),a!==null&&Y(Yl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Wr(Ft),$t(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function d3(a,c){switch(PO(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Wr(Ft),st(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Vi(c),null;case 31:if(c.memoizedState!==null){if(ci(c),c.alternate===null)throw Error(i(340));jl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(ci(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));jl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Y(jt),null;case 4:return st(),null;case 10:return Wr(c.type),null;case 22:case 23:return ci(c),qO(),a!==null&&Y(Yl),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Wr(Ft),null;case 25:return null;default:return null}}function U_(a,c){switch(PO(c),c.tag){case 3:Wr(Ft),st();break;case 26:case 27:case 5:Vi(c);break;case 4:st();break;case 31:c.memoizedState!==null&&ci(c);break;case 13:ci(c);break;case 19:Y(jt);break;case 10:Wr(c.type);break;case 22:case 23:ci(c),qO(),a!==null&&Y(Yl);break;case 24:Wr(Ft)}}function yu(a,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var O=p.next;h=O;do{if((h.tag&a)===a){p=void 0;var b=h.create,w=h.inst;p=b(),w.destroy=p}h=h.next}while(h!==O)}}catch(_){pt(c,c.return,_)}}function js(a,c,h){try{var p=c.updateQueue,O=p!==null?p.lastEffect:null;if(O!==null){var b=O.next;p=b;do{if((p.tag&a)===a){var w=p.inst,_=w.destroy;if(_!==void 0){w.destroy=void 0,O=c;var $=h,V=_;try{V()}catch(G){pt(O,$,G)}}}p=p.next}while(p!==b)}}catch(G){pt(c,c.return,G)}}function X_(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{Rk(c,h)}catch(p){pt(a,a.return,p)}}}function Z_(a,c,h){h.props=Kl(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){pt(a,c,p)}}function bu(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(O){pt(a,c,O)}}function yr(a,c){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(O){pt(a,c,O)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){pt(a,c,O)}else h.current=null}function j_(a){var c=a.type,h=a.memoizedProps,p=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(O){pt(a,a.return,O)}}function ky(a,c,h){try{var p=a.stateNode;I3(p,a.type,h,c),p[Un]=c}catch(O){pt(a,a.return,O)}}function V_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Gs(a.type)||a.tag===4}function _y(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||V_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Gs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ty(a,c,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=jr));else if(p!==4&&(p===27&&Gs(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(Ty(a,c,h),a=a.sibling;a!==null;)Ty(a,c,h),a=a.sibling}function Qd(a,c,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(p!==4&&(p===27&&Gs(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Qd(a,c,h),a=a.sibling;a!==null;)Qd(a,c,h),a=a.sibling}function q_(a){var c=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,O=c.attributes;O.length;)c.removeAttributeNode(O[0]);Sn(c,p,h),c[gn]=a,c[Un]=h}catch(b){pt(a,a.return,b)}}var es=!1,Gt=!1,Cy=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,on=null;function p3(a,c){if(a=a.containerInfo,Fy=Gd,a=sk(a),SO(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var O=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var w=0,_=-1,$=-1,V=0,G=0,re=a,q=null;t:for(;;){for(var F;re!==h||O!==0&&re.nodeType!==3||(_=w+O),re!==b||p!==0&&re.nodeType!==3||($=w+p),re.nodeType===3&&(w+=re.nodeValue.length),(F=re.firstChild)!==null;)q=re,re=F;for(;;){if(re===a)break t;if(q===h&&++V===O&&(_=w),q===b&&++G===p&&($=w),(F=re.nextSibling)!==null)break;re=q,q=re.parentNode}re=F}h=_===-1||$===-1?null:{start:_,end:$}}else h=null}h=h||{start:0,end:0}}else h=null;for(Wy={focusedElem:a,selectionRange:h},Gd=!1,on=c;on!==null;)if(c=on,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,on=a;else for(;on!==null;){switch(c=on,b=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)O=a[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,h=c,O=b.memoizedProps,b=b.memoizedState,p=h.stateNode;try{var xe=Kl(h.type,O);a=p.getSnapshotBeforeUpdate(xe,b),p.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){pt(h,h.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)Ky(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ky(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,on=a;break}on=c.return}}function F_(a,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:ns(a,h),p&4&&yu(5,h);break;case 1:if(ns(a,h),p&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(w){pt(h,h.return,w)}else{var O=Kl(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(O,c,a.__reactInternalSnapshotBeforeUpdate)}catch(w){pt(h,h.return,w)}}p&64&&X_(h),p&512&&bu(h,h.return);break;case 3:if(ns(a,h),p&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Rk(a,c)}catch(w){pt(h,h.return,w)}}break;case 27:c===null&&p&4&&q_(h);case 26:case 5:ns(a,h),c===null&&p&4&&j_(h),p&512&&bu(h,h.return);break;case 12:ns(a,h);break;case 31:ns(a,h),p&4&&G_(a,h);break;case 13:ns(a,h),p&4&&K_(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=x3.bind(null,h),Z3(a,h))));break;case 22:if(p=h.memoizedState!==null||es,!p){c=c!==null&&c.memoizedState!==null||Gt,O=es;var b=Gt;es=p,(Gt=c)&&!b?is(a,h,(h.subtreeFlags&8772)!==0):ns(a,h),es=O,Gt=b}break;case 30:break;default:ns(a,h)}}function W_(a){var c=a.alternate;c!==null&&(a.alternate=null,W_(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&iO(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var It=null,Zn=!1;function ts(a,c,h){for(h=h.child;h!==null;)H_(a,c,h),h=h.sibling}function H_(a,c,h){if(j&&typeof j.onCommitFiberUnmount=="function")try{j.onCommitFiberUnmount(mn,h)}catch{}switch(h.tag){case 26:Gt||yr(h,c),ts(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Gt||yr(h,c);var p=It,O=Zn;Gs(h.type)&&(It=h.stateNode,Zn=!1),ts(a,c,h),Eu(h.stateNode),It=p,Zn=O;break;case 5:Gt||yr(h,c);case 6:if(p=It,O=Zn,It=null,ts(a,c,h),It=p,Zn=O,It!==null)if(Zn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(h.stateNode)}catch(b){pt(h,c,b)}else try{It.removeChild(h.stateNode)}catch(b){pt(h,c,b)}break;case 18:It!==null&&(Zn?(a=It,XT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),wo(a)):XT(It,h.stateNode));break;case 4:p=It,O=Zn,It=h.stateNode.containerInfo,Zn=!0,ts(a,c,h),It=p,Zn=O;break;case 0:case 11:case 14:case 15:js(2,h,c),Gt||js(4,h,c),ts(a,c,h);break;case 1:Gt||(yr(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&Z_(h,c,p)),ts(a,c,h);break;case 21:ts(a,c,h);break;case 22:Gt=(p=Gt)||h.memoizedState!==null,ts(a,c,h),Gt=p;break;default:ts(a,c,h)}}function G_(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{wo(a)}catch(h){pt(c,c.return,h)}}}function K_(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{wo(a)}catch(h){pt(c,c.return,h)}}function m3(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new Y_),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new Y_),c;default:throw Error(i(435,a.tag))}}function Pd(a,c){var h=m3(a);c.forEach(function(p){if(!h.has(p)){h.add(p);var O=k3.bind(null,a,p);p.then(O,O)}})}function jn(a,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var O=h[p],b=a,w=c,_=w;e:for(;_!==null;){switch(_.tag){case 27:if(Gs(_.type)){It=_.stateNode,Zn=!1;break e}break;case 5:It=_.stateNode,Zn=!1;break e;case 3:case 4:It=_.stateNode.containerInfo,Zn=!0;break e}_=_.return}if(It===null)throw Error(i(160));H_(b,w,O),It=null,Zn=!1,b=O.alternate,b!==null&&(b.return=null),O.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)J_(c,a),c=c.sibling}var Hi=null;function J_(a,c){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:jn(c,a),Vn(a),p&4&&(js(3,a,a.return),yu(3,a),js(5,a,a.return));break;case 1:jn(c,a),Vn(a),p&512&&(Gt||h===null||yr(h,h.return)),p&64&&es&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var O=Hi;if(jn(c,a),Vn(a),p&512&&(Gt||h===null||yr(h,h.return)),p&4){var b=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){e:{p=a.type,h=a.memoizedProps,O=O.ownerDocument||O;t:switch(p){case"title":b=O.getElementsByTagName("title")[0],(!b||b[qc]||b[gn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=O.createElement(p),O.head.insertBefore(b,O.querySelector("head > title"))),Sn(b,p,h),b[gn]=a,an(b),p=b;break e;case"link":var w=JT("link","href",O).get(p+(h.href||""));if(w){for(var _=0;_<w.length;_++)if(b=w[_],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){w.splice(_,1);break t}}b=O.createElement(p),Sn(b,p,h),O.head.appendChild(b);break;case"meta":if(w=JT("meta","content",O).get(p+(h.content||""))){for(_=0;_<w.length;_++)if(b=w[_],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){w.splice(_,1);break t}}b=O.createElement(p),Sn(b,p,h),O.head.appendChild(b);break;default:throw Error(i(468,p))}b[gn]=a,an(b),p=b}a.stateNode=p}else eC(O,a.type,a.stateNode);else a.stateNode=KT(O,p,a.memoizedProps);else b!==p?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,p===null?eC(O,a.type,a.stateNode):KT(O,p,a.memoizedProps)):p===null&&a.stateNode!==null&&ky(a,a.memoizedProps,h.memoizedProps)}break;case 27:jn(c,a),Vn(a),p&512&&(Gt||h===null||yr(h,h.return)),h!==null&&p&4&&ky(a,a.memoizedProps,h.memoizedProps);break;case 5:if(jn(c,a),Vn(a),p&512&&(Gt||h===null||yr(h,h.return)),a.flags&32){O=a.stateNode;try{ja(O,"")}catch(xe){pt(a,a.return,xe)}}p&4&&a.stateNode!=null&&(O=a.memoizedProps,ky(a,O,h!==null?h.memoizedProps:O)),p&1024&&(Cy=!0);break;case 6:if(jn(c,a),Vn(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(xe){pt(a,a.return,xe)}}break;case 3:if(Yd=null,O=Hi,Hi=Vd(c.containerInfo),jn(c,a),Hi=O,Vn(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{wo(c.containerInfo)}catch(xe){pt(a,a.return,xe)}Cy&&(Cy=!1,eT(a));break;case 4:p=Hi,Hi=Vd(a.stateNode.containerInfo),jn(c,a),Vn(a),Hi=p;break;case 12:jn(c,a),Vn(a);break;case 31:jn(c,a),Vn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Pd(a,p)));break;case 13:jn(c,a),Vn(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&($d=pn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Pd(a,p)));break;case 22:O=a.memoizedState!==null;var $=h!==null&&h.memoizedState!==null,V=es,G=Gt;if(es=V||O,Gt=G||$,jn(c,a),Gt=G,es=V,Vn(a),p&8192)e:for(c=a.stateNode,c._visibility=O?c._visibility&-2:c._visibility|1,O&&(h===null||$||es||Gt||Jl(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){$=h=c;try{if(b=$.stateNode,O)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{_=$.stateNode;var re=$.memoizedProps.style,q=re!=null&&re.hasOwnProperty("display")?re.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(xe){pt($,$.return,xe)}}}else if(c.tag===6){if(h===null){$=c;try{$.stateNode.nodeValue=O?"":$.memoizedProps}catch(xe){pt($,$.return,xe)}}}else if(c.tag===18){if(h===null){$=c;try{var F=$.stateNode;O?ZT(F,!0):ZT($.stateNode,!1)}catch(xe){pt($,$.return,xe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Pd(a,h))));break;case 19:jn(c,a),Vn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Pd(a,p)));break;case 30:break;case 21:break;default:jn(c,a),Vn(a)}}function Vn(a){var c=a.flags;if(c&2){try{for(var h,p=a.return;p!==null;){if(V_(p)){h=p;break}p=p.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var O=h.stateNode,b=_y(a);Qd(a,b,O);break;case 5:var w=h.stateNode;h.flags&32&&(ja(w,""),h.flags&=-33);var _=_y(a);Qd(a,_,w);break;case 3:case 4:var $=h.stateNode.containerInfo,V=_y(a);Ty(a,V,$);break;default:throw Error(i(161))}}catch(G){pt(a,a.return,G)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function eT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;eT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function ns(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)F_(a,c.alternate,c),c=c.sibling}function Jl(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:js(4,c,c.return),Jl(c);break;case 1:yr(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Z_(c,c.return,h),Jl(c);break;case 27:Eu(c.stateNode);case 26:case 5:yr(c,c.return),Jl(c);break;case 22:c.memoizedState===null&&Jl(c);break;case 30:Jl(c);break;default:Jl(c)}a=a.sibling}}function is(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,O=a,b=c,w=b.flags;switch(b.tag){case 0:case 11:case 15:is(O,b,h),yu(4,b);break;case 1:if(is(O,b,h),p=b,O=p.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(V){pt(p,p.return,V)}if(p=b,O=p.updateQueue,O!==null){var _=p.stateNode;try{var $=O.shared.hiddenCallbacks;if($!==null)for(O.shared.hiddenCallbacks=null,O=0;O<$.length;O++)Pk($[O],_)}catch(V){pt(p,p.return,V)}}h&&w&64&&X_(b),bu(b,b.return);break;case 27:q_(b);case 26:case 5:is(O,b,h),h&&p===null&&w&4&&j_(b),bu(b,b.return);break;case 12:is(O,b,h);break;case 31:is(O,b,h),h&&w&4&&G_(O,b);break;case 13:is(O,b,h),h&&w&4&&K_(O,b);break;case 22:b.memoizedState===null&&is(O,b,h),bu(b,b.return);break;case 30:break;default:is(O,b,h)}c=c.sibling}}function Ey(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&su(h))}function Ay(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&su(a))}function Gi(a,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)tT(a,c,h,p),c=c.sibling}function tT(a,c,h,p){var O=c.flags;switch(c.tag){case 0:case 11:case 15:Gi(a,c,h,p),O&2048&&yu(9,c);break;case 1:Gi(a,c,h,p);break;case 3:Gi(a,c,h,p),O&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&su(a)));break;case 12:if(O&2048){Gi(a,c,h,p),a=c.stateNode;try{var b=c.memoizedProps,w=b.id,_=b.onPostCommit;typeof _=="function"&&_(w,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){pt(c,c.return,$)}}else Gi(a,c,h,p);break;case 31:Gi(a,c,h,p);break;case 13:Gi(a,c,h,p);break;case 23:break;case 22:b=c.stateNode,w=c.alternate,c.memoizedState!==null?b._visibility&2?Gi(a,c,h,p):Su(a,c):b._visibility&2?Gi(a,c,h,p):(b._visibility|=2,uo(a,c,h,p,(c.subtreeFlags&10256)!==0||!1)),O&2048&&Ey(w,c);break;case 24:Gi(a,c,h,p),O&2048&&Ay(c.alternate,c);break;default:Gi(a,c,h,p)}}function uo(a,c,h,p,O){for(O=O&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var b=a,w=c,_=h,$=p,V=w.flags;switch(w.tag){case 0:case 11:case 15:uo(b,w,_,$,O),yu(8,w);break;case 23:break;case 22:var G=w.stateNode;w.memoizedState!==null?G._visibility&2?uo(b,w,_,$,O):Su(b,w):(G._visibility|=2,uo(b,w,_,$,O)),O&&V&2048&&Ey(w.alternate,w);break;case 24:uo(b,w,_,$,O),O&&V&2048&&Ay(w.alternate,w);break;default:uo(b,w,_,$,O)}c=c.sibling}}function Su(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,p=c,O=p.flags;switch(p.tag){case 22:Su(h,p),O&2048&&Ey(p.alternate,p);break;case 24:Su(h,p),O&2048&&Ay(p.alternate,p);break;default:Su(h,p)}c=c.sibling}}var vu=8192;function ho(a,c,h){if(a.subtreeFlags&vu)for(a=a.child;a!==null;)nT(a,c,h),a=a.sibling}function nT(a,c,h){switch(a.tag){case 26:ho(a,c,h),a.flags&vu&&a.memoizedState!==null&&t4(h,Hi,a.memoizedState,a.memoizedProps);break;case 5:ho(a,c,h);break;case 3:case 4:var p=Hi;Hi=Vd(a.stateNode.containerInfo),ho(a,c,h),Hi=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=vu,vu=16777216,ho(a,c,h),vu=p):ho(a,c,h));break;default:ho(a,c,h)}}function iT(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function wu(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];on=p,sT(p,a)}iT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rT(a),a=a.sibling}function rT(a){switch(a.tag){case 0:case 11:case 15:wu(a),a.flags&2048&&js(9,a,a.return);break;case 3:wu(a);break;case 12:wu(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Rd(a)):wu(a);break;default:wu(a)}}function Rd(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];on=p,sT(p,a)}iT(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:js(8,c,c.return),Rd(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Rd(c));break;default:Rd(c)}a=a.sibling}}function sT(a,c){for(;on!==null;){var h=on;switch(h.tag){case 0:case 11:case 15:js(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:su(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,on=p;else e:for(h=a;on!==null;){p=on;var O=p.sibling,b=p.return;if(W_(p),p===h){on=null;break e}if(O!==null){O.return=b,on=O;break e}on=b}}}var g3={getCacheForType:function(a){var c=yn(Ft),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h},cacheSignal:function(){return yn(Ft).controller.signal}},O3=typeof WeakMap=="function"?WeakMap:Map,ct=0,wt=null,Ye=null,Ke=0,dt=0,ui=null,Vs=!1,fo=!1,Qy=!1,rs=0,Bt=0,qs=0,ea=0,Py=0,hi=0,po=0,xu=null,qn=null,Ry=!1,$d=0,lT=0,Md=1/0,Id=null,Ys=null,tn=0,Fs=null,mo=null,ss=0,$y=0,My=null,aT=null,ku=0,Iy=null;function fi(){return(ct&2)!==0&&Ke!==0?Ke&-Ke:U.T!==null?Uy():xx()}function oT(){if(hi===0)if((Ke&536870912)===0||tt){var a=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),hi=a}else hi=536870912;return a=oi.current,a!==null&&(a.flags|=32),hi}function Yn(a,c,h){(a===wt&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(go(a,0),Ws(a,Ke,hi,!1)),Vc(a,h),((ct&2)===0||a!==wt)&&(a===wt&&((ct&2)===0&&(ea|=h),Bt===4&&Ws(a,Ke,hi,!1)),br(a))}function cT(a,c,h){if((ct&6)!==0)throw Error(i(327));var p=!h&&(c&127)===0&&(c&a.expiredLanes)===0||jc(a,c),O=p?S3(a,c):Ny(a,c,!0),b=p;do{if(O===0){fo&&!p&&Ws(a,c,0,!1);break}else{if(h=a.current.alternate,b&&!y3(h)){O=Ny(a,c,!1),b=!1;continue}if(O===2){if(b=c,a.errorRecoveryDisabledLanes&b)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){c=w;e:{var _=a;O=xu;var $=_.current.memoizedState.isDehydrated;if($&&(go(_,w).flags|=256),w=Ny(_,w,!1),w!==2){if(Qy&&!$){_.errorRecoveryDisabledLanes|=b,ea|=b,O=4;break e}b=qn,qn=O,b!==null&&(qn===null?qn=b:qn.push.apply(qn,b))}O=w}if(b=!1,O!==2)continue}}if(O===1){go(a,0),Ws(a,c,0,!0);break}e:{switch(p=a,b=O,b){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Ws(p,c,hi,!Vs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(O=$d+300-pn(),10<O)){if(Ws(p,c,hi,!Vs),Vf(p,0,!0)!==0)break e;ss=c,p.timeoutHandle=BT(uT.bind(null,p,h,qn,Id,Ry,c,hi,ea,po,Vs,b,"Throttled",-0,0),O);break e}uT(p,h,qn,Id,Ry,c,hi,ea,po,Vs,b,null,-0,0)}}break}while(!0);br(a)}function uT(a,c,h,p,O,b,w,_,$,V,G,re,q,F){if(a.timeoutHandle=-1,re=c.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jr},nT(c,b,re);var xe=(b&62914560)===b?$d-pn():(b&4194048)===b?lT-pn():0;if(xe=n4(re,xe),xe!==null){ss=b,a.cancelPendingCommit=xe(yT.bind(null,a,c,b,h,p,O,w,_,$,G,re,null,q,F)),Ws(a,b,w,!V);return}}yT(a,c,b,h,p,O,w,_,$)}function y3(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var O=h[p],b=O.getSnapshot;O=O.value;try{if(!li(b(),O))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ws(a,c,h,p){c&=~Py,c&=~ea,a.suspendedLanes|=c,a.pingedLanes&=~c,p&&(a.warmLanes|=c),p=a.expirationTimes;for(var O=c;0<O;){var b=31-le(O),w=1<<b;p[b]=-1,O&=~w}h!==0&&Sx(a,h,c)}function Dd(){return(ct&6)===0?(_u(0),!1):!0}function Dy(){if(Ye!==null){if(dt===0)var a=Ye.return;else a=Ye,Fr=Vl=null,KO(a),so=null,au=0,a=Ye;for(;a!==null;)U_(a.alternate,a),a=a.return;Ye=null}}function go(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,L3(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),ss=0,Dy(),wt=a,Ye=h=qr(a.current,null),Ke=c,dt=0,ui=null,Vs=!1,fo=jc(a,c),Qy=!1,po=hi=Py=ea=qs=Bt=0,qn=xu=null,Ry=!1,(c&8)!==0&&(c|=c&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=c;0<p;){var O=31-le(p),b=1<<O;c|=a[O],p&=~b}return rs=c,id(),h}function hT(a,c){ze=null,U.H=mu,c===ro||c===hd?(c=Ck(),dt=3):c===BO?(c=Ck(),dt=4):dt=c===py?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ui=c,Ye===null&&(Bt=1,_d(a,Ei(c,a.current)))}function fT(){var a=oi.current;return a===null?!0:(Ke&4194048)===Ke?Ri===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?a===Ri:!1}function dT(){var a=U.H;return U.H=mu,a===null?mu:a}function pT(){var a=U.A;return U.A=g3,a}function Nd(){Bt=4,Vs||(Ke&4194048)!==Ke&&oi.current!==null||(fo=!0),(qs&134217727)===0&&(ea&134217727)===0||wt===null||Ws(wt,Ke,hi,!1)}function Ny(a,c,h){var p=ct;ct|=2;var O=dT(),b=pT();(wt!==a||Ke!==c)&&(Id=null,go(a,c)),c=!1;var w=Bt;e:do try{if(dt!==0&&Ye!==null){var _=Ye,$=ui;switch(dt){case 8:Dy(),w=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(c=!0);var V=dt;if(dt=0,ui=null,Oo(a,_,$,V),h&&fo){w=0;break e}break;default:V=dt,dt=0,ui=null,Oo(a,_,$,V)}}b3(),w=Bt;break}catch(G){hT(a,G)}while(!0);return c&&a.shellSuspendCounter++,Fr=Vl=null,ct=p,U.H=O,U.A=b,Ye===null&&(wt=null,Ke=0,id()),w}function b3(){for(;Ye!==null;)mT(Ye)}function S3(a,c){var h=ct;ct|=2;var p=dT(),O=pT();wt!==a||Ke!==c?(Id=null,Md=pn()+500,go(a,c)):fo=jc(a,c);e:do try{if(dt!==0&&Ye!==null){c=Ye;var b=ui;t:switch(dt){case 1:dt=0,ui=null,Oo(a,c,b,1);break;case 2:case 9:if(_k(b)){dt=0,ui=null,gT(c);break}c=function(){dt!==2&&dt!==9||wt!==a||(dt=7),br(a)},b.then(c,c);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:_k(b)?(dt=0,ui=null,gT(c)):(dt=0,ui=null,Oo(a,c,b,7));break;case 5:var w=null;switch(Ye.tag){case 26:w=Ye.memoizedState;case 5:case 27:var _=Ye;if(w?tC(w):_.stateNode.complete){dt=0,ui=null;var $=_.sibling;if($!==null)Ye=$;else{var V=_.return;V!==null?(Ye=V,Ld(V)):Ye=null}break t}}dt=0,ui=null,Oo(a,c,b,5);break;case 6:dt=0,ui=null,Oo(a,c,b,6);break;case 8:Dy(),Bt=6;break e;default:throw Error(i(462))}}v3();break}catch(G){hT(a,G)}while(!0);return Fr=Vl=null,U.H=p,U.A=O,ct=h,Ye!==null?0:(wt=null,Ke=0,id(),Bt)}function v3(){for(;Ye!==null&&!Il();)mT(Ye)}function mT(a){var c=z_(a.alternate,a,rs);a.memoizedProps=a.pendingProps,c===null?Ld(a):Ye=c}function gT(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=$_(h,c,c.pendingProps,c.type,void 0,Ke);break;case 11:c=$_(h,c,c.pendingProps,c.type.render,c.ref,Ke);break;case 5:KO(c);default:U_(h,c),c=Ye=pk(c,rs),c=z_(h,c,rs)}a.memoizedProps=a.pendingProps,c===null?Ld(a):Ye=c}function Oo(a,c,h,p){Fr=Vl=null,KO(c),so=null,au=0;var O=c.return;try{if(c3(a,O,c,h,Ke)){Bt=1,_d(a,Ei(h,a.current)),Ye=null;return}}catch(b){if(O!==null)throw Ye=O,b;Bt=1,_d(a,Ei(h,a.current)),Ye=null;return}c.flags&32768?(tt||p===1?a=!0:fo||(Ke&536870912)!==0?a=!1:(Vs=a=!0,(p===2||p===9||p===3||p===6)&&(p=oi.current,p!==null&&p.tag===13&&(p.flags|=16384))),OT(c,a)):Ld(c)}function Ld(a){var c=a;do{if((c.flags&32768)!==0){OT(c,Vs);return}a=c.return;var h=f3(c.alternate,c,rs);if(h!==null){Ye=h;return}if(c=c.sibling,c!==null){Ye=c;return}Ye=c=a}while(c!==null);Bt===0&&(Bt=5)}function OT(a,c){do{var h=d3(a.alternate,a);if(h!==null){h.flags&=32767,Ye=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=h}while(a!==null);Bt=6,Ye=null}function yT(a,c,h,p,O,b,w,_,$){a.cancelPendingCommit=null;do zd();while(tn!==0);if((ct&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(b=c.lanes|c.childLanes,b|=_O,e5(a,h,b,w,_,$),a===wt&&(Ye=wt=null,Ke=0),mo=c,Fs=a,ss=h,$y=b,My=O,aT=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_3(Re,function(){return xT(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=U.T,U.T=null,O=ie.p,ie.p=2,w=ct,ct|=4;try{p3(a,c,h)}finally{ct=w,ie.p=O,U.T=p}}tn=1,bT(),ST(),vT()}}function bT(){if(tn===1){tn=0;var a=Fs,c=mo,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var p=ie.p;ie.p=2;var O=ct;ct|=4;try{J_(c,a);var b=Wy,w=sk(a.containerInfo),_=b.focusedElem,$=b.selectionRange;if(w!==_&&_&&_.ownerDocument&&rk(_.ownerDocument.documentElement,_)){if($!==null&&SO(_)){var V=$.start,G=$.end;if(G===void 0&&(G=V),"selectionStart"in _)_.selectionStart=V,_.selectionEnd=Math.min(G,_.value.length);else{var re=_.ownerDocument||document,q=re&&re.defaultView||window;if(q.getSelection){var F=q.getSelection(),xe=_.textContent.length,Pe=Math.min($.start,xe),bt=$.end===void 0?Pe:Math.min($.end,xe);!F.extend&&Pe>bt&&(w=bt,bt=Pe,Pe=w);var B=ik(_,Pe),D=ik(_,bt);if(B&&D&&(F.rangeCount!==1||F.anchorNode!==B.node||F.anchorOffset!==B.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var Z=re.createRange();Z.setStart(B.node,B.offset),F.removeAllRanges(),Pe>bt?(F.addRange(Z),F.extend(D.node,D.offset)):(Z.setEnd(D.node,D.offset),F.addRange(Z))}}}}for(re=[],F=_;F=F.parentNode;)F.nodeType===1&&re.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<re.length;_++){var ee=re[_];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Gd=!!Fy,Wy=Fy=null}finally{ct=O,ie.p=p,U.T=h}}a.current=c,tn=2}}function ST(){if(tn===2){tn=0;var a=Fs,c=mo,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var p=ie.p;ie.p=2;var O=ct;ct|=4;try{F_(a,c.alternate,c)}finally{ct=O,ie.p=p,U.T=h}}tn=3}}function vT(){if(tn===4||tn===3){tn=0,Dl();var a=Fs,c=mo,h=ss,p=aT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?tn=5:(tn=0,mo=Fs=null,wT(a,a.pendingLanes));var O=a.pendingLanes;if(O===0&&(Ys=null),tO(h),c=c.stateNode,j&&typeof j.onCommitFiberRoot=="function")try{j.onCommitFiberRoot(mn,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=U.T,O=ie.p,ie.p=2,U.T=null;try{for(var b=a.onRecoverableError,w=0;w<p.length;w++){var _=p[w];b(_.value,{componentStack:_.stack})}}finally{U.T=c,ie.p=O}}(ss&3)!==0&&zd(),br(a),O=a.pendingLanes,(h&261930)!==0&&(O&42)!==0?a===Iy?ku++:(ku=0,Iy=a):ku=0,_u(0)}}function wT(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,su(c)))}function zd(){return bT(),ST(),vT(),xT()}function xT(){if(tn!==5)return!1;var a=Fs,c=$y;$y=0;var h=tO(ss),p=U.T,O=ie.p;try{ie.p=32>h?32:h,U.T=null,h=My,My=null;var b=Fs,w=ss;if(tn=0,mo=Fs=null,ss=0,(ct&6)!==0)throw Error(i(331));var _=ct;if(ct|=4,rT(b.current),tT(b,b.current,w,h),ct=_,_u(0,!1),j&&typeof j.onPostCommitFiberRoot=="function")try{j.onPostCommitFiberRoot(mn,b)}catch{}return!0}finally{ie.p=O,U.T=p,wT(a,c)}}function kT(a,c,h){c=Ei(h,c),c=dy(a.stateNode,c,2),a=Us(a,c,2),a!==null&&(Vc(a,2),br(a))}function pt(a,c,h){if(a.tag===3)kT(a,a,h);else for(;c!==null;){if(c.tag===3){kT(c,a,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))){a=Ei(h,a),h=__(2),p=Us(c,h,2),p!==null&&(T_(h,p,c,a),Vc(p,2),br(p));break}}c=c.return}}function Ly(a,c,h){var p=a.pingCache;if(p===null){p=a.pingCache=new O3;var O=new Set;p.set(c,O)}else O=p.get(c),O===void 0&&(O=new Set,p.set(c,O));O.has(h)||(Qy=!0,O.add(h),a=w3.bind(null,a,c,h),c.then(a,a))}function w3(a,c,h){var p=a.pingCache;p!==null&&p.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,wt===a&&(Ke&h)===h&&(Bt===4||Bt===3&&(Ke&62914560)===Ke&&300>pn()-$d?(ct&2)===0&&go(a,0):Py|=h,po===Ke&&(po=0)),br(a)}function _T(a,c){c===0&&(c=bx()),a=Xl(a,c),a!==null&&(Vc(a,c),br(a))}function x3(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),_T(a,h)}function k3(a,c){var h=0;switch(a.tag){case 31:case 13:var p=a.stateNode,O=a.memoizedState;O!==null&&(h=O.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(c),_T(a,h)}function _3(a,c){return Xr(a,c)}var Bd=null,yo=null,zy=!1,Ud=!1,By=!1,Hs=0;function br(a){a!==yo&&a.next===null&&(yo===null?Bd=yo=a:yo=yo.next=a),Ud=!0,zy||(zy=!0,C3())}function _u(a,c){if(!By&&Ud){By=!0;do for(var h=!1,p=Bd;p!==null;){if(a!==0){var O=p.pendingLanes;if(O===0)var b=0;else{var w=p.suspendedLanes,_=p.pingedLanes;b=(1<<31-le(42|a)+1)-1,b&=O&~(w&~_),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,AT(p,b))}else b=Ke,b=Vf(p,p===wt?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||jc(p,b)||(h=!0,AT(p,b));p=p.next}while(h);By=!1}}function T3(){TT()}function TT(){Ud=zy=!1;var a=0;Hs!==0&&N3()&&(a=Hs);for(var c=pn(),h=null,p=Bd;p!==null;){var O=p.next,b=CT(p,c);b===0?(p.next=null,h===null?Bd=O:h.next=O,O===null&&(yo=h)):(h=p,(a!==0||(b&3)!==0)&&(Ud=!0)),p=O}tn!==0&&tn!==5||_u(a),Hs!==0&&(Hs=0)}function CT(a,c){for(var h=a.suspendedLanes,p=a.pingedLanes,O=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var w=31-le(b),_=1<<w,$=O[w];$===-1?((_&h)===0||(_&p)!==0)&&(O[w]=Jz(_,c)):$<=c&&(a.expiredLanes|=_),b&=~_}if(c=wt,h=Ke,h=Vf(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===c&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Ml(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||jc(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(p!==null&&Ml(p),tO(h)){case 2:case 8:h=de;break;case 32:h=Re;break;case 268435456:h=nt;break;default:h=Re}return p=ET.bind(null,a),h=Xr(h,p),a.callbackPriority=c,a.callbackNode=h,c}return p!==null&&p!==null&&Ml(p),a.callbackPriority=2,a.callbackNode=null,2}function ET(a,c){if(tn!==0&&tn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(zd()&&a.callbackNode!==h)return null;var p=Ke;return p=Vf(a,a===wt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(cT(a,p,c),CT(a,pn()),a.callbackNode!=null&&a.callbackNode===h?ET.bind(null,a):null)}function AT(a,c){if(zd())return null;cT(a,c,!0)}function C3(){z3(function(){(ct&6)!==0?Xr(J,T3):TT()})}function Uy(){if(Hs===0){var a=no;a===0&&(a=gt,gt<<=1,(gt&261888)===0&&(gt=256)),Hs=a}return Hs}function QT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Wf(""+a)}function PT(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function E3(a,c,h,p,O){if(c==="submit"&&h&&h.stateNode===O){var b=QT((O[Un]||null).action),w=p.submitter;w&&(c=(c=w[Un]||null)?QT(c.formAction):w.getAttribute("formAction"),c!==null&&(b=c,w=null));var _=new Jf("action","action",null,p,O);a.push({event:_,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Hs!==0){var $=w?PT(O,w):new FormData(O);ay(h,{pending:!0,data:$,method:O.method,action:b},null,$)}}else typeof b=="function"&&(_.preventDefault(),$=w?PT(O,w):new FormData(O),ay(h,{pending:!0,data:$,method:O.method,action:b},b,$))},currentTarget:O}]})}}for(var Xy=0;Xy<kO.length;Xy++){var Zy=kO[Xy],A3=Zy.toLowerCase(),Q3=Zy[0].toUpperCase()+Zy.slice(1);Wi(A3,"on"+Q3)}Wi(ok,"onAnimationEnd"),Wi(ck,"onAnimationIteration"),Wi(uk,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(q5,"onTransitionRun"),Wi(Y5,"onTransitionStart"),Wi(F5,"onTransitionCancel"),Wi(hk,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ll("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function RT(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],O=p.event;p=p.listeners;e:{var b=void 0;if(c)for(var w=p.length-1;0<=w;w--){var _=p[w],$=_.instance,V=_.currentTarget;if(_=_.listener,$!==b&&O.isPropagationStopped())break e;b=_,O.currentTarget=V;try{b(O)}catch(G){nd(G)}O.currentTarget=null,b=$}else for(w=0;w<p.length;w++){if(_=p[w],$=_.instance,V=_.currentTarget,_=_.listener,$!==b&&O.isPropagationStopped())break e;b=_,O.currentTarget=V;try{b(O)}catch(G){nd(G)}O.currentTarget=null,b=$}}}}function Fe(a,c){var h=c[nO];h===void 0&&(h=c[nO]=new Set);var p=a+"__bubble";h.has(p)||($T(c,a,2,!1),h.add(p))}function jy(a,c,h){var p=0;c&&(p|=4),$T(h,a,p,c)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Vy(a){if(!a[Xd]){a[Xd]=!0,Tx.forEach(function(h){h!=="selectionchange"&&(P3.has(h)||jy(h,!1,a),jy(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Xd]||(c[Xd]=!0,jy("selectionchange",!1,c))}}function $T(a,c,h,p){switch(oC(c)){case 2:var O=s4;break;case 8:O=l4;break;default:O=l0}h=O.bind(null,c,h,a),O=void 0,!hO||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),p?O!==void 0?a.addEventListener(c,h,{capture:!0,passive:O}):a.addEventListener(c,h,!0):O!==void 0?a.addEventListener(c,h,{passive:O}):a.addEventListener(c,h,!1)}function qy(a,c,h,p,O){var b=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var w=p.tag;if(w===3||w===4){var _=p.stateNode.containerInfo;if(_===O)break;if(w===4)for(w=p.return;w!==null;){var $=w.tag;if(($===3||$===4)&&w.stateNode.containerInfo===O)return;w=w.return}for(;_!==null;){if(w=za(_),w===null)return;if($=w.tag,$===5||$===6||$===26||$===27){p=b=w;continue e}_=_.parentNode}}p=p.return}Lx(function(){var V=b,G=cO(h),re=[];e:{var q=fk.get(a);if(q!==void 0){var F=Jf,xe=a;switch(a){case"keypress":if(Gf(h)===0)break e;case"keydown":case"keyup":F=k5;break;case"focusin":xe="focus",F=mO;break;case"focusout":xe="blur",F=mO;break;case"beforeblur":case"afterblur":F=mO;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=f5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=C5;break;case ok:case ck:case uk:F=m5;break;case hk:F=A5;break;case"scroll":case"scrollend":F=u5;break;case"wheel":F=P5;break;case"copy":case"cut":case"paste":F=O5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zx;break;case"toggle":case"beforetoggle":F=$5}var Pe=(c&4)!==0,bt=!Pe&&(a==="scroll"||a==="scrollend"),B=Pe?q!==null?q+"Capture":null:q;Pe=[];for(var D=V,Z;D!==null;){var ee=D;if(Z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Z===null||B===null||(ee=Fc(D,B),ee!=null&&Pe.push(Cu(D,ee,Z))),bt)break;D=D.return}0<Pe.length&&(q=new F(q,xe,null,h,G),re.push({event:q,listeners:Pe}))}}if((c&7)===0){e:{if(q=a==="mouseover"||a==="pointerover",F=a==="mouseout"||a==="pointerout",q&&h!==oO&&(xe=h.relatedTarget||h.fromElement)&&(za(xe)||xe[La]))break e;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(xe=h.relatedTarget||h.toElement,F=V,xe=xe?za(xe):null,xe!==null&&(bt=s(xe),Pe=xe.tag,xe!==bt||Pe!==5&&Pe!==27&&Pe!==6)&&(xe=null)):(F=null,xe=V),F!==xe)){if(Pe=Ux,ee="onMouseLeave",B="onMouseEnter",D="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=Zx,ee="onPointerLeave",B="onPointerEnter",D="pointer"),bt=F==null?q:Yc(F),Z=xe==null?q:Yc(xe),q=new Pe(ee,D+"leave",F,h,G),q.target=bt,q.relatedTarget=Z,ee=null,za(G)===V&&(Pe=new Pe(B,D+"enter",xe,h,G),Pe.target=Z,Pe.relatedTarget=bt,ee=Pe),bt=ee,F&&xe)t:{for(Pe=R3,B=F,D=xe,Z=0,ee=B;ee;ee=Pe(ee))Z++;ee=0;for(var Ae=D;Ae;Ae=Pe(Ae))ee++;for(;0<Z-ee;)B=Pe(B),Z--;for(;0<ee-Z;)D=Pe(D),ee--;for(;Z--;){if(B===D||D!==null&&B===D.alternate){Pe=B;break t}B=Pe(B),D=Pe(D)}Pe=null}else Pe=null;F!==null&&MT(re,q,F,Pe,!1),xe!==null&&bt!==null&&MT(re,bt,xe,Pe,!0)}}e:{if(q=V?Yc(V):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var at=Gx;else if(Wx(q))if(Kx)at=Z5;else{at=U5;var ke=B5}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&aO(V.elementType)&&(at=Gx):at=X5;if(at&&(at=at(a,V))){Hx(re,at,h,G);break e}ke&&ke(a,q,V),a==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&lO(q,"number",q.value)}switch(ke=V?Yc(V):window,a){case"focusin":(Wx(ke)||ke.contentEditable==="true")&&(Fa=ke,vO=V,nu=null);break;case"focusout":nu=vO=Fa=null;break;case"mousedown":wO=!0;break;case"contextmenu":case"mouseup":case"dragend":wO=!1,lk(re,h,G);break;case"selectionchange":if(V5)break;case"keydown":case"keyup":lk(re,h,G)}var Ue;if(OO)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ya?Yx(a,h)&&(Je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Je="onCompositionStart");Je&&(jx&&h.locale!=="ko"&&(Ya||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ya&&(Ue=zx()):(Ms=G,fO="value"in Ms?Ms.value:Ms.textContent,Ya=!0)),ke=Zd(V,Je),0<ke.length&&(Je=new Xx(Je,a,null,h,G),re.push({event:Je,listeners:ke}),Ue?Je.data=Ue:(Ue=Fx(h),Ue!==null&&(Je.data=Ue)))),(Ue=I5?D5(a,h):N5(a,h))&&(Je=Zd(V,"onBeforeInput"),0<Je.length&&(ke=new Xx("onBeforeInput","beforeinput",null,h,G),re.push({event:ke,listeners:Je}),ke.data=Ue)),E3(re,a,V,h,G)}RT(re,c)})}function Cu(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Zd(a,c){for(var h=c+"Capture",p=[];a!==null;){var O=a,b=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||b===null||(O=Fc(a,h),O!=null&&p.unshift(Cu(a,O,b)),O=Fc(a,c),O!=null&&p.push(Cu(a,O,b))),a.tag===3)return p;a=a.return}return[]}function R3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function MT(a,c,h,p,O){for(var b=c._reactName,w=[];h!==null&&h!==p;){var _=h,$=_.alternate,V=_.stateNode;if(_=_.tag,$!==null&&$===p)break;_!==5&&_!==26&&_!==27||V===null||($=V,O?(V=Fc(h,b),V!=null&&w.unshift(Cu(h,V,$))):O||(V=Fc(h,b),V!=null&&w.push(Cu(h,V,$)))),h=h.return}w.length!==0&&a.push({event:c,listeners:w})}var $3=/\r\n?/g,M3=/\u0000|\uFFFD/g;function IT(a){return(typeof a=="string"?a:""+a).replace($3,`
`).replace(M3,"")}function DT(a,c){return c=IT(c),IT(a)===c}function yt(a,c,h,p,O,b){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||ja(a,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&ja(a,""+p);break;case"className":Yf(a,"class",p);break;case"tabIndex":Yf(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Yf(a,h,p);break;case"style":Dx(a,p,b);break;case"data":if(c!=="object"){Yf(a,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=Wf(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(c!=="input"&&yt(a,c,"name",O.name,O,null),yt(a,c,"formEncType",O.formEncType,O,null),yt(a,c,"formMethod",O.formMethod,O,null),yt(a,c,"formTarget",O.formTarget,O,null)):(yt(a,c,"encType",O.encType,O,null),yt(a,c,"method",O.method,O,null),yt(a,c,"target",O.target,O,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=Wf(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=jr);break;case"onScroll":p!=null&&Fe("scroll",a);break;case"onScrollEnd":p!=null&&Fe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(O.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=Wf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":Fe("beforetoggle",a),Fe("toggle",a),qf(a,"popover",p);break;case"xlinkActuate":Zr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Zr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Zr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Zr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Zr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Zr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Zr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Zr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Zr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":qf(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=o5.get(h)||h,qf(a,h,p))}}function Yy(a,c,h,p,O,b){switch(h){case"style":Dx(a,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(O.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof p=="string"?ja(a,p):(typeof p=="number"||typeof p=="bigint")&&ja(a,""+p);break;case"onScroll":p!=null&&Fe("scroll",a);break;case"onScrollEnd":p!=null&&Fe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cx.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),c=h.slice(2,O?h.length-7:void 0),b=a[Un]||null,b=b!=null?b[h]:null,typeof b=="function"&&a.removeEventListener(c,b,O),typeof p=="function")){typeof b!="function"&&b!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,p,O);break e}h in a?a[h]=p:p===!0?a.setAttribute(h,""):qf(a,h,p)}}}function Sn(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",a),Fe("load",a);var p=!1,O=!1,b;for(b in h)if(h.hasOwnProperty(b)){var w=h[b];if(w!=null)switch(b){case"src":p=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:yt(a,c,b,w,h,null)}}O&&yt(a,c,"srcSet",h.srcSet,h,null),p&&yt(a,c,"src",h.src,h,null);return;case"input":Fe("invalid",a);var _=b=w=O=null,$=null,V=null;for(p in h)if(h.hasOwnProperty(p)){var G=h[p];if(G!=null)switch(p){case"name":O=G;break;case"type":w=G;break;case"checked":$=G;break;case"defaultChecked":V=G;break;case"value":b=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,c));break;default:yt(a,c,p,G,h,null)}}Rx(a,b,_,$,V,w,O,!1);return;case"select":Fe("invalid",a),p=w=b=null;for(O in h)if(h.hasOwnProperty(O)&&(_=h[O],_!=null))switch(O){case"value":b=_;break;case"defaultValue":w=_;break;case"multiple":p=_;default:yt(a,c,O,_,h,null)}c=b,h=w,a.multiple=!!p,c!=null?Za(a,!!p,c,!1):h!=null&&Za(a,!!p,h,!0);return;case"textarea":Fe("invalid",a),b=O=p=null;for(w in h)if(h.hasOwnProperty(w)&&(_=h[w],_!=null))switch(w){case"value":p=_;break;case"defaultValue":O=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:yt(a,c,w,_,h,null)}Mx(a,p,O,b);return;case"option":for($ in h)if(h.hasOwnProperty($)&&(p=h[$],p!=null))switch($){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:yt(a,c,$,p,h,null)}return;case"dialog":Fe("beforetoggle",a),Fe("toggle",a),Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":Fe("load",a);break;case"video":case"audio":for(p=0;p<Tu.length;p++)Fe(Tu[p],a);break;case"image":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"embed":case"source":case"link":Fe("error",a),Fe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in h)if(h.hasOwnProperty(V)&&(p=h[V],p!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:yt(a,c,V,p,h,null)}return;default:if(aO(c)){for(G in h)h.hasOwnProperty(G)&&(p=h[G],p!==void 0&&Yy(a,c,G,p,h,void 0));return}}for(_ in h)h.hasOwnProperty(_)&&(p=h[_],p!=null&&yt(a,c,_,p,h,null))}function I3(a,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,b=null,w=null,_=null,$=null,V=null,G=null;for(F in h){var re=h[F];if(h.hasOwnProperty(F)&&re!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":$=re;default:p.hasOwnProperty(F)||yt(a,c,F,null,p,re)}}for(var q in p){var F=p[q];if(re=h[q],p.hasOwnProperty(q)&&(F!=null||re!=null))switch(q){case"type":b=F;break;case"name":O=F;break;case"checked":V=F;break;case"defaultChecked":G=F;break;case"value":w=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,c));break;default:F!==re&&yt(a,c,q,F,p,re)}}sO(a,w,_,$,V,G,b,O);return;case"select":F=w=_=q=null;for(b in h)if($=h[b],h.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":F=$;default:p.hasOwnProperty(b)||yt(a,c,b,null,p,$)}for(O in p)if(b=p[O],$=h[O],p.hasOwnProperty(O)&&(b!=null||$!=null))switch(O){case"value":q=b;break;case"defaultValue":_=b;break;case"multiple":w=b;default:b!==$&&yt(a,c,O,b,p,$)}c=_,h=w,p=F,q!=null?Za(a,!!h,q,!1):!!p!=!!h&&(c!=null?Za(a,!!h,c,!0):Za(a,!!h,h?[]:"",!1));return;case"textarea":F=q=null;for(_ in h)if(O=h[_],h.hasOwnProperty(_)&&O!=null&&!p.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:yt(a,c,_,null,p,O)}for(w in p)if(O=p[w],b=h[w],p.hasOwnProperty(w)&&(O!=null||b!=null))switch(w){case"value":q=O;break;case"defaultValue":F=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==b&&yt(a,c,w,O,p,b)}$x(a,q,F);return;case"option":for(var xe in h)if(q=h[xe],h.hasOwnProperty(xe)&&q!=null&&!p.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:yt(a,c,xe,null,p,q)}for($ in p)if(q=p[$],F=h[$],p.hasOwnProperty($)&&q!==F&&(q!=null||F!=null))switch($){case"selected":a.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:yt(a,c,$,q,p,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in h)q=h[Pe],h.hasOwnProperty(Pe)&&q!=null&&!p.hasOwnProperty(Pe)&&yt(a,c,Pe,null,p,q);for(V in p)if(q=p[V],F=h[V],p.hasOwnProperty(V)&&q!==F&&(q!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,c));break;default:yt(a,c,V,q,p,F)}return;default:if(aO(c)){for(var bt in h)q=h[bt],h.hasOwnProperty(bt)&&q!==void 0&&!p.hasOwnProperty(bt)&&Yy(a,c,bt,void 0,p,q);for(G in p)q=p[G],F=h[G],!p.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||Yy(a,c,G,q,p,F);return}}for(var B in h)q=h[B],h.hasOwnProperty(B)&&q!=null&&!p.hasOwnProperty(B)&&yt(a,c,B,null,p,q);for(re in p)q=p[re],F=h[re],!p.hasOwnProperty(re)||q===F||q==null&&F==null||yt(a,c,re,q,p,F)}function NT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var O=h[p],b=O.transferSize,w=O.initiatorType,_=O.duration;if(b&&_&&NT(w)){for(w=0,_=O.responseEnd,p+=1;p<h.length;p++){var $=h[p],V=$.startTime;if(V>_)break;var G=$.transferSize,re=$.initiatorType;G&&NT(re)&&($=$.responseEnd,w+=G*($<_?1:(_-V)/($-V)))}if(--p,c+=8*(b+w)/(O.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Fy=null,Wy=null;function jd(a){return a.nodeType===9?a:a.ownerDocument}function LT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zT(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Hy(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Gy=null;function N3(){var a=window.event;return a&&a.type==="popstate"?a===Gy?!1:(Gy=a,!0):(Gy=null,!1)}var BT=typeof setTimeout=="function"?setTimeout:void 0,L3=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,z3=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(a){return UT.resolve(null).then(a).catch(B3)}:BT;function B3(a){setTimeout(function(){throw a})}function Gs(a){return a==="head"}function XT(a,c){var h=c,p=0;do{var O=h.nextSibling;if(a.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(p===0){a.removeChild(O),wo(c);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")Eu(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Eu(h);for(var b=h.firstChild;b;){var w=b.nextSibling,_=b.nodeName;b[qc]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=w}}else h==="body"&&Eu(a.ownerDocument.body);h=O}while(h);wo(c)}function ZT(a,c){var h=a;a=0;do{var p=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=p}while(h)}function Ky(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Ky(h),iO(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function U3(a,c,h,p){for(;a.nodeType===1;){var O=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[qc])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==O.rel||a.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||a.getAttribute("title")!==(O.title==null?null:O.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(O.src==null?null:O.src)||a.getAttribute("type")!==(O.type==null?null:O.type)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var b=O.name==null?null:""+O.name;if(O.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=$i(a.nextSibling),a===null)break}return null}function X3(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=$i(a.nextSibling),a===null))return null;return a}function jT(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=$i(a.nextSibling),a===null))return null;return a}function Jy(a){return a.data==="$?"||a.data==="$~"}function e0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Z3(a,c){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||h.readyState!=="loading")c();else{var p=function(){c(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function $i(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var t0=null;function VT(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(c===0)return $i(a.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}a=a.nextSibling}return null}function qT(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return a;c--}else h!=="/$"&&h!=="/&"||c++}a=a.previousSibling}return null}function YT(a,c,h){switch(c=jd(h),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Eu(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);iO(a)}var Mi=new Map,FT=new Set;function Vd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ls=ie.d;ie.d={f:j3,r:V3,D:q3,C:Y3,L:F3,m:W3,X:G3,S:H3,M:K3};function j3(){var a=ls.f(),c=Dd();return a||c}function V3(a){var c=Ba(a);c!==null&&c.tag===5&&c.type==="form"?h_(c):ls.r(a)}var bo=typeof document>"u"?null:document;function WT(a,c,h){var p=bo;if(p&&typeof c=="string"&&c){var O=Ti(c);O='link[rel="'+a+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),FT.has(O)||(FT.add(O),a={rel:a,crossOrigin:h,href:c},p.querySelector(O)===null&&(c=p.createElement("link"),Sn(c,"link",a),an(c),p.head.appendChild(c)))}}function q3(a){ls.D(a),WT("dns-prefetch",a,null)}function Y3(a,c){ls.C(a,c),WT("preconnect",a,c)}function F3(a,c,h){ls.L(a,c,h);var p=bo;if(p&&a&&c){var O='link[rel="preload"][as="'+Ti(c)+'"]';c==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+Ti(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+Ti(h.imageSizes)+'"]')):O+='[href="'+Ti(a)+'"]';var b=O;switch(c){case"style":b=So(a);break;case"script":b=vo(a)}Mi.has(b)||(a=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),Mi.set(b,a),p.querySelector(O)!==null||c==="style"&&p.querySelector(Au(b))||c==="script"&&p.querySelector(Qu(b))||(c=p.createElement("link"),Sn(c,"link",a),an(c),p.head.appendChild(c)))}}function W3(a,c){ls.m(a,c);var h=bo;if(h&&a){var p=c&&typeof c.as=="string"?c.as:"script",O='link[rel="modulepreload"][as="'+Ti(p)+'"][href="'+Ti(a)+'"]',b=O;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=vo(a)}if(!Mi.has(b)&&(a=m({rel:"modulepreload",href:a},c),Mi.set(b,a),h.querySelector(O)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Qu(b)))return}p=h.createElement("link"),Sn(p,"link",a),an(p),h.head.appendChild(p)}}}function H3(a,c,h){ls.S(a,c,h);var p=bo;if(p&&a){var O=Ua(p).hoistableStyles,b=So(a);c=c||"default";var w=O.get(b);if(!w){var _={loading:0,preload:null};if(w=p.querySelector(Au(b)))_.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":c},h),(h=Mi.get(b))&&n0(a,h);var $=w=p.createElement("link");an($),Sn($,"link",a),$._p=new Promise(function(V,G){$.onload=V,$.onerror=G}),$.addEventListener("load",function(){_.loading|=1}),$.addEventListener("error",function(){_.loading|=2}),_.loading|=4,qd(w,c,p)}w={type:"stylesheet",instance:w,count:1,state:_},O.set(b,w)}}}function G3(a,c){ls.X(a,c);var h=bo;if(h&&a){var p=Ua(h).hoistableScripts,O=vo(a),b=p.get(O);b||(b=h.querySelector(Qu(O)),b||(a=m({src:a,async:!0},c),(c=Mi.get(O))&&i0(a,c),b=h.createElement("script"),an(b),Sn(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(O,b))}}function K3(a,c){ls.M(a,c);var h=bo;if(h&&a){var p=Ua(h).hoistableScripts,O=vo(a),b=p.get(O);b||(b=h.querySelector(Qu(O)),b||(a=m({src:a,async:!0,type:"module"},c),(c=Mi.get(O))&&i0(a,c),b=h.createElement("script"),an(b),Sn(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(O,b))}}function HT(a,c,h,p){var O=(O=we.current)?Vd(O):null;if(!O)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=So(h.href),h=Ua(O).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=So(h.href);var b=Ua(O).hoistableStyles,w=b.get(a);if(w||(O=O.ownerDocument||O,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,w),(b=O.querySelector(Au(a)))&&!b._p&&(w.instance=b,w.state.loading=5),Mi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Mi.set(a,h),b||J3(O,a,h,w.state))),c&&p===null)throw Error(i(528,""));return w}if(c&&p!==null)throw Error(i(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=vo(h),h=Ua(O).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function So(a){return'href="'+Ti(a)+'"'}function Au(a){return'link[rel="stylesheet"]['+a+"]"}function GT(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function J3(a,c,h,p){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=a.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Sn(c,"link",h),an(c),a.head.appendChild(c))}function vo(a){return'[src="'+Ti(a)+'"]'}function Qu(a){return"script[async]"+a}function KT(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=a.querySelector('style[data-href~="'+Ti(h.href)+'"]');if(p)return c.instance=p,an(p),p;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),an(p),Sn(p,"style",O),qd(p,h.precedence,a),c.instance=p;case"stylesheet":O=So(h.href);var b=a.querySelector(Au(O));if(b)return c.state.loading|=4,c.instance=b,an(b),b;p=GT(h),(O=Mi.get(O))&&n0(p,O),b=(a.ownerDocument||a).createElement("link"),an(b);var w=b;return w._p=new Promise(function(_,$){w.onload=_,w.onerror=$}),Sn(b,"link",p),c.state.loading|=4,qd(b,h.precedence,a),c.instance=b;case"script":return b=vo(h.src),(O=a.querySelector(Qu(b)))?(c.instance=O,an(O),O):(p=h,(O=Mi.get(b))&&(p=m({},h),i0(p,O)),a=a.ownerDocument||a,O=a.createElement("script"),an(O),Sn(O,"link",p),a.head.appendChild(O),c.instance=O);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,qd(p,h.precedence,a));return c.instance}function qd(a,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=p.length?p[p.length-1]:null,b=O,w=0;w<p.length;w++){var _=p[w];if(_.dataset.precedence===c)b=_;else if(b!==O)break}b?b.parentNode.insertBefore(a,b.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function n0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function i0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Yd=null;function JT(a,c,h){if(Yd===null){var p=new Map,O=Yd=new Map;O.set(h,p)}else O=Yd,p=O.get(h),p||(p=new Map,O.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),O=0;O<h.length;O++){var b=h[O];if(!(b[qc]||b[gn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(c)||"";w=a+w;var _=p.get(w);_?_.push(b):p.set(w,[b])}}return p}function eC(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function e4(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function tC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function t4(a,c,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=So(p.href),b=c.querySelector(Au(O));if(b){c=b._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=Fd.bind(a),c.then(a,a)),h.state.loading|=4,h.instance=b,an(b);return}b=c.ownerDocument||c,p=GT(p),(O=Mi.get(O))&&n0(p,O),b=b.createElement("link"),an(b);var w=b;w._p=new Promise(function(_,$){w.onload=_,w.onerror=$}),Sn(b,"link",p),h.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=Fd.bind(a),c.addEventListener("load",h),c.addEventListener("error",h))}}var r0=0;function n4(a,c){return a.stylesheets&&a.count===0&&Hd(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var p=setTimeout(function(){if(a.stylesheets&&Hd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+c);0<a.imgBytes&&r0===0&&(r0=62500*D3());var O=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Hd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>r0?50:800)+c);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(O)}}:null}function Fd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Wd=null;function Hd(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Wd=new Map,c.forEach(i4,a),Wd=null,Fd.call(a))}function i4(a,c){if(!(c.state.loading&4)){var h=Wd.get(a);if(h)var p=h.get(null);else{h=new Map,Wd.set(a,h);for(var O=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<O.length;b++){var w=O[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(h.set(w.dataset.precedence,w),p=w)}p&&h.set(null,p)}O=c.instance,w=O.getAttribute("data-precedence"),b=h.get(w)||p,b===p&&h.set(null,O),h.set(w,O),this.count++,p=Fd.bind(this),O.addEventListener("load",p),O.addEventListener("error",p),b?b.parentNode.insertBefore(O,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(O,a.firstChild)),c.state.loading|=4}}var Pu={$$typeof:T,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function r4(a,c,h,p,O,b,w,_,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jg(0),this.hiddenUpdates=Jg(null),this.identifierPrefix=p,this.onUncaughtError=O,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function nC(a,c,h,p,O,b,w,_,$,V,G,re){return a=new r4(a,c,h,w,$,V,G,re,_),c=1,b===!0&&(c|=24),b=ai(3,null,null,c),a.current=b,b.stateNode=a,c=NO(),c.refCount++,a.pooledCache=c,c.refCount++,b.memoizedState={element:p,isDehydrated:h,cache:c},UO(b),a}function iC(a){return a?(a=Ga,a):Ga}function rC(a,c,h,p,O,b){O=iC(O),p.context===null?p.context=O:p.pendingContext=O,p=Bs(c),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),h=Us(a,p,c),h!==null&&(Yn(h,a,c),cu(h,a,c))}function sC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function s0(a,c){sC(a,c),(a=a.alternate)&&sC(a,c)}function lC(a){if(a.tag===13||a.tag===31){var c=Xl(a,67108864);c!==null&&Yn(c,a,67108864),s0(a,67108864)}}function aC(a){if(a.tag===13||a.tag===31){var c=fi();c=eO(c);var h=Xl(a,c);h!==null&&Yn(h,a,c),s0(a,c)}}var Gd=!0;function s4(a,c,h,p){var O=U.T;U.T=null;var b=ie.p;try{ie.p=2,l0(a,c,h,p)}finally{ie.p=b,U.T=O}}function l4(a,c,h,p){var O=U.T;U.T=null;var b=ie.p;try{ie.p=8,l0(a,c,h,p)}finally{ie.p=b,U.T=O}}function l0(a,c,h,p){if(Gd){var O=a0(p);if(O===null)qy(a,c,p,Kd,h),cC(a,p);else if(o4(O,a,c,h,p))p.stopPropagation();else if(cC(a,p),c&4&&-1<a4.indexOf(a)){for(;O!==null;){var b=Ba(O);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=Nl(b.pendingLanes);if(w!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;w;){var $=1<<31-le(w);_.entanglements[1]|=$,w&=~$}br(b),(ct&6)===0&&(Md=pn()+500,_u(0))}}break;case 31:case 13:_=Xl(b,2),_!==null&&Yn(_,b,2),Dd(),s0(b,2)}if(b=a0(p),b===null&&qy(a,c,p,Kd,h),b===O)break;O=b}O!==null&&p.stopPropagation()}else qy(a,c,p,null,h)}}function a0(a){return a=cO(a),o0(a)}var Kd=null;function o0(a){if(Kd=null,a=za(a),a!==null){var c=s(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=l(c),a!==null)return a;a=null}else if(h===31){if(a=o(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Kd=a,null}function oC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case J:return 2;case de:return 8;case Re:case Ze:return 32;case nt:return 268435456;default:return 32}default:return 32}}var c0=!1,Ks=null,Js=null,el=null,Ru=new Map,$u=new Map,tl=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cC(a,c){switch(a){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":Ru.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(c.pointerId)}}function Mu(a,c,h,p,O,b){return a===null||a.nativeEvent!==b?(a={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:b,targetContainers:[O]},c!==null&&(c=Ba(c),c!==null&&lC(c)),a):(a.eventSystemFlags|=p,c=a.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),a)}function o4(a,c,h,p,O){switch(c){case"focusin":return Ks=Mu(Ks,a,c,h,p,O),!0;case"dragenter":return Js=Mu(Js,a,c,h,p,O),!0;case"mouseover":return el=Mu(el,a,c,h,p,O),!0;case"pointerover":var b=O.pointerId;return Ru.set(b,Mu(Ru.get(b)||null,a,c,h,p,O)),!0;case"gotpointercapture":return b=O.pointerId,$u.set(b,Mu($u.get(b)||null,a,c,h,p,O)),!0}return!1}function uC(a){var c=za(a.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){a.blockedOn=c,kx(a.priority,function(){aC(h)});return}}else if(c===31){if(c=o(h),c!==null){a.blockedOn=c,kx(a.priority,function(){aC(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Jd(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=a0(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);oO=p,h.target.dispatchEvent(p),oO=null}else return c=Ba(h),c!==null&&lC(c),a.blockedOn=h,!1;c.shift()}return!0}function hC(a,c,h){Jd(a)&&h.delete(c)}function c4(){c0=!1,Ks!==null&&Jd(Ks)&&(Ks=null),Js!==null&&Jd(Js)&&(Js=null),el!==null&&Jd(el)&&(el=null),Ru.forEach(hC),$u.forEach(hC)}function ep(a,c){a.blockedOn===c&&(a.blockedOn=null,c0||(c0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,c4)))}var tp=null;function fC(a){tp!==a&&(tp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tp===a&&(tp=null);for(var c=0;c<a.length;c+=3){var h=a[c],p=a[c+1],O=a[c+2];if(typeof p!="function"){if(o0(p||h)===null)continue;break}var b=Ba(h);b!==null&&(a.splice(c,3),c-=3,ay(b,{pending:!0,data:O,method:h.method,action:p},p,O))}}))}function wo(a){function c($){return ep($,a)}Ks!==null&&ep(Ks,a),Js!==null&&ep(Js,a),el!==null&&ep(el,a),Ru.forEach(c),$u.forEach(c);for(var h=0;h<tl.length;h++){var p=tl[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<tl.length&&(h=tl[0],h.blockedOn===null);)uC(h),h.blockedOn===null&&tl.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var O=h[p],b=h[p+1],w=O[Un]||null;if(typeof b=="function")w||fC(h);else if(w){var _=null;if(b&&b.hasAttribute("formAction")){if(O=b,w=b[Un]||null)_=w.formAction;else if(o0(O)!==null)continue}else _=w.action;typeof _=="function"?h[p+1]=_:(h.splice(p,3),p-=3),fC(h)}}}function dC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(w){return O=w})},focusReset:"manual",scroll:"manual"})}function c(){O!==null&&(O(),O=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,O=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),O!==null&&(O(),O=null)}}}function u0(a){this._internalRoot=a}np.prototype.render=u0.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var h=c.current,p=fi();rC(h,p,a,c,null,null)},np.prototype.unmount=u0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;rC(a.current,2,null,a,null,null),Dd(),c[La]=null}};function np(a){this._internalRoot=a}np.prototype.unstable_scheduleHydration=function(a){if(a){var c=xx();a={blockedOn:null,target:a,priority:c};for(var h=0;h<tl.length&&c!==0&&c<tl[h].priority;h++);tl.splice(h,0,a),h===0&&uC(a)}};var pC=e.version;if(pC!=="19.2.4")throw Error(i(527,pC,"19.2.4"));ie.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(c),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var u4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{mn=ip.inject(u4),j=ip}catch{}}return Du.createRoot=function(a,c){if(!r(a))throw Error(i(299));var h=!1,p="",O=v_,b=w_,w=x_;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(b=c.onCaughtError),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=nC(a,1,!1,null,null,h,p,null,O,b,w,dC),a[La]=c.current,Vy(a),new u0(c)},Du.hydrateRoot=function(a,c,h){if(!r(a))throw Error(i(299));var p=!1,O="",b=v_,w=w_,_=x_,$=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(w=h.onCaughtError),h.onRecoverableError!==void 0&&(_=h.onRecoverableError),h.formState!==void 0&&($=h.formState)),c=nC(a,1,!0,c,h??null,p,O,$,b,w,_,dC),c.context=iC(null),h=c.current,p=fi(),p=eO(p),O=Bs(p),O.callback=null,Us(h,O,p),h=p,c.current.lanes=h,Vc(c,h),br(c),a[La]=c.current,Vy(a),new np(c)},Du.version="19.2.4",Du}var kC;function S4(){if(kC)return d0.exports;kC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),d0.exports=b4(),d0.exports}var v4=S4();const w4=zv(v4);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _C="popstate";function x4(n={}){function e(i,r){let{pathname:s,search:l,hash:o}=i.location;return Fb("",{pathname:s,search:l,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Eh(r)}return _4(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function or(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k4(){return Math.random().toString(36).substring(2,10)}function TC(n,e){return{usr:n.state,key:n.key,idx:e}}function Fb(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xc(e):e,state:t,key:e&&e.key||i||k4()}}function Eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _4(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,o="POP",u=null,f=d();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function d(){return(l.state||{idx:null}).idx}function m(){o="POP";let x=d(),k=x==null?null:x-f;f=x,u&&u({action:o,location:v.location,delta:k})}function g(x,k){o="PUSH";let C=Fb(v.location,x,k);f=d()+1;let T=TC(C,f),X=v.createHref(C);try{l.pushState(T,"",X)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(X)}s&&u&&u({action:o,location:v.location,delta:1})}function y(x,k){o="REPLACE";let C=Fb(v.location,x,k);f=d();let T=TC(C,f),X=v.createHref(C);l.replaceState(T,"",X),s&&u&&u({action:o,location:v.location,delta:0})}function S(x){return T4(x)}let v={get action(){return o},get location(){return n(r,l)},listen(x){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(_C,m),u=x,()=>{r.removeEventListener(_C,m),u=null}},createHref(x){return e(r,x)},createURL:S,encodeLocation(x){let k=S(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(x){return l.go(x)}};return v}function T4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Eh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function PR(n,e,t="/"){return C4(n,e,t,!1)}function C4(n,e,t,i){let r=typeof e=="string"?xc(e):e,s=bs(r.pathname||"/",t);if(s==null)return null;let l=RR(n);E4(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let f=z4(s);o=N4(l[u],f,i)}return o}function RR(n,e=[],t=[],i="",r=!1){let s=(l,o,u=r,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&u)return;Lt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let m=gs([i,d.relativePath]),g=t.concat(d);l.children&&l.children.length>0&&(Lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),RR(l.children,e,g,m,u)),!(l.path==null&&!l.index)&&e.push({path:m,score:I4(m,l.index),routesMeta:g})};return n.forEach((l,o)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))s(l,o);else for(let f of $R(l.path))s(l,o,!0,f)}),e}function $R(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=$R(i.join("/")),o=[];return o.push(...l.map(u=>u===""?s:[s,u].join("/"))),r&&o.push(...l),o.map(u=>n.startsWith("/")&&u===""?"/":u)}function E4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:D4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var A4=/^:[\w-]+$/,Q4=3,P4=2,R4=1,$4=10,M4=-2,CC=n=>n==="*";function I4(n,e){let t=n.split("/"),i=t.length;return t.some(CC)&&(i+=M4),e&&(i+=P4),t.filter(r=>!CC(r)).reduce((r,s)=>r+(A4.test(s)?Q4:s===""?R4:$4),i)}function D4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function N4(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",l=[];for(let o=0;o<i.length;++o){let u=i[o],f=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=lm({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),g=u.route;if(!m&&f&&t&&!i[i.length-1].route.index&&(m=lm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:gs([s,m.pathname]),pathnameBase:Z4(gs([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=gs([s,m.pathnameBase]))}return l}function lm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=L4(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let S=o[g]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=o[g];return m&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function L4(n,e=!1,t=!0){or(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function z4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return or(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var B4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function U4(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?xc(n):n,s;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?s=EC(t.substring(1),"/"):s=EC(t,e)):s=e,{pathname:s,search:j4(i),hash:V4(r)}}function EC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function O0(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function MR(n){let e=X4(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function IR(n,e,t,i=!1){let r;typeof n=="string"?r=xc(n):(r={...n},Lt(!r.pathname||!r.pathname.includes("?"),O0("?","pathname","search",r)),Lt(!r.pathname||!r.pathname.includes("#"),O0("#","pathname","hash",r)),Lt(!r.search||!r.search.includes("#"),O0("#","search","hash",r)));let s=n===""||r.pathname==="",l=s?"/":r.pathname,o;if(l==null)o=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}o=m>=0?e[m]:"/"}let u=U4(r,o),f=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var gs=n=>n.join("/").replace(/\/\/+/g,"/"),Z4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),j4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,V4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,q4=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Y4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function F4(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NR(n,e){let t=n;if(typeof t!="string"||!B4.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(DR)try{let s=new URL(window.location.href),l=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=bs(l.pathname,e);l.origin===s.origin&&o!=null?t=o+l.search+l.hash:r=!0}catch{or(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LR=["POST","PUT","PATCH","DELETE"];new Set(LR);var W4=["GET",...LR];new Set(W4);var kc=I.createContext(null);kc.displayName="DataRouter";var gg=I.createContext(null);gg.displayName="DataRouterState";var H4=I.createContext(!1),zR=I.createContext({isTransitioning:!1});zR.displayName="ViewTransition";var G4=I.createContext(new Map);G4.displayName="Fetchers";var K4=I.createContext(null);K4.displayName="Await";var Xi=I.createContext(null);Xi.displayName="Navigation";var pf=I.createContext(null);pf.displayName="Location";var Nr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Uv=I.createContext(null);Uv.displayName="RouteError";var BR="REACT_ROUTER_ERROR",J4="REDIRECT",eB="ROUTE_ERROR_RESPONSE";function tB(n){if(n.startsWith(`${BR}:${J4}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nB(n){if(n.startsWith(`${BR}:${eB}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new q4(e.status,e.statusText,e.data)}catch{}}function iB(n,{relative:e}={}){Lt(mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=I.useContext(Xi),{hash:r,pathname:s,search:l}=gf(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:gs([t,s])),i.createHref({pathname:o,search:l,hash:r})}function mf(){return I.useContext(pf)!=null}function Al(){return Lt(mf(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(pf).location}var UR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XR(n){I.useContext(Xi).static||I.useLayoutEffect(n)}function _c(){let{isDataRoute:n}=I.useContext(Nr);return n?OB():rB()}function rB(){Lt(mf(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(kc),{basename:e,navigator:t}=I.useContext(Xi),{matches:i}=I.useContext(Nr),{pathname:r}=Al(),s=JSON.stringify(MR(i)),l=I.useRef(!1);return XR(()=>{l.current=!0}),I.useCallback((u,f={})=>{if(or(l.current,UR),!l.current)return;if(typeof u=="number"){t.go(u);return}let d=IR(u,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gs([e,d.pathname])),(f.replace?t.replace:t.push)(d,f.state,f)},[e,t,s,r,n])}I.createContext(null);function sB(){let{matches:n}=I.useContext(Nr),e=n[n.length-1];return e?e.params:{}}function gf(n,{relative:e}={}){let{matches:t}=I.useContext(Nr),{pathname:i}=Al(),r=JSON.stringify(MR(t));return I.useMemo(()=>IR(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function lB(n,e){return ZR(n,e)}function ZR(n,e,t,i,r){var C;Lt(mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(Xi),{matches:l}=I.useContext(Nr),o=l[l.length-1],u=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let T=m&&m.path||"";VR(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Al(),y;if(e){let T=typeof e=="string"?xc(e):e;Lt(d==="/"||((C=T.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let S=y.pathname||"/",v=S;if(d!=="/"){let T=d.replace(/^\//,"").split("/");v="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=PR(n,{pathname:v});or(m||x!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),or(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=hB(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:gs([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:gs([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,t,i,r);return e&&k?I.createElement(pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function aB(){let n=gB(),e=Y4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,l)}var oB=I.createElement(aB,null),jR=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=nB(n.digest);t&&(n=t)}let e=n!==void 0?I.createElement(Nr.Provider,{value:this.props.routeContext},I.createElement(Uv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?I.createElement(cB,{error:n},e):e}};jR.contextType=H4;var y0=new WeakMap;function cB({children:n,error:e}){let{basename:t}=I.useContext(Xi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=tB(e.digest);if(i){let r=y0.get(e);if(r)throw r;let s=NR(i.location,t);if(DR&&!y0.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw y0.set(e,l),l}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function uB({routeContext:n,match:e,children:t}){let i=I.useContext(kc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Nr.Provider,{value:n},t)}function hB(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Lt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,u=-1;if(t)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:y}=t,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let f=t&&i?(d,m)=>{var g,y;i(d,{location:t.location,params:((y=(g=t.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:F4(t.matches),errorInfo:m})}:void 0;return s.reduceRight((d,m,g)=>{let y,S=!1,v=null,x=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||oB,o&&(u<0&&g===0?(VR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):u===g&&(S=!0,x=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,g+1)),C=()=>{let T;return y?T=v:S?T=x:m.route.Component?T=I.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=d,I.createElement(uB,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:T})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?I.createElement(jR,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):C()},null)}function Xv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fB(n){let e=I.useContext(kc);return Lt(e,Xv(n)),e}function dB(n){let e=I.useContext(gg);return Lt(e,Xv(n)),e}function pB(n){let e=I.useContext(Nr);return Lt(e,Xv(n)),e}function Zv(n){let e=pB(n),t=e.matches[e.matches.length-1];return Lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mB(){return Zv("useRouteId")}function gB(){var i;let n=I.useContext(Uv),e=dB("useRouteError"),t=Zv("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function OB(){let{router:n}=fB("useNavigate"),e=Zv("useNavigate"),t=I.useRef(!1);return XR(()=>{t.current=!0}),I.useCallback(async(r,s={})=>{or(t.current,UR),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var AC={};function VR(n,e,t){!e&&!AC[n]&&(AC[n]=!0,or(!1,t))}I.memo(yB);function yB({routes:n,future:e,state:t,onError:i}){return ZR(n,void 0,t,i,e)}function ra(n){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bB({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:l}){Lt(!mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:l,future:{}}),[o,r,s,l]);typeof t=="string"&&(t=xc(t));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,S=I.useMemo(()=>{let v=bs(f,o);return v==null?null:{location:{pathname:v,search:d,hash:m,state:g,key:y},navigationType:i}},[o,f,d,m,g,y,i]);return or(S!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Xi.Provider,{value:u},I.createElement(pf.Provider,{children:e,value:S}))}function SB({children:n,location:e}){return lB(Wb(n),e)}function Wb(n,e=[]){let t=[];return I.Children.forEach(n,(i,r)=>{if(!I.isValidElement(i))return;let s=[...e,r];if(i.type===I.Fragment){t.push.apply(t,Wb(i.props.children,s));return}Lt(i.type===ra,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Wb(i.props.children,s)),t.push(l)}),t}var Lp="get",zp="application/x-www-form-urlencoded";function Og(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function vB(n){return Og(n)&&n.tagName.toLowerCase()==="button"}function wB(n){return Og(n)&&n.tagName.toLowerCase()==="form"}function xB(n){return Og(n)&&n.tagName.toLowerCase()==="input"}function kB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _B(n,e){return n.button===0&&(!e||e==="_self")&&!kB(n)}function Hb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function TB(n,e){let t=Hb(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(s=>{t.append(r,s)})}),t}var rp=null;function CB(){if(rp===null)try{new FormData(document.createElement("form"),0),rp=!1}catch{rp=!0}return rp}var EB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(n){return n!=null&&!EB.has(n)?(or(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zp}"`),null):n}function AB(n,e){let t,i,r,s,l;if(wB(n)){let o=n.getAttribute("action");i=o?bs(o,e):null,t=n.getAttribute("method")||Lp,r=b0(n.getAttribute("enctype"))||zp,s=new FormData(n)}else if(vB(n)||xB(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||o.getAttribute("action");if(i=u?bs(u,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Lp,r=b0(n.getAttribute("formenctype"))||b0(o.getAttribute("enctype"))||zp,s=new FormData(o,n),!CB()){let{name:f,type:d,value:m}=n;if(d==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(Og(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lp,i=null,r=zp,l=n}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function QB(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&bs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function PB(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RB(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $B(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await PB(s,t);return l.links?l.links():[]}return[]}));return NB(i.flat(1).filter(RB).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function QC(n,e,t,i,r,s){let l=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,o=(u,f)=>{var d;return t[f].pathname!==u.pathname||((d=t[f].route.path)==null?void 0:d.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,f)=>l(u,f)||o(u,f)):s==="data"?e.filter((u,f)=>{var m;let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(l(u,f)||o(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function MB(n,e,{includeHydrateFallback:t}={}){return IB(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function IB(n){return[...new Set(n)]}function DB(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function NB(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(DB(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function qR(){let n=I.useContext(kc);return jv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LB(){let n=I.useContext(gg);return jv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vv=I.createContext(void 0);Vv.displayName="FrameworkContext";function YR(){let n=I.useContext(Vv);return jv(n,"You must render this element inside a <HydratedRouter> element"),n}function zB(n,e){let t=I.useContext(Vv),[i,r]=I.useState(!1),[s,l]=I.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,g=I.useRef(null);I.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let v=k=>{k.forEach(C=>{l(C.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[n]),I.useEffect(()=>{if(i){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[i]);let y=()=>{r(!0)},S=()=>{r(!1),l(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:Nu(o,y),onBlur:Nu(u,S),onMouseEnter:Nu(f,y),onMouseLeave:Nu(d,S),onTouchStart:Nu(m,y)}]:[!1,g,{}]}function Nu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BB({page:n,...e}){let{router:t}=qR(),i=I.useMemo(()=>PR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?I.createElement(XB,{page:n,matches:i,...e}):null}function UB(n){let{manifest:e,routeModules:t}=YR(),[i,r]=I.useState([]);return I.useEffect(()=>{let s=!1;return $B(n,e,t).then(l=>{s||r(l)}),()=>{s=!0}},[n,e,t]),i}function XB({page:n,matches:e,...t}){let i=Al(),{future:r,manifest:s,routeModules:l}=YR(),{basename:o}=qR(),{loaderData:u,matches:f}=LB(),d=I.useMemo(()=>QC(n,e,f,s,i,"data"),[n,e,f,s,i]),m=I.useMemo(()=>QC(n,e,f,s,i,"assets"),[n,e,f,s,i]),g=I.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,x=!1;if(e.forEach(C=>{var X;let T=s.routes[C.route.id];!T||!T.hasLoader||(!d.some(L=>L.route.id===C.route.id)&&C.route.id in u&&((X=l[C.route.id])!=null&&X.shouldRevalidate)||T.hasClientLoader?x=!0:v.add(C.route.id))}),v.size===0)return[];let k=QB(n,o,r.unstable_trailingSlashAwareDataRequests,"data");return x&&v.size>0&&k.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[o,r.unstable_trailingSlashAwareDataRequests,u,i,s,d,e,n,l]),y=I.useMemo(()=>MB(m,s),[m,s]),S=UB(m);return I.createElement(I.Fragment,null,g.map(v=>I.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),y.map(v=>I.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),S.map(({key:v,link:x})=>I.createElement("link",{key:v,nonce:t.nonce,...x,crossOrigin:x.crossOrigin??t.crossOrigin})))}function ZB(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jB&&(window.__reactRouterVersion="7.13.0")}catch{}function VB({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=I.useRef();r.current==null&&(r.current=x4({window:i,v5Compat:!0}));let s=r.current,[l,o]=I.useState({action:s.action,location:s.location}),u=I.useCallback(f=>{t===!1?o(f):I.startTransition(()=>o(f))},[t]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.createElement(bB,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:t})}var FR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WR=I.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:o,target:u,to:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S){let{basename:v,unstable_useTransitions:x}=I.useContext(Xi),k=typeof f=="string"&&FR.test(f),C=NR(f,v);f=C.to;let T=iB(f,{relative:r}),[X,L,R]=zB(i,y),N=WB(f,{replace:l,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});function ae(z){e&&e(z),z.defaultPrevented||N(z)}let te=I.createElement("a",{...y,...R,href:C.absoluteURL||T,onClick:C.isExternal||s?e:ae,ref:ZB(S,L),target:u,"data-discover":!k&&t==="render"?"true":void 0});return X&&!k?I.createElement(I.Fragment,null,te,I.createElement(BB,{page:T})):te});WR.displayName="Link";var qB=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:o,children:u,...f},d){let m=gf(l,{relative:f.relative}),g=Al(),y=I.useContext(gg),{navigator:S,basename:v}=I.useContext(Xi),x=y!=null&&tU(m)&&o===!0,k=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,C=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(C=C.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&v&&(T=bs(T,v)||T);const X=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=C===k||!r&&C.startsWith(k)&&C.charAt(X)==="/",R=T!=null&&(T===k||!r&&T.startsWith(k)&&T.charAt(k.length)==="/"),N={isActive:L,isPending:R,isTransitioning:x},ae=L?e:void 0,te;typeof i=="function"?te=i(N):te=[i,L?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(N):s;return I.createElement(WR,{...f,"aria-current":ae,className:te,ref:d,style:z,to:l,viewTransition:o},typeof u=="function"?u(N):u)});qB.displayName="NavLink";var YB=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:l=Lp,action:o,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S)=>{let{unstable_useTransitions:v}=I.useContext(Xi),x=JB(),k=eU(o,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",T=typeof o=="string"&&FR.test(o),X=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let R=L.nativeEvent.submitter,N=(R==null?void 0:R.getAttribute("formmethod"))||l,ae=()=>x(R||L.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:r,state:s,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});v&&t!==!1?I.startTransition(()=>ae()):ae()};return I.createElement("form",{ref:S,method:C,action:k,onSubmit:i?u:X,...y,"data-discover":!T&&n==="render"?"true":void 0})});YB.displayName="Form";function FB(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(n){let e=I.useContext(kc);return Lt(e,FB(n)),e}function WB(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let f=_c(),d=Al(),m=gf(n,{relative:s});return I.useCallback(g=>{if(_B(g,e)){g.preventDefault();let y=t!==void 0?t:Eh(d)===Eh(m),S=()=>f(n,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:o});u?I.startTransition(()=>S()):S()}},[d,f,m,t,i,e,n,r,s,l,o,u])}function HB(n){or(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Hb(n)),t=I.useRef(!1),i=Al(),r=I.useMemo(()=>TB(i.search,t.current?null:e.current),[i.search]),s=_c(),l=I.useCallback((o,u)=>{const f=Hb(typeof o=="function"?o(new URLSearchParams(r)):o);t.current=!0,s("?"+f,u)},[s,r]);return[r,l]}var GB=0,KB=()=>`__${String(++GB)}__`;function JB(){let{router:n}=HR("useSubmit"),{basename:e}=I.useContext(Xi),t=mB(),i=n.fetch,r=n.navigate;return I.useCallback(async(s,l={})=>{let{action:o,method:u,encType:f,formData:d,body:m}=AB(s,e);if(l.navigate===!1){let g=l.fetcherKey||KB();await i(g,t,l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,e,t])}function eU(n,{relative:e}={}){let{basename:t}=I.useContext(Xi),i=I.useContext(Nr);Lt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...gf(n||".",{relative:e})},l=Al();if(n==null){s.search=l.search;let o=new URLSearchParams(s.search),u=o.getAll("index");if(u.some(d=>d==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:gs([t,s.pathname])),Eh(s)}function tU(n,{relative:e}={}){let t=I.useContext(zR);Lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=HR("useViewTransitionState"),r=gf(n,{relative:e});if(!t.isTransitioning)return!1;let s=bs(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=bs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return lm(r.pathname,l)!=null||lm(r.pathname,s)!=null}const nU=()=>{};var PC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=function(n,e){if(!n)throw Tc(e)},Tc=function(n){return new Error("Firebase Database ("+GR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},iU=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],l=n[t++],o=n[t++],u=((r&7)<<18|(s&63)<<12|(l&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],l=r+1<n.length,o=l?n[r+1]:0,u=r+2<n.length,f=u?n[r+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let g=(o&15)<<2|f>>6,y=f&63;u||(y=64,l||(g=64)),i.push(t[d],t[m],t[g],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||f==null||m==null)throw new rU;const g=s<<2|o>>4;if(i.push(g),f!==64){const y=o<<4&240|f>>2;if(i.push(y),m!==64){const S=f<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};let rU=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const JR=function(n){const e=KR(n);return qv.encodeByteArray(e,!0)},am=function(n){return JR(n).replace(/\./g,"")},om=function(n){try{return qv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n){return e$(void 0,n)}function e$(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!lU(t)||(n[t]=e$(n[t],e[t]));return n}function lU(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=()=>aU().__FIREBASE_DEFAULTS__,cU=()=>{if(typeof process>"u"||typeof PC>"u")return;const n=PC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&om(n[1]);return e&&JSON.parse(e)},Yv=()=>{try{return nU()||oU()||cU()||uU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},t$=n=>{var e,t;return(t=(e=Yv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hU=n=>{const e=t$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},n$=()=>{var n;return(n=Yv())===null||n===void 0?void 0:n.config},i$=n=>{var e;return(e=Yv())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r$(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[am(JSON.stringify(t)),am(JSON.stringify(l)),""].join(".")}const ah={};function dU(){const n={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?n.emulator.push(e):n.prod.push(e);return n}function pU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let RC=!1;function s$(n,e){if(typeof window>"u"||typeof document>"u"||!Cc(window.location.host)||ah[n]===e||ah[n]||RC)return;ah[n]=e;function t(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=dU().prod.length>0;function l(){const g=document.getElementById(i);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{RC=!0,l()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=pU(i),y=t("text"),S=document.getElementById(y)||document.createElement("span"),v=t("learnmore"),x=document.getElementById(v)||document.createElement("a"),k=t("preprendIcon"),C=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;o(T),d(x,v);const X=f();u(C,k),T.append(C,S,x,X),document.body.appendChild(T)}s?(S.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function mU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OU(){const n=zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yU(){return GR.NODE_ADMIN===!0}function bU(){try{return typeof indexedDB=="object"}catch{return!1}}function SU(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="FirebaseError";let Ec=class a$ extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=vU,Object.setPrototypeOf(this,a$.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Of.prototype.create)}},Of=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?wU(s,i):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new Ec(r,o,i)}};function wU(n,e){return n.replace(xU,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const xU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n){return JSON.parse(n)}function hn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=Ah(om(s[0])||""),t=Ah(om(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},kU=function(n){const e=o$(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},_U=function(n){const e=o$(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ic(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Gb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cm(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function va(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],l=e[r];if($C(s)&&$C(l)){if(!va(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function $C(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let m=0;m<16;m++)i[m]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let m=16;m<80;m++){const g=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(g<<1|g>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],l=this.chain_[2],o=this.chain_[3],u=this.chain_[4],f,d;for(let m=0;m<80;m++){m<40?m<20?(f=o^s&(l^o),d=1518500249):(f=s^l^o,d=1859775393):m<60?(f=s&l|o&(s|l),d=2400959708):(f=s^l^o,d=3395469782);const g=(r<<5|r>>>27)+f+u+d+i[m]&4294967295;u=o,o=l,l=(s<<30|s>>>2)&4294967295,s=r,r=g}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let l=this.inbuf_;for(;r<t;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(s),l=0;break}}else for(;r<t;)if(s[l]=e[r],++l,++r,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function CU(n,e){const t=new EU(n,e);return t.subscribe.bind(t)}let EU=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");AU(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=S0),r.error===void 0&&(r.error=S0),r.complete===void 0&&(r.complete=S0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function S0(){}function Wv(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,pe(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;r=65536+(s<<10)+l}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},bg=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n){return n&&n._delegate?n._delegate:n}let wa=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yg;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($U(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RU(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RU(n){return n===sa?void 0:n}function $U(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vt||(vt={}));const IU={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},DU=vt.INFO,NU={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},LU=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=NU[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Hv=class{constructor(e){this.name=e,this._logLevel=DU,this._logHandler=LU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}};const zU=(n,e)=>e.some(t=>n instanceof t);let MC,IC;function BU(){return MC||(MC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UU(){return IC||(IC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c$=new WeakMap,Kb=new WeakMap,u$=new WeakMap,v0=new WeakMap,Gv=new WeakMap;function XU(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(ml(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&c$.set(t,n)}).catch(()=>{}),Gv.set(e,n),e}function ZU(n){if(Kb.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});Kb.set(n,e)}let Jb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||u$.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ml(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jU(n){Jb=n(Jb)}function VU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(w0(this),e,...t);return u$.set(i,e.sort?e.sort():[e]),ml(i)}:UU().includes(n)?function(...e){return n.apply(w0(this),e),ml(c$.get(this))}:function(...e){return ml(n.apply(w0(this),e))}}function qU(n){return typeof n=="function"?VU(n):(n instanceof IDBTransaction&&ZU(n),zU(n,BU())?new Proxy(n,Jb):n)}function ml(n){if(n instanceof IDBRequest)return XU(n);if(v0.has(n))return v0.get(n);const e=qU(n);return e!==n&&(v0.set(n,e),Gv.set(e,n)),e}const w0=n=>Gv.get(n);function h$(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(n,e),o=ml(l);return i&&l.addEventListener("upgradeneeded",u=>{i(ml(l.result),u.oldVersion,u.newVersion,ml(l.transaction),u)}),t&&l.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const YU=["get","getKey","getAll","getAllKeys","count"],FU=["put","add","delete","clear"],x0=new Map;function DC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(x0.get(e))return x0.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=FU.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||YU.includes(t)))return;const s=async function(l,...o){const u=this.transaction(l,r?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(o.shift())),(await Promise.all([f[t](...o),r&&u.done]))[0]};return x0.set(e,s),s}jU(n=>({...n,get:(e,t,i)=>DC(e,t)||n.get(e,t,i),has:(e,t)=>!!DC(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WU=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HU(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function HU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eS="@firebase/app",NC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Hv("@firebase/app"),GU="@firebase/app-compat",KU="@firebase/analytics-compat",JU="@firebase/analytics",eX="@firebase/app-check-compat",tX="@firebase/app-check",nX="@firebase/auth",iX="@firebase/auth-compat",rX="@firebase/database",sX="@firebase/data-connect",lX="@firebase/database-compat",aX="@firebase/functions",oX="@firebase/functions-compat",cX="@firebase/installations",uX="@firebase/installations-compat",hX="@firebase/messaging",fX="@firebase/messaging-compat",dX="@firebase/performance",pX="@firebase/performance-compat",mX="@firebase/remote-config",gX="@firebase/remote-config-compat",OX="@firebase/storage",yX="@firebase/storage-compat",bX="@firebase/firestore",SX="@firebase/ai",vX="@firebase/firestore-compat",wX="firebase",xX="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="[DEFAULT]",kX={[eS]:"fire-core",[GU]:"fire-core-compat",[JU]:"fire-analytics",[KU]:"fire-analytics-compat",[tX]:"fire-app-check",[eX]:"fire-app-check-compat",[nX]:"fire-auth",[iX]:"fire-auth-compat",[rX]:"fire-rtdb",[sX]:"fire-data-connect",[lX]:"fire-rtdb-compat",[aX]:"fire-fn",[oX]:"fire-fn-compat",[cX]:"fire-iid",[uX]:"fire-iid-compat",[hX]:"fire-fcm",[fX]:"fire-fcm-compat",[dX]:"fire-perf",[pX]:"fire-perf-compat",[mX]:"fire-rc",[gX]:"fire-rc-compat",[OX]:"fire-gcs",[yX]:"fire-gcs-compat",[bX]:"fire-fst",[vX]:"fire-fst-compat",[SX]:"fire-vertex","fire-js":"fire-js",[wX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map,_X=new Map,nS=new Map;function LC(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rc(n){const e=n.name;if(nS.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;nS.set(e,n);for(const t of um.values())LC(t,n);for(const t of _X.values())LC(t,n);return!0}function Kv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ki(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gl=new Of("app","Firebase",TX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=xX;function f$(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tS,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw gl.create("bad-app-name",{appName:String(r)});if(t||(t=n$()),!t)throw gl.create("no-options");const s=um.get(r);if(s){if(va(t,s.options)&&va(i,s.config))return s;throw gl.create("duplicate-app",{appName:r})}const l=new MU(r);for(const u of nS.values())l.addComponent(u);const o=new CX(t,i,l);return um.set(r,o),o}function d$(n=tS){const e=um.get(n);if(!e&&n===tS&&n$())return f$();if(!e)throw gl.create("no-app",{appName:n});return e}function Ol(n,e,t){var i;let r=(i=kX[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&o.push("and"),l&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(o.join(" "));return}rc(new wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX="firebase-heartbeat-database",AX=1,Qh="firebase-heartbeat-store";let k0=null;function p$(){return k0||(k0=h$(EX,AX,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qh)}catch(t){console.warn(t)}}}}).catch(n=>{throw gl.create("idb-open",{originalErrorMessage:n.message})})),k0}async function QX(n){try{const t=(await p$()).transaction(Qh),i=await t.objectStore(Qh).get(m$(n));return await t.done,i}catch(e){if(e instanceof Ec)Ss.warn(e.message);else{const t=gl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(t.message)}}}async function zC(n,e){try{const i=(await p$()).transaction(Qh,"readwrite");await i.objectStore(Qh).put(e,m$(n)),await i.done}catch(t){if(t instanceof Ec)Ss.warn(t.message);else{const i=gl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ss.warn(i.message)}}}function m$(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=1024,RX=30;let $X=class{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IX(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>RX){const l=DX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ss.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=BC(),{heartbeatsToSend:i,unsentEntries:r}=MX(this._heartbeatsCache.heartbeats),s=am(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ss.warn(t),""}}};function BC(){return new Date().toISOString().substring(0,10)}function MX(n,e=PX){const t=[];let i=n.slice();for(const r of n){const s=t.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),UC(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),UC(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}let IX=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bU()?SU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QX(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return zC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return zC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function UC(n){return am(JSON.stringify({version:2,heartbeats:n})).length}function DX(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(n){rc(new wa("platform-logger",e=>new WU(e),"PRIVATE")),rc(new wa("heartbeat",e=>new $X(e),"PRIVATE")),Ol(eS,NC,n),Ol(eS,NC,"esm2017"),Ol("fire-js","")}NX("");var LX="firebase",zX="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol(LX,zX,"app");var XC={};const ZC="@firebase/database",jC="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g$="";function BX(n){g$=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),hn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ah(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return As(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new UX(e)}}catch{}return new XX},ha=O$("localStorage"),ZX=O$("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Hv("@firebase/database"),jX=(function(){let n=1;return function(){return n++}})(),y$=function(n){const e=QU(n),t=new TU;t.update(e);const i=t.digest();return qv.encodeByteArray(i)},yf=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=yf.apply(null,i):typeof i=="object"?e+=hn(i):e+=i,e+=" "}return e};let oh=null,VC=!0;const VX=function(n,e){pe(!0,"Can't turn on custom loggers persistently."),zo.logLevel=vt.VERBOSE,oh=zo.log.bind(zo)},Qn=function(...n){if(VC===!0&&(VC=!1,oh===null&&ZX.get("logging_enabled")===!0&&VX()),oh){const e=yf.apply(null,n);oh(e)}},bf=function(n){return function(...e){Qn(n,...e)}},iS=function(...n){const e="FIREBASE INTERNAL ERROR: "+yf(...n);zo.error(e)},vs=function(...n){const e=`FIREBASE FATAL ERROR: ${yf(...n)}`;throw zo.error(e),new Error(e)},ii=function(...n){const e="FIREBASE WARNING: "+yf(...n);zo.warn(e)},qX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},b$=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},YX=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},sc="[MIN_NAME]",xa="[MAX_NAME]",Pc=function(n,e){if(n===e)return 0;if(n===sc||e===xa)return-1;if(e===sc||n===xa)return 1;{const t=qC(n),i=qC(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},FX=function(n,e){return n===e?0:n<e?-1:1},Lu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+hn(e))},Jv=function(n){if(typeof n!="object"||n===null)return hn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=hn(e[i]),t+=":",t+=Jv(n[e[i]]);return t+="}",t},S$=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function ri(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const v$=function(n){pe(!b$(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,s,l,o,u;n===0?(s=0,l=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=o+i,l=Math.round(n*Math.pow(2,t-o)-Math.pow(2,t))):(s=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(u=t;u;u-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(u=e;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const d=f.join("");let m="";for(u=0;u<64;u+=8){let g=parseInt(d.substr(u,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},WX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},HX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GX(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const KX=new RegExp("^-?(0*)\\d{1,10}$"),JX=-2147483648,eZ=2147483647,qC=function(n){if(KX.test(n)){const e=Number(n);if(e>=JX&&e<=eZ)return e}return null},Rc=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ii("Exception was thrown by user callback.",t),e},Math.floor(0))}},tZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ch=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Ki(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(e)}}class Bp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="5",w$="v",x$="s",k$="r",_$="f",T$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,C$="ls",E$="p",rS="ac",A$="websocket",Q$="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,t,i,r,s=!1,l="",o=!1,u=!1,f=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=u,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ha.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ha.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function rZ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function R$(n,e,t){pe(typeof e=="string","typeof type must == string"),pe(typeof t=="object","typeof params must == object");let i;if(e===A$)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Q$)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rZ(n)&&(t.ns=n.namespace);const r=[];return ri(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(){this.counters_={}}incrementCounter(e,t=1){As(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return sU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={},T0={};function t1(n){const e=n.toString();return _0[e]||(_0[e]=new sZ),_0[e]}function lZ(n,e){const t=n.toString();return T0[t]||(T0[t]=e()),T0[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Rc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="start",oZ="close",cZ="pLPCommand",uZ="pRTLPCB",$$="id",M$="pw",I$="ser",hZ="cb",fZ="seg",dZ="ts",pZ="d",mZ="dframe",D$=1870,N$=30,gZ=D$-N$,OZ=25e3,yZ=3e4;class Mo{constructor(e,t,i,r,s,l,o){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bf(e),this.stats_=t1(t),this.urlFn=u=>(this.appCheckToken&&(u[rS]=this.appCheckToken),R$(t,Q$,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new aZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yZ)),YX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new n1((...s)=>{const[l,o,u,f,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===YC)this.id=o,this.password=u;else if(l===oZ)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[YC]="t",i[I$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[hZ]=this.scriptTagHolder.uniqueCallbackIdentifier),i[w$]=e1,this.transportSessionId&&(i[x$]=this.transportSessionId),this.lastSessionId&&(i[C$]=this.lastSessionId),this.applicationId&&(i[E$]=this.applicationId),this.appCheckToken&&(i[rS]=this.appCheckToken),typeof location<"u"&&location.hostname&&T$.test(location.hostname)&&(i[k$]=_$);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mo.forceAllow_=!0}static forceDisallow(){Mo.forceDisallow_=!0}static isAvailable(){return Mo.forceAllow_?!0:!Mo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WX()&&!HX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=hn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=JR(t),r=S$(i,gZ);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[mZ]="t",i[$$]=e,i[M$]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=hn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class n1{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jX(),window[cZ+this.uniqueCallbackIdentifier]=e,window[uZ+this.uniqueCallbackIdentifier]=t,this.myIFrame=n1.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(o){Qn("frame writing exception"),o.stack&&Qn(o.stack),Qn(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[$$]=this.myID,e[M$]=this.myPW,e[I$]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+N$+i.length<=D$;){const l=this.pendingSegs.shift();i=i+"&"+fZ+r+"="+l.seg+"&"+dZ+r+"="+l.ts+"&"+pZ+r+"="+l.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(OZ)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Qn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=16384,SZ=45e3;let hm=null;typeof MozWebSocket<"u"?hm=MozWebSocket:typeof WebSocket<"u"&&(hm=WebSocket);class Ji{constructor(e,t,i,r,s,l,o){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bf(this.connId),this.stats_=t1(t),this.connURL=Ji.connectionURL_(t,l,o,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,s){const l={};return l[w$]=e1,typeof location<"u"&&location.hostname&&T$.test(location.hostname)&&(l[k$]=_$),t&&(l[x$]=t),i&&(l[C$]=i),r&&(l[rS]=r),s&&(l[E$]=s),R$(e,A$,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ha.set("previous_websocket_failure",!0);try{let i;yU(),this.mySock=new hm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&hm!==null&&!Ji.forceDisallow_}static previouslyFailed(){return ha.isInMemoryStorage||ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){ha.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Ah(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(pe(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=hn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=S$(t,bZ);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SZ))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ji.responsesRequiredToBeHealthy=2;Ji.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static get ALL_TRANSPORTS(){return[Mo,Ji]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Ji&&Ji.isAvailable();let i=t&&!Ji.previouslyFailed();if(e.webSocketOnly&&(t||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ji];else{const r=this.transports_=[];for(const s of Ph.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Ph.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ph.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=6e4,wZ=5e3,xZ=10*1024,kZ=100*1024,C0="t",FC="d",_Z="s",WC="r",TZ="e",HC="o",GC="a",KC="n",JC="p",CZ="h";class EZ{constructor(e,t,i,r,s,l,o,u,f,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=o,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bf("c:"+this.id+":"),this.transportManager_=new Ph(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ch(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(C0 in e){const t=e[C0];t===GC?this.upgradeIfSecondaryHealthy_():t===WC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===HC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Lu("t",e),i=Lu("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:JC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:GC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:KC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Lu("t",e),i=Lu("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Lu(C0,e);if(FC in e){const i=e[FC];if(t===CZ){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===KC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===_Z?this.onConnectionShutdown_(i):t===WC?this.onReset_(i):t===TZ?iS("Server Error: "+i):t===HC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),e1!==i&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),ch(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ch(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:JC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.allowedEvents_=e,this.listeners_={},pe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){pe(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends z${static getInstance(){return new fm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return pe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=32,tE=768;class Ct{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ut(){return new Ct("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function vl(n){return n.pieces_.length-n.pieceNum_}function Pt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ct(n.pieces_,e)}function B$(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function AZ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function U$(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function X$(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ct(e,0)}function rn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ct)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ct(t,0)}function We(n){return n.pieceNum_>=n.pieces_.length}function Jn(n,e){const t=je(n),i=je(e);if(t===null)return e;if(t===i)return Jn(Pt(n),Pt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function i1(n,e){if(vl(n)!==vl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function tr(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(vl(n)>vl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class QZ{constructor(e,t){this.errorPrefix_=t,this.parts_=U$(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=bg(this.parts_[i]);Z$(this)}}function PZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=bg(e),Z$(n)}function RZ(n){const e=n.parts_.pop();n.byteLength_-=bg(e),n.parts_.length>0&&(n.byteLength_-=1)}function Z$(n){if(n.byteLength_>tE)throw new Error(n.errorPrefix_+"has a key path longer than "+tE+" bytes ("+n.byteLength_+").");if(n.parts_.length>eE)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eE+") or object contains a cycle "+la(n))}function la(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends z${static getInstance(){return new r1}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return pe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=1e3,$Z=300*1e3,nE=30*1e3,MZ=1.3,IZ=3e4,DZ="server_kill",iE=3;class Os extends L${constructor(e,t,i,r,s,l,o,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.authOverride_=u,this.id=Os.nextPersistentConnectionId_++,this.log_=bf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zu,this.maxReconnectDelay_=$Z,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");r1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,s={r,a:e,b:t};this.log_(hn(s)),pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new yg,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const o=l.d;l.s==="ok"?t.resolve(o):t.reject(o)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,i,r){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pe(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(l).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},l="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,o=>{const u=o.d,f=o.s;Os.warnOnListenWarnings_(u,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",o),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,u))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&As(e,"w")){const i=ic(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_U(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=kU(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const s=r.s,l=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e},l="n";r&&(s.q=i,s.t=r),this.sendRequest(l,s)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const s={p:t,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,s){this.initConnection_();const l={p:t,d:i};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+hn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):iS("Unrecognized action received from server: "+hn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>IZ&&(this.reconnectDelay_=zu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MZ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Os.nextConnectionId_++,s=this.lastSessionId;let l=!1,o=null;const u=function(){o?o.close():(l=!0,i())},f=function(m){pe(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(m)};this.realtime_={close:u,sendRequest:f};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);l?Qn("getToken() completed but was canceled"):(Qn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,o=new EZ(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,y=>{ii(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(DZ)},s))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&ii(m),u())}}}interrupt(e){Qn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gb(this.interruptReasons_)&&(this.reconnectDelay_=zu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(s=>Jv(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new Ct(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(t),s.delete(t),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){Qn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iE&&(this.reconnectDelay_=nE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Qn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+g$.replace(/\./g,"-")]=1,Fv()?e["framework.cordova"]=1:l$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fm.getInstance().currentlyOnline();return Gb(this.interruptReasons_)&&e}}Os.nextPersistentConnectionId_=0;Os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new qe(sc,e),r=new qe(sc,t);return this.compare(i,r)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp;class j$ extends Sg{static get __EMPTY_NODE(){return sp}static set __EMPTY_NODE(e){sp=e}compare(e,t){return Pc(e.name,t.name)}isDefinedOn(e){throw Tc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(xa,sp)}makePost(e,t){return pe(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,sp)}toString(){return".key"}}const Bo=new j$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class un{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??un.RED,this.left=r??ei.EMPTY_NODE,this.right=s??ei.EMPTY_NODE}copy(e,t,i,r,s){return new un(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ei.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return ei.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}un.RED=!0;un.BLACK=!1;class NZ{copy(e,t,i,r,s){return this}insert(e,t,i){return new un(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ei{constructor(e,t=ei.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ei(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,un.BLACK,null,null))}remove(e){return new ei(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,un.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lp(this.root_,null,this.comparator_,!0,e)}}ei.EMPTY_NODE=new NZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(n,e){return Pc(n.name,e.name)}function s1(n,e){return Pc(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sS;function zZ(n){sS=n}const V$=function(n){return typeof n=="number"?"number:"+v$(n):"string:"+n},q$=function(n){if(n.isLeafNode()){const e=n.val();pe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&As(e,".sv"),"Priority must be a string or number.")}else pe(n===sS||n.isEmpty(),"priority of unexpected type.");pe(n===sS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rE;class cn{static set __childrenNodeConstructor(e){rE=e}static get __childrenNodeConstructor(){return rE}constructor(e,t=cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,pe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),q$(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return We(e)?this:je(e)===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=je(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(pe(i!==".priority"||vl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+V$(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=v$(this.value_):e+=this.value_,this.lazyHash_=y$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cn.__childrenNodeConstructor?-1:(pe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=cn.VALUE_TYPE_ORDER.indexOf(t),s=cn.VALUE_TYPE_ORDER.indexOf(i);return pe(r>=0,"Unknown leaf type: "+t),pe(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y$,F$;function BZ(n){Y$=n}function UZ(n){F$=n}class XZ extends Sg{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?Pc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(xa,new cn("[PRIORITY-POST]",F$))}makePost(e,t){const i=Y$(e);return new qe(t,new cn("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ut=new XZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=Math.log(2);class jZ{constructor(e){const t=s=>parseInt(Math.log(s)/ZZ,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dm=function(n,e,t,i){n.sort(e);const r=function(u,f){const d=f-u;let m,g;if(d===0)return null;if(d===1)return m=n[u],g=t?t(m):m,new un(g,m.node,un.BLACK,null,null);{const y=parseInt(d/2,10)+u,S=r(u,y),v=r(y+1,f);return m=n[y],g=t?t(m):m,new un(g,m.node,un.BLACK,S,v)}},s=function(u){let f=null,d=null,m=n.length;const g=function(S,v){const x=m-S,k=m;m-=S;const C=r(x+1,k),T=n[x],X=t?t(T):T;y(new un(X,T.node,v,null,C))},y=function(S){f?(f.left=S,f=S):(d=S,f=S)};for(let S=0;S<u.count;++S){const v=u.nextBitIsOne(),x=Math.pow(2,u.count-(S+1));v?g(x,un.BLACK):(g(x,un.BLACK),g(x,un.RED))}return d},l=new jZ(n.length),o=s(l);return new ei(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E0;const xo={};class hs{static get Default(){return pe(xo&&Ut,"ChildrenNode.ts has not been loaded"),E0=E0||new hs({".priority":xo},{".priority":Ut}),E0}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ic(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ei?t:null}hasIndex(e){return As(this.indexSet_,e.toString())}addIndex(e,t){pe(e!==Bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(qe.Wrap);let l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();let o;r?o=dm(i,e.getCompare()):o=xo;const u=e.toString(),f=Object.assign({},this.indexSet_);f[u]=e;const d=Object.assign({},this.indexes_);return d[u]=o,new hs(d,f)}addToIndexes(e,t){const i=cm(this.indexes_,(r,s)=>{const l=ic(this.indexSet_,s);if(pe(l,"Missing index implementation for "+s),r===xo)if(l.isDefinedOn(e.node)){const o=[],u=t.getIterator(qe.Wrap);let f=u.getNext();for(;f;)f.name!==e.name&&o.push(f),f=u.getNext();return o.push(e),dm(o,l.getCompare())}else return xo;else{const o=t.get(e.name);let u=r;return o&&(u=u.remove(new qe(e.name,o))),u.insert(e,e.node)}});return new hs(i,this.indexSet_)}removeFromIndexes(e,t){const i=cm(this.indexes_,r=>{if(r===xo)return r;{const s=t.get(e.name);return s?r.remove(new qe(e.name,s)):r}});return new hs(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;class $e{static get EMPTY_NODE(){return Bu||(Bu=new $e(new ei(s1),null,hs.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&q$(this.priorityNode_),this.children_.isEmpty()&&pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bu}updatePriority(e){return this.children_.isEmpty()?this:new $e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Bu:t}}getChild(e){const t=je(e);return t===null?this:this.getImmediateChild(t).getChild(Pt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(pe(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new qe(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?Bu:this.priorityNode_;return new $e(r,l,s)}}updateChild(e,t){const i=je(e);if(i===null)return t;{pe(je(e)!==".priority"||vl(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Pt(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,s=!0;if(this.forEachChild(Ut,(l,o)=>{t[l]=o.val(e),i++,s&&$e.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):s=!1}),!e&&s&&r<2*i){const l=[];for(const o in t)l[o]=t[o];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+V$(this.getPriority().val())+":"),this.forEachChild(Ut,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":y$(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new qe(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,qe.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sf?-1:0}withIndex(e){if(e===Bo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new $e(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Bo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Ut),r=t.getIterator(Ut);let s=i.getNext(),l=r.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=i.getNext(),l=r.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Bo?null:this.indexMap_.get(e.toString())}}$e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class VZ extends $e{constructor(){super(new ei(s1),$e.EMPTY_NODE,hs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $e.EMPTY_NODE}isEmpty(){return!1}}const Sf=new VZ;Object.defineProperties(qe,{MIN:{value:new qe(sc,$e.EMPTY_NODE)},MAX:{value:new qe(xa,Sf)}});j$.__EMPTY_NODE=$e.EMPTY_NODE;cn.__childrenNodeConstructor=$e;zZ(Sf);UZ(Sf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ=!0;function wn(n,e=null){if(n===null)return $e.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),pe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new cn(t,wn(e))}if(!(n instanceof Array)&&qZ){const t=[];let i=!1;if(ri(n,(l,o)=>{if(l.substring(0,1)!=="."){const u=wn(o);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),t.push(new qe(l,u)))}}),t.length===0)return $e.EMPTY_NODE;const s=dm(t,LZ,l=>l.name,s1);if(i){const l=dm(t,Ut.getCompare());return new $e(s,wn(e),new hs({".priority":l},{".priority":Ut}))}else return new $e(s,wn(e),hs.Default)}else{let t=$e.EMPTY_NODE;return ri(n,(i,r)=>{if(As(n,i)&&i.substring(0,1)!=="."){const s=wn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(wn(e))}}BZ(wn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ extends Sg{constructor(e){super(),this.indexPath_=e,pe(!We(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?Pc(e.name,t.name):s}makePost(e,t){const i=wn(e),r=$e.EMPTY_NODE.updateChild(this.indexPath_,i);return new qe(t,r)}maxPost(){const e=$e.EMPTY_NODE.updateChild(this.indexPath_,Sf);return new qe(xa,e)}toString(){return U$(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ extends Sg{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Pc(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const i=wn(e);return new qe(t,i)}toString(){return".value"}}const WZ=new FZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(n){return{type:"value",snapshotNode:n}}function lc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Rh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function $h(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function HZ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){pe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(i.getChild(r))&&o.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(Rh(t,o)):pe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?l.trackChildChange(lc(t,i)):l.trackChildChange($h(t,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ut,(r,s)=>{t.hasChild(r)||i.trackChildChange(Rh(r,s))}),t.isLeafNode()||t.forEachChild(Ut,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange($h(r,s,l))}else i.trackChildChange(lc(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?$e.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.indexedFilter_=new l1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Mh.getStartPost_(e),this.endPost_=Mh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new qe(t,i))||(i=$e.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=$e.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority($e.EMPTY_NODE);const s=this;return t.forEachChild(Ut,(l,o)=>{s.matches(new qe(l,o))||(r=r.updateImmediateChild(l,$e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Mh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new qe(t,i))||(i=$e.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=$e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=$e.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),l++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority($e.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let l=0;for(;s.hasNext();){const o=s.getNext();l<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?l++:r=r.updateImmediateChild(o.name,$e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const m=this.index_.getCompare();l=(g,y)=>m(y,g)}else l=this.index_.getCompare();const o=e;pe(o.numChildren()===this.limit_,"");const u=new qe(t,i),f=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(o.hasChild(t)){const m=o.getImmediateChild(t);let g=r.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===t||o.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:l(g,u);if(d&&!i.isEmpty()&&y>=0)return s!=null&&s.trackChildChange($h(t,i,m)),o.updateImmediateChild(t,i);{s!=null&&s.trackChildChange(Rh(t,m));const v=o.updateImmediateChild(t,$e.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(lc(g.name,g.node)),v.updateImmediateChild(g.name,g.node)):v}}else return i.isEmpty()?e:d&&l(f,u)>=0?(s!=null&&(s.trackChildChange(Rh(f.name,f.node)),s.trackChildChange(lc(t,i))),o.updateImmediateChild(t,i).updateImmediateChild(f.name,$e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sc}hasEnd(){return this.endSet_}getIndexEndValue(){return pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const e=new a1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KZ(n){return n.loadsAllData()?new l1(n.getIndex()):n.hasLimit()?new GZ(n):new Mh(n)}function sE(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ut?t="$priority":n.index_===WZ?t="$value":n.index_===Bo?t="$key":(pe(n.index_ instanceof YZ,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=hn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=hn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+hn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=hn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+hn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function lE(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ut&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends L${reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(pe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=bf("p:rest:"),this.listens_={}}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=pm.getListenId_(e,i),o={};this.listens_[l]=o;const u=sE(e._queryParams);this.restRequest_(s+".json",u,(f,d)=>{let m=d;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,i),ic(this.listens_,l)===o){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",r(g,null)}})}unlisten(e,t){const i=pm.getListenId_(e,t);delete this.listens_[i]}get(e){const t=sE(e._queryParams),i=e._path.toString(),r=new yg;return this.restRequest_(i+".json",t,(s,l)=>{let o=l;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ac(t);this.log_("Sending REST request for "+l);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+l+" received. status:",o.status,"response:",o.responseText);let u=null;if(o.status>=200&&o.status<300){try{u=Ah(o.responseText)}catch{ii("Failed to parse JSON response for "+l+": "+o.responseText)}i(null,u)}else o.status!==401&&o.status!==404&&ii("Got unsuccessful REST response for "+l+" Status: "+o.status),i(o.status);i=null}},o.open("GET",l,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(){this.rootNode_=$e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){return{value:null,children:new Map}}function H$(n,e,t){if(We(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=je(e);n.children.has(i)||n.children.set(i,mm());const r=n.children.get(i);e=Pt(e),H$(r,e,t)}}function lS(n,e,t){n.value!==null?t(e,n.value):ej(n,(i,r)=>{const s=new Ct(e.toString()+"/"+i);lS(r,s,t)})}function ej(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ri(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=10*1e3,nj=30*1e3,ij=300*1e3;class rj{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tj(e);const i=aE+(nj-aE)*Math.random();ch(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ri(e,(r,s)=>{s>0&&As(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),ch(this.reportStats_.bind(this),Math.floor(Math.random()*2*ij))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nr||(nr={}));function G$(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function o1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function c1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=nr.ACK_USER_WRITE,this.source=G$()}operationForChild(e){if(We(this.path)){if(this.affectedTree.value!=null)return pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ct(e));return new gm(ut(),t,this.revert)}}else return pe(je(this.path)===e,"operationForChild called for unrelated child."),new gm(Pt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.source=e,this.path=t,this.type=nr.LISTEN_COMPLETE}operationForChild(e){return We(this.path)?new Ih(this.source,ut()):new Ih(this.source,Pt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=nr.OVERWRITE}operationForChild(e){return We(this.path)?new ka(this.source,ut(),this.snap.getImmediateChild(e)):new ka(this.source,Pt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=nr.MERGE}operationForChild(e){if(We(this.path)){const t=this.children.subtree(new Ct(e));return t.isEmpty()?null:t.value?new ka(this.source,ut(),t.value):new Dh(this.source,ut(),t)}else return pe(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dh(this.source,Pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lj(n,e,t,i){const r=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(HZ(l.childName,l.snapshotNode))}),Uu(n,r,"child_removed",e,i,t),Uu(n,r,"child_added",e,i,t),Uu(n,r,"child_moved",s,i,t),Uu(n,r,"child_changed",e,i,t),Uu(n,r,"value",e,i,t),r}function Uu(n,e,t,i,r,s){const l=i.filter(o=>o.type===t);l.sort((o,u)=>oj(n,o,u)),l.forEach(o=>{const u=aj(n,o,s);r.forEach(f=>{f.respondsTo(o.type)&&e.push(f.createEvent(u,n.query_))})})}function aj(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function oj(n,e,t){if(e.childName==null||t.childName==null)throw Tc("Should only compare child_ events.");const i=new qe(e.childName,e.snapshotNode),r=new qe(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n,e){return{eventCache:n,serverCache:e}}function uh(n,e,t,i){return vg(new _a(e,t,i),n.serverCache)}function K$(n,e,t,i){return vg(n.eventCache,new _a(e,t,i))}function aS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ta(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A0;const cj=()=>(A0||(A0=new ei(FX)),A0);class Mt{static fromObject(e){let t=new Mt(null);return ri(e,(i,r)=>{t=t.set(new Ct(i),r)}),t}constructor(e,t=cj()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ut(),value:this.value};if(We(e))return null;{const i=je(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Pt(e),t);return s!=null?{path:rn(new Ct(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const t=je(e),i=this.children.get(t);return i!==null?i.subtree(Pt(e)):new Mt(null)}}set(e,t){if(We(e))return new Mt(t,this.children);{const i=je(e),s=(this.children.get(i)||new Mt(null)).set(Pt(e),t),l=this.children.insert(i,s);return new Mt(this.value,l)}}remove(e){if(We(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const t=je(e),i=this.children.get(t);if(i){const r=i.remove(Pt(e));let s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new Mt(null):new Mt(this.value,s)}else return this}}get(e){if(We(e))return this.value;{const t=je(e),i=this.children.get(t);return i?i.get(Pt(e)):null}}setTree(e,t){if(We(e))return t;{const i=je(e),s=(this.children.get(i)||new Mt(null)).setTree(Pt(e),t);let l;return s.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,s),new Mt(this.value,l)}}fold(e){return this.fold_(ut(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(rn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ut(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(We(e))return null;{const s=je(e),l=this.children.get(s);return l?l.findOnPath_(Pt(e),rn(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ut(),t)}foreachOnPath_(e,t,i){if(We(e))return this;{this.value&&i(t,this.value);const r=je(e),s=this.children.get(r);return s?s.foreachOnPath_(Pt(e),rn(t,r),i):new Mt(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(rn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.writeTree_=e}static empty(){return new sr(new Mt(null))}}function hh(n,e,t){if(We(e))return new sr(new Mt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const l=Jn(r,e);return s=s.updateChild(l,t),new sr(n.writeTree_.set(r,s))}else{const r=new Mt(t),s=n.writeTree_.setTree(e,r);return new sr(s)}}}function oE(n,e,t){let i=n;return ri(t,(r,s)=>{i=hh(i,rn(e,r),s)}),i}function cE(n,e){if(We(e))return sr.empty();{const t=n.writeTree_.setTree(e,new Mt(null));return new sr(t)}}function oS(n,e){return Ia(n,e)!=null}function Ia(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Jn(t.path,e)):null}function uE(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ut,(i,r)=>{e.push(new qe(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new qe(i,r.value))}),e}function yl(n,e){if(We(e))return n;{const t=Ia(n,e);return t!=null?new sr(new Mt(t)):new sr(n.writeTree_.subtree(e))}}function cS(n){return n.writeTree_.isEmpty()}function ac(n,e){return J$(ut(),n.writeTree_,e)}function J$(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(pe(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=J$(rn(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(rn(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n,e){return i2(e,n)}function uj(n,e,t,i,r){pe(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=hh(n.visibleWrites,e,t)),n.lastWriteId=i}function hj(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function fj(n,e){const t=n.allWrites.findIndex(o=>o.writeId===e);pe(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const o=n.allWrites[l];o.visible&&(l>=t&&dj(o,i.path)?r=!1:tr(i.path,o.path)&&(s=!0)),l--}if(r){if(s)return pj(n),!0;if(i.snap)n.visibleWrites=cE(n.visibleWrites,i.path);else{const o=i.children;ri(o,u=>{n.visibleWrites=cE(n.visibleWrites,rn(i.path,u))})}return!0}else return!1}function dj(n,e){if(n.snap)return tr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&tr(rn(n.path,t),e))return!0;return!1}function pj(n){n.visibleWrites=e2(n.allWrites,mj,ut()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function mj(n){return n.visible}function e2(n,e,t){let i=sr.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let o;if(s.snap)tr(t,l)?(o=Jn(t,l),i=hh(i,o,s.snap)):tr(l,t)&&(o=Jn(l,t),i=hh(i,ut(),s.snap.getChild(o)));else if(s.children){if(tr(t,l))o=Jn(t,l),i=oE(i,o,s.children);else if(tr(l,t))if(o=Jn(l,t),We(o))i=oE(i,ut(),s.children);else{const u=ic(s.children,je(o));if(u){const f=u.getChild(Pt(o));i=hh(i,ut(),f)}}}else throw Tc("WriteRecord should have .snap or .children")}}return i}function t2(n,e,t,i,r){if(!i&&!r){const s=Ia(n.visibleWrites,e);if(s!=null)return s;{const l=yl(n.visibleWrites,e);if(cS(l))return t;if(t==null&&!oS(l,ut()))return null;{const o=t||$e.EMPTY_NODE;return ac(l,o)}}}else{const s=yl(n.visibleWrites,e);if(!r&&cS(s))return t;if(!r&&t==null&&!oS(s,ut()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(tr(f.path,e)||tr(e,f.path))},o=e2(n.allWrites,l,e),u=t||$e.EMPTY_NODE;return ac(o,u)}}}function gj(n,e,t){let i=$e.EMPTY_NODE;const r=Ia(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ut,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=yl(n.visibleWrites,e);return t.forEachChild(Ut,(l,o)=>{const u=ac(yl(s,new Ct(l)),o);i=i.updateImmediateChild(l,u)}),uE(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const s=yl(n.visibleWrites,e);return uE(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function Oj(n,e,t,i,r){pe(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=rn(e,t);if(oS(n.visibleWrites,s))return null;{const l=yl(n.visibleWrites,s);return cS(l)?r.getChild(t):ac(l,r.getChild(t))}}function yj(n,e,t,i){const r=rn(e,t),s=Ia(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){const l=yl(n.visibleWrites,r);return ac(l,i.getNode().getImmediateChild(t))}else return null}function bj(n,e){return Ia(n.visibleWrites,e)}function Sj(n,e,t,i,r,s,l){let o;const u=yl(n.visibleWrites,e),f=Ia(u,ut());if(f!=null)o=f;else if(t!=null)o=ac(u,t);else return[];if(o=o.withIndex(l),!o.isEmpty()&&!o.isLeafNode()){const d=[],m=l.getCompare(),g=s?o.getReverseIteratorFrom(i,l):o.getIteratorFrom(i,l);let y=g.getNext();for(;y&&d.length<r;)m(y,i)!==0&&d.push(y),y=g.getNext();return d}else return[]}function vj(){return{visibleWrites:sr.empty(),allWrites:[],lastWriteId:-1}}function Om(n,e,t,i){return t2(n.writeTree,n.treePath,e,t,i)}function h1(n,e){return gj(n.writeTree,n.treePath,e)}function hE(n,e,t,i){return Oj(n.writeTree,n.treePath,e,t,i)}function ym(n,e){return bj(n.writeTree,rn(n.treePath,e))}function wj(n,e,t,i,r,s){return Sj(n.writeTree,n.treePath,e,t,i,r,s)}function f1(n,e,t){return yj(n.writeTree,n.treePath,e,t)}function n2(n,e){return i2(rn(n.treePath,e),n.writeTree)}function i2(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;pe(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),pe(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,$h(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,Rh(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,lc(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,$h(i,e.snapshotNode,r.oldSnap));else throw Tc("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const r2=new kj;class d1{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new _a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f1(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ta(this.viewCache_),s=wj(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(n){return{filter:n}}function Tj(n,e){pe(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),pe(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Cj(n,e,t,i,r){const s=new xj;let l,o;if(t.type===nr.OVERWRITE){const f=t;f.source.fromUser?l=uS(n,e,f.path,f.snap,i,r,s):(pe(f.source.fromServer,"Unknown source."),o=f.source.tagged||e.serverCache.isFiltered()&&!We(f.path),l=bm(n,e,f.path,f.snap,i,r,o,s))}else if(t.type===nr.MERGE){const f=t;f.source.fromUser?l=Aj(n,e,f.path,f.children,i,r,s):(pe(f.source.fromServer,"Unknown source."),o=f.source.tagged||e.serverCache.isFiltered(),l=hS(n,e,f.path,f.children,i,r,o,s))}else if(t.type===nr.ACK_USER_WRITE){const f=t;f.revert?l=Rj(n,e,f.path,i,r,s):l=Qj(n,e,f.path,f.affectedTree,i,r,s)}else if(t.type===nr.LISTEN_COMPLETE)l=Pj(n,e,t.path,i,s);else throw Tc("Unknown operation type: "+t.type);const u=s.getChanges();return Ej(e,l,u),{viewCache:l,changes:u}}function Ej(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=aS(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(W$(aS(e)))}}function s2(n,e,t,i,r,s){const l=e.eventCache;if(ym(i,t)!=null)return e;{let o,u;if(We(t))if(pe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ta(e),d=f instanceof $e?f:$e.EMPTY_NODE,m=h1(i,d);o=n.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=Om(i,Ta(e));o=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=je(t);if(f===".priority"){pe(vl(t)===1,"Can't have a priority with additional path components");const d=l.getNode();u=e.serverCache.getNode();const m=hE(i,t,d,u);m!=null?o=n.filter.updatePriority(d,m):o=l.getNode()}else{const d=Pt(t);let m;if(l.isCompleteForChild(f)){u=e.serverCache.getNode();const g=hE(i,t,l.getNode(),u);g!=null?m=l.getNode().getImmediateChild(f).updateChild(d,g):m=l.getNode().getImmediateChild(f)}else m=f1(i,f,e.serverCache);m!=null?o=n.filter.updateChild(l.getNode(),f,m,d,r,s):o=l.getNode()}}return uh(e,o,l.isFullyInitialized()||We(t),n.filter.filtersNodes())}}function bm(n,e,t,i,r,s,l,o){const u=e.serverCache;let f;const d=l?n.filter:n.filter.getIndexedFilter();if(We(t))f=d.updateFullNode(u.getNode(),i,null);else if(d.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(t,i);f=d.updateFullNode(u.getNode(),y,null)}else{const y=je(t);if(!u.isCompleteForPath(t)&&vl(t)>1)return e;const S=Pt(t),x=u.getNode().getImmediateChild(y).updateChild(S,i);y===".priority"?f=d.updatePriority(u.getNode(),x):f=d.updateChild(u.getNode(),y,x,S,r2,null)}const m=K$(e,f,u.isFullyInitialized()||We(t),d.filtersNodes()),g=new d1(r,m,s);return s2(n,m,t,r,g,o)}function uS(n,e,t,i,r,s,l){const o=e.eventCache;let u,f;const d=new d1(r,e,s);if(We(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),u=uh(e,f,!0,n.filter.filtersNodes());else{const m=je(t);if(m===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),u=uh(e,f,o.isFullyInitialized(),o.isFiltered());else{const g=Pt(t),y=o.getNode().getImmediateChild(m);let S;if(We(g))S=i;else{const v=d.getCompleteChild(m);v!=null?B$(g)===".priority"&&v.getChild(X$(g)).isEmpty()?S=v:S=v.updateChild(g,i):S=$e.EMPTY_NODE}if(y.equals(S))u=e;else{const v=n.filter.updateChild(o.getNode(),m,S,g,d,l);u=uh(e,v,o.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function fE(n,e){return n.eventCache.isCompleteForChild(e)}function Aj(n,e,t,i,r,s,l){let o=e;return i.foreach((u,f)=>{const d=rn(t,u);fE(e,je(d))&&(o=uS(n,o,d,f,r,s,l))}),i.foreach((u,f)=>{const d=rn(t,u);fE(e,je(d))||(o=uS(n,o,d,f,r,s,l))}),o}function dE(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function hS(n,e,t,i,r,s,l,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,f;We(t)?f=i:f=new Mt(null).setTree(t,i);const d=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(d.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),S=dE(n,y,g);u=bm(n,u,new Ct(m),S,r,s,l,o)}}),f.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!d.hasChild(m)&&!y){const S=e.serverCache.getNode().getImmediateChild(m),v=dE(n,S,g);u=bm(n,u,new Ct(m),v,r,s,l,o)}}),u}function Qj(n,e,t,i,r,s,l){if(ym(r,t)!=null)return e;const o=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(We(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return bm(n,e,t,u.getNode().getChild(t),r,s,o,l);if(We(t)){let f=new Mt(null);return u.getNode().forEachChild(Bo,(d,m)=>{f=f.set(new Ct(d),m)}),hS(n,e,t,f,r,s,o,l)}else return e}else{let f=new Mt(null);return i.foreach((d,m)=>{const g=rn(t,d);u.isCompleteForPath(g)&&(f=f.set(d,u.getNode().getChild(g)))}),hS(n,e,t,f,r,s,o,l)}}function Pj(n,e,t,i,r){const s=e.serverCache,l=K$(e,s.getNode(),s.isFullyInitialized()||We(t),s.isFiltered());return s2(n,l,t,i,r2,r)}function Rj(n,e,t,i,r,s){let l;if(ym(i,t)!=null)return e;{const o=new d1(i,e,r),u=e.eventCache.getNode();let f;if(We(t)||je(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Om(i,Ta(e));else{const m=e.serverCache.getNode();pe(m instanceof $e,"serverChildren would be complete if leaf node"),d=h1(i,m)}d=d,f=n.filter.updateFullNode(u,d,s)}else{const d=je(t);let m=f1(i,d,e.serverCache);m==null&&e.serverCache.isCompleteForChild(d)&&(m=u.getImmediateChild(d)),m!=null?f=n.filter.updateChild(u,d,m,Pt(t),o,s):e.eventCache.getNode().hasChild(d)?f=n.filter.updateChild(u,d,$e.EMPTY_NODE,Pt(t),o,s):f=u,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Om(i,Ta(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,s)))}return l=e.serverCache.isFullyInitialized()||ym(i,ut())!=null,uh(e,f,l,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new l1(i.getIndex()),s=KZ(i);this.processor_=_j(s);const l=t.serverCache,o=t.eventCache,u=r.updateFullNode($e.EMPTY_NODE,l.getNode(),null),f=s.updateFullNode($e.EMPTY_NODE,o.getNode(),null),d=new _a(u,l.isFullyInitialized(),r.filtersNodes()),m=new _a(f,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=vg(m,d),this.eventGenerator_=new sj(this.query_)}get query(){return this.query_}}function Mj(n){return n.viewCache_.serverCache.getNode()}function Ij(n,e){const t=Ta(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!We(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function pE(n){return n.eventRegistrations_.length===0}function Dj(n,e){n.eventRegistrations_.push(e)}function mE(n,e,t){const i=[];if(t){pe(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function gE(n,e,t,i){e.type===nr.MERGE&&e.source.queryId!==null&&(pe(Ta(n.viewCache_),"We should always have a full cache before handling merges"),pe(aS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=Cj(n.processor_,r,e,t,i);return Tj(n.processor_,s.viewCache),pe(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,l2(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Nj(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ut,(s,l)=>{i.push(lc(s,l))}),t.isFullyInitialized()&&i.push(W$(t.getNode())),l2(n,i,t.getNode(),e)}function l2(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return lj(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm;class Lj{constructor(){this.views=new Map}}function zj(n){pe(!Sm,"__referenceConstructor has already been defined"),Sm=n}function Bj(){return pe(Sm,"Reference.ts has not been loaded"),Sm}function Uj(n){return n.views.size===0}function p1(n,e,t,i){const r=e.source.queryId;if(r!==null){const s=n.views.get(r);return pe(s!=null,"SyncTree gave us an op for an invalid query."),gE(s,e,t,i)}else{let s=[];for(const l of n.views.values())s=s.concat(gE(l,e,t,i));return s}}function Xj(n,e,t,i,r){const s=e._queryIdentifier,l=n.views.get(s);if(!l){let o=Om(t,r?i:null),u=!1;o?u=!0:i instanceof $e?(o=h1(t,i),u=!1):(o=$e.EMPTY_NODE,u=!1);const f=vg(new _a(o,u,!1),new _a(i,r,!1));return new $j(e,f)}return l}function Zj(n,e,t,i,r,s){const l=Xj(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),Dj(l,t),Nj(l,t)}function jj(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const o=wl(n);if(r==="default")for(const[u,f]of n.views.entries())l=l.concat(mE(f,t,i)),pE(f)&&(n.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=n.views.get(r);u&&(l=l.concat(mE(u,t,i)),pE(u)&&(n.views.delete(r),u.query._queryParams.loadsAllData()||s.push(u.query)))}return o&&!wl(n)&&s.push(new(Bj())(e._repo,e._path)),{removed:s,events:l}}function a2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Uo(n,e){let t=null;for(const i of n.views.values())t=t||Ij(i,e);return t}function o2(n,e){if(e._queryParams.loadsAllData())return wg(n);{const i=e._queryIdentifier;return n.views.get(i)}}function c2(n,e){return o2(n,e)!=null}function wl(n){return wg(n)!=null}function wg(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm;function Vj(n){pe(!vm,"__referenceConstructor has already been defined"),vm=n}function qj(){return pe(vm,"Reference.ts has not been loaded"),vm}let Yj=1;class OE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=vj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function u2(n,e,t,i,r){return uj(n.pendingWriteTree_,e,t,i,r),r?vf(n,new ka(G$(),e,t)):[]}function fa(n,e,t=!1){const i=hj(n.pendingWriteTree_,e);if(fj(n.pendingWriteTree_,e)){let s=new Mt(null);return i.snap!=null?s=s.set(ut(),!0):ri(i.children,l=>{s=s.set(new Ct(l),!0)}),vf(n,new gm(i.path,s,t))}else return[]}function xg(n,e,t){return vf(n,new ka(o1(),e,t))}function Fj(n,e,t){const i=Mt.fromObject(t);return vf(n,new Dh(o1(),e,i))}function Wj(n,e){return vf(n,new Ih(o1(),e))}function Hj(n,e,t){const i=g1(n,t);if(i){const r=O1(i),s=r.path,l=r.queryId,o=Jn(s,e),u=new Ih(c1(l),o);return y1(n,s,u)}else return[]}function fS(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let o=[];if(l&&(e._queryIdentifier==="default"||c2(l,e))){const u=jj(l,e,t,i);Uj(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=u.removed;if(o=u.events,!r){const d=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=n.syncPointTree_.findOnPath(s,(g,y)=>wl(y));if(d&&!m){const g=n.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=Jj(g);for(let S=0;S<y.length;++S){const v=y[S],x=v.query,k=d2(n,v);n.listenProvider_.startListening(fh(x),wm(n,x),k.hashFn,k.onComplete)}}}!m&&f.length>0&&!i&&(d?n.listenProvider_.stopListening(fh(e),null):f.forEach(g=>{const y=n.queryToTagMap.get(kg(g));n.listenProvider_.stopListening(fh(g),y)}))}e6(n,f)}return o}function Gj(n,e,t,i){const r=g1(n,i);if(r!=null){const s=O1(r),l=s.path,o=s.queryId,u=Jn(l,e),f=new ka(c1(o),u,t);return y1(n,l,f)}else return[]}function Kj(n,e,t,i){const r=g1(n,i);if(r){const s=O1(r),l=s.path,o=s.queryId,u=Jn(l,e),f=Mt.fromObject(t),d=new Dh(c1(o),u,f);return y1(n,l,d)}else return[]}function yE(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(g,y)=>{const S=Jn(g,r);s=s||Uo(y,S),l=l||wl(y)});let o=n.syncPointTree_.get(r);o?(l=l||wl(o),s=s||Uo(o,ut())):(o=new Lj,n.syncPointTree_=n.syncPointTree_.set(r,o));let u;s!=null?u=!0:(u=!1,s=$e.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((y,S)=>{const v=Uo(S,ut());v&&(s=s.updateImmediateChild(y,v))}));const f=c2(o,e);if(!f&&!e._queryParams.loadsAllData()){const g=kg(e);pe(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=t6();n.queryToTagMap.set(g,y),n.tagToQueryMap.set(y,g)}const d=u1(n.pendingWriteTree_,r);let m=Zj(o,e,t,d,s,u);if(!f&&!l&&!i){const g=o2(o,e);m=m.concat(n6(n,e,g))}return m}function m1(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,o)=>{const u=Jn(l,e),f=Uo(o,u);if(f)return f});return t2(r,e,s,t,!0)}function vf(n,e){return h2(e,n.syncPointTree_,null,u1(n.pendingWriteTree_,ut()))}function h2(n,e,t,i){if(We(n.path))return f2(n,e,t,i);{const r=e.get(ut());t==null&&r!=null&&(t=Uo(r,ut()));let s=[];const l=je(n.path),o=n.operationForChild(l),u=e.children.get(l);if(u&&o){const f=t?t.getImmediateChild(l):null,d=n2(i,l);s=s.concat(h2(o,u,f,d))}return r&&(s=s.concat(p1(r,n,i,t))),s}}function f2(n,e,t,i){const r=e.get(ut());t==null&&r!=null&&(t=Uo(r,ut()));let s=[];return e.children.inorderTraversal((l,o)=>{const u=t?t.getImmediateChild(l):null,f=n2(i,l),d=n.operationForChild(l);d&&(s=s.concat(f2(d,o,u,f)))}),r&&(s=s.concat(p1(r,n,i,t))),s}function d2(n,e){const t=e.query,i=wm(n,t);return{hashFn:()=>(Mj(e)||$e.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?Hj(n,t._path,i):Wj(n,t._path);{const s=GX(r,t);return fS(n,t,null,s)}}}}function wm(n,e){const t=kg(e);return n.queryToTagMap.get(t)}function kg(n){return n._path.toString()+"$"+n._queryIdentifier}function g1(n,e){return n.tagToQueryMap.get(e)}function O1(n){const e=n.indexOf("$");return pe(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ct(n.substr(0,e))}}function y1(n,e,t){const i=n.syncPointTree_.get(e);pe(i,"Missing sync point for query tag that we're tracking");const r=u1(n.pendingWriteTree_,e);return p1(i,t,r,null)}function Jj(n){return n.fold((e,t,i)=>{if(t&&wl(t))return[wg(t)];{let r=[];return t&&(r=a2(t)),ri(i,(s,l)=>{r=r.concat(l)}),r}})}function fh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(qj())(n._repo,n._path):n}function e6(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=kg(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}function t6(){return Yj++}function n6(n,e,t){const i=e._path,r=wm(n,e),s=d2(n,t),l=n.listenProvider_.startListening(fh(e),r,s.hashFn,s.onComplete),o=n.syncPointTree_.subtree(i);if(r)pe(!wl(o.value),"If we're adding a query, it shouldn't be shadowed");else{const u=o.fold((f,d,m)=>{if(!We(f)&&d&&wl(d))return[wg(d).query];{let g=[];return d&&(g=g.concat(a2(d).map(y=>y.query))),ri(m,(y,S)=>{g=g.concat(S)}),g}});for(let f=0;f<u.length;++f){const d=u[f];n.listenProvider_.stopListening(fh(d),wm(n,d))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new b1(t)}node(){return this.node_}}class S1{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=rn(this.path_,e);return new S1(this.syncTree_,t)}node(){return m1(this.syncTree_,this.path_)}}const i6=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},bE=function(n,e,t){if(!n||typeof n!="object")return n;if(pe(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return r6(n[".sv"],e,t);if(typeof n[".sv"]=="object")return s6(n[".sv"],e);pe(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},r6=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:pe(!1,"Unexpected server value: "+n)}},s6=function(n,e,t){n.hasOwnProperty("increment")||pe(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&pe(!1,"Unexpected increment value: "+i);const r=e.node();if(pe(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},l6=function(n,e,t,i){return v1(e,new S1(t,n),i)},p2=function(n,e,t){return v1(n,new b1(e),t)};function v1(n,e,t){const i=n.getPriority().val(),r=bE(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,o=bE(l.getValue(),e,t);return o!==l.getValue()||r!==l.getPriority().val()?new cn(o,wn(r)):n}else{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new cn(r))),l.forEachChild(Ut,(o,u)=>{const f=v1(u,e.getImmediateChild(o),t);f!==u&&(s=s.updateImmediateChild(o,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w1=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function x1(n,e){let t=e instanceof Ct?e:new Ct(e),i=n,r=je(t);for(;r!==null;){const s=ic(i.node.children,r)||{children:{},childCount:0};i=new w1(r,i,s),t=Pt(t),r=je(t)}return i}function $c(n){return n.node.value}function m2(n,e){n.node.value=e,dS(n)}function g2(n){return n.node.childCount>0}function a6(n){return $c(n)===void 0&&!g2(n)}function _g(n,e){ri(n.node.children,(t,i)=>{e(new w1(t,n,i))})}function O2(n,e,t,i){t&&e(n),_g(n,r=>{O2(r,e,!0)})}function o6(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function wf(n){return new Ct(n.parent===null?n.name:wf(n.parent)+"/"+n.name)}function dS(n){n.parent!==null&&c6(n.parent,n.name,n)}function c6(n,e,t){const i=a6(t),r=As(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,dS(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,dS(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=/[\[\].#$\/\u0000-\u001F\u007F]/,h6=/[\[\].#$\u0000-\u001F\u007F]/,Q0=10*1024*1024,y2=function(n){return typeof n=="string"&&n.length!==0&&!u6.test(n)},b2=function(n){return typeof n=="string"&&n.length!==0&&!h6.test(n)},f6=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),b2(n)},d6=function(n,e,t,i){k1(Wv(n,"value"),e,t)},k1=function(n,e,t){const i=t instanceof Ct?new QZ(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+la(i));if(typeof e=="function")throw new Error(n+"contains a function "+la(i)+" with contents = "+e.toString());if(b$(e))throw new Error(n+"contains "+e.toString()+" "+la(i));if(typeof e=="string"&&e.length>Q0/3&&bg(e)>Q0)throw new Error(n+"contains a string greater than "+Q0+" utf8 bytes "+la(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(ri(e,(l,o)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!y2(l)))throw new Error(n+" contains an invalid key ("+l+") "+la(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PZ(i,l),k1(n,o,i),RZ(i)}),r&&s)throw new Error(n+' contains ".value" child '+la(i)+" in addition to actual children.")}},S2=function(n,e,t,i){if(!b2(t))throw new Error(Wv(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},p6=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),S2(n,e,t)},v2=function(n,e){if(je(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},m6=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!y2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!f6(t))throw new Error(Wv(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _1(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();t!==null&&!i1(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function w2(n,e,t){_1(n,t),x2(n,i=>i1(i,e))}function ws(n,e,t){_1(n,t),x2(n,i=>tr(i,e)||tr(e,i))}function x2(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const s=r.path;e(s)?(O6(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function O6(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();oh&&Qn("event: "+t.toString()),Rc(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="repo_interrupt",b6=25;class S6{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mm(),this.transactionQueueTree_=new w1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function v6(n,e,t){if(n.stats_=t1(n.repoInfo_),n.forceRestClient_||tZ())n.server_=new pm(n.repoInfo_,(i,r,s,l)=>{SE(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>vE(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{hn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Os(n.repoInfo_,e,(i,r,s,l)=>{SE(n,i,r,s,l)},i=>{vE(n,i)},i=>{x6(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=lZ(n.repoInfo_,()=>new rj(n.stats_,n.server_)),n.infoData_=new JZ,n.infoSyncTree_=new OE({startListening:(i,r,s,l)=>{let o=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(o=xg(n.infoSyncTree_,i._path,u),setTimeout(()=>{l("ok")},0)),o},stopListening:()=>{}}),C1(n,"connected",!1),n.serverSyncTree_=new OE({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(o,u)=>{const f=l(o,u);ws(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function w6(n){const t=n.infoData_.getNode(new Ct(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function T1(n){return i6({timestamp:w6(n)})}function SE(n,e,t,i,r){n.dataUpdateCount++;const s=new Ct(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const u=cm(t,f=>wn(f));l=Kj(n.serverSyncTree_,s,u,r)}else{const u=wn(t);l=Gj(n.serverSyncTree_,s,u,r)}else if(i){const u=cm(t,f=>wn(f));l=Fj(n.serverSyncTree_,s,u)}else{const u=wn(t);l=xg(n.serverSyncTree_,s,u)}let o=s;l.length>0&&(o=Tg(n,s)),ws(n.eventQueue_,o,l)}function vE(n,e){C1(n,"connected",e),e===!1&&_6(n)}function x6(n,e){ri(e,(t,i)=>{C1(n,t,i)})}function C1(n,e,t){const i=new Ct("/.info/"+e),r=wn(t);n.infoData_.updateSnapshot(i,r);const s=xg(n.infoSyncTree_,i,r);ws(n.eventQueue_,i,s)}function k2(n){return n.nextWriteId_++}function k6(n,e,t,i,r){E1(n,"set",{path:e.toString(),value:t,priority:i});const s=T1(n),l=wn(t,i),o=m1(n.serverSyncTree_,e),u=p2(l,o,s),f=k2(n),d=u2(n.serverSyncTree_,e,u,f,!0);_1(n.eventQueue_,d),n.server_.put(e.toString(),l.val(!0),(g,y)=>{const S=g==="ok";S||ii("set at "+e+" failed: "+g);const v=fa(n.serverSyncTree_,f,!S);ws(n.eventQueue_,e,v),A6(n,r,g,y)});const m=A2(n,e);Tg(n,m),ws(n.eventQueue_,m,[])}function _6(n){E1(n,"onDisconnectEvents");const e=T1(n),t=mm();lS(n.onDisconnect_,ut(),(r,s)=>{const l=l6(r,s,n.serverSyncTree_,e);H$(t,r,l)});let i=[];lS(t,ut(),(r,s)=>{i=i.concat(xg(n.serverSyncTree_,r,s));const l=A2(n,r);Tg(n,l)}),n.onDisconnect_=mm(),ws(n.eventQueue_,ut(),i)}function T6(n,e,t){let i;je(e._path)===".info"?i=yE(n.infoSyncTree_,e,t):i=yE(n.serverSyncTree_,e,t),w2(n.eventQueue_,e._path,i)}function C6(n,e,t){let i;je(e._path)===".info"?i=fS(n.infoSyncTree_,e,t):i=fS(n.serverSyncTree_,e,t),w2(n.eventQueue_,e._path,i)}function E6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(y6)}function E1(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Qn(t,...e)}function A6(n,e,t,i){e&&Rc(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function _2(n,e,t){return m1(n.serverSyncTree_,e,t)||$e.EMPTY_NODE}function A1(n,e=n.transactionQueueTree_){if(e||Cg(n,e),$c(e)){const t=C2(n,e);pe(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&Q6(n,wf(e),t)}else g2(e)&&_g(e,t=>{A1(n,t)})}function Q6(n,e,t){const i=t.map(f=>f.currentWriteId),r=_2(n,e,i);let s=r;const l=r.hash();for(let f=0;f<t.length;f++){const d=t[f];pe(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const m=Jn(e,d.path);s=s.updateChild(m,d.currentOutputSnapshotRaw)}const o=s.val(!0),u=e;n.server_.put(u.toString(),o,f=>{E1(n,"transaction put response",{path:u.toString(),status:f});let d=[];if(f==="ok"){const m=[];for(let g=0;g<t.length;g++)t[g].status=2,d=d.concat(fa(n.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&m.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();Cg(n,x1(n.transactionQueueTree_,e)),A1(n,n.transactionQueueTree_),ws(n.eventQueue_,e,d);for(let g=0;g<m.length;g++)Rc(m[g])}else{if(f==="datastale")for(let m=0;m<t.length;m++)t[m].status===3?t[m].status=4:t[m].status=0;else{ii("transaction at "+u.toString()+" failed: "+f);for(let m=0;m<t.length;m++)t[m].status=4,t[m].abortReason=f}Tg(n,e)}},l)}function Tg(n,e){const t=T2(n,e),i=wf(t),r=C2(n,t);return P6(n,r,i),i}function P6(n,e,t){if(e.length===0)return;const i=[];let r=[];const l=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const u=e[o],f=Jn(t,u.path);let d=!1,m;if(pe(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,m=u.abortReason,r=r.concat(fa(n.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=b6)d=!0,m="maxretry",r=r.concat(fa(n.serverSyncTree_,u.currentWriteId,!0));else{const g=_2(n,u.path,l);u.currentInputSnapshot=g;const y=e[o].update(g.val());if(y!==void 0){k1("transaction failed: Data returned ",y,u.path);let S=wn(y);typeof y=="object"&&y!=null&&As(y,".priority")||(S=S.updatePriority(g.getPriority()));const x=u.currentWriteId,k=T1(n),C=p2(S,g,k);u.currentOutputSnapshotRaw=S,u.currentOutputSnapshotResolved=C,u.currentWriteId=k2(n),l.splice(l.indexOf(x),1),r=r.concat(u2(n.serverSyncTree_,u.path,C,u.currentWriteId,u.applyLocally)),r=r.concat(fa(n.serverSyncTree_,x,!0))}else d=!0,m="nodata",r=r.concat(fa(n.serverSyncTree_,u.currentWriteId,!0))}ws(n.eventQueue_,t,r),r=[],d&&(e[o].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(m==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(m),!1,null))))}Cg(n,n.transactionQueueTree_);for(let o=0;o<i.length;o++)Rc(i[o]);A1(n,n.transactionQueueTree_)}function T2(n,e){let t,i=n.transactionQueueTree_;for(t=je(e);t!==null&&$c(i)===void 0;)i=x1(i,t),e=Pt(e),t=je(e);return i}function C2(n,e){const t=[];return E2(n,e,t),t.sort((i,r)=>i.order-r.order),t}function E2(n,e,t){const i=$c(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);_g(e,r=>{E2(n,r,t)})}function Cg(n,e){const t=$c(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,m2(e,t.length>0?t:void 0)}_g(e,i=>{Cg(n,i)})}function A2(n,e){const t=wf(T2(n,e)),i=x1(n.transactionQueueTree_,e);return o6(i,r=>{P0(n,r)}),P0(n,i),O2(i,r=>{P0(n,r)}),t}function P0(n,e){const t=$c(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(pe(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):(pe(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(fa(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?m2(e,void 0):t.length=s+1,ws(n.eventQueue_,wf(e),r);for(let l=0;l<i.length;l++)Rc(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function $6(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ii(`Invalid query segment '${t}' in query '${n}'`)}return e}const wE=function(n,e){const t=M6(n),i=t.namespace;t.domain==="firebase.com"&&vs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&vs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||qX();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new P$(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Ct(t.pathString)}},M6=function(n){let e="",t="",i="",r="",s="",l=!0,o="https",u=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(o=n.substring(0,f-1),n=n.substring(f+2));let d=n.indexOf("/");d===-1&&(d=n.length);let m=n.indexOf("?");m===-1&&(m=n.length),e=n.substring(0,Math.min(d,m)),d<m&&(r=R6(n.substring(d,m)));const g=$6(n.substring(Math.min(n.length,m)));f=e.indexOf(":"),f>=0?(l=o==="https"||o==="wss",u=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),t=e.substring(S+1),s=i}"ns"in g&&(s=g.ns)}return{host:e,port:u,domain:t,subdomain:i,secure:l,scheme:o,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+hn(this.snapshot.exportVal())}}class D6{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return pe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return We(this._path)?null:B$(this._path)}get ref(){return new Ql(this._repo,this._path)}get _queryIdentifier(){const e=lE(this._queryParams),t=Jv(e);return t==="{}"?"default":t}get _queryObject(){return lE(this._queryParams)}isEqual(e){if(e=xi(e),!(e instanceof Q1))return!1;const t=this._repo===e._repo,i=i1(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+AZ(this._path)}}class Ql extends Q1{constructor(e,t){super(e,t,new a1,!1)}get parent(){const e=X$(this._path);return e===null?null:new Ql(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ct(e),i=pS(this.ref,e);return new xm(this._node.getChild(t),i,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new xm(r,pS(this.ref,i),Ut)))}hasChild(e){const t=new Ct(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function P1(n,e){return n=xi(n),n._checkNotDeleted("ref"),e!==void 0?pS(n._root,e):n._root}function pS(n,e){return n=xi(n),je(n._path)===null?p6("child","path",e):S2("child","path",e),new Ql(n._repo,rn(n._path,e))}function L6(n){return v2("remove",n._path),Q2(n,null)}function Q2(n,e){n=xi(n),v2("set",n._path),d6("set",e,n._path);const t=new yg;return k6(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class R1{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new I6("value",this,new xm(e.snapshotNode,new Ql(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new D6(this,e,t):null}matches(e){return e instanceof R1?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function z6(n,e,t,i,r){const s=new N6(t,void 0),l=new R1(s);return T6(n._repo,n,l),()=>C6(n._repo,n,l)}function B6(n,e,t,i){return z6(n,"value",e)}zj(Ql);Vj(Ql);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="FIREBASE_DATABASE_EMULATOR_HOST",mS={};let X6=!1;function Z6(n,e,t,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),l=Cc(s);n.repoInfo_=new P$(e,l,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function j6(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||vs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=wE(s,r),o=l.repoInfo,u;typeof process<"u"&&XC&&(u=XC[U6]),u?(s=`http://${u}?ns=${o.namespace}`,l=wE(s,r),o=l.repoInfo):l.repoInfo.secure;const f=new iZ(n.name,n.options,e);m6("Invalid Firebase Database URL",l),We(l.path)||vs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=q6(o,n,f,new nZ(n,t));return new Y6(d,n)}function V6(n,e){const t=mS[e];(!t||t[n.key]!==n)&&vs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),E6(n),delete t[n.key]}function q6(n,e,t,i){let r=mS[e.name];r||(r={},mS[e.name]=r);let s=r[n.toURLString()];return s&&vs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new S6(n,X6,t,i),r[n.toURLString()]=s,s}class Y6{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(v6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ql(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(V6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&vs("Cannot call "+e+" on a deleted database.")}}function F6(n=d$(),e){const t=Kv(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=hU("database");i&&W6(t,...i)}return t}function W6(n,e,t,i={}){n=xi(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&va(i,s.repoInfo_.emulatorOptions))return;vs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&vs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Bp(Bp.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:fU(i.mockUserToken,n.app.options.projectId);l=new Bp(o)}Cc(e)&&(r$(e),s$("Database",!0)),Z6(s,r,i,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(n){BX(Qc),rc(new wa("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return j6(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),Ol(ZC,jC,n),Ol(ZC,jC,"esm2017")}Os.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Os.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};H6();function $1(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function P2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G6=P2,R2=new Of("auth","Firebase",P2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Hv("@firebase/auth");function K6(n,...e){km.logLevel<=vt.WARN&&km.warn(`Auth (${Qc}): ${n}`,...e)}function Up(n,...e){km.logLevel<=vt.ERROR&&km.error(`Auth (${Qc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,...e){throw I1(n,...e)}function lr(n,...e){return I1(n,...e)}function M1(n,e,t){const i=Object.assign(Object.assign({},G6()),{[e]:t});return new Of("auth","Firebase",i).create(e,{appName:n.name})}function ba(n){return M1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J6(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ir(n,"argument-error"),M1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I1(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return R2.create(n,...e)}function Me(n,e,...t){if(!n)throw I1(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Up(e),new Error(e)}function xs(n,e){n||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eV(){return xE()==="http:"||xE()==="https:"}function xE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eV()||gU()||"connection"in navigator)?navigator.onLine:!0}function nV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xs(t>e,"Short delay should be less than long delay!"),this.isMobile=Fv()||l$()}get(){return tV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e){xs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $2=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sV=new xf(3e4,6e4);function N1(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mc(n,e,t,i,r={}){return M2(n,r,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const o=Ac(Object.assign({key:n.config.apiKey},l)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:u},s);return mU()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(f.credentials="include"),$2.fetch()(await I2(n,n.config.apiHost,t,o),f)})}async function M2(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iV),e);try{const r=new aV(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ap(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const o=s.ok?l.errorMessage:l.error.message,[u,f]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ap(n,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw ap(n,"email-already-in-use",l);if(u==="USER_DISABLED")throw ap(n,"user-disabled",l);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw M1(n,d,f);Ir(n,d)}}catch(r){if(r instanceof Ec)throw r;Ir(n,"network-request-failed",{message:String(r)})}}async function lV(n,e,t,i,r={}){const s=await Mc(n,e,t,i,r);return"mfaPendingCredential"in s&&Ir(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function I2(n,e,t,i){const r=`${e}${t}?${i}`,s=n,l=s.config.emulator?D1(n.config,r):`${n.config.apiScheme}://${r}`;return rV.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}let aV=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),sV.get())})}};function ap(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=lr(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(n,e){return Mc(n,"POST","/v1/accounts:delete",e)}async function _m(n,e){return Mc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cV(n,e=!1){const t=xi(n),i=await t.getIdToken(e),r=L1(i);Me(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:dh(R0(r.auth_time)),issuedAtTime:dh(R0(r.iat)),expirationTime:dh(R0(r.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function R0(n){return Number(n)*1e3}function L1(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Up("JWT malformed, contained fewer than 3 sections"),null;try{const r=om(t);return r?JSON.parse(r):(Up("Failed to decode base64 JWT payload"),null)}catch(r){return Up("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function kE(n){const e=L1(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ec&&uV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function uV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hV=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OS=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Nh(n,_m(t,{idToken:i}));Me(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?D2(s.providerUserInfo):[],o=dV(n.providerData,l),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),d=u?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new OS(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function fV(n){const e=xi(n);await Tm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dV(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function D2(n){return n.map(e=>{var{providerId:t}=e,i=$1(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(n,e){const t=await M2(n,{},async()=>{const i=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,l=await I2(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(u.credentials="include"),$2.fetch()(l,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mV(n,e){return Mc(n,"POST","/v2/accounts:revokeToken",N1(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0=class yS{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=kE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await pV(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,l=new yS;return i&&(Me(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Me(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),s&&(Me(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yS,this.toJSON())}_performRefresh(){return fs("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Io=class eh{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=$1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cV(this,e)}reload(){return fV(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new eh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Tm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await Nh(this,oV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,l,o,u,f,d;const m=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,v=(o=t.tenantId)!==null&&o!==void 0?o:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(f=t.createdAt)!==null&&f!==void 0?f:void 0,C=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:X,isAnonymous:L,providerData:R,stsTokenManager:N}=t;Me(T&&N,e,"internal-error");const ae=$0.fromJSON(this.name,N);Me(typeof T=="string",e,"internal-error"),il(m,e.name),il(g,e.name),Me(typeof X=="boolean",e,"internal-error"),Me(typeof L=="boolean",e,"internal-error"),il(y,e.name),il(S,e.name),il(v,e.name),il(x,e.name),il(k,e.name),il(C,e.name);const te=new eh({uid:T,auth:e,email:g,emailVerified:X,displayName:m,isAnonymous:L,photoURL:S,phoneNumber:y,tenantId:v,stsTokenManager:ae,createdAt:k,lastLoginAt:C});return R&&Array.isArray(R)&&(te.providerData=R.map(z=>Object.assign({},z))),x&&(te._redirectEventId=x),te}static async _fromIdTokenResponse(e,t,i=!1){const r=new $0;r.updateFromServerResponse(t);const s=new eh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Tm(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Me(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?D2(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new $0;o.updateFromIdToken(i);const u=new eh({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new OS(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function ds(n){xs(n instanceof Function,"Expected a class definition");let e=_E.get(n);return e?(xs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_E.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};N2.type="NONE";const TE=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n,e,t){return`firebase:${n}:${e}:${t}`}let CE=class Zp{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Xp(this.userKey,r.apiKey,s),this.fullPersistenceKey=Xp("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _m(this.auth,{idToken:e}).catch(()=>{});return t?Io._fromGetAccountInfoResponse(this.auth,t,e):null}return Io._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zp(ds(TE),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||ds(TE);const l=Xp(i,e.config.apiKey,e.name);let o=null;for(const f of t)try{const d=await f._get(l);if(d){let m;if(typeof d=="string"){const g=await _m(e,{idToken:d}).catch(()=>{});if(!g)break;m=await Io._fromGetAccountInfoResponse(e,g,d)}else m=Io._fromJSON(e,d);f!==s&&(o=m),s=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Zp(s,e,i):(s=u[0],o&&await s._set(l,o.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Zp(s,e,i))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z2(e))return"Blackberry";if(j2(e))return"Webos";if(z2(e))return"Safari";if((e.includes("chrome/")||B2(e))&&!e.includes("edge/"))return"Chrome";if(X2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function L2(n=zn()){return/firefox\//i.test(n)}function z2(n=zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B2(n=zn()){return/crios\//i.test(n)}function U2(n=zn()){return/iemobile/i.test(n)}function X2(n=zn()){return/android/i.test(n)}function Z2(n=zn()){return/blackberry/i.test(n)}function j2(n=zn()){return/webos/i.test(n)}function z1(n=zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gV(n=zn()){var e;return z1(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OV(){return OU()&&document.documentMode===10}function V2(n=zn()){return z1(n)||X2(n)||j2(n)||Z2(n)||/windows phone/i.test(n)||U2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n,e=[]){let t;switch(n){case"Browser":t=EE(zn());break;case"Worker":t=`${EE(zn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yV=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((l,o)=>{try{const u=e(s);l(u)}catch(u){o(u)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(n,e={}){return Mc(n,"GET","/v2/passwordPolicy",N1(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=6;let vV=class{constructor(e){var t,i,r,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:SV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,l,o;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(o=u.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),u}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wV=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new yV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ds(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await CE.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _m(this,{idToken:e}),i=await Io._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ki(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===o)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(ba(this));const t=e?xi(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bV(this),t=new vV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Of("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await mV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ds(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await CE.create(this,[ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(o,this,"internal-error"),o.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,i,r);return()=>{l=!0,u()}}else{const u=e.addObserver(t);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&K6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function Eg(n){return xi(n)}let AE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CU(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xV(n){B1=n}function kV(n){return B1.loadJS(n)}function _V(){return B1.gapiScript}function TV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n,e){const t=Kv(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(va(s,e??{}))return r;Ir(r,"already-initialized")}return t.initialize({options:e})}function EV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ds);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AV(n,e,t){const i=Eg(n);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=Y2(e),{host:l,port:o}=QV(e),u=o===null?"":`:${o}`,f={url:`${s}//${l}${u}/`},d=Object.freeze({host:l,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(va(f,i.config.emulator)&&va(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Cc(l)?(r$(`${s}//${l}${u}`),s$("Auth",!0)):PV()}function Y2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QV(n){const e=Y2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:QE(i.substr(s.length+1))}}else{const[s,l]=i.split(":");return{host:s,port:QE(l)}}}function QE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F2=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return lV(n,"POST","/v1/accounts:signInWithIdp",N1(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="http://localhost";let Ag=class bS extends F2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bS(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=$1(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new bS(i,r);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:RV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U1=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=class extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W2=class Co extends kf{constructor(){super("facebook.com")}static credential(e){return Ag._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}};W2.FACEBOOK_SIGN_IN_METHOD="facebook.com";W2.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X1=class Eo extends kf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ag._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Eo.credential(t,i)}catch{return null}}};X1.GOOGLE_SIGN_IN_METHOD="google.com";X1.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2=class Ao extends kf{constructor(){super("github.com")}static credential(e){return Ag._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}};H2.GITHUB_SIGN_IN_METHOD="github.com";H2.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G2=class Qo extends kf{constructor(){super("twitter.com")}static credential(e,t){return Ag._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Qo.credential(t,i)}catch{return null}}};G2.TWITTER_SIGN_IN_METHOD="twitter.com";G2.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z1=class SS{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Io._fromIdTokenResponse(e,i,r),l=PE(i);return new SS({user:s,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=PE(i);return new SS({user:e,providerId:r,_tokenResponse:i,operationType:t})}};function PE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $V=class vS extends Ec{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vS.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new vS(e,t,i,r)}};function K2(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$V._fromErrorAndOperation(n,s,e,i):s})}async function MV(n,e,t=!1){const i=await Nh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Z1._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e,t=!1){const{auth:i}=n;if(Ki(i.app))return Promise.reject(ba(i));const r="reauthenticate";try{const s=await Nh(n,K2(i,r,e,n),t);Me(s.idToken,i,"internal-error");const l=L1(s.idToken);Me(l,i,"internal-error");const{sub:o}=l;return Me(n.uid===o,i,"user-mismatch"),Z1._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ir(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,e,t=!1){if(Ki(n.app))return Promise.reject(ba(n));const i="signIn",r=await K2(n,i,e),s=await Z1._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function NV(n,e,t,i){return xi(n).onIdTokenChanged(e,t,i)}function LV(n,e,t){return xi(n).beforeAuthStateChanged(e,t)}function zV(n,e,t,i){return xi(n).onAuthStateChanged(e,t,i)}function BV(n){return xi(n).signOut()}const Cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=1e3,XV=10;class eM extends J2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,o,u)=>{this.notifyListeners(l,u)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},s=this.storage.getItem(i);OV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,XV):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eM.type="LOCAL";const ZV=eM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM extends J2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tM.type="SESSION";const nM=tM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Qg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(l).map(async f=>f(t.origin,s)),u=await jV(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,l;return new Promise((o,u)=>{const f=j1("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function qV(n){Rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function YV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WV(){return iM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firebaseLocalStorageDb",HV=1,Em="firebaseLocalStorage",sM="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pg(n,e){return n.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function GV(){const n=indexedDB.deleteDatabase(rM);return new _f(n).toPromise()}function wS(){const n=indexedDB.open(rM,HV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Em,{keyPath:sM})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Em)?e(i):(i.close(),await GV(),e(await wS()))})})}async function RE(n,e,t){const i=Pg(n,!0).put({[sM]:e,value:t});return new _f(i).toPromise()}async function KV(n,e){const t=Pg(n,!1).get(e),i=await new _f(t).toPromise();return i===void 0?null:i.value}function $E(n,e){const t=Pg(n,!0).delete(e);return new _f(t).toPromise()}const JV=800,eq=3;class lM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>eq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qg._getInstance(WV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YV(),!this.activeServiceWorker)return;this.sender=new VV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wS();return await RE(e,Cm,"1"),await $E(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>RE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>KV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Pg(r,!1).getAll();return new _f(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lM.type="LOCAL";const tq=lM;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n,e){return e?ds(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V1=class extends F2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function nq(n){return DV(n.auth,new V1(n),n.bypassAuthState)}function iq(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),IV(t,new V1(n),n.bypassAuthState)}async function rq(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),MV(t,new V1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oM=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:l,type:o}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nq;case"linkViaPopup":case"linkViaRedirect":return rq;case"reauthViaPopup":case"reauthViaRedirect":return iq;default:Ir(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=new xf(2e3,1e4);async function lq(n,e,t){if(Ki(n.app))return Promise.reject(lr(n,"operation-not-supported-in-this-environment"));const i=Eg(n);J6(n,e,U1);const r=aM(i,t);return new cM(i,"signInViaPopup",e,r).executeNotNull()}let cM=class th extends oM{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,th.currentPopupAction&&th.currentPopupAction.cancel(),th.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=j1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,th.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sq.get())};e()}};cM.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq="pendingRedirect",jp=new Map;class oq extends oM{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=jp.get(this.auth._key());if(!e){try{const i=await cq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}jp.set(this.auth._key(),e)}return this.bypassAuthState||jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cq(n,e){const t=fq(e),i=hq(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function uq(n,e){jp.set(n._key(),e)}function hq(n){return ds(n._redirectPersistence)}function fq(n){return Xp(aq,n.config.apiKey,n.name)}async function dq(n,e,t=!1){if(Ki(n.app))return Promise.reject(ba(n));const i=Eg(n),r=aM(i,e),l=await new oq(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=600*1e3;class mq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!uM(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pq&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uM({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uM(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(n,e={}){return Mc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bq=/^https?/;async function Sq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Oq(n);for(const t of e)try{if(vq(t))return}catch{}Ir(n,"unauthorized-domain")}function vq(n){const e=gS(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!bq.test(t))return!1;if(yq.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new xf(3e4,6e4);function IE(){const n=Rr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xq(n){return new Promise((e,t)=>{var i,r,s;function l(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),t(lr(n,"network-request-failed"))},timeout:wq.get()})}if(!((r=(i=Rr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Rr().gapi)===null||s===void 0)&&s.load)l();else{const o=TV("iframefcb");return Rr()[o]=()=>{gapi.load?l():t(lr(n,"network-request-failed"))},kV(`${_V()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Vp=null,e})}let Vp=null;function kq(n){return Vp=Vp||xq(n),Vp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new xf(5e3,15e3),Tq="__/auth/iframe",Cq="emulator/auth/iframe",Eq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qq(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?D1(e,Cq):`https://${n.config.authDomain}/${Tq}`,i={apiKey:e.apiKey,appName:n.name,v:Qc},r=Aq.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ac(i).slice(1)}`}async function Pq(n){const e=await kq(n),t=Rr().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:Qq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eq,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const l=lr(n,"network-request-failed"),o=Rr().setTimeout(()=>{s(l)},_q.get());function u(){Rr().clearTimeout(o),r(i)}i.ping(u).then(u,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$q=500,Mq=600,Iq="_blank",Dq="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nq(n,e,t,i=$q,r=Mq){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u=Object.assign(Object.assign({},Rq),{width:i.toString(),height:r.toString(),top:s,left:l}),f=zn().toLowerCase();t&&(o=B2(f)?Iq:t),L2(f)&&(e=e||Dq,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(gV(f)&&o!=="_self")return Lq(e||"",o),new DE(null);const m=window.open(e||"",o,d);Me(m,n,"popup-blocked");try{m.focus()}catch{}return new DE(m)}function Lq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq="__/auth/handler",Bq="emulator/auth/handler",Uq=encodeURIComponent("fac");async function NE(n,e,t,i,r,s){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Qc,eventId:r};if(e instanceof U1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Gb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))l[d]=m}if(e instanceof kf){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(l.scopes=d.join(","))}n.tenantId&&(l.tid=n.tenantId);const o=l;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await n._getAppCheckToken(),f=u?`#${Uq}=${encodeURIComponent(u)}`:"";return`${Xq(n)}?${Ac(o).slice(1)}${f}`}function Xq({config:n}){return n.emulator?D1(n,Bq):`https://${n.authDomain}/${zq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="webStorageSupport";class Zq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nM,this._completeRedirectFn=dq,this._overrideRedirectResult=uq}async _openPopup(e,t,i,r){var s;xs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await NE(e,t,i,gS(),r);return Nq(e,l,j1())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await NE(e,t,i,gS(),r);return qV(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(xs(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Pq(e),i=new mq(e);return t.register("authEvent",r=>(Me(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(M0,{type:M0},r=>{var s;const l=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[M0];l!==void 0&&t(!!l),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return V2()||z2()||z1()}}const jq=Zq;var LE="@firebase/auth",zE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vq=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yq(n){rc(new wa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:o}=i.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:l,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q2(n)},f=new wV(i,r,s,u);return EV(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),rc(new wa("auth-internal",e=>{const t=Eg(e.getProvider("auth").getImmediate());return(i=>new Vq(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ol(LE,zE,qq(n)),Ol(LE,zE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=300,Wq=i$("authIdTokenMaxAge")||Fq;let BE=null;const Hq=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Wq)return;const r=t==null?void 0:t.token;BE!==r&&(BE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Gq(n=d$()){const e=Kv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CV(n,{popupRedirectResolver:jq,persistence:[tq,ZV,nM]}),i=i$("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const l=Hq(s.toString());LV(t,l,()=>l(t.currentUser)),NV(t,o=>l(o))}}const r=t$("auth");return r&&AV(t,`http://${r}`),t}function Kq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=lr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Kq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yq("Browser");const Jq={apiKey:"AIzaSyBfif2L4Cz11AYTP_OEsJZQJrNWe06a6CY",authDomain:"markdownflare.firebaseapp.com",databaseURL:"https://markdownflare-default-rtdb.firebaseio.com",projectId:"markdownflare",storageBucket:"markdownflare.firebasestorage.app",messagingSenderId:"658985431247",appId:"1:658985431247:web:07966fe83f40b1a7de07ba",measurementId:"G-VNWSZDGXV8"},hM=f$(Jq),q1=F6(hM);function fM(n){return n.replace(/\./g,"_dot_").replace(/\//g,"_slash_")}function ko(n,e,{size:t,hash:i,action:r="save",oldHash:s,diff:l,oldPath:o}){const u=fM(e),f=P1(q1,`mdflare/${n}/files/${u}`),d={path:e,action:r,hash:i,modified:Date.now(),size:t};return r==="save"&&s&&(d.oldHash=s,l&&JSON.stringify(l).length<=10240&&(d.diff=l)),r==="rename"&&o&&(d.oldPath=o),Q2(f,d)}function I0(n,e){const t=fM(e),i=P1(q1,`mdflare/${n}/files/${t}`);return L6(i)}function e8(n,e){const t=P1(q1,`mdflare/${n}/files`);return B6(t,i=>{const r=i.val();r&&e(Object.values(r))})}function ta(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);e=(e<<5)-e+i,e|=0}return e.toString(36)}function t8(n,e){const t=n.split(`
`),i=e.split(`
`),r=t.length,s=i.length;let l=new Uint16Array(s+1),o=new Uint16Array(s+1);for(let k=1;k<=r;k++){[l,o]=[o,l],o.fill(0);for(let C=1;C<=s;C++)t[k-1]===i[C-1]?o[C]=l[C-1]+1:o[C]=Math.max(l[C],o[C-1])}const u=Array.from({length:r+1},()=>new Uint16Array(s+1));for(let k=1;k<=r;k++)for(let C=1;C<=s;C++)t[k-1]===i[C-1]?u[k][C]=u[k-1][C-1]+1:u[k][C]=Math.max(u[k-1][C],u[k][C-1]);let f=r,d=s;const m=[];for(;f>0||d>0;)f>0&&d>0&&t[f-1]===i[d-1]?(m.push({type:"eq"}),f--,d--):d>0&&(f===0||u[f][d-1]>=u[f-1][d])?(m.push({type:"ins",line:i[d-1]}),d--):(m.push({type:"del"}),f--);m.reverse();const g=[];let y=0,S=0,v=[];function x(){y>0&&(g.push({eq:y}),y=0),S>0&&(g.push({del:S}),S=0),v.length>0&&(g.push({ins:v}),v=[])}for(const k of m)k.type==="eq"?((S>0||v.length>0)&&(S>0&&(g.push({del:S}),S=0),v.length>0&&(g.push({ins:v}),v=[])),y++):k.type==="del"?(y>0&&(g.push({eq:y}),y=0),v.length>0&&(g.push({ins:v}),v=[]),S++):(y>0&&(g.push({eq:y}),y=0),v.push(k.line));return x(),g}const ks=Gq(hM),dM=new X1;function n8(){return lq(ks,dM)}function i8(){return BV(ks)}function r8(n){return zV(ks,n)}const pM=()=>{const n=window.location.hostname;return n.startsWith("dev.")||n==="localhost"||n==="127.0.0.1"};function s8(n=""){I.useEffect(()=>{const t=`${pM()?"dev.":""}MDFlare `;document.title=n?`${n} | ${t}`:t},[n])}function Tf(){return`${pM()?"dev.":""}MDFlare`}function UE({user:n,username:e}){const t=_c(),[i]=HB(),[r,s]=I.useState(!1),[l,o]=I.useState(""),[u,f]=I.useState(!1),[d,m]=I.useState(""),g=x=>{try{const k=atob(x);if(k.includes("|")){const[C,T]=k.split("|");return{serverUrl:C,token:T}}}catch{}return{serverUrl:"http://localhost:7779",token:x}},y=async()=>{try{const x=await n8(),C=await(await fetch(`/api/username/resolve?uid=${x.user.uid}`)).json();C.found?t(`/${C.username}`):t("/setup")}catch(x){console.error("Login failed:",x)}},S=I.useCallback(async x=>{var k;m(""),f(!0);try{console.log("[PV]  , :",x.substring(0,20)+"...");const{serverUrl:C,token:T}=g(x);console.log("[PV]  :",{serverUrl:C,tokenLength:T==null?void 0:T.length});const X=!C.includes("localhost")&&!C.includes("127.0.0.1");console.log("[PV]   :",X);const L=X?`/_tunnel?server=${encodeURIComponent(C.replace(/^https?:\/\//,""))}&path=/api/files`:`${C}/api/files`;console.log("[PV]  URL:",L),console.log("[PV] fetch ...");const R=await fetch(L,{headers:T?{Authorization:`Bearer ${T}`}:{}});if(console.log("[PV] fetch :",R.status,R.statusText),!R.ok){const ae=await R.text();throw console.error("[PV]  :",ae),new Error(`  ${R.status}: ${ae}`)}const N=await R.json();console.log("[PV] !  :",(k=N.files)==null?void 0:k.length),localStorage.setItem("mdflare_mode","private_vault"),localStorage.setItem("mdflare_server_url",C),localStorage.setItem("mdflare_token",T),localStorage.setItem("mdflare_use_proxy",X?"true":"false"),t("/private")}catch(C){console.error("[PV]  :",C),m(` : ${C.message}`)}finally{f(!1)}},[t]),v=()=>S(l.trim());return I.useEffect(()=>{if(n&&e){t(`/${e}`);return}if(localStorage.getItem("mdflare_mode")==="private_vault"){t("/private");return}const k=i.get("pvtoken");k&&S(k)},[n,e,t,i,S]),n&&e?null:A.jsxs("div",{className:"landing",children:[A.jsxs("nav",{className:"landing-nav",children:[A.jsxs("h1",{children:[" ",Tf()]}),A.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[A.jsx("button",{className:"nav-link",onClick:()=>t("/download"),children:""}),A.jsx("button",{className:"login-btn",onClick:y,children:""})]})]}),A.jsxs("div",{className:"hero",children:[A.jsxs("h2",{children:["  ",A.jsx("br",{})," ."]}),A.jsxs("p",{className:"hero-sub",children:["    .",A.jsx("br",{}),"  ,   ."]}),r?A.jsxs("div",{className:"private-vault-form",children:[A.jsx("h3",{children:" Private Vault "}),A.jsx("p",{className:"form-desc",children:"    ."}),A.jsx("div",{className:"form-group",children:A.jsx("input",{type:"text",value:l,onChange:x=>o(x.target.value),placeholder:"  ",autoFocus:!0,className:"token-input"})}),d&&A.jsx("p",{className:"form-error",children:d}),A.jsxs("div",{className:"form-buttons",children:[A.jsx("button",{className:"cta-btn",onClick:v,disabled:u,children:u?" ...":""}),A.jsx("button",{className:"cta-btn secondary",onClick:()=>s(!1),children:""})]})]}):A.jsxs("div",{className:"mode-buttons",children:[A.jsx("button",{className:"cta-btn",onClick:y,children:" Cloud "}),A.jsx("button",{className:"cta-btn secondary",onClick:()=>s(!0),children:" Private Vault "})]})]}),A.jsxs("div",{className:"features",children:[A.jsxs("div",{className:"feature-card",children:[A.jsx("span",{className:"feature-icon",children:""}),A.jsx("h3",{children:"Cloud"}),A.jsx("p",{children:"Cloudflare ,  "})]}),A.jsxs("div",{className:"feature-card",children:[A.jsx("span",{className:"feature-icon",children:""}),A.jsx("h3",{children:"Private Vault"}),A.jsx("p",{children:" PC ,  "})]}),A.jsxs("div",{className:"feature-card",children:[A.jsx("span",{className:"feature-icon",children:""}),A.jsx("h3",{children:" "}),A.jsx("p",{children:"   "})]}),A.jsxs("div",{className:"feature-card",children:[A.jsx("span",{className:"feature-icon",children:""}),A.jsx("h3",{children:" "}),A.jsx("p",{children:"  "})]}),A.jsxs("div",{className:"feature-card",children:[A.jsx("span",{className:"feature-icon",children:""}),A.jsx("h3",{children:" "}),A.jsx("p",{children:"  "})]}),A.jsxs("div",{className:"feature-card",children:[A.jsx("span",{className:"feature-icon",children:""}),A.jsx("h3",{children:""}),A.jsx("p",{children:"AGPL-3.0 "})]})]}),A.jsxs("footer",{className:"landing-footer",children:[A.jsx("p",{children:" 2026 MDFlare  Built with Cloudflare"}),A.jsxs("p",{style:{marginTop:4,fontSize:11,color:"#30363d"},children:["v","1.0.15","  ","2026. 2. 11. PM 4:08:46"]})]})]})}function xS(){return xS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xS.apply(null,arguments)}function l8(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}let kS=[],mM=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?mM:kS).push(t=t+n[e])})();function a8(n){if(n<768)return!1;for(let e=0,t=kS.length;;){let i=e+t>>1;if(n<kS[i])t=i;else if(n>=mM[i])e=i+1;else return!0;if(e==t)return!1}}function XE(n){return n>=127462&&n<=127487}const ZE=8205;function o8(n,e,t=!0,i=!0){return(t?gM:c8)(n,e,i)}function gM(n,e,t){if(e==n.length)return e;e&&OM(n.charCodeAt(e))&&yM(n.charCodeAt(e-1))&&e--;let i=D0(n,e);for(e+=jE(i);e<n.length;){let r=D0(n,e);if(i==ZE||r==ZE||t&&a8(r))e+=jE(r),i=r;else if(XE(r)){let s=0,l=e-2;for(;l>=0&&XE(D0(n,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function c8(n,e,t){for(;e>0;){let i=gM(n,e-2,t);if(i<e)return i;e--}return 0}function D0(n,e){let t=n.charCodeAt(e);if(!yM(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return OM(i)?(t-55296<<10)+(i-56320)+65536:t}function OM(n){return n>=56320&&n<57344}function yM(n){return n>=55296&&n<56320}function jE(n){return n<65536?1:2}class lt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=oc(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Tr.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=oc(this,e,t);let i=[];return this.decompose(e,t,i,0),Tr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ph(this),s=new ph(e);for(let l=t,o=t;;){if(r.next(l),s.next(l),l=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(o+=r.value.length,r.done||o>=i)return!0}}iter(e=1){return new ph(this,e)}iterRange(e,t=this.length){return new bM(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new SM(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?lt.empty:e.length<=32?new qt(e):Tr.from(qt.split(e,[]))}}class qt extends lt{constructor(e,t=u8(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let l=this.text[s],o=r+l.length;if((t?i:o)>=e)return new h8(r,o,i,l);r=o+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new qt(VE(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let l=i.pop(),o=qp(s.text,l.text.slice(),0,s.length);if(o.length<=32)i.push(new qt(o,l.length+s.length));else{let u=o.length>>1;i.push(new qt(o.slice(0,u)),new qt(o.slice(u)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof qt))return super.replace(e,t,i);[e,t]=oc(this,e,t);let r=qp(this.text,qp(i.text,VE(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new qt(r,s):Tr.from(qt.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=oc(this,e,t);let r="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let o=this.text[l],u=s+o.length;s>e&&l&&(r+=i),e<u&&t>s&&(r+=o.slice(Math.max(0,e-s),t-s)),s=u+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new qt(i,r)),i=[],r=-1);return r>-1&&t.push(new qt(i,r)),t}}class Tr extends lt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let l=this.children[s],o=r+l.length,u=i+l.lines-1;if((t?u:o)>=e)return l.lineInner(e,t,i,r);r=o+1,i=u+1}}decompose(e,t,i,r){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let o=this.children[s],u=l+o.length;if(e<=u&&t>=l){let f=r&((l<=e?1:0)|(u>=t?2:0));l>=e&&u<=t&&!f?i.push(o):o.decompose(e-l,t-l,i,f)}l=u+1}}replace(e,t,i){if([e,t]=oc(this,e,t),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let l=this.children[r],o=s+l.length;if(e>=s&&t<=o){let u=l.replace(e-s,t-s,i),f=this.lines-l.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let d=this.children.slice();return d[r]=u,new Tr(d,this.length-(t-e)+i.length)}return super.replace(s,o,u)}s=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=oc(this,e,t);let r="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let o=this.children[s],u=l+o.length;l>e&&s&&(r+=i),e<u&&t>l&&(r+=o.sliceString(e-l,t-l,i)),l=u+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Tr))return 0;let i=0,[r,s,l,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==l||s==o)return i;let u=this.children[r],f=e.children[s];if(u!=f)return i+u.scanIdentical(f,t);i+=u.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let y of e)i+=y.lines;if(i<32){let y=[];for(let S of e)S.flatten(y);return new qt(y,t)}let r=Math.max(32,i>>5),s=r<<1,l=r>>1,o=[],u=0,f=-1,d=[];function m(y){let S;if(y.lines>s&&y instanceof Tr)for(let v of y.children)m(v);else y.lines>l&&(u>l||!u)?(g(),o.push(y)):y instanceof qt&&u&&(S=d[d.length-1])instanceof qt&&y.lines+S.lines<=32?(u+=y.lines,f+=y.length+1,d[d.length-1]=new qt(S.text.concat(y.text),S.length+1+y.length)):(u+y.lines>r&&g(),u+=y.lines,f+=y.length+1,d.push(y))}function g(){u!=0&&(o.push(d.length==1?d[0]:Tr.from(d,f)),f=-1,u=d.length=0)}for(let y of e)m(y);return g(),o.length==1?o[0]:new Tr(o,t)}}lt.empty=new qt([""],0);function u8(n){let e=-1;for(let t of n)e+=t.length+1;return e}function qp(n,e,t=0,i=1e9){for(let r=0,s=0,l=!0;s<n.length&&r<=i;s++){let o=n[s],u=r+o.length;u>=t&&(u>i&&(o=o.slice(0,i-r)),r<t&&(o=o.slice(t-r)),l?(e[e.length-1]+=o,l=!1):e.push(o)),r=u+1}return e}function VE(n,e,t){return qp(n,[""],e,t)}class ph{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof qt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],l=s>>1,o=r instanceof qt?r.text.length:r.children.length;if(l==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof qt){let u=r.text[l+(t<0?-1:0)];if(this.offsets[i]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=r.children[l+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof qt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class bM{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new ph(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class SM{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(lt.prototype[Symbol.iterator]=function(){return this.iter()},ph.prototype[Symbol.iterator]=bM.prototype[Symbol.iterator]=SM.prototype[Symbol.iterator]=function(){return this});let h8=class{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}};function oc(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function sn(n,e,t=!0,i=!0){return o8(n,e,t,i)}function f8(n){return n>=56320&&n<57344}function d8(n){return n>=55296&&n<56320}function Hn(n,e){let t=n.charCodeAt(e);if(!d8(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return f8(i)?(t-55296<<10)+(i-56320)+65536:t}function Y1(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Cr(n){return n<65536?1:2}const _S=/\r\n?|\n/;var kn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(kn||(kn={}));class $r{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(i,r,s),r+=s):r+=l,i+=s}}iterChangedRanges(e,t=!1){TS(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new $r(e)}composeDesc(e){return this.empty?e:e.empty?this:vM(this,e)}mapDesc(e,t=!1){return e.empty?this:CS(this,e,t)}mapPos(e,t=-1,i=kn.Simple){let r=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],u=this.sections[l++],f=r+o;if(u<0){if(f>e)return s+(e-r);s+=o}else{if(i!=kn.Simple&&f>=e&&(i==kn.TrackDel&&r<e&&f>e||i==kn.TrackBefore&&r<e||i==kn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!o)return e==r||t<0?s:s+u;s+=u}r=f}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],l=this.sections[i++],o=r+s;if(l>=0&&r<=t&&o>=e)return r<e&&o>t?"cover":!0;r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $r(e)}static create(e){return new $r(e)}}class nn extends $r{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return TS(this,(t,i,r,s,l)=>e=e.replace(r,r+(i-t),l),!1),e}mapDesc(e,t=!1){return CS(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let l=t[r],o=t[r+1];if(o>=0){t[r]=o,t[r+1]=l;let u=r>>1;for(;i.length<u;)i.push(lt.empty);i.push(l?e.slice(s,s+l):lt.empty)}s+=l}return new nn(t,i)}compose(e){return this.empty?e:e.empty?this:vM(this,e,!0)}map(e,t=!1){return e.empty?this:CS(this,e,t,!0)}iterChanges(e,t=!1){TS(this,e,t)}get desc(){return $r.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new Lh(this);e:for(let l=0,o=0;;){let u=l==e.length?1e9:e[l++];for(;o<u||o==u&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,u-o);An(r,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;An(t,d,m),m>0&&pl(i,t,s.text),s.forward(d),o+=d}let f=e[l++];for(;o<f;){if(s.done)break e;let d=Math.min(s.len,f-o);An(t,d,-1),An(r,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),o+=d}}return{changes:new nn(t,i),filtered:$r.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],l=0,o=null;function u(d=!1){if(!d&&!r.length)return;l<t&&An(r,t-l,-1);let m=new nn(r,s);o=o?o.compose(m.map(o)):m,r=[],s=[],l=0}function f(d){if(Array.isArray(d))for(let m of d)f(m);else if(d instanceof nn){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);u(),o=o?o.compose(d.map(o)):d}else{let{from:m,to:g=m,insert:y}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let S=y?typeof y=="string"?lt.of(y.split(i||_S)):y:lt.empty,v=S.length;if(m==g&&v==0)return;m<l&&u(),m>l&&An(r,m-l,-1),An(r,g-m,v),pl(s,r,S),l=g}}return f(e),u(!o),o}static empty(e){return new nn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(lt.empty);i[r]=lt.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new nn(t,i)}static createSet(e,t){return new nn(e,t)}}function An(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:r>=0&&e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function pl(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(lt.empty);n.push(t)}}function TS(n,e,t){let i=n.inserted;for(let r=0,s=0,l=0;l<n.sections.length;){let o=n.sections[l++],u=n.sections[l++];if(u<0)r+=o,s+=o;else{let f=r,d=s,m=lt.empty;for(;f+=o,d+=u,u&&i&&(m=m.append(i[l-2>>1])),!(t||l==n.sections.length||n.sections[l+1]<0);)o=n.sections[l++],u=n.sections[l++];e(r,f,s,d,m),r=f,s=d}}}function CS(n,e,t,i=!1){let r=[],s=i?[]:null,l=new Lh(n),o=new Lh(e);for(let u=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let f=Math.min(l.len,o.len);An(r,f,-1),l.forward(f),o.forward(f)}else if(o.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!t))){let f=o.len;for(An(r,o.ins,-1);f;){let d=Math.min(l.len,f);l.ins>=0&&u<l.i&&l.len<=d&&(An(r,0,l.ins),s&&pl(s,r,l.text),u=l.i),l.forward(d),f-=d}o.next()}else if(l.ins>=0){let f=0,d=l.len;for(;d;)if(o.ins==-1){let m=Math.min(d,o.len);f+=m,d-=m,o.forward(m)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;An(r,f,u<l.i?l.ins:0),s&&u<l.i&&pl(s,r,l.text),u=l.i,l.forward(l.len-d)}else{if(l.done&&o.done)return s?nn.createSet(r,s):$r.create(r);throw new Error("Mismatched change set lengths")}}}function vM(n,e,t=!1){let i=[],r=t?[]:null,s=new Lh(n),l=new Lh(e);for(let o=!1;;){if(s.done&&l.done)return r?nn.createSet(i,r):$r.create(i);if(s.ins==0)An(i,s.len,0,o),s.next();else if(l.len==0&&!l.done)An(i,0,l.ins,o),r&&pl(r,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;An(i,u,d,o),r&&d&&pl(r,i,l.text)}else l.ins==-1?(An(i,s.off?0:s.len,u,o),r&&pl(r,i,s.textBit(u))):(An(i,s.off?0:s.len,l.off?0:l.ins,o),r&&!l.off&&pl(r,i,l.text));o=(s.ins>u||l.ins>=0&&l.len>u)&&(o||i.length>f),s.forward2(u),l.forward(u)}}}}class Lh{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?lt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?lt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class da{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new da(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return K.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return K.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return K.range(e.anchor,e.head)}static create(e,t,i){return new da(e,t,i)}}class K{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:K.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new K([this.main],0)}addRange(e,t=!0){return K.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,K.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new K(e.ranges.map(t=>da.fromJSON(t)),e.main)}static single(e,t=e){return new K([K.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return K.normalized(e.slice(),t);i=s.to}return new K(e,t)}static cursor(e,t=0,i,r){return da.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?da.create(t,e,48|s):da.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],l=e[r-1];if(s.empty?s.from<=l.to:s.from<l.to){let o=l.from,u=Math.max(s.to,l.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?K.range(u,o):K.range(o,u))}}return new K(e,t)}}function wM(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let F1=0;class Se{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=F1++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Se(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:W1),!!e.static,e.enables)}of(e){return new Yp([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yp(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yp(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function W1(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Yp{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=F1++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,l=e[s]>>1,o=this.type==2,u=!1,f=!1,d=[];for(let m of this.dependencies)m=="doc"?u=!0:m=="selection"?f=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=i(m),1},update(m,g){if(u&&g.docChanged||f&&(g.docChanged||g.selection)||ES(m,d)){let y=i(m);if(o?!qE(y,m.values[l],r):!r(y,m.values[l]))return m.values[l]=y,1}return 0},reconfigure:(m,g)=>{let y,S=g.config.address[s];if(S!=null){let v=Qm(g,S);if(this.dependencies.every(x=>x instanceof Se?g.facet(x)===m.facet(x):x instanceof dn?g.field(x,!1)==m.field(x,!1):!0)||(o?qE(y=i(m),v,r):r(y=i(m),v)))return m.values[l]=v,0}else y=i(m);return m.values[l]=y,1}}}}function qE(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function ES(n,e){let t=!1;for(let i of e)mh(n,i)&1&&(t=!0);return t}function p8(n,e,t){let i=t.map(u=>n[u.id]),r=t.map(u=>u.type),s=i.filter(u=>!(u&1)),l=n[e.id]>>1;function o(u){let f=[];for(let d=0;d<i.length;d++){let m=Qm(u,i[d]);if(r[d]==2)for(let g of m)f.push(g);else f.push(m)}return e.combine(f)}return{create(u){for(let f of i)mh(u,f);return u.values[l]=o(u),1},update(u,f){if(!ES(u,s))return 0;let d=o(u);return e.compare(d,u.values[l])?0:(u.values[l]=d,1)},reconfigure(u,f){let d=ES(u,i),m=f.config.facets[e.id],g=f.facet(e);if(m&&!d&&W1(t,m))return u.values[l]=g,0;let y=o(u);return e.compare(y,g)?(u.values[l]=g,0):(u.values[l]=y,1)}}}const op=Se.define({static:!0});class dn{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new dn(F1++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(op).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],l=this.updateF(s,r);return this.compareF(s,l)?0:(i.values[t]=l,1)},reconfigure:(i,r)=>{let s=i.facet(op),l=r.facet(op),o;return(o=s.find(u=>u.field==this))&&o!=l.find(u=>u.field==this)?(i.values[t]=o.create(i),1):r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,op.of({field:this,create:e})]}get extension(){return this}}const oa={lowest:4,low:3,default:2,high:1,highest:0};function Xu(n){return e=>new xM(e,n)}const Qs={highest:Xu(oa.highest),high:Xu(oa.high),default:Xu(oa.default),low:Xu(oa.low),lowest:Xu(oa.lowest)};class xM{constructor(e,t){this.inner=e,this.prec=t}}class Rg{of(e){return new AS(this,e)}reconfigure(e){return Rg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class AS{constructor(e,t){this.compartment=e,this.inner=t}}class Am{constructor(e,t,i,r,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),l=new Map;for(let g of m8(e,t,l))g instanceof dn?r.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let o=Object.create(null),u=[],f=[];for(let g of r)o[g.id]=f.length<<1,f.push(y=>g.slot(y));let d=i==null?void 0:i.config.facets;for(let g in s){let y=s[g],S=y[0].facet,v=d&&d[g]||[];if(y.every(x=>x.type==0))if(o[S.id]=u.length<<1|1,W1(v,y))u.push(i.facet(S));else{let x=S.combine(y.map(k=>k.value));u.push(i&&S.compare(x,i.facet(S))?i.facet(S):x)}else{for(let x of y)x.type==0?(o[x.id]=u.length<<1|1,u.push(x.value)):(o[x.id]=f.length<<1,f.push(k=>x.dynamicSlot(k)));o[S.id]=f.length<<1,f.push(x=>p8(x,S,y))}}let m=f.map(g=>g(o));return new Am(e,l,m,o,u,s)}}function m8(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(l,o){let u=r.get(l);if(u!=null){if(u<=o)return;let f=i[u].indexOf(l);f>-1&&i[u].splice(f,1),l instanceof AS&&t.delete(l.compartment)}if(r.set(l,o),Array.isArray(l))for(let f of l)s(f,o);else if(l instanceof AS){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(l.compartment)||l.inner;t.set(l.compartment,f),s(f,o)}else if(l instanceof xM)s(l.inner,l.prec);else if(l instanceof dn)i[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof Yp)i[o].push(l),l.facet.extensions&&s(l.facet.extensions,oa.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(n,oa.default),i.reduce((l,o)=>l.concat(o))}function mh(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Qm(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const kM=Se.define(),QS=Se.define({combine:n=>n.some(e=>e),static:!0}),_M=Se.define({combine:n=>n.length?n[0]:void 0,static:!0}),TM=Se.define(),CM=Se.define(),EM=Se.define(),AM=Se.define({combine:n=>n.length?n[0]:!1});class Lr{constructor(e,t){this.type=e,this.value=t}static define(){return new g8}}class g8{of(e){return new Lr(this,e)}}class O8{constructor(e){this.map=e}of(e){return new Ie(this,e)}}class Ie{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ie(this.type,t)}is(e){return this.type==e}static define(e={}){return new O8(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}Ie.reconfigure=Ie.define();Ie.appendConfig=Ie.define();class Jt{constructor(e,t,i,r,s,l){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&wM(i,t.newLength),s.some(o=>o.type==Jt.time)||(this.annotations=s.concat(Jt.time.of(Date.now())))}static create(e,t,i,r,s,l){return new Jt(e,t,i,r,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Jt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Jt.time=Lr.define();Jt.userEvent=Lr.define();Jt.addToHistory=Lr.define();Jt.remote=Lr.define();function y8(n,e){let t=[];for(let i=0,r=0;;){let s,l;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],l=n[i++];else if(r<e.length)s=e[r++],l=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function QM(n,e,t){var i;let r,s,l;return t?(r=e.changes,s=nn.empty(e.changes.length),l=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),l=n.changes.compose(r)),{changes:l,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:Ie.mapEffects(n.effects,r).concat(Ie.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function PS(n,e,t){let i=e.selection,r=Zo(e.annotations);return e.userEvent&&(r=r.concat(Jt.userEvent.of(e.userEvent))),{changes:e.changes instanceof nn?e.changes:nn.of(e.changes||[],t,n.facet(_M)),selection:i&&(i instanceof K?i:K.single(i.anchor,i.head)),effects:Zo(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function PM(n,e,t){let i=PS(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;i=QM(i,PS(n,e[s],l?i.changes.newLength:n.doc.length),l)}let r=Jt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return S8(t?b8(r):r)}function b8(n){let e=n.startState,t=!0;for(let r of e.facet(TM)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:y8(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=nn.empty(e.doc.length);else{let l=n.changes.filter(t);r=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}n=Jt.create(e,r,n.selection&&n.selection.map(s),Ie.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(CM);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Jt?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Jt?n=s[0]:n=PM(e,Zo(s),!1)}return n}function S8(n){let e=n.startState,t=e.facet(EM),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=QM(i,PS(e,s,n.changes.newLength),!0))}return i==n?n:Jt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const v8=[];function Zo(n){return n==null?v8:Array.isArray(n)?n:[n]}var Dt=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(Dt||(Dt={}));const w8=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let RS;try{RS=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function x8(n){if(RS)return RS.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||w8.test(t)))return!0}return!1}function k8(n){return e=>{if(!/\S/.test(e))return Dt.Space;if(x8(e))return Dt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Dt.Word;return Dt.Other}}class et{constructor(e,t,i,r,s,l){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)mh(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return mh(this,i),Qm(this,i)}update(...e){return PM(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(Rg.reconfigure)?(t&&(r=new Map,t.compartments.forEach((u,f)=>r.set(f,u)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(Ie.reconfigure)?(t=null,i=o.value):o.is(Ie.appendConfig)&&(t=null,i=Zo(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Am.resolve(i,r,this),s=new et(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let l=e.startState.facet(QS)?e.newSelection:e.newSelection.asSingle();new et(t,e.newDoc,l,s,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:K.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],l=Zo(i.effects);for(let o=1;o<t.ranges.length;o++){let u=e(t.ranges[o]),f=this.changes(u.changes),d=f.map(r);for(let g=0;g<o;g++)s[g]=s[g].map(d);let m=r.mapDesc(f,!0);s.push(u.range.map(m)),r=r.compose(d),l=Ie.mapEffects(l,d).concat(Ie.mapEffects(Zo(u.effects),m))}return{changes:r,selection:K.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof nn?e:nn.of(e,this.doc.length,this.facet(et.lineSeparator))}toText(e){return lt.of(e.split(this.facet(et.lineSeparator)||_S))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(mh(this,t),Qm(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof dn&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let l=i[s],o=e[s];r.push(l.init(u=>l.spec.fromJSON(o,u)))}}return et.create({doc:e.doc,selection:K.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Am.resolve(e.extensions||[],new Map),i=e.doc instanceof lt?e.doc:lt.of((e.doc||"").split(t.staticFacet(et.lineSeparator)||_S)),r=e.selection?e.selection instanceof K?e.selection:K.single(e.selection.anchor,e.selection.head):K.single(0);return wM(r,i.length),t.staticFacet(QS)||(r=r.asSingle()),new et(t,i,r,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(et.tabSize)}get lineBreak(){return this.facet(et.lineSeparator)||`
`}get readOnly(){return this.facet(AM)}phrase(e,...t){for(let i of this.facet(et.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(kM))for(let l of s(this,t,i))Object.prototype.hasOwnProperty.call(l,e)&&r.push(l[e]);return r}charCategorizer(e){let t=this.languageDataAt("wordChars",e);return k8(t.length?t[0]:"")}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-i,o=e-i;for(;l>0;){let u=sn(t,l,!1);if(s(t.slice(u,l))!=Dt.Word)break;l=u}for(;o<r;){let u=sn(t,o);if(s(t.slice(o,u))!=Dt.Word)break;o=u}return l==o?null:K.range(l+i,o+i)}}et.allowMultipleSelections=QS;et.tabSize=Se.define({combine:n=>n.length?n[0]:4});et.lineSeparator=_M;et.readOnly=AM;et.phrases=Se.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});et.languageData=kM;et.changeFilter=TM;et.transactionFilter=CM;et.transactionExtender=EM;Rg.reconfigure=Ie.define();function zr(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let l=r[s],o=i[s];if(o===void 0)i[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class xl{eq(e){return this==e}range(e,t=e){return $S.create(e,t,this)}}xl.prototype.startSide=xl.prototype.endSide=0;xl.prototype.point=!1;xl.prototype.mapMode=kn.TrackDel;function H1(n,e){return n==e||n.constructor==e.constructor&&n.eq(e)}let $S=class RM{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new RM(e,t,i)}};function MS(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class G1{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let l=r,o=s.length;;){if(l==o)return l;let u=l+o>>1,f=s[u]-e||(i?this.value[u].endSide:this.value[u].startSide)-t;if(u==l)return f>=0?l:o;f>=0?o=u:l=u+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],l=-1,o=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],d=this.from[u]+e,m=this.to[u]+e,g,y;if(d==m){let S=t.mapPos(d,f.startSide,f.mapMode);if(S==null||(g=y=S,f.startSide!=f.endSide&&(y=t.mapPos(d,f.endSide),y<g)))continue}else if(g=t.mapPos(d,f.startSide),y=t.mapPos(m,f.endSide),g>y||g==y&&f.startSide>0&&f.endSide<=0)continue;(y-g||f.endSide-f.startSide)<0||(l<0&&(l=g),f.point&&(o=Math.max(o,y-g)),i.push(f),r.push(g-l),s.push(y-l))}return{mapped:i.length?new G1(r,s,i,o):null,pos:l}}}class He{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new He(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(i&&(t=t.slice().sort(MS)),this.isEmpty)return t.length?He.of(t):this;let o=new $M(this,null,-1).goto(0),u=0,f=[],d=new _s;for(;o.value||u<t.length;)if(u<t.length&&(o.from-t[u].from||o.startSide-t[u].value.startSide)>=0){let m=t[u++];d.addInner(m.from,m.to,m.value)||f.push(m)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(o.chunkIndex)<t[u].from)&&(!l||r>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||r>o.to||s<o.from||l(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||f.push($S.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!f.length?He.empty:this.nextLayer.update({add:f,filter:l,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],u=this.chunk[l],f=e.touchesRange(o,o+u.length);if(f===!1)r=Math.max(r,u.maxPoint),t.push(u),i.push(e.mapPos(o));else if(f===!0){let{mapped:d,pos:m}=u.map(o,e);d&&(r=Math.max(r,d.maxPoint),t.push(d),i.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new He(i,t,s||He.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],l=this.chunk[r];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return zh.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return zh.from(e).goto(t)}static compare(e,t,i,r,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),o=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),u=YE(l,o,i),f=new Zu(l,u,s),d=new Zu(o,u,s);i.iterGaps((m,g,y)=>FE(f,m,d,g,y,r)),i.empty&&i.length==0&&FE(f,0,d,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=YE(s,l),u=new Zu(s,o,0).goto(i),f=new Zu(l,o,0).goto(i);for(;;){if(u.to!=f.to||!IS(u.active,f.active)||u.point&&(!f.point||!H1(u.point,f.point)))return!1;if(u.to>r)return!0;u.next(),f.next()}}static spans(e,t,i,r,s=-1){let l=new Zu(e,null,s).goto(t),o=t,u=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,u);r.point(o,f,l.point,d,m,l.pointRank),u=Math.min(l.openEnd(f),d.length)}else f>o&&(r.span(o,f,l.active,u),u=l.openEnd(f));if(l.to>i)return u+(l.point&&l.to>i?1:0);o=l.to,l.next()}}static of(e,t=!1){let i=new _s;for(let r of e instanceof $S?[e]:t?_8(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return He.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=He.empty;r=r.nextLayer)t=new He(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}He.empty=new He([],[],null,-1);function _8(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(MS(e,i)>0)return n.slice().sort(MS);e=i}return n}He.empty.nextLayer=He.empty;class _s{finishChunk(e){this.chunks.push(new G1(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new _s)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(He.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=He.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function YE(n,e,t){let i=new Map;for(let s of n)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let r=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let o=i.get(s.chunk[l]);o!=null&&(t?t.mapPos(o):o)==s.chunkPos[l]&&!(t!=null&&t.touchesRange(o,o+s.chunk[l].length))&&r.add(s.chunk[l])}return r}class $M{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class zh{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&r.push(new $M(l,t,i,s));return r.length==1?r[0]:new zh(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)N0(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)N0(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),N0(this.heap,0)}}}function N0(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Zu{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=zh.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){cp(this.active,e),cp(this.activeTo,e),cp(this.activeRank,e),this.minActive=WE(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||r-this.activeTo[t])>0;)t++;up(this.active,t,i),up(this.activeTo,t,r),up(this.activeRank,t,s),e&&up(e,t,this.cursor.from),this.minActive=WE(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&cp(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function FE(n,e,t,i,r,s){n.goto(e),t.goto(i);let l=i+r,o=i,u=i-e,f=!!s.boundChange;for(let d=!1;;){let m=n.to+u-t.to,g=m||n.endSide-t.endSide,y=g<0?n.to+u:t.to,S=Math.min(y,l);if(n.point||t.point?(n.point&&t.point&&H1(n.point,t.point)&&IS(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(o,S,n.point,t.point),d=!1):(d&&s.boundChange(o),S>o&&!IS(n.active,t.active)&&s.compareRange(o,S,n.active,t.active),f&&S<l&&(m||n.openEnd(y)!=t.openEnd(y))&&(d=!0)),y>l)break;o=y,g<=0&&n.next(),g>=0&&t.next()}}function IS(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!H1(n[t],e[t]))return!1;return!0}function cp(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function up(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function WE(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function cr(n,e,t=n.length){let i=0;for(let r=0;r<t&&r<n.length;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=sn(n,r));return i}function DS(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=sn(n,r)}return i===!0?-1:n.length}const NS="",HE=typeof Symbol>"u"?"__"+NS:Symbol.for(NS),LS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class kl{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,o,u,f){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&o==null)return u.push(l[0]+";");for(let y in o){let S=o[y];if(/&/.test(y))s(y.split(/,\s*/).map(v=>l.map(x=>v.replace(/&/,x))).reduce((v,x)=>v.concat(x)),S,u);else if(S&&typeof S=="object"){if(!m)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(r(y),S,d,g)}else S!=null&&d.push(y.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+S+";")}(d.length||g)&&u.push((i&&!m&&!f?l.map(i):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(r(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=GE[HE]||1;return GE[HE]=e+1,NS+e.toString(36)}static mount(e,t,i){let r=e[LS],s=i&&i.nonce;r?s&&r.setNonce(s):r=new T8(e,s),r.mount(Array.isArray(t)?t:[t],e)}}let KE=new Map;class T8{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=KE.get(i);if(s)return e[LS]=s;this.sheet=new r.CSSStyleSheet,KE.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[LS]=this}mount(e,t){let i=this.sheet,r=0,s=0;for(let l=0;l<e.length;l++){let o=e[l],u=this.modules.indexOf(o);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,o),i)for(let f=0;f<o.rules.length;f++)i.insertRule(o.rules[f],r++)}else{for(;s<u;)r+=this.modules[s++].rules.length;r+=o.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var _l={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Bh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},C8=typeof navigator<"u"&&/Mac/.test(navigator.platform),E8=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xn=0;xn<10;xn++)_l[48+xn]=_l[96+xn]=String(xn);for(var xn=1;xn<=24;xn++)_l[xn+111]="F"+xn;for(var xn=65;xn<=90;xn++)_l[xn]=String.fromCharCode(xn+32),Bh[xn]=String.fromCharCode(xn);for(var L0 in _l)Bh.hasOwnProperty(L0)||(Bh[L0]=_l[L0]);function A8(n){var e=C8&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||E8&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Bh:_l)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function St(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)MM(n,arguments[e]);return n}function MM(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)MM(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Dn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},zS=typeof document<"u"?document:{documentElement:{style:{}}};const BS=/Edge\/(\d+)/.exec(Dn.userAgent),IM=/MSIE \d/.test(Dn.userAgent),US=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Dn.userAgent),$g=!!(IM||US||BS),JE=!$g&&/gecko\/(\d+)/i.test(Dn.userAgent),z0=!$g&&/Chrome\/(\d+)/.exec(Dn.userAgent),Q8="webkitFontSmoothing"in zS.documentElement.style,XS=!$g&&/Apple Computer/.test(Dn.vendor),eA=XS&&(/Mobile\/\w+/.test(Dn.userAgent)||Dn.maxTouchPoints>2);var ve={mac:eA||/Mac/.test(Dn.platform),windows:/Win/.test(Dn.platform),linux:/Linux|X11/.test(Dn.platform),ie:$g,ie_version:IM?zS.documentMode||6:US?+US[1]:BS?+BS[1]:0,gecko:JE,gecko_version:JE?+(/Firefox\/(\d+)/.exec(Dn.userAgent)||[0,0])[1]:0,chrome:!!z0,chrome_version:z0?+z0[1]:0,ios:eA,android:/Android\b/.test(Dn.userAgent),webkit_version:Q8?+(/\bAppleWebKit\/(\d+)/.exec(Dn.userAgent)||[0,0])[1]:0,safari:XS,safari_version:XS?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Dn.userAgent)||[0,0])[1]:0,tabSize:zS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function K1(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Pm=Object.create(null);function J1(n,e,t){if(n==e)return!0;n||(n=Pm),e||(e=Pm);let i=Object.keys(n),r=Object.keys(e);if(i.length-0!=r.length-0)return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function P8(n,e){for(let t=n.attributes.length-1;t>=0;t--){let i=n.attributes[t].name;e[i]==null&&n.removeAttribute(i)}for(let t in e){let i=e[t];t=="style"?n.style.cssText=i:n.getAttribute(t)!=i&&n.setAttribute(t,i)}}function tA(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function R8(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class hr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var _n=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(_n||(_n={}));class Ee extends xl{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Cf(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ca(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:l}=DM(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(l?t?2e8:1:-6e8)+1}return new Ca(e,i,r,t,e.widget||null,!0)}static line(e){return new Ef(e)}static set(e,t=!1){return He.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ee.none=He.empty;class Cf extends Ee{constructor(e){let{start:t,end:i}=DM(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?K1(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Pm}eq(e){return this==e||e instanceof Cf&&this.tagName==e.tagName&&J1(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Cf.prototype.point=!1;class Ef extends Ee{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ef&&this.spec.class==e.spec.class&&J1(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ef.prototype.mapMode=kn.TrackBefore;Ef.prototype.point=!0;class Ca extends Ee{constructor(e,t,i,r,s,l){super(t,i,s,e),this.block=r,this.isReplace=l,this.mapMode=r?t<=0?kn.TrackBefore:kn.TrackAfter:kn.TrackDel}get type(){return this.startSide!=this.endSide?_n.WidgetRange:this.startSide<=0?_n.WidgetBefore:_n.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ca&&$8(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ca.prototype.point=!0;function DM(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function $8(n,e){return n==e||!!(n&&e&&n.compare(e))}function jo(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class Uh extends xl{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof Uh&&this.tagName==e.tagName&&J1(this.attributes,e.attributes)}static create(e){return new Uh(e.tagName,e.attributes||Pm)}static set(e,t=!1){return He.of(e,t)}}Uh.prototype.startSide=Uh.prototype.endSide=-1;function cc(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function ZS(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function gh(n,e){if(!e.anchorNode)return!1;try{return ZS(n,e.anchorNode)}catch{return!1}}function Oh(n){return n.nodeType==3?Zh(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function yh(n,e,t,i){return t?nA(n,e,t,i,-1)||nA(n,e,t,i,1):!1}function Tl(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Rm(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function nA(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Ts(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Tl(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?Ts(n):0}else return!1}}function Ts(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Xh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function M8(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function NM(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function I8(n,e,t,i,r,s,l,o){let u=n.ownerDocument,f=u.defaultView||window;for(let d=n,m=!1;d&&!m;)if(d.nodeType==1){let g,y=d==u.body,S=1,v=1;if(y)g=M8(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let C=d.getBoundingClientRect();({scaleX:S,scaleY:v}=NM(d,C)),g={left:C.left,right:C.left+d.clientWidth*S,top:C.top,bottom:C.top+d.clientHeight*v}}let x=0,k=0;if(r=="nearest")e.top<g.top?(k=e.top-(g.top+l),t>0&&e.bottom>g.bottom+k&&(k=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(k=e.bottom-g.bottom+l,t<0&&e.top-k<g.top&&(k=e.top-(g.top+l)));else{let C=e.bottom-e.top,T=g.bottom-g.top;k=(r=="center"&&C<=T?e.top+C/2-T/2:r=="start"||r=="center"&&t<0?e.top-l:e.bottom-T+l)-g.top}if(i=="nearest"?e.left<g.left?(x=e.left-(g.left+s),t>0&&e.right>g.right+x&&(x=e.right-g.right+s)):e.right>g.right&&(x=e.right-g.right+s,t<0&&e.left<g.left+x&&(x=e.left-(g.left+s))):x=(i=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:i=="start"==o?e.left-s:e.right-(g.right-g.left)+s)-g.left,x||k)if(y)f.scrollBy(x,k);else{let C=0,T=0;if(k){let X=d.scrollTop;d.scrollTop+=k/v,T=(d.scrollTop-X)*v}if(x){let X=d.scrollLeft;d.scrollLeft+=x/S,C=(d.scrollLeft-X)*S}e={left:e.left-C,top:e.top-T,right:e.right-C,bottom:e.bottom-T},C&&Math.abs(C-x)<1&&(i="nearest"),T&&Math.abs(T-k)<1&&(r="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function D8(n){let e=n.ownerDocument,t,i;for(let r=n.parentNode;r&&!(r==e.body||t&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:i}}class N8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Ts(t):0),i,Math.min(e.focusOffset,i?Ts(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let aa=null;ve.safari&&ve.safari_version>=26&&(aa=!1);function LM(n){if(n.setActive)return n.setActive();if(aa)return n.focus(aa);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(aa==null?{get preventScroll(){return aa={preventScroll:!0},!0}}:void 0),!aa){aa=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let iA;function Zh(n,e,t=e){let i=iA||(iA=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Vo(n,e,t,i){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",r);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function L8(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function z8(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Ts(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=Ts(t))}else{if(t==n)return!0;i=Tl(t),t=t.parentNode}}function zM(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function BM(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Ts(t)}else if(t.parentNode&&!Rm(t))i=Tl(t),t=t.parentNode;else return null}}function UM(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Rm(t))i=Tl(t)+1,t=t.parentNode;else return null}}class ir{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new ir(e.parentNode,Tl(e),t)}static after(e,t){return new ir(e.parentNode,Tl(e)+1,t)}}var _t=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(_t||(_t={}));const Ea=_t.LTR,ew=_t.RTL;function XM(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const B8=XM("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),U8=XM("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jS=Object.create(null),Sr=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);jS[e]=t,jS[t]=-e}function ZM(n){return n<=247?B8[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?U8[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const X8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ps{get dir(){return this.level%2?ew:Ea}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let s=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=t&&o.to>=t){if(o.level==i)return l;(s<0||(r!=0?r<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function jM(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!jM(i.inner,r.inner))return!1}return!0}const kt=[];function Z8(n,e,t,i,r){for(let s=0;s<=i.length;s++){let l=s?i[s-1].to:e,o=s<i.length?i[s].from:t,u=s?256:r;for(let f=l,d=u,m=u;f<o;f++){let g=ZM(n.charCodeAt(f));g==512?g=d:g==8&&m==4&&(g=16),kt[f]=g==4?2:g,g&7&&(m=g),d=g}for(let f=l,d=u,m=u;f<o;f++){let g=kt[f];if(g==128)f<o-1&&d==kt[f+1]&&d&24?g=kt[f]=d:kt[f]=256;else if(g==64){let y=f+1;for(;y<o&&kt[y]==64;)y++;let S=f&&d==8||y<t&&kt[y]==8?m==1?1:8:256;for(let v=f;v<y;v++)kt[v]=S;f=y-1}else g==8&&m==1&&(kt[f]=1);d=g,g&7&&(m=g)}}}function j8(n,e,t,i,r){let s=r==1?2:1;for(let l=0,o=0,u=0;l<=i.length;l++){let f=l?i[l-1].to:e,d=l<i.length?i[l].from:t;for(let m=f,g,y,S;m<d;m++)if(y=jS[g=n.charCodeAt(m)])if(y<0){for(let v=o-3;v>=0;v-=3)if(Sr[v+1]==-y){let x=Sr[v+2],k=x&2?r:x&4?x&1?s:r:0;k&&(kt[m]=kt[Sr[v]]=k),o=v;break}}else{if(Sr.length==189)break;Sr[o++]=m,Sr[o++]=g,Sr[o++]=u}else if((S=kt[m])==2||S==1){let v=S==r;u=v?0:1;for(let x=o-3;x>=0;x-=3){let k=Sr[x+2];if(k&2)break;if(v)Sr[x+2]|=2;else{if(k&4)break;Sr[x+2]|=4}}}}}function V8(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let l=r?t[r-1].to:n,o=r<t.length?t[r].from:e;for(let u=l;u<o;){let f=kt[u];if(f==256){let d=u+1;for(;;)if(d==o){if(r==t.length)break;d=t[r++].to,o=r<t.length?t[r].from:e}else if(kt[d]==256)d++;else break;let m=s==1,g=(d<e?kt[d]:i)==1,y=m==g?m?1:2:i;for(let S=d,v=r,x=v?t[v-1].to:n;S>u;)S==x&&(S=t[--v].from,x=v?t[v-1].to:n),kt[--S]=y;u=d}else s=f,u++}}}function VS(n,e,t,i,r,s,l){let o=i%2?2:1;if(i%2==r%2)for(let u=e,f=0;u<t;){let d=!0,m=!1;if(f==s.length||u<s[f].from){let v=kt[u];v!=o&&(d=!1,m=v==16)}let g=!d&&o==1?[]:null,y=d?i:i+1,S=u;e:for(;;)if(f<s.length&&S==s[f].from){if(m)break e;let v=s[f];if(!d)for(let x=v.to,k=f+1;;){if(x==t)break e;if(k<s.length&&s[k].from==x)x=s[k++].to;else{if(kt[x]==o)break e;break}}if(f++,g)g.push(v);else{v.from>u&&l.push(new ps(u,v.from,y));let x=v.direction==Ea!=!(y%2);qS(n,x?i+1:i,r,v.inner,v.from,v.to,l),u=v.to}S=v.to}else{if(S==t||(d?kt[S]!=o:kt[S]==o))break;S++}g?VS(n,u,S,i+1,r,g,l):u<S&&l.push(new ps(u,S,y)),u=S}else for(let u=t,f=s.length;u>e;){let d=!0,m=!1;if(!f||u>s[f-1].to){let v=kt[u-1];v!=o&&(d=!1,m=v==16)}let g=!d&&o==1?[]:null,y=d?i:i+1,S=u;e:for(;;)if(f&&S==s[f-1].to){if(m)break e;let v=s[--f];if(!d)for(let x=v.from,k=f;;){if(x==e)break e;if(k&&s[k-1].to==x)x=s[--k].from;else{if(kt[x-1]==o)break e;break}}if(g)g.push(v);else{v.to<u&&l.push(new ps(v.to,u,y));let x=v.direction==Ea!=!(y%2);qS(n,x?i+1:i,r,v.inner,v.from,v.to,l),u=v.from}S=v.from}else{if(S==e||(d?kt[S-1]!=o:kt[S-1]==o))break;S--}g?VS(n,S,u,i+1,r,g,l):S<u&&l.push(new ps(S,u,y)),u=S}}function qS(n,e,t,i,r,s,l){let o=e%2?2:1;Z8(n,r,s,i,o),j8(n,r,s,i,o),V8(r,s,i,o),VS(n,r,s,e,t,i,l)}function q8(n,e,t){if(!n)return[new ps(0,0,e==ew?1:0)];if(e==Ea&&!t.length&&!X8.test(n))return VM(n.length);if(t.length)for(;n.length>kt.length;)kt[kt.length]=256;let i=[],r=e==Ea?0:1;return qS(n,r,r,t,0,n.length,i),i}function VM(n){return[new ps(0,n,0)]}let qM="";function Y8(n,e,t,i,r){var s;let l=i.head-n.from,o=ps.find(e,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),u=e[o],f=u.side(r,t);if(l==f){let g=o+=r?1:-1;if(g<0||g>=e.length)return null;u=e[o=g],l=u.side(!r,t),f=u.side(r,t)}let d=sn(n.text,l,u.forward(r,t));(d<u.from||d>u.to)&&(d=f),qM=n.text.slice(Math.min(l,d),Math.max(l,d));let m=o==(r?e.length-1:0)?null:e[o+(r?1:-1)];return m&&d==f&&m.level+(r?0:1)<u.level?K.cursor(m.side(!r,t)+n.from,m.forward(r,t)?1:-1,m.level):K.cursor(d+n.from,u.forward(r,t)?-1:1,u.level)}function F8(n,e,t){for(let i=e;i<t;i++){let r=ZM(n.charCodeAt(i));if(r==1)return Ea;if(r==2||r==4)return ew}return Ea}const YM=Se.define(),FM=Se.define(),WM=Se.define(),HM=Se.define(),YS=Se.define(),GM=Se.define(),KM=Se.define(),tw=Se.define(),nw=Se.define(),JM=Se.define({combine:n=>n.some(e=>e)}),eI=Se.define({combine:n=>n.some(e=>e)}),tI=Se.define();class qo{constructor(e,t="nearest",i="nearest",r=5,s=5,l=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new qo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new qo(K.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const hp=Ie.define({map:(n,e)=>n.map(e)}),nI=Ie.define();function ti(n,e,t){let i=n.facet(HM);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const cs=Se.define({combine:n=>n.length?n[0]:!0});let W8=0;const Do=Se.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class Yt{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Do.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Do.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:l}=t||{};return new Yt(W8++,e,i,r,o=>{let u=[];return l&&u.push(Mg.of(f=>{let d=f.plugin(o);return d?l(d):Ee.none})),s&&u.push(s(o)),u})}static fromClass(e,t){return Yt.define((i,r)=>new e(i,r),t)}}class B0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(ti(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ti(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){ti(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const iI=Se.define(),iw=Se.define(),Mg=Se.define(),rI=Se.define(),rw=Se.define(),Af=Se.define(),sI=Se.define();function rA(n,e){let t=n.state.facet(sI);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(n):s),r=[];return He.spans(i,e.from,e.to,{point(){},span(s,l,o,u){let f=s-e.from,d=l-e.from,m=r;for(let g=o.length-1;g>=0;g--,u--){let y=o[g].spec.bidiIsolate,S;if(y==null&&(y=F8(e.text,f,d)),u>0&&m.length&&(S=m[m.length-1]).to==f&&S.direction==y)S.to=d,m=S.inner;else{let v={from:f,to:d,direction:y,inner:[]};m.push(v),m=v.inner}}}}),r}const lI=Se.define();function sw(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(lI)){let l=s(n);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(i=Math.max(i,l.top)),l.bottom!=null&&(r=Math.max(r,l.bottom)))}return{left:e,right:t,top:i,bottom:r}}const nh=Se.define();class Di{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Di(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,l=0;;){let o=r<e.length?e[r].fromB:1e9,u=s<t.length?t[s]:1e9,f=Math.min(o,u);if(f==1e9)break;let d=f+l,m=f,g=d;for(;;)if(s<t.length&&t[s]<=m){let y=t[s+1];s+=2,m=Math.max(m,y);for(let S=r;S<e.length&&e[S].fromB<=m;S++)l=e[S].toA-e[S].toB;g=Math.max(g,y+l)}else if(r<e.length&&e[r].fromB<=m){let y=e[r++];m=Math.max(m,y.toB),g=Math.max(g,y.toA),l=y.toA-y.toB}else break;i.push(new Di(d,g,f,m))}return i}}class $m{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=nn.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,o,u)=>r.push(new Di(s,l,o,u))),this.changedRanges=r}static create(e,t,i){return new $m(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const H8=[];class en{constructor(e,t,i=0){this.dom=e,this.length=t,this.flags=i,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return H8}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&P8(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let i=t;for(let r of this.children){if(r==e)return i;i+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let i=Tl(this.dom),r=this.length?e>0:t>0;return new ir(this.parent.dom,i+(r?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Dg)return e;return null}static get(e){return e.cmTile}}class Ig extends en{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,i=null,r,s=(e==null?void 0:e.node)==t?e:null,l=0;for(let o of this.children){if(o.sync(e),l+=o.length+o.breakAfter,r=i?i.nextSibling:t.firstChild,s&&r!=o.dom&&(s.written=!0),o.dom.parentNode==t)for(;r&&r!=o.dom;)r=sA(r);else t.insertBefore(o.dom,r);i=o.dom}for(r=i?i.nextSibling:t.firstChild,s&&r&&(s.written=!0);r;)r=sA(r);this.length=l}}function sA(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Dg extends Ig{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=en.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],i=this,r=0,s=0;;)if(r==i.children.length){if(!t.length)return;i=i.parent,i.breakAfter&&s++,r=t.pop()}else{let l=i.children[r++];if(l instanceof bl)t.push(r),i=l,r=0;else{let o=s+l.length,u=e(l,s);if(u!==void 0)return u;s=o+l.breakAfter}}}resolveBlock(e,t){let i,r=-1,s,l=-1;if(this.blockTiles((o,u)=>{let f=u+o.length;if(e>=u&&e<=f){if(o.isWidget()&&t>=-1&&t<=1){if(o.flags&32)return!0;o.flags&16&&(i=void 0)}(u<e||e==f&&(t<-1?o.length:o.covers(1)))&&(!i||!o.isWidget()&&i.isWidget())&&(i=o,r=e-u),(f>e||e==u&&(t>1?o.length:o.covers(-1)))&&(!s||!o.isWidget()&&s.isWidget())&&(s=o,l=e-u)}}),!i&&!s)throw new Error("No tile at position "+e);return i&&t<0||!s?{tile:i,offset:r}:{tile:s,offset:l}}}class bl extends Ig{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let i=new bl(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class uc extends Ig{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,i){let r=new uc(t||document.createElement("div"),e);return(!t||!i)&&(r.flags|=4),r}get domAttrs(){return this.attrs}resolveInline(e,t,i){let r=null,s=-1,l=null,o=-1;function u(d,m){for(let g=0,y=0;g<d.children.length&&y<=m;g++){let S=d.children[g],v=y+S.length;v>=m&&(S.isComposite()?u(S,m-y):(!l||l.isHidden&&(t>0||i&&K8(l,S)))&&(v>m||S.flags&32)?(l=S,o=m-y):(y<m||S.flags&16&&!S.isHidden)&&(r=S,s=m-y)),y=v}}u(this,e);let f=(t<0?r:l)||r||l;return f?{tile:f,offset:f==r?s:o}:null}coordsIn(e,t){let i=this.resolveInline(e,t,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),t):G8(this)}domIn(e,t){let i=this.resolveInline(e,t);if(i){let{tile:r,offset:s}=i;if(this.dom.contains(r.dom))return r.isText()?new ir(r.dom,Math.min(r.dom.nodeValue.length,s)):r.domPosFor(s,r.flags&16?1:r.flags&32?-1:t);let l=i.tile.parent,o=!1;for(let u of l.children){if(o)return new ir(u.dom,0);u==i.tile&&(o=!0)}}return new ir(this.dom,0)}}function G8(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Oh(e);return t[t.length-1]||null}function K8(n,e){let t=n.coordsIn(0,1),i=e.coordsIn(0,1);return t&&i&&i.top<t.bottom}class Kn extends Ig{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let i=new Kn(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class pa extends en{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let i=this.dom.nodeValue.length;e>i&&(e=i);let r=e,s=e,l=0;e==0&&t<0||e==i&&t>=0?ve.chrome||ve.gecko||(e?(r--,l=1):s<i&&(s++,l=-1)):t<0?r--:s<i&&s++;let o=Zh(this.dom,r,s).getClientRects();if(!o.length)return null;let u=o[(l?l<0:t>=0)?0:o.length-1];return ve.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(o,f=>f.width)||u),l?Xh(u,l<0):u||null}static of(e,t){let i=new pa(t||document.createTextNode(e),e);return t||(i.flags|=2),i}}class Aa extends en{constructor(e,t,i,r){super(e,t,r),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,i){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;if(i)return Xh(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?s.length-1:0;l=s[u],!(e>0?u==0:u==s.length-1||l.top<l.bottom);u+=o?-1:1);return Xh(l,!o)}}get overrideDOMText(){if(!this.length)return lt.empty;let{root:e}=this;if(!e)return lt.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,i,r,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new Aa(s,i,e,r)}}class Mm extends en{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!0}get overrideDOMText(){return lt.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class J8{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,i){let{tile:r,index:s,beforeBreak:l,parents:o}=this;for(;e||t>0;)if(r.isComposite())if(l){if(!e)break;i&&i.break(),e--,l=!1}else if(s==r.children.length){if(!e&&!o.length)break;i&&i.leave(r),l=!!r.breakAfter,{tile:r,index:s}=o.pop(),s++}else{let u=r.children[s],f=u.breakAfter;(t>0?u.length<=e:u.length<e)&&(!i||i.skip(u,0,u.length)!==!1||!u.isComposite)?(l=!!f,s++,e-=u.length):(o.push({tile:r,index:s}),r=u,s=0,i&&u.isComposite()&&i.enter(u))}else if(s==r.length)l=!!r.breakAfter,{tile:r,index:s}=o.pop(),s++;else if(e){let u=Math.min(e,r.length-s);i&&i.skip(r,s,s+u),e-=u,s+=u}else break;return this.tile=r,this.index=s,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class e9{constructor(e,t,i,r){this.from=e,this.to=t,this.wrapper=i,this.rank=r}}class t9{constructor(e,t,i){this.cache=e,this.root=t,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,i,r){var s;this.flushBuffer();let l=this.ensureMarks(t,i),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=l.children[l.children.length-1]=new pa(o.dom,o.text+e);u.parent=l}else l.append(r||pa.of(e,(s=this.cache.find(pa))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let i=this.curLine;i.dom!=t.line.dom&&(i.setDOM(this.cache.reused.has(t.line)?U0(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let r=i;for(let o=t.marks.length-1;o>=0;o--){let u=t.marks[o],f=r.lastChild;if(f instanceof Kn&&f.mark.eq(u.mark))f.dom!=u.dom&&f.setDOM(U0(u.dom)),r=f;else{if(this.cache.reused.get(u)){let m=en.get(u.dom);m&&m.setDOM(U0(u.dom))}let d=Kn.of(u.mark,u.dom);r.append(d),r=d}this.cache.reused.set(u,2)}let s=en.get(e.text);s&&this.cache.reused.set(s,2);let l=new pa(e.text,e.text.nodeValue);l.flags|=8,r.append(l)}addInlineWidget(e,t,i){let r=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);r||this.flushBuffer();let s=this.ensureMarks(t,i);!r&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,i){this.flushBuffer(),this.ensureMarks(t,i).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var i;e||(e=aI);let r=uc.start(e,t||((i=this.cache.find(uc))===null||i===void 0?void 0:i.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=r)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var i;let r=this.curLine;for(let s=e.length-1;s>=0;s--){let l=e[s],o;if(t>0&&(o=r.lastChild)&&o instanceof Kn&&o.mark.eq(l))r=o,t--;else{let u=Kn.of(l,(i=this.cache.find(Kn,f=>f.mark.eq(l)))===null||i===void 0?void 0:i.dom);r.append(u),r=u,t=0}}return r}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!lA(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ve.ios&&lA(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(X0,0,32)||new Aa(X0.toDOM(),0,X0,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new e9(e.from,e.to,e.value,e.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-t.rank||this.wrappers[i-1].to-t.to)<0;)i--;this.wrappers.splice(i,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let i of this.wrappers){let r=t.lastChild;if(i.from<this.pos&&r instanceof bl&&r.wrapper.eq(i.wrapper))t=r;else{let s=bl.of(i.wrapper,(e=this.cache.find(bl,l=>l.wrapper.eq(i.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),i=this.cache.find(Mm,void 0,1);return i&&(i.flags=t),i||new Mm(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class n9{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:r,lineBreak:s,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=r;let o=this.textOff=Math.min(e,r.length);return s?null:r.slice(0,o)}let t=Math.min(this.text.length,this.textOff+e),i=this.text.slice(this.textOff,t);return this.textOff=t,i}}const Im=[Aa,uc,pa,Kn,Mm,bl,Dg];for(let n=0;n<Im.length;n++)Im[n].bucket=n;class i9{constructor(e){this.view=e,this.buckets=Im.map(()=>[]),this.index=Im.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,i=this.buckets[t];i.length<6?i.push(e):i[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,i=2){let r=e.bucket,s=this.buckets[r],l=this.index[r];for(let o=s.length-1;o>=0;o--){let u=(o+l)%s.length,f=s[u];if((!t||t(f))&&!this.reused.has(f))return s.splice(u,1),u<l&&this.index[r]--,this.reused.set(f,i),f}return null}findWidget(e,t,i){let r=this.buckets[0];if(r.length)for(let s=0,l=0;;s++){if(s==r.length){if(l)return null;l=1,s=0}let o=r[s];if(!this.reused.has(o)&&(l==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return r.splice(s,1),s<this.index[0]&&this.index[0]--,o.widget==e&&o.length==t&&(o.flags&497)==i?(this.reused.set(o,1),o):(this.reused.set(o,2),new Aa(o.dom,t,e,o.flags&-498|i))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class r9{constructor(e,t,i,r,s){this.view=e,this.decorations=r,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new i9(e),this.text=new n9(e.state.doc),this.builder=new t9(this.cache,new Dg(e,e.contentDOM),He.iter(i)),this.cache.reused.set(t,2),this.old=new J8(t),this.reuseWalker={skip:(l,o,u)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,t){let i=t&&this.getCompositionContext(t.text);for(let r=0,s=0,l=0;;){let o=l<e.length?e[l++]:null,u=o?o.fromA:this.old.root.length;if(u>r){let f=u-r;this.preserve(f,!l,!o),r=u,s+=f}if(!o)break;t&&o.fromA<=t.range.fromA&&o.toA>=t.range.toA?(this.forward(o.fromA,t.range.fromA,t.range.fromA<t.range.toA?1:-1),this.emit(s,t.range.fromB),this.cache.clear(),this.builder.addComposition(t,i),this.text.skip(t.range.toB-t.range.fromB),this.forward(t.range.fromA,o.toA),this.emit(t.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(s,o.toB)),s=o.toB,r=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,i){let r=a9(this.old),s=this.openMarks;this.old.advance(e,i?1:-1,{skip:(l,o,u)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let f=u>0||o<l.length?Aa.of(l.widget,this.view,u-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,r,s),s=r.length)}else if(l.isText())this.builder.ensureLine(null),!o&&u==l.length?this.builder.addText(l.text,r,s,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,u),r,s)),s=r.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof Mm)this.cache.add(l);else if(l instanceof Kn)this.builder.ensureLine(null),this.builder.addMark(l,r,s),this.cache.reused.set(l,1),s=r.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Kn&&r.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?r.length&&(r.length=s=0):l instanceof Kn&&(r.shift(),s=Math.min(s,r.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let i=null,r=this.builder,s=0,l=He.spans(this.decorations,e,t,{point:(o,u,f,d,m,g)=>{if(f instanceof Ca){if(this.disallowBlockEffectsFor[g]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,m>d.length)r.continueWidget(u-o);else{let y=f.widget||(f.block?hc.block:hc.inline),S=s9(f),v=this.cache.findWidget(y,u-o,S)||Aa.of(y,this.view,u-o,S);f.block?(f.startSide>0&&r.addLineStartIfNotCovered(i),r.addBlockWidget(v)):(r.ensureLine(i),r.addInlineWidget(v,d,m))}i=null}else i=l9(i,f);u>o&&this.text.skip(u-o)},span:(o,u,f,d)=>{for(let m=o;m<u;){let g=this.text.next(Math.min(512,u-m));g==null?(r.addLineStartIfNotCovered(i),r.addBreak(),m++):(r.ensureLine(i),r.addText(g,f,m==o?d:f.length),m+=g.length),i=null}}});r.addLineStartIfNotCovered(i),this.openWidget=l>s,this.openMarks=l}forward(e,t,i=1){t-e<=10?this.old.advance(t-e,i,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,i,this.reuseWalker))}getCompositionContext(e){let t=[],i=null;for(let r=e.parentNode;;r=r.parentNode){let s=en.get(r);if(r==this.view.contentDOM)break;s instanceof Kn?t.push(s):s!=null&&s.isLine()?i=s:r.nodeName=="DIV"&&!i&&r!=this.view.contentDOM?i=new uc(r,aI):t.push(Kn.of(new Cf({tagName:r.nodeName.toLowerCase(),attributes:R8(r)}),r))}return{line:i,marks:t}}}function lA(n,e){let t=i=>{for(let r of i.children)if((e?r.isText():r.length)||t(r))return!0;return!1};return t(n)}function s9(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const aI={class:"cm-line"};function l9(n,e){let t=e.spec.attributes,i=e.spec.class;return!t&&!i||(n||(n={class:"cm-line"}),t&&K1(t,n),i&&(n.class+=" "+i)),n}function a9(n){let e=[];for(let t=n.parents.length;t>1;t--){let i=t==n.parents.length?n.tile:n.parents[t].tile;i instanceof Kn&&e.push(i.mark)}return e}function U0(n){let e=en.get(n);return e&&e.setDOM(n.cloneNode()),n}class hc extends hr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}hc.inline=new hc("span");hc.block=new hc("div");const X0=new class extends hr{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class aA{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Ee.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Dg(e,e.contentDOM),this.updateInner([new Di(0,0,0,e.state.doc.length)],null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!g9(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?c9(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;i=new Di(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ve.ie||ve.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let u=f9(l,this.decorations,e.changes);u.length&&(i=Di.extendWithRanges(i,u));let f=p9(o,this.blockWrappers,e.changes);return f.length&&(i=Di.extendWithRanges(i,f)),s&&!i.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(i=s.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(t||e.length){let l=this.tile,o=new r9(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,t),FS(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ve.chrome||ve.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||i.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof Z0&&r.push(s.dom);i.updateGaps(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(nI)&&(this.editContextFormatting=i.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,r=this.view.root.activeElement,s=r==i,l=!s&&!(this.view.state.facet(cs)||i.tabIndex>-1)&&gh(i,this.view.observer.selectionRange)&&!(r&&i.contains(r));if(!(s||t||l))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f,d;if(u.empty?d=f=this.inlineDOMNearPos(u.anchor,u.assoc||1):(d=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),f=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ve.gecko&&u.empty&&!this.hasComposition&&o9(f)){let g=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(g,f.node.childNodes[f.offset]||null)),f=d=new ir(g,0),o=!0}let m=this.view.observer.selectionRange;(o||!m.focusNode||(!yh(f.node,f.offset,m.anchorNode,m.anchorOffset)||!yh(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{ve.android&&ve.chrome&&i.contains(m.focusNode)&&m9(m.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let g=cc(this.view.root);if(g)if(u.empty){if(ve.gecko){let y=u9(f.node,f.offset);if(y&&y!=3){let S=(y==1?BM:UM)(f.node,f.offset);S&&(f=new ir(S.node,S.offset))}}g.collapse(f.node,f.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(f.node,f.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([f,d]=[d,f]),y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==i&&(i.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new ir(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new ir(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&yh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=cc(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let l=this.lineAt(t.head,t.assoc);if(!l)return;let o=l.posAtStart;if(t.head==o||t.head==o+l.length)return;let u=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!u||!f||u.bottom>f.top)return;let d=this.domAtPos(t.head+t.assoc,t.assoc);i.collapse(d.node,d.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&i.collapse(r,s)}posFromDOM(e,t){let i=this.tile.nearest(e);if(!i)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let r=i.posAtStart;if(i.isComposite()){let s;if(e==i.dom)s=i.dom.childNodes[t];else{let l=Ts(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==i.dom)break;l==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?l=-1:l=1),e=o}l<0?s=e:s=e.nextSibling}if(s==i.dom.firstChild)return r;for(;s&&!en.get(s);)s=s.nextSibling;if(!s)return r+i.length;for(let l=0,o=r;;l++){let u=i.children[l];if(u.dom==s)return o;o+=u.length+u.breakAfter}}else return i.isText()?e==i.dom?r+t:r+(t?i.length:0):r}domAtPos(e,t){let{tile:i,offset:r}=this.tile.resolveBlock(e,t);return i.isWidget()?i.domPosFor(e,t):i.domIn(r,t)}inlineDOMNearPos(e,t){let i,r=-1,s=!1,l,o=-1,u=!1;return this.tile.blockTiles((f,d)=>{if(f.isWidget()){if(f.flags&32&&d>=e)return!0;f.flags&16&&(s=!0)}else{let m=d+f.length;if(d<=e&&(i=f,r=e-d,s=m<e),m>=e&&!l&&(l=f,o=e-d,u=d>e),d>e&&l)return!0}}),!i&&!l?this.domAtPos(e,t):(s&&l?i=null:u&&i&&(l=null),i&&t<0||!l?i.domIn(r,t):l.domIn(o,t))}coordsAt(e,t){let{tile:i,offset:r}=this.tile.resolveBlock(e,t);return i.isWidget()?i.widget instanceof Z0?null:i.coordsInWidget(r,t,!0):i.coordsIn(r,t)}lineAt(e,t){let{tile:i}=this.tile.resolveBlock(e,t);return i.isLine()?i:null}coordsForChar(e){let{tile:t,offset:i}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function r(s,l){if(s.isComposite())for(let o of s.children){if(o.length>=l){let u=r(o,l);if(u)return u}if(l-=o.length,l<0)break}else if(s.isText()&&l<s.length){let o=sn(s.text,l);if(o==l)return null;let u=Zh(s.dom,l,o).getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(f==u.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return r(t,i)}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==_t.LTR,f=0,d=(m,g,y)=>{for(let S=0;S<m.children.length&&!(g>r);S++){let v=m.children[S],x=g+v.length,k=v.dom.getBoundingClientRect(),{height:C}=k;if(y&&!S&&(f+=k.top-y.top),v instanceof bl)x>i&&d(v,g,k);else if(g>=i&&(f>0&&t.push(-f),t.push(C+f),f=0,l)){let T=v.dom.lastChild,X=T?Oh(T):[];if(X.length){let L=X[X.length-1],R=u?L.right-k.left:k.right-L.left;R>o&&(o=R,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=x)}}y&&S==m.children.length-1&&(f+=y.bottom-k.bottom),g=x+v.breakAfter}};return d(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?_t.RTL:_t.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,u;for(let f of l.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let d=Oh(f.dom);if(d.length!=1)return;o+=d[0].width,u=d[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:u}}});if(e)return e;let t=document.createElement("div"),i,r,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let l=Oh(t.firstChild)[0];i=t.getBoundingClientRect().height,r=l&&l.width?l.width/27:7,s=l&&l.height?l.height:i,t.remove()}),{lineHeight:i,charWidth:r,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],l=s?s.from-1:this.view.state.doc.length;if(l>i){let o=(t.lineBlockAt(l).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Ee.replace({widget:new Z0(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return Ee.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Mg).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(rw).map((s,l)=>{let o=typeof s=="function";return o&&(i=!0),o?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(He.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(rI).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(tI))try{if(f(this.view,e.range,e))return!0}catch(d){ti(this.view.state,d,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=sw(this.view),l={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;I8(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==_t.LTR)}lineHasWidget(e){let t=i=>i.isWidget()||i.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){FS(this.tile)}}function FS(n,e){let t=e==null?void 0:e.get(n);if(t!=1){t==null&&n.destroy();for(let i of n.children)FS(i,e)}}function o9(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function oI(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=BM(t.focusNode,t.focusOffset),r=UM(t.focusNode,t.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let o=en.get(r.node);if(!o||o.isText()&&o.text!=r.node.nodeValue)s=r;else if(n.docView.lastCompositionAfterCursor){let u=en.get(i.node);!u||u.isText()&&u.text!=i.node.nodeValue||(s=r)}}if(n.docView.lastCompositionAfterCursor=s!=i,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function c9(n,e,t){let i=oI(n,t);if(!i)return null;let{node:r,from:s,to:l}=i,o=r.nodeValue;if(/[\n\r]/.test(o)||n.state.doc.sliceString(i.from,i.to)!=o)return null;let u=e.invertedDesc;return{range:new Di(u.mapPos(s),u.mapPos(l),s,l),text:r}}function u9(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let h9=class{constructor(){this.changes=[]}compareRange(e,t){jo(e,t,this.changes)}comparePoint(e,t){jo(e,t,this.changes)}boundChange(e){jo(e,e,this.changes)}};function f9(n,e,t){let i=new h9;return He.compare(n,e,t,i),i.changes}class d9{constructor(){this.changes=[]}compareRange(e,t){jo(e,t,this.changes)}comparePoint(){}boundChange(e){jo(e,e,this.changes)}}function p9(n,e,t){let i=new d9;return He.compare(n,e,t,i),i.changes}function m9(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function g9(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}class Z0 extends hr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function O9(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return K.cursor(e);s==0?t=1:s==r.length&&(t=-1);let l=s,o=s;t<0?l=sn(r.text,s,!1):o=sn(r.text,s);let u=i(r.text.slice(l,o));for(;l>0;){let f=sn(r.text,l,!1);if(i(r.text.slice(f,l))!=u)break;l=f}for(;o<r.length;){let f=sn(r.text,o);if(i(r.text.slice(o,f))!=u)break;o=f}return K.range(l+r.from,o+r.from)}function y9(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=n.viewState.heightOracle.textHeight,u=Math.floor((r-t.top-(n.defaultLineHeight-o)*.5)/o);s+=u*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(t.from,t.to);return t.from+DS(l,s,n.state.tabSize)}function WS(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let r;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!r||s.type==_n.Text&&(r.type!=s.type||(t<0?s.from<e:s.to>e)))&&(r=s)}}return r||i}return i}function b9(n,e,t,i){let r=WS(n,e.head,e.assoc||-1),s=!i||r.type!=_n.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let l=n.dom.getBoundingClientRect(),o=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(o==_t.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(u!=null)return K.cursor(u,t?-1:1)}return K.cursor(t?r.to:r.from,t?-1:1)}function oA(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),l=n.textDirectionAt(r.from);for(let o=e,u=null;;){let f=Y8(r,s,l,o,t),d=qM;if(!f){if(r.number==(t?n.state.doc.lines:1))return o;d=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),f=n.visualLineSide(r,!t)}if(u){if(!u(d))return o}else{if(!i)return f;u=i(d)}o=f}}function S9(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let l=i(s);return r==Dt.Space&&(r=l),r==l}}function v9(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return K.cursor(r,e.assoc);let l=e.goalColumn,o,u=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(r,(e.empty?e.assoc:0)||(t?1:-1)),d=n.documentTop;if(f)l==null&&(l=f.left-u.left),o=s<0?f.top:f.bottom;else{let S=n.viewState.lineBlockAt(r);l==null&&(l=Math.min(u.right-u.left,n.defaultCharacterWidth*(r-S.from))),o=(s<0?S.top:S.bottom)+d}let m=u.left+l,g=i??n.viewState.heightOracle.textHeight>>1,y=HS(n,{x:m,y:o+g*s},!1,s);return K.cursor(y.pos,y.assoc,void 0,l)}function bh(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,l,o)=>{if(e>s&&e<l){let u=i||t||(e-s<l-e?-1:1);e=u<0?s:l,i=u}});if(!i)return e}}function cI(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let l=bh(n,r.from,0);l!=r.from&&(s=K.cursor(l,-1))}else{let l=bh(n,r.from,-1),o=bh(n,r.to,1);(l!=r.from||o!=r.to)&&(s=K.range(r.from==r.anchor?l:o,r.from==r.head?l:o))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?K.create(t,e.mainIndex):e}function j0(n,e,t){let i=bh(n.state.facet(Af).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:K.cursor(i,i<t.from?1:-1)}class Er{constructor(e,t){this.pos=e,this.assoc=t}}function HS(n,e,t,i){let r=n.contentDOM.getBoundingClientRect(),s=r.top+n.viewState.paddingTop,{x:l,y:o}=e,u=o-s,f;for(;;){if(u<0)return new Er(0,1);if(u>n.viewState.docHeight)return new Er(n.state.doc.length,-1);if(f=n.elementAtHeight(u),i==null)break;if(f.type==_n.Text){if(i<0?f.to<n.viewport.from:f.from>n.viewport.to)break;let g=n.docView.coordsAt(i<0?f.from:f.to,i>0?-1:1);if(g&&(i<0?g.top<=u+s:g.bottom>=u+s))break}let m=n.viewState.heightOracle.textHeight/2;u=i>0?f.bottom+m:f.top-m}if(n.viewport.from>=f.to||n.viewport.to<=f.from){if(t)return null;if(f.type==_n.Text){let m=y9(n,r,f,l,o);return new Er(m,m==f.from?1:-1)}}if(f.type!=_n.Text)return u<(f.top+f.bottom)/2?new Er(f.from,1):new Er(f.to,-1);let d=n.docView.lineAt(f.from,2);return(!d||d.length!=f.length)&&(d=n.docView.lineAt(f.from,-2)),uI(n,d,f.from,l,o)}function uI(n,e,t,i,r){let s=-1,l=null,o=1e9,u=1e9,f=r,d=r,m=(g,y)=>{for(let S=0;S<g.length;S++){let v=g[S];if(v.top==v.bottom)continue;let x=v.left>i?v.left-i:v.right<i?i-v.right:0,k=v.top>r?v.top-r:v.bottom<r?r-v.bottom:0;v.top<=d&&v.bottom>=f&&(f=Math.min(v.top,f),d=Math.max(v.bottom,d),k=0),(s<0||(k-u||x-o)<0)&&(s>=0&&u&&o<x&&l.top<=d-2&&l.bottom>=f+2?u=0:(s=y,o=x,u=k,l=v))}};if(e.isText()){for(let y=0;y<e.length;){let S=sn(e.text,y);if(m(Zh(e.dom,y,S).getClientRects(),y),!o&&!u)break;y=S}return i>(l.left+l.right)/2==(cA(n,s+t)==_t.LTR)?new Er(t+sn(e.text,s),-1):new Er(t+s,1)}else{if(!e.length)return new Er(t,1);for(let v=0;v<e.children.length;v++){let x=e.children[v];if(x.flags&48)continue;let k=(x.dom.nodeType==1?x.dom:Zh(x.dom,0,x.length)).getClientRects();if(m(k,v),!o&&!u)break}let g=e.children[s],y=e.posBefore(g,t);return g.isComposite()||g.isText()?uI(n,g,y,Math.max(l.left,Math.min(l.right,i)),r):i>(l.left+l.right)/2==(cA(n,s+t)==_t.LTR)?new Er(y+g.length,-1):new Er(y,1)}}function cA(n,e){let t=n.state.doc.lineAt(e);return n.bidiSpans(t)[ps.find(n.bidiSpans(t),e-t.from,-1,1)].dir}const ih="";class w9{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineSeparator=t.state.facet(et.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ih}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let l=en.get(r),o=r.nextSibling;if(o==t){l!=null&&l.breakAfter&&!o&&i!=this.view.contentDOM&&this.lineBreak();break}let u=en.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:Rm(r))||Rm(o)&&(r.nodeName!="BR"||l!=null&&l.isWidget())&&this.text.length>s)&&!k9(o,t)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(o=r.exec(t))&&(s=o.index,l=o[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);i=s+l}}readNode(e){let t=en.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(x9(e,i.node,i.offset)?t:0))}}function x9(n,e,t){for(;;){if(!e||t<Ts(e))return!1;if(e==n)return!0;t=Tl(e)+1,e=e.parentNode}}function k9(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=en.get(n);if(!(i!=null&&i.isWidget()))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let r=i.overrideDOMText;if(r!=null&&r.length)return!1}return!0}class uA{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class _9{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=hI(e.docView.tile,t,i,0))){let o=s||l?[]:C9(e),u=new w9(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=E9(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!ZS(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!ZS(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((ve.ios||ve.chrome)&&e.state.selection.main.empty&&u!=f&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(u,f),g=Math.max(u,f),y=d.from-m,S=d.to-g;(y==0||y==1||m==0)&&(S==0||S==-1||g==e.state.doc.length)&&(u=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(K.range(f,u)):this.newSel=K.single(f,u)}}}function hI(n,e,t,i){if(n.isComposite()){let r=-1,s=-1,l=-1,o=-1;for(let u=0,f=i,d=i;u<n.children.length;u++){let m=n.children[u],g=f+m.length;if(f<e&&g>t)return hI(m,e,t,f);if(g>=e&&r==-1&&(r=u,s=f),f>t&&m.dom.parentNode==n.dom){l=u,o=d;break}d=g,f=g+m.breakAfter}return{from:s,to:o<0?i+n.length:o,startDOM:(r?n.children[r-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:l<n.children.length&&l>=0?n.children[l].dom:null}}else return n.isText()?{from:i,to:i+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function fI(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,u=r.from,f=null;(s===8||ve.android&&e.text.length<o-l)&&(u=r.to,f="end");let d=dI(n.state.doc.sliceString(l,o,ih),e.text,u-l,f);d&&(ve.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==ih+ih&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:lt.of(e.text.slice(d.from,d.toB).split(ih))})}else i&&(!n.hasFocus&&n.state.facet(cs)||Dm(i,r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:(ve.mac||ve.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=K.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:lt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:n.state.doc.lineAt(r.from).to<r.to&&n.docView.lineHasWidget(r.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:r.from,to:r.to,insert:n.state.toText(n.inputState.insertingText)}:ve.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=K.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:lt.of([" "])}),t)return lw(n,t,i,s);if(i&&!Dm(i,r)){let l=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),o=n.inputState.lastSelectionOrigin,o=="select.pointer"&&(i=cI(n.state.facet(Af).map(u=>u(n)),i))),n.dispatch({selection:i,scrollIntoView:l,userEvent:o}),!0}else return!1}function lw(n,e,t,i=-1){if(ve.ios&&n.inputState.flushIOSKey(e))return!0;let r=n.state.selection.main;if(ve.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&n.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Vo(n.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Vo(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Vo(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,o=()=>l||(l=T9(n,e,t));return n.state.facet(GM).some(u=>u(n,e.from,e.to,s,o))||n.dispatch(o()),!0}function T9(n,e,t){let i,r=n.state,s=r.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let u=e.from<s.from?-1:1,f=u<0?s.from:s.to,d=bh(r.facet(Af).map(m=>m(n)),f,u);e.from==d&&(l=d)}if(l>-1)i={changes:e,selection:K.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let u=s.from<e.from?r.sliceDoc(s.from,e.from):"",f=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(u+e.insert.sliceString(0,void 0,n.state.lineBreak)+f))}else{let u=r.changes(e),f=t&&t.main.to<=u.newLength?t.main:void 0;if(r.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=n.state.sliceDoc(e.from,e.to),m,g=t&&oI(n,t.main.head);if(g){let S=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-S}}else m=n.state.doc.lineAt(s.head);let y=s.to-e.to;i=r.changeByRange(S=>{if(S.from==s.from&&S.to==s.to)return{changes:u,range:f||S.map(u)};let v=S.to-y,x=v-d.length;if(n.state.sliceDoc(x,v)!=d||v>=m.from&&x<=m.to)return{range:S};let k=r.changes({from:x,to:v,insert:e.insert}),C=S.to-s.to;return{changes:k,range:f?K.range(Math.max(0,f.anchor+C),Math.max(0,f.head+C)):S.map(k)}})}else i={changes:u,selection:f&&r.selection.replaceRange(f)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function dI(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let l=n.length,o=e.length;for(;l>0&&o>0&&n.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(i=="end"){let u=Math.max(0,s-Math.min(l,o));t-=l+u-s}if(l<s&&n.length<e.length){let u=t<=s&&t>=l?s-t:0;s-=u,o=s+(o-l),l=s}else if(o<s){let u=t<=s&&t>=o?s-t:0;s-=u,l=s+(l-o),o=s}return{from:s,toA:l,toB:o}}function C9(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new uA(t,i)),(r!=t||s!=i)&&e.push(new uA(r,s))),e}function E9(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?K.single(t+e,i+e):null}function Dm(n,e){return e.head==n.main.head&&e.anchor==n.main.anchor}class A9{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ve.safari&&e.contentDOM.addEventListener("input",()=>null),ve.gecko&&j9(e.contentDOM.ownerDocument)}handleEvent(e){!N9(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Q9(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,o=i[s];o&&l!=!o.handlers.length&&(r.removeEventListener(s,this.handleEvent),o=null),o||r.addEventListener(s,this.handleEvent,{passive:l})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&mI.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ve.android&&ve.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ve.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=pI.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||P9.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Vo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ve.safari&&!ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function hA(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){ti(t.state,r)}}}function Q9(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec,s=r&&r.plugin.domEventHandlers,l=r&&r.plugin.domEventObservers;if(s)for(let o in s){let u=s[o];u&&t(o).handlers.push(hA(i.value,u))}if(l)for(let o in l){let u=l[o];u&&t(o).observers.push(hA(i.value,u))}}for(let i in ur)t(i).handlers.push(ur[i]);for(let i in Ui)t(i).observers.push(Ui[i]);return e}const pI=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],P9="dthko",mI=[16,17,18,20,91,92,224,225],fp=6;function dp(n){return Math.max(0,n)*.7+8}function R9(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class $9{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=D8(e.contentDOM),this.atoms=e.state.facet(Af).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(et.allowMultipleSelections)&&M9(e,t),this.dragging=D9(e,t)&&yI(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&R9(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,s=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=sw(this.view);e.clientX-u.left<=r+fp?t=-dp(r-e.clientX):e.clientX+u.right>=l-fp&&(t=dp(e.clientX-l)),e.clientY-u.top<=s+fp?i=-dp(s-e.clientY):e.clientY+u.bottom>=o-fp&&(i=dp(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=cI(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function M9(n,e){let t=n.state.facet(YM);return t.length?t[0](e):ve.mac?e.metaKey:e.ctrlKey}function I9(n,e){let t=n.state.facet(FM);return t.length?t[0](e):ve.mac?!e.altKey:!e.ctrlKey}function D9(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=cc(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let l=r[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function N9(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=en.get(t))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(e))return!1;return!0}const ur=Object.create(null),Ui=Object.create(null),gI=ve.ie&&ve.ie_version<15||ve.ios&&ve.webkit_version<604;function L9(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),OI(n,t.value)},50)}function Ng(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function OI(n,e){e=Ng(n.state,tw,e);let{state:t}=n,i,r=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(GS!=null&&t.selection.ranges.every(u=>u.empty)&&GS==s.toString()){let u=-1;i=t.changeByRange(f=>{let d=t.doc.lineAt(f.from);if(d.from==u)return{range:f};u=d.from;let m=t.toText((l?s.line(r++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:K.cursor(f.from+m.length)}})}else l?i=t.changeByRange(u=>{let f=s.line(r++);return{changes:{from:u.from,to:u.to,insert:f.text},range:K.cursor(u.from+f.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ui.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};ur.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ui.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ui.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};ur.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(WM))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=B9(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new $9(n,e,t,i)),i&&n.observer.ignore(()=>{LM(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function fA(n,e,t,i){if(i==1)return K.cursor(e,t);if(i==2)return O9(n.state,e,t);{let r=n.docView.lineAt(e,t),s=n.state.doc.lineAt(r?r.posAtEnd:e),l=r?r.posAtStart:s.from,o=r?r.posAtEnd:s.to;return o<n.state.doc.length&&o==s.to&&o++,K.range(l,o)}}const z9=ve.ie&&ve.ie_version<=11;let dA=null,pA=0,mA=0;function yI(n){if(!z9)return n.detail;let e=dA,t=mA;return dA=n,mA=Date.now(),pA=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(pA+1)%3:1}function B9(n,e){let t=n.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),i=yI(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,l,o){let u=n.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,d=fA(n,u.pos,u.assoc,i);if(t.pos!=u.pos&&!l){let m=fA(n,t.pos,t.assoc,i),g=Math.min(m.from,d.from),y=Math.max(m.to,d.to);d=g<d.from?K.range(g,y):K.range(y,g)}return l?r.replaceRange(r.main.extend(d.from,d.to)):o&&i==1&&r.ranges.length>1&&(f=U9(r,u.pos))?f:o?r.addRange(d):K.create([d])}}}function U9(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return K.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}ur.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.tile.nearest(e.target);if(r&&r.isWidget()){let s=r.posAtStart,l=s+r.length;(s>=t.to||l<=t.from)&&(t=K.range(s,l))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Ng(n.state,nw,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ur.dragend=n=>(n.inputState.draggedContent=null,!1);function gA(n,e,t,i){if(t=Ng(n.state,tw,t),!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,l=i&&s&&I9(n,e)?{from:s.from,to:s.to}:null,o={from:r,insert:t},u=n.state.changes(l?[l,o]:o);n.focus(),n.dispatch({changes:u,selection:{anchor:u.mapPos(r,-1),head:u.mapPos(r,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}ur.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&gA(n,e,i.filter(l=>l!=null).join(n.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[l]=o.result),s()},o.readAsText(t[l])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return gA(n,e,i,!0),!0}return!1};ur.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=gI?null:e.clipboardData;return t?(OI(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(L9(n),!1)};function X9(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Z9(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let l=n.doc.lineAt(s);l.number>r&&(e.push(l.text),t.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),r=l.number}i=!0}return{text:Ng(n,nw,e.join(n.lineBreak)),ranges:t,linewise:i}}let GS=null;ur.copy=ur.cut=(n,e)=>{let t=cc(n.root);if(t&&!gh(n.contentDOM,t))return!1;let{text:i,ranges:r,linewise:s}=Z9(n.state);if(!i&&!s)return!1;GS=s?i:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let l=gI?null:e.clipboardData;return l?(l.clearData(),l.setData("text/plain",i),!0):(X9(n,i),!1)};const bI=Lr.define();function SI(n,e){let t=[];for(let i of n.facet(KM)){let r=i(n,e);r&&t.push(r)}return t.length?n.update({effects:t,annotations:bI.of(!0)}):null}function vI(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=SI(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ui.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),vI(n)};Ui.blur=n=>{n.observer.clearSelectionRange(),vI(n)};Ui.compositionstart=Ui.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ui.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ve.chrome&&ve.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ui.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};ur.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let o=l[0],u=n.posAtDOM(o.startContainer,o.startOffset),f=n.posAtDOM(o.endContainer,o.endOffset);return lw(n,{from:u,to:f,insert:n.state.toText(s)},null),!0}}let r;if(ve.chrome&&ve.android&&(r=pI.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ve.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ve.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ui.compositionend(n,e),20),!1};const OA=new Set;function j9(n){OA.has(n)||(OA.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const yA=["pre-wrap","normal","pre-line","break-spaces"];let fc=!1;function bA(){fc=!1}class V9{constructor(e){this.lineWrapping=e,this.doc=lt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yA.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,l){let o=yA.indexOf(e)>-1,u=Math.abs(t-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(i-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,u){this.heightSamples={};for(let f=0;f<l.length;f++){let d=l[f];d<0?f++:this.heightSamples[Math.floor(d*10)]=!0}}return u}}class q9{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class er{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?_n.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ca?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new er(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Qt=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(Qt||(Qt={}));const Fp=.001;class Ln{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Fp&&(fc=!0),this.height=e)}replace(e,t,i){return Ln.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,l=i.doc;for(let o=r.length-1;o>=0;o--){let{fromA:u,toA:f,fromB:d,toB:m}=r[o],g=s.lineAt(u,Qt.ByPosNoHeight,i.setDoc(t),0,0),y=g.to>=f?g:s.lineAt(f,Qt.ByPosNoHeight,i,0,0);for(m+=y.to-f,f=y.to;o>0&&g.from<=r[o-1].toA;)u=r[o-1].fromA,d=r[o-1].fromB,o--,u<g.from&&(g=s.lineAt(u,Qt.ByPosNoHeight,i,0,0));d+=g.from-u,u=g.from;let S=aw.build(i.setDoc(l),e,d,m);s=Nm(s,s.replace(u,f,S))}return s.updateHeight(i,0)}static empty(){return new yi(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,r-=o.size}else if(s>r*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(r<s){let o=e[t++];o&&(r+=o.size)}else{let o=e[--i];o&&(s+=o.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,i++),new F9(Ln.of(e.slice(0,t)),l,Ln.of(e.slice(i)))}}function Nm(n,e){return n==e?n:(n.constructor!=e.constructor&&(fc=!0),e)}Ln.prototype.size=1;const Y9=Ee.replace({});class wI extends Ln{constructor(e,t,i){super(e,t),this.deco=i,this.spaceAbove=0}mainBlock(e,t){return new er(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,i,r){return this.spaceAbove&&e<i+this.spaceAbove?new er(r,0,i,this.spaceAbove,Y9):this.mainBlock(i,r)}lineAt(e,t,i,r,s){let l=this.mainBlock(r,s);return this.spaceAbove?this.blockAt(0,i,r,s).join(l):l}forEachLine(e,t,i,r,s,l){e<=s+this.length&&t>=s&&l(this.lineAt(0,Qt.ByPos,i,r,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setMeasuredHeight(r),this.outdated=!1,this}toString(){return`block(${this.length})`}}class yi extends wI{constructor(e,t,i){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(e,t){return new er(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof yi||r instanceof vn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof vn?r=new yi(r.length,this.height,this.spaceAbove):r.height=this.height,this.outdated||(r.outdated=!1),r):Ln.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setMeasuredHeight(r):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class vn extends Ln{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,l,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);l=u/s,this.length>s+1&&(o=(this.height-u)/(this.length-s-1))}else l=this.height/s;return{firstLine:i,lastLine:r,perLine:l,perChar:o}}blockAt(e,t,i,r){let{firstLine:s,lastLine:l,perLine:o,perChar:u}=this.heightMetrics(t,r);if(t.lineWrapping){let f=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),d=t.doc.lineAt(f),m=o+d.length*u,g=Math.max(i,e-m/2);return new er(d.from,d.length,g,m,0)}else{let f=Math.max(0,Math.min(l-s,Math.floor((e-i)/o))),{from:d,length:m}=t.doc.line(s+f);return new er(d,m,i+o*f,o,0)}}lineAt(e,t,i,r,s){if(t==Qt.ByHeight)return this.blockAt(e,i,r,s);if(t==Qt.ByPosNoHeight){let{from:y,to:S}=i.doc.lineAt(e);return new er(y,S-y,0,0,0)}let{firstLine:l,perLine:o,perChar:u}=this.heightMetrics(i,s),f=i.doc.lineAt(e),d=o+f.length*u,m=f.number-l,g=r+o*m+u*(f.from-s-m);return new er(f.from,f.length,Math.max(r,Math.min(g,r+this.height-d)),d,0)}forEachLine(e,t,i,r,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:u,perChar:f}=this.heightMetrics(i,s);for(let d=e,m=r;d<=t;){let g=i.doc.lineAt(d);if(d==e){let S=g.number-o;m+=u*S+f*(e-s-S)}let y=u+f*g.length;l(new er(g.from,g.length,m,y,0)),m+=y,d=g.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof vn?i[i.length-1]=new vn(s.length+r):i.push(null,new vn(r-1))}if(e>0){let s=i[0];s instanceof vn?i[0]=new vn(e+s.length):i.unshift(new vn(e-1),null)}return Ln.of(i)}decomposeLeft(e,t){t.push(new vn(e-1),null)}decomposeRight(e,t){t.push(null,new vn(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let l=[],o=Math.max(t,r.from),u=-1;for(r.from>t&&l.push(new vn(r.from-t-1).updateHeight(e,t));o<=s&&r.more;){let d=e.doc.lineAt(o).length;l.length&&l.push(null);let m=r.heights[r.index++],g=0;m<0&&(g=-m,m=r.heights[r.index++]),u==-1?u=m:Math.abs(m-u)>=Fp&&(u=-2);let y=new yi(d,m,g);y.outdated=!1,l.push(y),o+=d+1}o<=s&&l.push(null,new vn(s-o).updateHeight(e,o));let f=Ln.of(l);return(u<0||Math.abs(f.height-this.height)>=Fp||Math.abs(u-this.heightMetrics(e,t).perLine)>=Fp)&&(fc=!0),Nm(this,f)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class F9 extends Ln{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let l=r+this.left.height,o=s+this.left.length+this.break,u=t==Qt.ByHeight?e<l:e<o,f=u?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,l,o);if(this.break||(u?f.to<o:f.from>o))return f;let d=t==Qt.ByPosNoHeight?Qt.ByPosNoHeight:Qt.ByPos;return u?f.join(this.right.lineAt(o,d,i,l,o)):this.left.lineAt(o,d,i,r,s).join(f)}forEachLine(e,t,i,r,s,l){let o=r+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,i,r,s,l),t>=u&&this.right.forEachLine(e,t,i,o,u,l);else{let f=this.lineAt(u,Qt.ByPos,i,r,s);e<f.from&&this.left.forEachLine(e,f.from-1,i,r,s,l),f.to>=e&&f.from<=t&&l(f),t>f.to&&this.right.forEachLine(f.to+1,t,i,o,u,l)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let o of i)s.push(o);if(e>0&&SA(s,l-1),t<this.length){let o=s.length;this.decomposeRight(t,s),SA(s,o)}return Ln.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ln.of(this.break?[e,null,t]:[e,t]):(this.left=Nm(this.left,e),this.right=Nm(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:l}=this,o=t+s.length+this.break,u=null;return r&&r.from<=t+s.length&&r.more?u=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=o+l.length&&r.more?u=l=l.updateHeight(e,o,i,r):l.updateHeight(e,o,i),u?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function SA(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof vn&&(i=n[e+1])instanceof vn&&n.splice(e-1,3,new vn(t.length+1+i.length))}const W9=5;class aw{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof yi?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new yi(i-this.pos,-1,0)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let l=t-e;i.block?this.addBlock(new wI(l,r,i)):(l||s||r>=W9)&&this.addLineDeco(r,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new yi(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let i=new vn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof yi)return e;let t=new yi(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof yi)&&!this.isCovered?this.nodes.push(new yi(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof yi&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new aw(i,e);return He.spans(t,i,r,s,0),s.finish(i)}}function H9(n,e,t){let i=new G9;return He.compare(n,e,t,i,0),i.changes}class G9{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&jo(e,t,this.changes,5)}}function K9(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),l=Math.min(r.innerWidth,t.right),o=Math.max(0,t.top),u=Math.min(r.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let d=f,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),o=Math.max(o,g.top),u=Math.min(f==n.parentNode?r.innerHeight:u,g.bottom)}f=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:o-(t.top+e),bottom:Math.max(o,u)-(t.top+e)}}function J9(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function eY(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class V0{constructor(e,t,i,r){this.from=e,this.to=t,this.size=i,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return Ee.replace({widget:new tY(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class tY extends hr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class vA{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=wA,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_t.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(iw).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new V9(t),this.stateDeco=xA(e),this.heightMap=Ln.empty().applyChanges(this.stateDeco,lt.empty,this.heightOracle.setDoc(e.doc),[new Di(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ee.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:l})=>r>=s&&r<=l)){let{from:s,to:l}=this.lineBlockAt(r);e.push(new pp(s,l))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?wA:new ow(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(rh(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=xA(this.state);let r=e.changedRanges,s=Di.extendWithRanges(r,H9(i,this.stateDeco,e?e.changes:nn.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);bA(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||fc)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(eI)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?_t.RTL:_t.LTR;let l=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,o=t.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,d=0;if(o.width&&o.height){let{scaleX:X,scaleY:L}=NM(t,o);(X>.005&&Math.abs(this.scaleX-X)>.005||L>.005&&Math.abs(this.scaleY-L)>.005)&&(this.scaleX=X,this.scaleY=L,f|=16,l=u=!0)}let m=(parseInt(i.paddingTop)||0)*this.scaleY,g=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=zM(e.scrollDOM);let S=(this.printing?eY:K9)(t,this.paddingTop),v=S.top-this.pixelViewport.top,x=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(u=!0)),!this.inView&&!this.scrollTarget&&!J9(e.dom))return 0;let C=o.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let X=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(X)&&(l=!0),l||r.lineWrapping&&Math.abs(C-this.contentDOMWidth)>r.charWidth){let{lineHeight:L,charWidth:R,textHeight:N}=e.docView.measureTextSize();l=L>0&&r.refresh(s,L,R,N,Math.max(5,C/R),X),l&&(e.docView.minWidth=0,f|=16)}v>0&&x>0?d=Math.max(v,x):v<0&&x<0&&(d=Math.min(v,x)),bA();for(let L of this.viewports){let R=L.from==this.viewport.from?X:e.docView.measureVisibleLineHeights(L);this.heightMap=(l?Ln.empty().applyChanges(this.stateDeco,lt.empty,this.heightOracle,[new Di(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,l,new q9(L.from,R))}fc&&(f|=2)}let T=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),f|=this.updateForViewport()),(f&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,u=new pp(r.lineAt(l-i*1e3,Qt.ByHeight,s,0,0).from,r.lineAt(o+(1-i)*1e3,Qt.ByHeight,s,0,0).to);if(t){let{head:f}=t.range;if(f<u.from||f>u.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=r.lineAt(f,Qt.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&f<u.from?g=m.top:g=m.bottom-d,u=new pp(r.lineAt(g-1e3/2,Qt.ByHeight,s,0,0).from,r.lineAt(g+d+1e3/2,Qt.ByHeight,s,0,0).to)}}return u}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new pp(this.heightMap.lineAt(i,Qt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Qt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Qt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Qt.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||r<=l-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&r>l-2*1e3&&s<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new V0(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,l=r<<1;if(this.defaultTextDirection!=_t.LTR&&!i)return[];let o=[],u=(d,m,g,y)=>{if(m-d<s)return;let S=this.state.selection.main,v=[S.from];S.empty||v.push(S.to);for(let k of v)if(k>d&&k<m){u(d,k-10,g,y),u(k+10,m,g,y);return}let x=iY(e,k=>k.from>=g.from&&k.to<=g.to&&Math.abs(k.from-d)<s&&Math.abs(k.to-m)<s&&!v.some(C=>k.from<C&&k.to>C));if(!x){if(m<g.to&&t&&i&&t.visibleRanges.some(T=>T.from<=m&&T.to>=m)){let T=t.moveToLineBoundary(K.cursor(m),!1,!0).head;T>d&&(m=T)}let k=this.gapSize(g,d,m,y),C=i||k<2e6?k:2e6;x=new V0(d,m,k,C)}o.push(x)},f=d=>{if(d.length<l||d.type!=_n.Text)return;let m=nY(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,S;if(i){let v=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,k;if(g!=null){let C=gp(m,g),T=((this.visibleBottom-this.visibleTop)/2+v)/d.height;x=C-T,k=C+T}else x=(this.visibleTop-d.top-v)/d.height,k=(this.visibleBottom-d.top+v)/d.height;y=mp(m,x),S=mp(m,k)}else{let v=m.total*this.heightOracle.charWidth,x=r*this.heightOracle.charWidth,k=0;if(v>2e6)for(let R of e)R.from>=d.from&&R.from<d.to&&R.size!=R.displaySize&&R.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=R.size-R.displaySize);let C=this.pixelViewport.left+k,T=this.pixelViewport.right+k,X,L;if(g!=null){let R=gp(m,g),N=((T-C)/2+x)/v;X=R-N,L=R+N}else X=(C-x)/v,L=(T+x)/v;y=mp(m,X),S=mp(m,L)}y>d.from&&u(d.from,y,d,m),S<d.to&&u(S,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(f):f(d);return o}gapSize(e,t,i,r){let s=gp(r,i)-gp(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){V0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ee.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];He.spans(t,this.viewport.from,this.viewport.to,{span(s,l){i.push({from:s,to:l})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let l=this.visibleRanges[s],o=i[s];(l.from!=o.from||l.to!=o.to)&&(r|=4,e&&e.mapPos(l.from,-1)==o.from&&e.mapPos(l.to,1)==o.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||rh(this.heightMap.lineAt(e,Qt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||rh(this.heightMap.lineAt(this.scaler.fromDOM(e),Qt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return rh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class pp{constructor(e,t){this.from=e,this.to=t}}function nY(n,e,t){let i=[],r=n,s=0;return He.spans(t,n,e,{span(){},point(l,o){l>r&&(i.push({from:r,to:l}),s+=l-r),r=o}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function mp({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:l}=e[r],o=l-s;if(i<=o)return s+i;i-=o}}function gp(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function iY(n,e){for(let t of n)if(e(t))return t}const wA={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};function xA(n){let e=n.facet(Mg).filter(i=>typeof i!="function"),t=n.facet(rw).filter(i=>typeof i!="function");return t.length&&e.push(He.join(t)),e}class ow{constructor(e,t,i){let r=0,s=0,l=0;this.viewports=i.map(({from:o,to:u})=>{let f=t.lineAt(o,Qt.ByPos,e,0,0).top,d=t.lineAt(u,Qt.ByPos,e,0,0).bottom;return r+=d-f,{from:o,to:u,top:f,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof ow?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function rh(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new er(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>rh(r,e)):n._content)}const Op=Se.define({combine:n=>n.join(" ")}),KS=Se.define({combine:n=>n.indexOf(!0)>-1}),JS=kl.newName(),xI=kl.newName(),kI=kl.newName(),_I={"&light":"."+xI,"&dark":"."+kI};function ev(n,e,t){return new kl(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const rY=ev("."+JS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},_I),sY={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},q0=ve.ie&&ve.ie_version<=11;class lY{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new N8,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ve.ie&&ve.ie_version<=11||ve.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ve.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ve.chrome&&ve.chrome_version<126)&&(this.editContext=new oY(e),e.state.facet(cs)&&(e.contentDOM.editContext=this.editContext.editContext)),q0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(cs)?i.root.activeElement!=this.dom:!gh(this.dom,r))return;let s=r.anchorNode&&i.docView.tile.nearest(r.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ve.ie&&ve.ie_version<=11||ve.android&&ve.chrome)&&!i.state.selection.main.empty&&r.focusNode&&yh(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=cc(e.root);if(!t)return!1;let i=ve.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&aY(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=gh(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&z8(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,sY),q0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),q0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Vo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(r=!0),t==-1?{from:t,to:i}=l:(t=Math.min(l.from,t),i=Math.max(l.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&gh(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new _9(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=fI(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!Dm(this.view.state.selection,t.newSel.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let i=kA(t,e.previousSibling||e.target.previousSibling,-1),r=kA(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(cs)!=e.state.facet(cs)&&(e.view.contentDOM.editContext=e.state.facet(cs)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function kA(n,e,t){for(;e;){let i=en.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function _A(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor,1);return yh(l.node,l.offset,r,s)&&([t,i,r,s]=[r,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}}function aY(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return _A(n,r)}let t=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?_A(n,t):null}class oY{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:l}=r,o=this.toEditorPos(i.updateRangeStart),u=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:o,drifted:!1});let f=u-o>i.text.length;o==this.from&&s<this.from?o=s:u==this.to&&s>this.to&&(u=s);let d=dI(e.state.sliceDoc(o,u),i.text,(f?r.from:r.to)-o,f?"end":null);if(!d){let g=K.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));Dm(g,r)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+o,to:d.toA+o,insert:lt.of(i.text.slice(d.from,d.toB).split(`
`))};if((ve.mac||ve.android)&&m.from==l-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:o,to:u,insert:lt.of([i.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);lw(e,m,K.single(this.toEditorPos(i.selectionStart,g),this.toEditorPos(i.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let l=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);l<o;l++){let u=e.coordsForChar(l);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let l=s.underlineStyle,o=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let u=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(u<f){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;r.push(Ee.mark({attributes:{style:d}}).range(u,f))}}}e.dispatch({effects:nI.of(Ee.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=cc(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,l,o,u,f)=>{if(i)return;let d=f.length-(l-s);if(r&&l>=r.to)if(r.from==s&&r.to==l&&r.insert.eq(f)){r=this.pendingContextChange=null,t+=d,this.to+=d;return}else r=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+f.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),f.toString()),this.to+=d}t+=d}),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ge{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||L8(e.parent)||document,this.viewState=new vA(e.state||et.create(e)),e.scrollTo&&e.scrollTo.is(hp)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Do).map(r=>new B0(r));for(let r of this.plugins)r.update(this);this.observer=new lY(this),this.inputState=new A9(this),this.inputState.ensureHandlers(this.plugins),this.docView=new aA(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let t=e.length==1&&e[0]instanceof Jt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,o=0,u=null;e.some(g=>g.annotation(bI))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=SI(s,l),u||(o=1));let f=this.observer.delayedAndroidKey,d=null;if(f?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(et.phrases)!=this.state.facet(et.phrases))return this.setState(s);r=$m.create(this,s,e),r.flags|=o;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;m=new qo(y.empty?y:K.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(hp)&&(m=y.value.clip(this.state))}this.viewState.update(r,m),this.bidiCache=Lm.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(nh)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Op)!=r.state.facet(Op)&&(this.viewState.mustMeasureContent=!0),(t||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let g of this.state.facet(YS))try{g(r)}catch(y){ti(this.state,y,"update listener")}(u||d)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),d&&!fI(this,d)&&f.force&&Vo(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new vA(e),this.plugins=e.facet(Do).map(i=>new B0(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new aA(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Do),i=e.state.facet(Do);if(t!=i){let r=[];for(let s of i){let l=t.indexOf(s);if(l<0)r.push(new B0(s));else{let o=this.plugins[l];o.mustUpdate=e,r.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){ti(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(zM(i))s=-1,l=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(r);s=y.from,l=y.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(y=>{try{return y.read(this)}catch(S){return ti(this.state,S),TA}}),m=$m.create(this,this.state,[]),g=!1;m.flags|=u,t?t.flags|=u:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let y=0;y<f.length;y++)if(d[y]!=TA)try{let S=f[y];S.write&&S.write(d[y],this)}catch(S){ti(this.state,S)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let S=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(S>1||S<-1){r=r+S,i.scrollTop=r/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(YS))o(t)}get themeClasses(){return JS+" "+(this.state.facet(KS)?kI:xI)+" "+this.state.facet(Op)}updateAttrs(){let e=CA(this,iI,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(cs)?"true":"false",class:"cm-content",style:`${ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),CA(this,iw,t);let i=this.observer.ignore(()=>{let r=tA(this.contentDOM,this.contentAttrs,t),s=tA(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(ge.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(nh);let e=this.state.facet(ge.cspNonce);kl.mount(this.root,this.styleModules.concat(rY).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return j0(this,e,oA(this,e,t,i))}moveByGroup(e,t){return j0(this,e,oA(this,e,t,i=>S9(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return K.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return b9(this,e,t,i)}moveVertically(e,t,i){return j0(this,e,v9(this,e,t,i))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let i=HS(this,e,t);return i&&i.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),HS(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),l=s[ps.find(s,e-r.from,-1,t)];return Xh(i,l.dir==_t.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(JM)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>cY)return VM(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||jM(s.isolates,i=rA(this,e))))return s.order;i||(i=rA(this,e));let r=q8(e.text,t,i);return this.bidiCache.push(new Lm(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{LM(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return hp.of(new qo(typeof e=="number"?K.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return hp.of(new qo(K.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Yt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Yt.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=kl.newName(),r=[Op.of(i),nh.of(ev(`.${i}`,e))];return t&&t.dark&&r.push(KS.of(!0)),r}static baseTheme(e){return Qs.lowest(nh.of(ev("."+JS,e,_I)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&en.get(i)||en.get(e);return((t=r==null?void 0:r.root)===null||t===void 0?void 0:t.view)||null}}ge.styleModule=nh;ge.inputHandler=GM;ge.clipboardInputFilter=tw;ge.clipboardOutputFilter=nw;ge.scrollHandler=tI;ge.focusChangeEffect=KM;ge.perLineTextDirection=JM;ge.exceptionSink=HM;ge.updateListener=YS;ge.editable=cs;ge.mouseSelectionStyle=WM;ge.dragMovesSelection=FM;ge.clickAddsSelectionRange=YM;ge.decorations=Mg;ge.blockWrappers=rI;ge.outerDecorations=rw;ge.atomicRanges=Af;ge.bidiIsolatedRanges=sI;ge.scrollMargins=lI;ge.darkTheme=KS;ge.cspNonce=Se.define({combine:n=>n.length?n[0]:""});ge.contentAttributes=iw;ge.editorAttributes=iI;ge.lineWrapping=ge.contentAttributes.of({class:"cm-lineWrapping"});ge.announce=Ie.define();const cY=4096,TA={};class Lm{constructor(e,t,i,r,s,l){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:_t.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==r&&!t.touchesRange(l.from,l.to)&&i.push(new Lm(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return i}}function CA(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],l=typeof s=="function"?s(n):s;l&&K1(l,t)}return t}const uY=ve.mac?"mac":ve.windows?"win":ve.linux?"linux":"key";function hY(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,l,o;for(let u=0;u<t.length-1;++u){const f=t[u];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),l&&(i="Shift-"+i),i}function yp(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const fY=Qs.default(ge.domEventHandlers({keydown(n,e){return CI(TI(e.state),n,e,"editor")}})),Ic=Se.define({enables:fY}),EA=new WeakMap;function TI(n){let e=n.facet(Ic),t=EA.get(e);return t||EA.set(e,t=mY(e.reduce((i,r)=>i.concat(r),[]))),t}function dY(n,e,t){return CI(TI(n.state),e,n,t)}let cl=null;const pY=4e3;function mY(n,e=uY){let t=Object.create(null),i=Object.create(null),r=(l,o)=>{let u=i[l];if(u==null)i[l]=o;else if(u!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,o,u,f,d)=>{var m,g;let y=t[l]||(t[l]=Object.create(null)),S=o.split(/ (?!$)/).map(k=>hY(k,e));for(let k=1;k<S.length;k++){let C=S.slice(0,k).join(" ");r(C,!0),y[C]||(y[C]={preventDefault:!0,stopPropagation:!1,run:[T=>{let X=cl={view:T,prefix:C,scope:l};return setTimeout(()=>{cl==X&&(cl=null)},pY),!0}]})}let v=S.join(" ");r(v,!1);let x=y[v]||(y[v]={preventDefault:!1,stopPropagation:!1,run:((g=(m=y._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});u&&x.run.push(u),f&&(x.preventDefault=!0),d&&(x.stopPropagation=!0)};for(let l of n){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of o){let d=t[f]||(t[f]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(y=>m(y,tv))}let u=l[e]||l.key;if(u)for(let f of o)s(f,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(f,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return t}let tv=null;function CI(n,e,t,i){tv=e;let r=A8(e),s=Hn(r,0),l=Cr(s)==r.length&&r!=" ",o="",u=!1,f=!1,d=!1;cl&&cl.view==t&&cl.scope==i&&(o=cl.prefix+" ",mI.indexOf(e.keyCode)<0&&(f=!0,cl=null));let m=new Set,g=x=>{if(x){for(let k of x.run)if(!m.has(k)&&(m.add(k),k(t)))return x.stopPropagation&&(d=!0),!0;x.preventDefault&&(x.stopPropagation&&(d=!0),f=!0)}return!1},y=n[i],S,v;return y&&(g(y[o+yp(r,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ve.windows&&e.ctrlKey&&e.altKey)&&!(ve.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(S=_l[e.keyCode])&&S!=r?(g(y[o+yp(S,e,!0)])||e.shiftKey&&(v=Bh[e.keyCode])!=r&&v!=S&&g(y[o+yp(v,e,!1)]))&&(u=!0):l&&e.shiftKey&&g(y[o+yp(r,e,!0)])&&(u=!0),!u&&g(y._any)&&(u=!0)),f&&(u=!0),u&&d&&e.stopPropagation(),tv=null,u}class Qf{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=EI(e);return[new Qf(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return gY(e,t,i)}}function EI(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==_t.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function AA(n,e,t,i){let r=n.coordsAtPos(e,t*2);if(!r)return i;let s=n.dom.getBoundingClientRect(),l=(r.top+r.bottom)/2,o=n.posAtCoords({x:s.left+1,y:l}),u=n.posAtCoords({x:s.right-1,y:l});return o==null||u==null?i:{from:Math.max(i.from,Math.min(o,u)),to:Math.min(i.to,Math.max(o,u))}}function gY(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==_t.LTR,l=n.contentDOM,o=l.getBoundingClientRect(),u=EI(n),f=l.querySelector(".cm-line"),d=f&&window.getComputedStyle(f),m=o.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=o.right-(d?parseInt(d.paddingRight):0),y=WS(n,i,1),S=WS(n,r,-1),v=y.type==_n.Text?y:null,x=S.type==_n.Text?S:null;if(v&&(n.lineWrapping||y.widgetLineBreaks)&&(v=AA(n,i,1,v)),x&&(n.lineWrapping||S.widgetLineBreaks)&&(x=AA(n,r,-1,x)),v&&x&&v.from==x.from&&v.to==x.to)return C(T(t.from,t.to,v));{let L=v?T(t.from,null,v):X(y,!1),R=x?T(null,t.to,x):X(S,!0),N=[];return(v||y).to<(x||S).from-(v&&x?1:0)||y.widgetLineBreaks>1&&L.bottom+n.defaultLineHeight/2<R.top?N.push(k(m,L.bottom,g,R.top)):L.bottom<R.top&&n.elementAtHeight((L.bottom+R.top)/2).type==_n.Text&&(L.bottom=R.top=(L.bottom+R.top)/2),C(L).concat(N).concat(C(R))}function k(L,R,N,ae){return new Qf(e,L-u.left,R-u.top,Math.max(0,N-L),ae-R)}function C({top:L,bottom:R,horizontal:N}){let ae=[];for(let te=0;te<N.length;te+=2)ae.push(k(N[te],L,N[te+1],R));return ae}function T(L,R,N){let ae=1e9,te=-1e9,z=[];function H(oe,ne,U,ie,me){let be=n.coordsAtPos(oe,oe==N.to?-2:2),P=n.coordsAtPos(U,U==N.from?2:-2);!be||!P||(ae=Math.min(be.top,P.top,ae),te=Math.max(be.bottom,P.bottom,te),me==_t.LTR?z.push(s&&ne?m:be.left,s&&ie?g:P.right):z.push(!s&&ie?m:P.left,!s&&ne?g:be.right))}let W=L??N.from,fe=R??N.to;for(let oe of n.visibleRanges)if(oe.to>W&&oe.from<fe)for(let ne=Math.max(oe.from,W),U=Math.min(oe.to,fe);;){let ie=n.state.doc.lineAt(ne);for(let me of n.bidiSpans(ie)){let be=me.from+ie.from,P=me.to+ie.from;if(be>=U)break;P>ne&&H(Math.max(be,ne),L==null&&be<=W,Math.min(P,U),R==null&&P>=fe,me.dir)}if(ne=ie.to+1,ne>=U)break}return z.length==0&&H(W,L==null,fe,R==null,n.textDirection),{top:ae,bottom:te,horizontal:z}}function X(L,R){let N=o.top+(R?L.top:L.bottom);return{top:N,bottom:N,horizontal:[]}}}function OY(n,e){return n.constructor==e.constructor&&n.eq(e)}class yY{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Wp)!=e.state.facet(Wp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(Wp);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!OY(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e,ve.safari&&ve.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Wp=Se.define();function AI(n){return[Yt.define(e=>new yY(e,n)),Wp.of(n)]}const jh=Se.define({combine(n){return zr(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function bY(n={}){return[jh.of(n),SY,vY,wY,eI.of(!0)]}function QI(n){return n.startState.facet(jh)!=n.state.facet(jh)}const SY=AI({above:!0,markers(n){let{state:e}=n,t=e.facet(jh),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=r.empty?r:K.cursor(r.head,r.head>r.anchor?-1:1);for(let u of Qf.forRange(n,l,o))i.push(u)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=QI(n);return t&&QA(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){QA(e.state,n)},class:"cm-cursorLayer"});function QA(n,e){e.style.animationDuration=n.facet(jh).cursorBlinkRate+"ms"}const vY=AI({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Qf.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||QI(n)},class:"cm-selectionLayer"}),wY=Qs.highest(ge.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),PI=Ie.define({map(n,e){return n==null?null:e.mapPos(n)}}),sh=dn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(PI)?i.value:t,n)}}),xY=Yt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(sh);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(sh)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(sh),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(sh)!=n&&this.view.dispatch({effects:PI.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function kY(){return[sh,xY]}function PA(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),l=t,o;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)r(l+o.index,o)}function _Y(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class TY{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(o,u,f,d)=>r(d,f,f+o[0].length,o,u);else if(typeof i=="function")this.addMatch=(o,u,f,d)=>{let m=i(o,u,f);m&&d(f,f+o[0].length,m)};else if(i)this.addMatch=(o,u,f,d)=>d(f,f+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new _s,i=t.add.bind(t);for(let{from:r,to:s}of _Y(e,this.maxLength))PA(e.state.doc,this.regexp,r,s,(l,o)=>this.addMatch(o,e,l,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,l,o,u)=>{u>=e.view.viewport.from&&o<=e.view.viewport.to&&(i=Math.min(o,i),r=Math.max(u,r))}),e.viewportMoved||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let l=Math.max(s.from,i),o=Math.min(s.to,r);if(o>=l){let u=e.state.doc.lineAt(l),f=u.to<o?e.state.doc.lineAt(o):u,d=Math.max(s.from,u.from),m=Math.min(s.to,f.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){d=l;break}for(;o<f.to;o++)if(this.boundary.test(f.text[o-f.from])){m=o;break}}let g=[],y,S=(v,x,k)=>g.push(k.range(v,x));if(u==f)for(this.regexp.lastIndex=d-u.from;(y=this.regexp.exec(u.text))&&y.index<m-u.from;)this.addMatch(y,e,y.index+u.from,S);else PA(e.state.doc,this.regexp,d,m,(v,x)=>this.addMatch(x,e,v,S));t=t.update({filterFrom:d,filterTo:m,filter:(v,x)=>v<d||x>m,add:g})}}return t}}const nv=/x/.unicode!=null?"gu":"g",CY=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,nv),EY={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Y0=null;function AY(){var n;if(Y0==null&&typeof document<"u"&&document.body){let e=document.body.style;Y0=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Y0||!1}const Hp=Se.define({combine(n){let e=zr(n,{render:null,specialChars:CY,addSpecialChars:null});return(e.replaceTabs=!AY())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,nv)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,nv)),e}});function QY(n={}){return[Hp.of(n),PY()]}let RA=null;function PY(){return RA||(RA=Yt.fromClass(class{constructor(n){this.view=n,this.decorations=Ee.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Hp)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new TY({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=Hn(e[0],0);if(s==9){let l=r.lineAt(i),o=t.state.tabSize,u=cr(l.text,o,i-l.from);return Ee.replace({widget:new IY((o-u%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ee.replace({widget:new MY(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Hp);n.startState.facet(Hp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const RY="";function $Y(n){return n>=32?RY:n==10?"":String.fromCharCode(9216+n)}class MY extends hr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=$Y(this.code),i=e.state.phrase("Control character")+" "+(EY[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class IY extends hr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function DY(){return LY}const NY=Ee.line({class:"cm-activeLine"}),LY=Yt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(NY.range(r.from)),e=r.from)}return Ee.set(t)}},{decorations:n=>n.decorations});class zY extends hr{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Oh(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=Xh(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function BY(n){let e=Yt.fromClass(class{constructor(t){this.view=t,this.placeholder=n?Ee.set([Ee.widget({widget:new zY(n),side:1}).range(0)]):Ee.none}get decorations(){return this.view.state.doc.length?Ee.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,ge.contentAttributes.of({"aria-placeholder":n})]:e}const iv=2e3;function UY(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>iv||t.off>iv||e.col<0||t.col<0){let l=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let u=i;u<=r;u++){let f=n.doc.line(u);f.length<=o&&s.push(K.range(f.from+l,f.to+o))}}else{let l=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let u=i;u<=r;u++){let f=n.doc.line(u),d=DS(f.text,l,n.tabSize,!0);if(d<0)s.push(K.cursor(f.to));else{let m=DS(f.text,o,n.tabSize);s.push(K.range(f.from+d,f.from+m))}}}return s}function XY(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function $A(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>iv?-1:r==i.length?XY(n,e.clientX):cr(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function ZY(n,e){let t=$A(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),l=r.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},i=i.map(r.changes)}},get(r,s,l){let o=$A(n,r);if(!o)return i;let u=UY(n.state,t,o);return u.length?l?K.create(u.concat(i.ranges)):K.create(u):i}}:null}function jY(n){let e=(t=>t.altKey&&t.button==0);return ge.mouseSelectionStyle.of((t,i)=>e(i)?ZY(t,i):null)}const VY={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},qY={style:"cursor: crosshair"};function YY(n={}){let[e,t]=VY[n.key||"Alt"],i=Yt.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,ge.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?qY:null})]}const bp="-10000px";class RI{constructor(e,t,i,r){this.facet=t,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=i(l,s))}update(e,t){var i;let r=e.state.facet(this.facet),s=r.filter(u=>u);if(r===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],o=t?[]:null;for(let u=0;u<s.length;u++){let f=s[u],d=-1;if(f){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==f.create&&(d=m)}if(d<0)l[u]=this.createTooltipView(f,u?l[u-1]:null),o&&(o[u]=!!f.above);else{let m=l[u]=this.tooltipViews[d];o&&(o[u]=t[d]),m.update&&m.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(i=u.destroy)===null||i===void 0||i.call(u));return t&&(o.forEach((u,f)=>t[f]=u),t.length=o.length),this.input=r,this.tooltips=s,this.tooltipViews=l,!0}}function FY(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const F0=Se.define({combine:n=>{var e,t,i;return{position:ve.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||FY}}}),MA=new WeakMap,cw=Yt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(F0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new RI(n,uw,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(F0);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top=bp,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ve.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),r=sw(this.view);return{visible:{left:i.left+r.left,top:i.top+r.top,right:i.right-r.right,bottom:i.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let o=this.manager.tooltipViews[l];return o.getCoords?o.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(F0).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:i,scaleX:r,scaleY:s}=n,l=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],f=this.manager.tooltipViews[o],{dom:d}=f,m=n.pos[o],g=n.size[o];if(!m||u.clip!==!1&&(m.bottom<=Math.max(t.top,i.top)||m.top>=Math.min(t.bottom,i.bottom)||m.right<Math.max(t.left,i.left)-.1||m.left>Math.min(t.right,i.right)+.1)){d.style.top=bp;continue}let y=u.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,S=y?7:0,v=g.right-g.left,x=(e=MA.get(f))!==null&&e!==void 0?e:g.bottom-g.top,k=f.offset||HY,C=this.view.textDirection==_t.LTR,T=g.width>i.right-i.left?C?i.left:i.right-g.width:C?Math.max(i.left,Math.min(m.left-(y?14:0)+k.x,i.right-v)):Math.min(Math.max(i.left,m.left-v+(y?14:0)-k.x),i.right-v),X=this.above[o];!u.strictSide&&(X?m.top-x-S-k.y<i.top:m.bottom+x+S+k.y>i.bottom)&&X==i.bottom-m.bottom>m.top-i.top&&(X=this.above[o]=!X);let L=(X?m.top-i.top:i.bottom-m.bottom)-S;if(L<x&&f.resize!==!1){if(L<this.view.defaultLineHeight){d.style.top=bp;continue}MA.set(f,x),d.style.height=(x=L)/s+"px"}else d.style.height&&(d.style.height="");let R=X?m.top-x-S-k.y:m.bottom+S+k.y,N=T+v;if(f.overlap!==!0)for(let ae of l)ae.left<N&&ae.right>T&&ae.top<R+x&&ae.bottom>R&&(R=X?ae.top-x-2-S:ae.bottom+S+2);if(this.position=="absolute"?(d.style.top=(R-n.parent.top)/s+"px",IA(d,(T-n.parent.left)/r)):(d.style.top=R/s+"px",IA(d,T/r)),y){let ae=m.left+(C?k.x:-k.x)-(T+14-7);y.style.left=ae/r+"px"}f.overlap!==!0&&l.push({left:T,top:R,right:N,bottom:R+x}),d.classList.toggle("cm-tooltip-above",X),d.classList.toggle("cm-tooltip-below",!X),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=bp}},{eventObservers:{scroll(){this.maybeMeasure()}}});function IA(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const WY=ge.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),HY={x:0,y:0},uw=Se.define({enables:[cw,WY]}),zm=Se.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Lg{static create(e){return new Lg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new RI(e,zm,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const GY=uw.compute([zm],n=>{let e=n.facet(zm);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Lg.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class KY{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.tile.nearest(t.target);if(!i)return;let r,s=1;if(i.isWidget())r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let o=e.coordsAtPos(r);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(r)).find(d=>d.from<=r&&d.to>=r),f=u&&u.dir==_t.RTL?-1:1;s=t.x<o.left?-f:f}let l=this.source(e,r,s);if(l!=null&&l.then){let o=this.pending={pos:r};l.then(u=>{this.pending==o&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>ti(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(cw),t=e?e.manager.tooltips.findIndex(i=>i.create==Lg.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!JY(s.dom,e)||this.pending){let{pos:l}=r[0]||this.pending,o=(i=(t=r[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:l;(l==o?this.view.posAtCoords(this.lastMove)!=l:!e7(this.view,l,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Sp=4;function JY(n,e){let{left:t,right:i,top:r,bottom:s}=n.getBoundingClientRect(),l;if(l=n.querySelector(".cm-tooltip-arrow")){let o=l.getBoundingClientRect();r=Math.min(o.top,r),s=Math.max(o.bottom,s)}return e.clientX>=t-Sp&&e.clientX<=i+Sp&&e.clientY>=r-Sp&&e.clientY<=s+Sp}function e7(n,e,t,i,r,s){let l=n.scrollDOM.getBoundingClientRect(),o=n.documentTop+n.documentPadding.top+n.contentHeight;if(l.left>i||l.right<i||l.top>r||Math.min(l.bottom,o)<r)return!1;let u=n.posAtCoords({x:i,y:r},!1);return u>=e&&u<=t}function t7(n,e={}){let t=Ie.define(),i=dn.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let o of r){let u=s.changes.mapPos(o.pos,-1,kn.TrackDel);if(u!=null){let f=Object.assign(Object.create(null),o);f.pos=u,f.end!=null&&(f.end=s.changes.mapPos(f.end)),l.push(f)}}r=l}for(let l of s.effects)l.is(t)&&(r=l.value),l.is(n7)&&(r=[]);return r},provide:r=>zm.from(r)});return{active:i,extension:[i,Yt.define(r=>new KY(r,n,i,t,e.hoverTime||300)),GY]}}function $I(n,e){let t=n.plugin(cw);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const n7=Ie.define(),DA=Se.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function hw(n,e){let t=n.plugin(MI),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const MI=Yt.fromClass(class{constructor(n){this.input=n.state.facet(Vh),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(DA);this.top=new vp(n,!0,e.topContainer),this.bottom=new vp(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(DA);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new vp(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new vp(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Vh);if(t!=this.input){let i=t.filter(u=>u),r=[],s=[],l=[],o=[];for(let u of i){let f=this.specs.indexOf(u),d;f<0?(d=u(n.view),o.push(d)):(d=this.panels[f],d.update&&d.update(n)),r.push(d),(d.top?s:l).push(d)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(l);for(let u of o)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ge.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class vp{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=NA(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=NA(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function NA(n){let e=n.nextSibling;return n.remove(),e}const Vh=Se.define({enables:MI});function i7(n,e){let t,i=new Promise(l=>t=l),r=l=>r7(l,e,t);n.state.field(W0,!1)?n.dispatch({effects:II.of(r)}):n.dispatch({effects:Ie.appendConfig.of(W0.init(()=>[r]))});let s=DI.of(r);return{close:s,result:i.then(l=>((n.win.queueMicrotask||(u=>n.win.setTimeout(u,10)))(()=>{n.state.field(W0).indexOf(r)>-1&&n.dispatch({effects:s})}),l))}}const W0=dn.define({create(){return[]},update(n,e){for(let t of e.effects)t.is(II)?n=[t.value].concat(n):t.is(DI)&&(n=n.filter(i=>i!=t.value));return n},provide:n=>Vh.computeN([n],e=>e.field(n))}),II=Ie.define(),DI=Ie.define();function r7(n,e,t){let i=e.content?e.content(n,()=>l(null)):null;if(!i){if(i=St("form"),e.input){let o=St("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),i.appendChild(St("label",(e.label||"")+": ",o))}else i.appendChild(document.createTextNode(e.label||""));i.appendChild(document.createTextNode(" ")),i.appendChild(St("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let r=i.nodeName=="FORM"?[i]:i.querySelectorAll("form");for(let o=0;o<r.length;o++){let u=r[o];u.addEventListener("keydown",f=>{f.keyCode==27?(f.preventDefault(),l(null)):f.keyCode==13&&(f.preventDefault(),l(u))}),u.addEventListener("submit",f=>{f.preventDefault(),l(u)})}let s=St("div",i,St("button",{onclick:()=>l(null),"aria-label":n.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function l(o){s.contains(s.ownerDocument.activeElement)&&n.focus(),t(o)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=i.querySelector(e.focus):o=i.querySelector("input")||i.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class Cs extends xl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Cs.prototype.elementClass="";Cs.prototype.toDOM=void 0;Cs.prototype.mapMode=kn.TrackBefore;Cs.prototype.startSide=Cs.prototype.endSide=-1;Cs.prototype.point=!0;const Gp=Se.define(),s7=Se.define(),l7={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>He.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Sh=Se.define();function a7(n){return[NI(),Sh.of({...l7,...n})]}const LA=Se.define({combine:n=>n.some(e=>e)});function NI(n){return[o7]}const o7=Yt.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Sh).map(e=>new BA(n,e)),this.fixed=!n.state.facet(LA);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(LA)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=He.iter(this.view.state.facet(Gp),this.view.viewport.from),i=[],r=this.gutters.map(s=>new c7(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let l=!0;for(let o of s.type)if(o.type==_n.Text&&l){rv(t,i,o.from);for(let u of r)u.line(this.view,o,i);l=!1}else if(o.widget)for(let u of r)u.widget(this.view,o)}else if(s.type==_n.Text){rv(t,i,s.from);for(let l of r)l.line(this.view,s,i)}else if(s.widget)for(let l of r)l.widget(this.view,s);for(let s of r)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Sh),t=n.state.facet(Sh),i=n.docChanged||n.heightChanged||n.viewportChanged||!He.eq(n.startState.facet(Gp),n.state.facet(Gp),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let l=e.indexOf(s);l<0?r.push(new BA(this.view,s)):(this.gutters[l].update(n),r.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>ge.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,r=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==_t.LTR?{left:i,right:r}:{right:i,left:r}})});function zA(n){return Array.isArray(n)?n:[n]}function rv(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class c7{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=He.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==r.elements.length){let o=new LI(e,l,s,i);r.elements.push(o),r.dom.appendChild(o.dom)}else r.elements[this.i].update(e,l,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];rv(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let l=this.gutter;r.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),r=i?[i]:null;for(let s of e.state.facet(s7)){let l=s(e,t.widget,t);l&&(r||(r=[])).push(l)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class BA{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=r.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[i](e,o,r)&&r.preventDefault()});this.markers=zA(t.markers(e)),t.initialSpacer&&(this.spacer=new LI(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=zA(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!He.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class LI{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),u7(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,l=0;;){let o=l,u=s<t.length?t[s++]:null,f=!1;if(u){let d=u.elementClass;d&&(i+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(u)){o=m,f=!0;break}}else o=this.markers.length;for(;l<o;){let d=this.markers[l++];if(d.toDOM){d.destroy(r);let m=r.nextSibling;r.remove(),r=m}}if(!u)break;u.toDOM&&(f?r=r.nextSibling:this.dom.insertBefore(u.toDOM(e),r)),f&&l++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function u7(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const h7=Se.define(),f7=Se.define(),No=Se.define({combine(n){return zr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],l=t[r];i[r]=s?(o,u,f)=>s(o,u,f)||l(o,u,f):l}return i}})}});class H0 extends Cs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function G0(n,e){return n.state.facet(No).formatNumber(e,n.state)}const d7=Sh.compute([No],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(h7)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new H0(G0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let r of e.state.facet(f7)){let s=r(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(No)!=e.state.facet(No),initialSpacer(e){return new H0(G0(e,UA(e.state.doc.lines)))},updateSpacer(e,t){let i=G0(t.view,UA(t.view.state.doc.lines));return i==e.number?e:new H0(i)},domEventHandlers:n.facet(No).domEventHandlers,side:"before"}));function p7(n={}){return[No.of(n),NI(),d7]}function UA(n){let e=9;for(;e<n;)e=e*10+9;return e}const m7=new class extends Cs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},g7=Gp.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(m7.range(r)))}return He.of(e)});function O7(){return g7}const zI=1024;let y7=0;class Ni{constructor(e,t){this.from=e,this.to=t}}class De{constructor(e={}){this.id=y7++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ln.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}De.closedBy=new De({deserialize:n=>n.split(" ")});De.openedBy=new De({deserialize:n=>n.split(" ")});De.group=new De({deserialize:n=>n.split(" ")});De.isolate=new De({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});De.contextHash=new De({perNode:!0});De.lookAhead=new De({perNode:!0});De.mounted=new De({perNode:!0});class Yo{constructor(e,t,i,r=!1){this.tree=e,this.overlay=t,this.parser=i,this.bracketed=r}static get(e){return e&&e.props&&e.props[De.mounted.id]}}const b7=Object.create(null);class ln{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):b7,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new ln(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(De.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(De.group),s=-1;s<(r?r.length:0);s++){let l=t[s<0?i.name:r[s]];if(l)return l}}}}ln.none=new ln("",Object.create(null),0,8);class Pf{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let l=s(i);if(l){r||(r=Object.assign({},i.props));let o=l[1],u=l[0];u.combine&&u.id in r&&(o=u.combine(r[u.id],o)),r[u.id]=o}}t.push(r?new ln(i.name,r,i.id,i.flags):i)}return new Pf(t)}}const wp=new WeakMap,XA=new WeakMap;var ft;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n[n.EnterBracketed=16]="EnterBracketed"})(ft||(ft={}));class ht{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=Yo.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Bm(this.topNode,e)}cursorAt(e,t=0,i=0){let r=wp.get(this)||this.topNode,s=new Bm(r);return s.moveTo(e,t),wp.set(this,s._tree),s}get topNode(){return new Rn(this,0,0,null)}resolve(e,t=0){let i=qh(wp.get(this)||this.topNode,e,t,!1);return wp.set(this,i),i}resolveInner(e,t=0){let i=qh(XA.get(this)||this.topNode,e,t,!0);return XA.set(this,i),i}resolveStack(e,t=0){return w7(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,l=e.mode||0,o=(l&ft.IncludeAnonymous)>0;for(let u=this.cursor(l|ft.IncludeAnonymous);;){let f=!1;if(u.from<=s&&u.to>=r&&(!o&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&i&&(o||!u.type.isAnonymous)&&i(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:pw(ln.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new ht(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new ht(ln.none,t,i,r)))}static build(e){return x7(e)}}ht.empty=new ht(ln.none,[],[],0);class fw{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new fw(this.buffer,this.index)}}class Cl{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ln.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let l=[];for(;e<i;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,i,r,s){let{buffer:l}=this,o=-1;for(let u=e;u!=t&&!(BI(s,r,l[u+1],l[u+2])&&(o=u,i>0));u=l[u+3]);return o}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),l=0;for(let o=e,u=0;o<t;){s[u++]=r[o++],s[u++]=r[o++]-i;let f=s[u++]=r[o++]-i;s[u++]=r[o++]-e,l=Math.max(l,f)}return new Cl(s,l,this.set)}}function BI(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function qh(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let l=!i&&n instanceof Rn&&n.index<0?null:n.parent;if(!l)return n;n=l}let s=i?0:ft.IgnoreOverlays;if(i)for(let l=n,o=l.parent;o;l=o,o=l.parent)l instanceof Rn&&l.index<0&&((r=o.enter(e,t,s))===null||r===void 0?void 0:r.from)!=l.from&&(n=o);for(;;){let l=n.enter(e,t,s);if(!l)return n;n=l}}class UI{cursor(e=0){return new Bm(this,e)}getChild(e,t=null,i=null){let r=ZA(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return ZA(this,e,t,i)}resolve(e,t=0){return qh(this,e,t,!1)}resolveInner(e,t=0){return qh(this,e,t,!0)}matchContext(e){return sv(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class Rn extends UI{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let l=this;;){for(let{children:o,positions:u}=l._tree,f=t>0?o.length:-1;e!=f;e+=t){let d=o[e],m=u[e]+l.from,g;if(!(!(s&ft.EnterBracketed&&d instanceof ht&&(g=Yo.get(d))&&!g.overlay&&g.bracketed&&i>=m&&i<=m+d.length)&&!BI(r,i,m,m+d.length))){if(d instanceof Cl){if(s&ft.ExcludeBuffers)continue;let y=d.findChild(0,d.buffer.length,t,i-m,r);if(y>-1)return new Ar(new S7(l,d,e,m),null,y)}else if(s&ft.IncludeAnonymous||!d.type.isAnonymous||dw(d)){let y;if(!(s&ft.IgnoreMounts)&&(y=Yo.get(d))&&!y.overlay)return new Rn(y.tree,m,e,l);let S=new Rn(d,m,e,l);return s&ft.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(t<0?d.children.length-1:0,t,i,r,s)}}}if(s&ft.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let r;if(!(i&ft.IgnoreOverlays)&&(r=Yo.get(this._tree))&&r.overlay){let s=e-this.from,l=i&ft.EnterBracketed&&r.bracketed;for(let{from:o,to:u}of r.overlay)if((t>0||l?o<=s:o<s)&&(t<0||l?u>=s:u>s))return new Rn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ZA(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=r.type.is(t),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function sv(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class S7{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Ar extends UI{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Ar(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&ft.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Ar(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ar(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ar(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let l=i.buffer[this.index+1];e.push(i.slice(r,s,l)),t.push(0)}return new ht(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function XI(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let l=n[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let i=t instanceof Rn&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new v7(r,t)}class v7{constructor(e,t){this.heads=e,this.node=t}get next(){return XI(this.heads)}}function w7(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof Rn?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(r||(r=[i])).push(l.resolve(e,t)),s=l}else{let l=Yo.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new Rn(l.tree,l.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(qh(o,e,t,!1))}}return r?XI(r):i}class Bm{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~ft.EnterBracketed,e instanceof Rn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Rn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&ft.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ft.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ft.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,l=e<0?-1:i._tree.children.length;s!=l;s+=e){let o=i._tree.children[s];if(this.mode&ft.IncludeAnonymous||o instanceof Cl||!o.type.isAnonymous||dw(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==r){if(r==this.index)return l;t=l,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new Ar(this.buffer,t,this.stack[r]);return this.bufferNode=new Ar(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return sv(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return sv(this._tree,e,r);let l=i[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[r]&&e[r]!=l.name)return!1;r--}}return!0}}function dw(n){return n.children.some(e=>e instanceof Cl||!e.type.isAnonymous||dw(e))}function x7(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=zI,reused:s=[],minRepeatType:l=i.types.length}=n,o=Array.isArray(t)?new fw(t,t.length):t,u=i.types,f=0,d=0;function m(L,R,N,ae,te,z){let{id:H,start:W,end:fe,size:oe}=o,ne=d,U=f;if(oe<0)if(o.next(),oe==-1){let M=s[H];N.push(M),ae.push(W-L);return}else if(oe==-3){f=H;return}else if(oe==-4){d=H;return}else throw new RangeError(`Unrecognized record size: ${oe}`);let ie=u[H],me,be,P=W-L;if(fe-W<=r&&(be=x(o.pos-R,te))){let M=new Uint16Array(be.size-be.skip),Y=o.pos-be.size,E=M.length;for(;o.pos>Y;)E=k(be.start,M,E);me=new Cl(M,fe-be.start,i),P=be.start-L}else{let M=o.pos-oe;o.next();let Y=[],E=[],he=H>=l?H:-1,_e=0,we=fe;for(;o.pos>M;)he>=0&&o.id==he&&o.size>=0?(o.end<=we-r&&(S(Y,E,W,_e,o.end,we,he,ne,U),_e=Y.length,we=o.end),o.next()):z>2500?g(W,M,Y,E):m(W,M,Y,E,he,z+1);if(he>=0&&_e>0&&_e<Y.length&&S(Y,E,W,_e,W,we,he,ne,U),Y.reverse(),E.reverse(),he>-1&&_e>0){let Be=y(ie,U);me=pw(ie,Y,E,0,Y.length,0,fe-W,Be,Be)}else me=v(ie,Y,E,fe-W,ne-fe,U)}N.push(me),ae.push(P)}function g(L,R,N,ae){let te=[],z=0,H=-1;for(;o.pos>R;){let{id:W,start:fe,end:oe,size:ne}=o;if(ne>4)o.next();else{if(H>-1&&fe<H)break;H<0&&(H=oe-r),te.push(W,fe,oe),z++,o.next()}}if(z){let W=new Uint16Array(z*4),fe=te[te.length-2];for(let oe=te.length-3,ne=0;oe>=0;oe-=3)W[ne++]=te[oe],W[ne++]=te[oe+1]-fe,W[ne++]=te[oe+2]-fe,W[ne++]=ne;N.push(new Cl(W,te[2]-fe,i)),ae.push(fe-L)}}function y(L,R){return(N,ae,te)=>{let z=0,H=N.length-1,W,fe;if(H>=0&&(W=N[H])instanceof ht){if(!H&&W.type==L&&W.length==te)return W;(fe=W.prop(De.lookAhead))&&(z=ae[H]+W.length+fe)}return v(L,N,ae,te,z,R)}}function S(L,R,N,ae,te,z,H,W,fe){let oe=[],ne=[];for(;L.length>ae;)oe.push(L.pop()),ne.push(R.pop()+N-te);L.push(v(i.types[H],oe,ne,z-te,W-z,fe)),R.push(te-N)}function v(L,R,N,ae,te,z,H){if(z){let W=[De.contextHash,z];H=H?[W].concat(H):[W]}if(te>25){let W=[De.lookAhead,te];H=H?[W].concat(H):[W]}return new ht(L,R,N,ae,H)}function x(L,R){let N=o.fork(),ae=0,te=0,z=0,H=N.end-r,W={size:0,start:0,skip:0};e:for(let fe=N.pos-L;N.pos>fe;){let oe=N.size;if(N.id==R&&oe>=0){W.size=ae,W.start=te,W.skip=z,z+=4,ae+=4,N.next();continue}let ne=N.pos-oe;if(oe<0||ne<fe||N.start<H)break;let U=N.id>=l?4:0,ie=N.start;for(N.next();N.pos>ne;){if(N.size<0)if(N.size==-3||N.size==-4)U+=4;else break e;else N.id>=l&&(U+=4);N.next()}te=ie,ae+=oe,z+=U}return(R<0||ae==L)&&(W.size=ae,W.start=te,W.skip=z),W.size>4?W:void 0}function k(L,R,N){let{id:ae,start:te,end:z,size:H}=o;if(o.next(),H>=0&&ae<l){let W=N;if(H>4){let fe=o.pos-(H-4);for(;o.pos>fe;)N=k(L,R,N)}R[--N]=W,R[--N]=z-L,R[--N]=te-L,R[--N]=ae}else H==-3?f=ae:H==-4&&(d=ae);return N}let C=[],T=[];for(;o.pos>0;)m(n.start||0,n.bufferStart||0,C,T,-1,0);let X=(e=n.length)!==null&&e!==void 0?e:C.length?T[0]+C[0].length:0;return new ht(u[n.topID],C.reverse(),T.reverse(),X)}const jA=new WeakMap;function Kp(n,e){if(!n.isAnonymous||e instanceof Cl||e.type!=n)return 1;let t=jA.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof ht)){t=1;break}t+=Kp(n,i)}jA.set(e,t)}return t}function pw(n,e,t,i,r,s,l,o,u){let f=0;for(let S=i;S<r;S++)f+=Kp(n,e[S]);let d=Math.ceil(f*1.5/8),m=[],g=[];function y(S,v,x,k,C){for(let T=x;T<k;){let X=T,L=v[T],R=Kp(n,S[T]);for(T++;T<k;T++){let N=Kp(n,S[T]);if(R+N>=d)break;R+=N}if(T==X+1){if(R>d){let N=S[X];y(N.children,N.positions,0,N.children.length,v[X]+C);continue}m.push(S[X])}else{let N=v[T-1]+S[T-1].length-L;m.push(pw(n,S,v,X,T,L,N,null,u))}g.push(L+C-s)}}return y(e,t,i,r,0),(o||u)(m,g,l)}class ZI{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Ar?this.setBuffer(e.context.buffer,e.index,t):e instanceof Rn&&this.map.set(e.tree,t)}get(e){return e instanceof Ar?this.getBuffer(e.context.buffer,e.index):e instanceof Rn?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ys{constructor(e,t,i,r,s=!1,l=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new ys(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,l=e.length?e[0]:null;for(let o=0,u=0,f=0;;o++){let d=o<t.length?t[o]:null,m=d?d.fromA:1e9;if(m-u>=i)for(;l&&l.from<m;){let g=l;if(u>=g.from||m<=g.to||f){let y=Math.max(g.from,u)-f,S=Math.min(g.to,m)-f;g=y>=S?null:new ys(y,S,g.tree,g.offset+f,o>0,!!d)}if(g&&r.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;u=d.toA,f=d.toA-d.toB}return r}}class mw{startParse(e,t,i){return typeof e=="string"&&(e=new k7(e)),i=i?i.length?i.map(r=>new Ni(r.from,r.to)):[new Ni(0,0)]:[new Ni(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class k7{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function jI(n){return(e,t,i,r)=>new T7(e,n,t,i,r)}class VA{constructor(e,t,i,r,s,l){this.parser=e,this.parse=t,this.overlay=i,this.bracketed=r,this.target=s,this.from=l}}function qA(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class _7{constructor(e,t,i,r,s,l,o,u){this.parser=e,this.predicate=t,this.mounts=i,this.index=r,this.start=s,this.bracketed=l,this.target=o,this.prev=u,this.depth=0,this.ranges=[]}}const lv=new De({perNode:!0});class T7{constructor(e,t,i,r,s){this.nest=t,this.input=i,this.fragments=r,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new ht(i.type,i.children,i.positions,i.length,i.propValues.concat([[lv,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[De.mounted.id]=new Yo(t,e.overlay,e.parser,e.bracketed),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new A7(this.fragments),t=null,i=null,r=new Bm(new Rn(this.baseTree,this.ranges[0].from,0,null),ft.IncludeAnonymous|ft.IgnoreMounts);e:for(let s,l;;){let o=!0,u;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)o=!1;else if(e.hasNode(r)){if(t){let f=t.mounts.find(d=>d.frag.from<=r.from&&d.frag.to>=r.to&&d.mount.overlay);if(f)for(let d of f.mount.overlay){let m=d.from+f.pos,g=d.to+f.pos;m>=r.from&&g<=r.to&&!t.ranges.some(y=>y.from<g&&y.to>m)&&t.ranges.push({from:m,to:g})}}o=!1}else if(i&&(l=C7(i.ranges,r.from,r.to)))o=l!=2;else if(!r.type.isAnonymous&&(s=this.nest(r,this.input))&&(r.from<r.to||!s.overlay)){r.tree||(E7(r),t&&t.depth++,i&&i.depth++);let f=e.findMounts(r.from,s.parser);if(typeof s.overlay=="function")t=new _7(s.parser,s.overlay,f,this.inner.length,r.from,!!s.bracketed,r.tree,t);else{let d=WA(this.ranges,s.overlay||(r.from<r.to?[new Ni(r.from,r.to)]:[]));d.length&&qA(d),(d.length||!s.overlay)&&this.inner.push(new VA(s.parser,d.length?s.parser.startParse(this.input,HA(f,d),d):s.parser.startParse(""),s.overlay?s.overlay.map(m=>new Ni(m.from-r.from,m.to-r.from)):null,!!s.bracketed,r.tree,d.length?d[0].from:r.from)),s.overlay?d.length&&(i={ranges:d,depth:0,prev:i}):o=!1}}else if(t&&(u=t.predicate(r))&&(u===!0&&(u=new Ni(r.from,r.to)),u.from<u.to)){let f=t.ranges.length-1;f>=0&&t.ranges[f].to==u.from?t.ranges[f]={from:t.ranges[f].from,to:u.to}:t.ranges.push(u)}if(o&&r.firstChild())t&&t.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){let f=WA(this.ranges,t.ranges);f.length&&(qA(f),this.inner.splice(t.index,0,new VA(t.parser,t.parser.startParse(this.input,HA(t.mounts,f),f),t.ranges.map(d=>new Ni(d.from-t.start,d.to-t.start)),t.bracketed,t.target,f[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function C7(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function YA(n,e,t,i,r,s){if(e<t){let l=n.buffer[e+1];i.push(n.slice(e,t,l)),r.push(l-s)}}function E7(n){let{node:e}=n,t=[],i=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let r=n.tree,s=r.children.indexOf(i),l=r.children[s],o=l.buffer,u=[s];function f(d,m,g,y,S,v){let x=t[v],k=[],C=[];YA(l,d,x,k,C,y);let T=o[x+1],X=o[x+2];u.push(k.length);let L=v?f(x+4,o[x+3],l.set.types[o[x]],T,X-T,v-1):e.toTree();return k.push(L),C.push(T-y),YA(l,o[x+3],m,k,C,y),new ht(g,k,C,S)}r.children[s]=f(0,o.length,ln.none,0,l.length,t.length-1);for(let d of u){let m=n.tree.children[d],g=n.tree.positions[d];n.yield(new Rn(m,g+n.from,d,n._tree))}}class FA{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(ft.IncludeAnonymous|ft.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,ft.IgnoreOverlays|ft.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof ht)t=t.children[0];else break}return!1}}let A7=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(lv))!==null&&t!==void 0?t:i.to,this.inner=new FA(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(lv))!==null&&e!==void 0?e:t.to,this.inner=new FA(t.tree,-t.offset)}}findMounts(e,t){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let l=(i=s.tree)===null||i===void 0?void 0:i.prop(De.mounted);if(l&&l.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let u=this.fragments[o];if(u.from>=s.to)break;u.tree==this.curFrag.tree&&r.push({frag:u,pos:s.from-u.offset,mount:l})}}}return r}};function WA(n,e){let t=null,i=e;for(let r=1,s=0;r<n.length;r++){let l=n[r-1].to,o=n[r].from;for(;s<i.length;s++){let u=i[s];if(u.from>=o)break;u.to<=l||(t||(i=t=e.slice()),u.from<l?(t[s]=new Ni(u.from,l),u.to>o&&t.splice(s+1,0,new Ni(o,u.to))):u.to>o?t[s--]=new Ni(o,u.to):t.splice(s--,1))}}return i}function Q7(n,e,t,i){let r=0,s=0,l=!1,o=!1,u=-1e9,f=[];for(;;){let d=r==n.length?1e9:l?n[r].to:n[r].from,m=s==e.length?1e9:o?e[s].to:e[s].from;if(l!=o){let g=Math.max(u,t),y=Math.min(d,m,i);g<y&&f.push(new Ni(g,y))}if(u=Math.min(d,m),u==1e9)break;d==u&&(l?(l=!1,r++):l=!0),m==u&&(o?(o=!1,s++):o=!0)}return f}function HA(n,e){let t=[];for(let{pos:i,mount:r,frag:s}of n){let l=i+(r.overlay?r.overlay[0].from:0),o=l+r.tree.length,u=Math.max(s.from,l),f=Math.min(s.to,o);if(r.overlay){let d=r.overlay.map(g=>new Ni(g.from+i,g.to+i)),m=Q7(e,d,u,f);for(let g=0,y=u;;g++){let S=g==m.length,v=S?f:m[g].from;if(v>y&&t.push(new ys(y,v,r.tree,-l,s.from>=y||s.openStart,s.to<=v||s.openEnd)),S)break;y=m[g].to}}else t.push(new ys(u,f,r.tree,-l,s.from>=l||s.openStart,s.to<=o||s.openEnd))}return t}let P7=0;class Si{constructor(e,t,i,r){this.name=e,this.set=t,this.base=i,this.modified=r,this.id=P7++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Si&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new Si(i,[],null,[]);if(r.set.push(r),t)for(let s of t.set)r.set.push(s);return r}static defineModifier(e){let t=new Um(e);return i=>i.modified.indexOf(t)>-1?i:Um.get(i.base||i,i.modified.concat(t).sort((r,s)=>r.id-s.id))}}let R7=0;class Um{constructor(e){this.name=e,this.instances=[],this.id=R7++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&$7(t,o.modified));if(i)return i;let r=[],s=new Si(e.name,r,e,t);for(let o of t)o.instances.push(s);let l=M7(t);for(let o of e.set)if(!o.modified.length)for(let u of l)r.push(Um.get(o,u));return s}}function $7(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function M7(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function Dc(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],l=2,o=r;for(let m=0;;){if(o=="..."&&m>0&&m+3==r.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!g)throw new RangeError("Invalid path: "+r);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==r.length)break;let y=r[m++];if(m==r.length&&y=="!"){l=0;break}if(y!="/")throw new RangeError("Invalid path: "+r);o=r.slice(m)}let u=s.length-1,f=s[u];if(!f)throw new RangeError("Invalid path: "+r);let d=new Yh(i,l,u>0?s.slice(0,u):null);e[f]=d.sort(e[f])}}return VI.add(e)}const VI=new De({combine(n,e){let t,i,r;for(;n||e;){if(!n||e&&n.depth>=e.depth?(r=e,e=e.next):(r=n,n=n.next),t&&t.mode==r.mode&&!r.context&&!t.context)continue;let s=new Yh(r.tags,r.mode,r.context);t?t.next=s:i=s,t=s}return i}});class Yh{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Yh.empty=new Yh([],2,null);function qI(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let l=r;for(let o of s)for(let u of o.set){let f=t[u.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}function I7(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function D7(n,e,t,i=0,r=n.length){let s=new N7(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class N7{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:l,from:o,to:u}=e;if(o>=i||u<=t)return;l.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(l)));let f=r,d=L7(e)||Yh.empty,m=I7(s,d.tags);if(m&&(f&&(f+=" "),f+=m,d.mode==1&&(r+=(r?" ":"")+m)),this.startSpan(Math.max(t,o),f),d.opaque)return;let g=e.tree&&e.tree.prop(De.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+o,1),S=this.highlighters.filter(x=>!x.scope||x.scope(g.tree.type)),v=e.firstChild();for(let x=0,k=o;;x++){let C=x<g.overlay.length?g.overlay[x]:null,T=C?C.from+o:u,X=Math.max(t,k),L=Math.min(i,T);if(X<L&&v)for(;e.from<L&&(this.highlightRange(e,X,L,r,s),this.startSpan(Math.min(L,e.to),f),!(e.to>=T||!e.nextSibling())););if(!C||T>i)break;k=C.to+o,k>t&&(this.highlightRange(y.cursor(),Math.max(t,C.from+o),Math.min(i,k),"",S),this.startSpan(Math.min(i,k),f))}v&&e.parent()}else if(e.firstChild()){g&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),f)}while(e.nextSibling());e.parent()}}}function L7(n){let e=n.type.prop(VI);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Oe=Si.define,xp=Oe(),al=Oe(),GA=Oe(al),KA=Oe(al),ol=Oe(),kp=Oe(ol),K0=Oe(ol),kr=Oe(),na=Oe(kr),vr=Oe(),wr=Oe(),av=Oe(),ju=Oe(av),_p=Oe(),Q={comment:xp,lineComment:Oe(xp),blockComment:Oe(xp),docComment:Oe(xp),name:al,variableName:Oe(al),typeName:GA,tagName:Oe(GA),propertyName:KA,attributeName:Oe(KA),className:Oe(al),labelName:Oe(al),namespace:Oe(al),macroName:Oe(al),literal:ol,string:kp,docString:Oe(kp),character:Oe(kp),attributeValue:Oe(kp),number:K0,integer:Oe(K0),float:Oe(K0),bool:Oe(ol),regexp:Oe(ol),escape:Oe(ol),color:Oe(ol),url:Oe(ol),keyword:vr,self:Oe(vr),null:Oe(vr),atom:Oe(vr),unit:Oe(vr),modifier:Oe(vr),operatorKeyword:Oe(vr),controlKeyword:Oe(vr),definitionKeyword:Oe(vr),moduleKeyword:Oe(vr),operator:wr,derefOperator:Oe(wr),arithmeticOperator:Oe(wr),logicOperator:Oe(wr),bitwiseOperator:Oe(wr),compareOperator:Oe(wr),updateOperator:Oe(wr),definitionOperator:Oe(wr),typeOperator:Oe(wr),controlOperator:Oe(wr),punctuation:av,separator:Oe(av),bracket:ju,angleBracket:Oe(ju),squareBracket:Oe(ju),paren:Oe(ju),brace:Oe(ju),content:kr,heading:na,heading1:Oe(na),heading2:Oe(na),heading3:Oe(na),heading4:Oe(na),heading5:Oe(na),heading6:Oe(na),contentSeparator:Oe(kr),list:Oe(kr),quote:Oe(kr),emphasis:Oe(kr),strong:Oe(kr),link:Oe(kr),monospace:Oe(kr),strikethrough:Oe(kr),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:_p,documentMeta:Oe(_p),annotation:Oe(_p),processingInstruction:Oe(_p),definition:Si.defineModifier("definition"),constant:Si.defineModifier("constant"),function:Si.defineModifier("function"),standard:Si.defineModifier("standard"),local:Si.defineModifier("local"),special:Si.defineModifier("special")};for(let n in Q){let e=Q[n];e instanceof Si&&(e.name=n)}qI([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var J0;const ma=new De;function gw(n){return Se.define({combine:n?e=>e.concat(n):void 0})}const Ow=new De;class Li{constructor(e,t,i=[],r=""){this.data=e,this.name=r,et.prototype.hasOwnProperty("tree")||Object.defineProperty(et.prototype,"tree",{get(){return Et(this)}}),this.parser=t,this.extension=[El.of(this),et.languageData.of((s,l,o)=>{let u=JA(s,l,o),f=u.type.prop(ma);if(!f)return[];let d=s.facet(f),m=u.type.prop(Ow);if(m){let g=u.resolve(l-u.from,o);for(let y of m)if(y.test(g,s)){let S=s.facet(y.facet);return y.type=="replace"?S:S.concat(d)}}return d})].concat(i)}isActiveAt(e,t,i=-1){return JA(e,t,i).type.prop(ma)==this.data}findRegions(e){let t=e.facet(El);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,l)=>{if(s.prop(ma)==this.data){i.push({from:l,to:l+s.length});return}let o=s.prop(De.mounted);if(o){if(o.tree.prop(ma)==this.data){if(o.overlay)for(let u of o.overlay)i.push({from:u.from+l,to:u.to+l});else i.push({from:l,to:l+s.length});return}else if(o.overlay){let u=i.length;if(r(o.tree,o.overlay[0].from+l),i.length>u)return}}for(let u=0;u<s.children.length;u++){let f=s.children[u];f instanceof ht&&r(f,s.positions[u]+l)}};return r(Et(e),0),i}get allowsNesting(){return!0}}Li.setState=Ie.define();function JA(n,e,t){let i=n.facet(El),r=Et(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,ft.ExcludeBuffers|ft.EnterBracketed))s.type.isTop&&(r=s);return r}class dc extends Li{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=gw(e.languageData);return new dc(t,e.parser.configure({props:[ma.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new dc(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Et(n){let e=n.field(Li.state,!1);return e?e.tree:ht.empty}class z7{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Vu=null;class Fh{constructor(e,t,i=[],r,s,l,o,u){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Fh(e,t,[],ht.empty,0,i,[],null)}startParse(){return this.parser.startParse(new z7(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ht.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(ys.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ys.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Vu;Vu=this;try{return e()}finally{Vu=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=eQ(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,d,m,g)=>u.push({fromA:f,toA:d,fromB:m,toB:g})),i=ys.applyChanges(i,u),r=ht.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let d=e.mapPos(f.from,1),m=e.mapPos(f.to,-1);d<m&&o.push({from:d,to:m})}}}return new Fh(this.parser,t,i,r,s,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=eQ(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends mw{createParse(t,i,r){let s=r[0].from,l=r[r.length-1].to;return{parsedPos:s,advance(){let u=Vu;if(u){for(let f of r)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new ht(ln.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Vu}}function eQ(n,e,t){return ys.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class pc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new pc(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Fh.create(e.facet(El).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new pc(i)}}Li.state=dn.define({create:pc.init,update(n,e){for(let t of e.effects)if(t.is(Li.setState))return t.value;return e.startState.facet(El)!=e.state.facet(El)?pc.init(e.state):n.apply(e)}});let YI=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(YI=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const eb=typeof navigator<"u"&&(!((J0=navigator.scheduling)===null||J0===void 0)&&J0.isInputPending)?()=>navigator.scheduling.isInputPending():null,B7=Yt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Li.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Li.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=YI(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Li.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!eb?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<r&&i.doc.length>r+1e3,u=s.context.work(()=>eb&&eb()||Date.now()>l,r+(o?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Li.setState.of(new pc(s.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ti(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),El=Se.define({combine(n){return n.length?n[0]:null},enables:n=>[Li.state,B7,ge.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class Wh{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class Xm{constructor(e,t,i,r,s,l=void 0){this.name=e,this.alias=t,this.extensions=i,this.filename=r,this.loadFunc=s,this.support=l,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:i}=e;if(!t){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(i)}return new Xm(e.name,(e.alias||[]).concat(e.name).map(r=>r.toLowerCase()),e.extensions||[],e.filename,t,i)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let i=/\.([^.]+)$/.exec(t);if(i){for(let r of e)if(r.extensions.indexOf(i[1])>-1)return r}return null}static matchLanguageName(e,t,i=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some(s=>s==t))return r;if(i)for(let r of e)for(let s of r.alias){let l=t.indexOf(s);if(l>-1&&(s.length>2||!/\w/.test(t[l-1])&&!/\w/.test(t[l+s.length])))return r}return null}}const U7=Se.define(),Nc=Se.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Zm(n){let e=n.facet(Nc);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Hh(n,e){let t="",i=n.tabSize,r=n.facet(Nc)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function yw(n,e){n instanceof et&&(n=new zg(n));for(let i of n.state.facet(U7)){let r=i(n,e);if(r!==void 0)return r}let t=Et(n.state);return t.length>=e?X7(n,t,e):null}class zg{constructor(e,t={}){this.state=e,this.options=t,this.unit=Zm(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),l=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return l>-1&&(s+=l-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return cr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(r);if(l>-1)return l}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Rf=new De;function X7(n,e,t){let i=e.resolveStack(t),r=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let l=r;l&&!(l.from<i.node.from||l.to>i.node.to||l.from==i.node.from&&l.type==i.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)i={node:s[l],next:i}}return FI(i,n,t)}function FI(n,e,t){for(let i=n;i;i=i.next){let r=j7(i.node);if(r)return r(bw.create(e,t,i))}return 0}function Z7(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function j7(n){let e=n.type.prop(Rf);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(De.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return l=>WI(l,!0,1,void 0,s&&!Z7(l)?r.from:void 0)}return n.parent==null?V7:null}function V7(){return 0}class bw extends zg{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new bw(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(q7(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return FI(this.context.next,this.base,this.pos)}}function q7(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Y7(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),l=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let o=t.to;;){let u=e.childAfter(o);if(!u||u==i)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let f=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+f}}o=u.to}}function F7({closing:n,align:e=!0,units:t=1}){return i=>WI(i,e,t,n)}function WI(n,e,t,i,r){let s=n.textAfter,l=s.match(/^\s*/)[0].length,o=i&&s.slice(l,l+i.length)==i||r==n.pos+l,u=e?Y7(n):null;return u?o?n.column(u.from):n.column(u.to):n.baseIndent+(o?0:n.unit*t)}const W7=n=>n.baseIndent;function Jp({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const H7=200;function G7(){return et.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+H7)return n;let s=t.sliceString(r.from,i);if(!e.some(f=>f.test(s)))return n;let{state:l}=n,o=-1,u=[];for(let{head:f}of l.selection.ranges){let d=l.doc.lineAt(f);if(d.from==o)continue;o=d.from;let m=yw(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],y=Hh(l,m);g!=y&&u.push({from:d.from,to:d.from+g.length,insert:y})}return u.length?[n,{changes:u,sequential:!0}]:n})}const HI=Se.define(),Lc=new De;function GI(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function K7(n,e,t){let i=Et(n);if(i.length<t)return null;let r=i.resolveStack(t,1),s=null;for(let l=r;l;l=l.next){let o=l.node;if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let u=o.type.prop(Lc);if(u&&(o.to<i.length-50||i.length==n.doc.length||!J7(o))){let f=u(o,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(s=f)}}return s}function J7(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function jm(n,e,t){for(let i of n.facet(HI)){let r=i(n,e,t);if(r)return r}return K7(n,e,t)}function KI(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Bg=Ie.define({map:KI}),$f=Ie.define({map:KI});function JI(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Qa=dn.define({create(){return Ee.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=tQ(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(Bg)&&!eF(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(nD),r=i?Ee.replace({widget:new aF(i(e.state,t.value))}):nQ;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is($f)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=tQ(n,e.selection.main.head)),n},provide:n=>ge.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(nQ.range(i,r))}return Ee.set(e,!0)}});function tQ(n,e,t=e){let i=!1;return n.between(e,t,(r,s)=>{r<t&&s>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(r,s)=>r>=t||s<=e}):n}function Vm(n,e,t){var i;let r=null;return(i=n.field(Qa,!1))===null||i===void 0||i.between(e,t,(s,l)=>{(!r||r.from>s)&&(r={from:s,to:l})}),r}function eF(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function eD(n,e){return n.field(Qa,!1)?e:e.concat(Ie.appendConfig.of(iD()))}const tF=n=>{for(let e of JI(n)){let t=jm(n.state,e.from,e.to);if(t)return n.dispatch({effects:eD(n.state,[Bg.of(t),tD(n,t)])}),!0}return!1},nF=n=>{if(!n.state.field(Qa,!1))return!1;let e=[];for(let t of JI(n)){let i=Vm(n.state,t.from,t.to);i&&e.push($f.of(i),tD(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function tD(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return ge.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const iF=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=jm(e,r.from,r.to);s&&t.push(Bg.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:eD(n.state,t)}),!!t.length},rF=n=>{let e=n.state.field(Qa,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push($f.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},sF=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:tF},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:nF},{key:"Ctrl-Alt-[",run:iF},{key:"Ctrl-Alt-]",run:rF}],lF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},nD=Se.define({combine(n){return zr(n,lF)}});function iD(n){return[Qa,uF]}function rD(n,e){let{state:t}=n,i=t.facet(nD),r=l=>{let o=n.lineBlockAt(n.posAtDOM(l.target)),u=Vm(n.state,o.from,o.to);u&&n.dispatch({effects:$f.of(u)}),l.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const nQ=Ee.replace({widget:new class extends hr{toDOM(n){return rD(n,null)}}});class aF extends hr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return rD(e,this.value)}}const oF={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class tb extends Cs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function cF(n={}){let e={...oF,...n},t=new tb(e,!0),i=new tb(e,!1),r=Yt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(El)!=l.state.facet(El)||l.startState.field(Qa,!1)!=l.state.field(Qa,!1)||Et(l.startState)!=Et(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let o=new _s;for(let u of l.viewportLineBlocks){let f=Vm(l.state,u.from,u.to)?i:jm(l.state,u.from,u.to)?t:null;f&&o.add(u.from,u.from,f)}return o.finish()}}),{domEventHandlers:s}=e;return[r,a7({class:"cm-foldGutter",markers(l){var o;return((o=l.plugin(r))===null||o===void 0?void 0:o.markers)||He.empty},initialSpacer(){return new tb(e,!1)},domEventHandlers:{...s,click:(l,o,u)=>{if(s.click&&s.click(l,o,u))return!0;let f=Vm(l.state,o.from,o.to);if(f)return l.dispatch({effects:$f.of(f)}),!0;let d=jm(l.state,o.from,o.to);return d?(l.dispatch({effects:Bg.of(d)}),!0):!1}}}),iD()]}const uF=ge.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Mf{constructor(e,t){this.specs=e;let i;function r(o){let u=kl.newName();return(i||(i=Object.create(null)))["."+u]=o,u}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,l=t.scope;this.scope=l instanceof Li?o=>o.prop(ma)==l.data:l?o=>o==l:void 0,this.style=qI(e.map(o=>({tag:o.tag,class:o.class||r(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new kl(i):null,this.themeType=t.themeType}static define(e,t){return new Mf(e,t||{})}}const ov=Se.define(),sD=Se.define({combine(n){return n.length?[n[0]]:null}});function nb(n){let e=n.facet(ov);return e.length?e:n.facet(sD)}function lD(n,e){let t=[fF],i;return n instanceof Mf&&(n.module&&t.push(ge.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(sD.of(n)):i?t.push(ov.computeN([ge.darkTheme],r=>r.facet(ge.darkTheme)==(i=="dark")?[n]:[])):t.push(ov.of(n)),t}class hF{constructor(e){this.markCache=Object.create(null),this.tree=Et(e.state),this.decorations=this.buildDeco(e,nb(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Et(e.state),i=nb(e.state),r=i!=nb(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!r&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ee.none;let i=new _s;for(let{from:r,to:s}of e.visibleRanges)D7(this.tree,t,(l,o,u)=>{i.add(l,o,this.markCache[u]||(this.markCache[u]=Ee.mark({class:u})))},r,s);return i.finish()}}const fF=Qs.high(Yt.fromClass(hF,{decorations:n=>n.decorations})),dF=Mf.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),pF=ge.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),aD=1e4,oD="()[]{}",cD=Se.define({combine(n){return zr(n,{afterCursor:!0,brackets:oD,maxScanDistance:aD,renderMatch:OF})}}),mF=Ee.mark({class:"cm-matchingBracket"}),gF=Ee.mark({class:"cm-nonmatchingBracket"});function OF(n){let e=[],t=n.matched?mF:gF;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const yF=dn.define({create(){return Ee.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(cD);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Qr(e.state,r.head,-1,i)||r.head>0&&Qr(e.state,r.head-1,1,i)||i.afterCursor&&(Qr(e.state,r.head,1,i)||r.head<e.state.doc.length&&Qr(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return Ee.set(t,!0)},provide:n=>ge.decorations.from(n)}),bF=[yF,pF];function SF(n={}){return[cD.of(n),bF]}const uD=new De;function cv(n,e,t){let i=n.prop(e<0?De.openedBy:De.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function uv(n){let e=n.type.prop(uD);return e?e(n.node):n}function Qr(n,e,t,i={}){let r=i.maxScanDistance||aD,s=i.brackets||oD,l=Et(n),o=l.resolveInner(e,t);for(let u=o;u;u=u.parent){let f=cv(u.type,t,s);if(f&&u.from<u.to){let d=uv(u);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return vF(n,e,t,u,d,f,s)}}return wF(n,e,t,l,o.type,r,s)}function vF(n,e,t,i,r,s,l){let o=i.parent,u={from:r.from,to:r.to},f=0,d=o==null?void 0:o.cursor();if(d&&(t<0?d.childBefore(i.from):d.childAfter(i.to)))do if(t<0?d.to<=i.from:d.from>=i.to){if(f==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=uv(d);return{start:u,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(cv(d.type,t,l))f++;else if(cv(d.type,-t,l)){if(f==0){let m=uv(d);return{start:u,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}f--}}while(t<0?d.prevSibling():d.nextSibling());return{start:u,matched:!1}}function wF(n,e,t,i,r,s,l){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),u=l.indexOf(o);if(u<0||u%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},d=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let y=d.value;t<0&&(g+=y.length);let S=e+g*t;for(let v=t>0?0:y.length-1,x=t>0?y.length:-1;v!=x;v+=t){let k=l.indexOf(y[v]);if(!(k<0||i.resolveInner(S+v,1).type!=r))if(k%2==0==t>0)m++;else{if(m==1)return{start:f,end:{from:S+v,to:S+v+1},matched:k>>1==u>>1};m--}}t>0&&(g+=y.length)}return d.done?{start:f,matched:!1}:null}const xF=Object.create(null),iQ=[ln.none],rQ=[],sQ=Object.create(null),kF=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])kF[n]=_F(xF,e);function ib(n,e){rQ.indexOf(n)>-1||(rQ.push(n),console.warn(e))}function _F(n,e){let t=[];for(let o of e.split(" ")){let u=[];for(let f of o.split(".")){let d=n[f]||Q[f];d?typeof d=="function"?u.length?u=u.map(d):ib(f,`Modifier ${f} used at start of tag`):u.length?ib(f,`Tag ${f} used as modifier`):u=Array.isArray(d)?d:[d]:ib(f,`Unknown highlighting tag ${f}`)}for(let f of u)t.push(f)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(o=>o.id),s=sQ[r];if(s)return s.id;let l=sQ[r]=ln.define({id:iQ.length,name:i,props:[Dc({[i]:t})]});return iQ.push(l),l.id}_t.RTL,_t.LTR;const TF=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=vw(n.state,t.from);return i.line?CF(n):i.block?AF(n):!1};function Sw(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const CF=Sw(RF,0),EF=Sw(hD,0),AF=Sw((n,e)=>hD(n,e,PF(e)),0);function vw(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const qu=50;function QF(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-qu,i),l=n.sliceDoc(r,r+qu),o=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,f=s.length-o;if(s.slice(f-e.length,f)==e&&l.slice(u,u+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:r+u,margin:u&&1}};let d,m;r-i<=2*qu?d=m=n.sliceDoc(i,r):(d=n.sliceDoc(i,i+qu),m=n.sliceDoc(r-qu,r));let g=/^\s*/.exec(d)[0].length,y=/\s*$/.exec(m)[0].length,S=m.length-y-t.length;return d.slice(g,g+e.length)==e&&m.slice(S,S+t.length)==t?{open:{pos:i+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:r-y-t.length,margin:/\s/.test(m.charAt(S-1))?1:0}}:null}function PF(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to);r.from>i.from&&r.from==t.to&&(r=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function hD(n,e,t=e.selection.ranges){let i=t.map(s=>vw(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,l)=>QF(e,i[l],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,l)=>r[l]?[]:[{from:s.from,insert:i[l].open+" "},{from:s.to,insert:" "+i[l].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let l=0,o;l<r.length;l++)if(o=r[l]){let u=i[l],{open:f,close:d}=o;s.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:d.pos-d.margin,to:d.pos+u.close.length})}return{changes:s}}return null}function RF(n,e,t=e.selection.ranges){let i=[],r=-1;e:for(let{from:s,to:l}of t){let o=i.length,u=1e9,f;for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(f==null&&(f=vw(e,m.from).line,!f))continue e;if(m.from>r&&(s==l||l>m.from)){r=m.from;let g=/^\s*/.exec(m.text)[0].length,y=g==m.length,S=m.text.slice(g,g+f.length)==f?g:-1;g<m.text.length&&g<u&&(u=g),i.push({line:m,comment:S,token:f,indent:g,empty:y,single:!1})}d=m.to+1}if(u<1e9)for(let d=o;d<i.length;d++)i[d].indent<i[d].line.text.length&&(i[d].indent=u);i.length==o+1&&(i[o].single=!0)}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:u,indent:f,empty:d,single:m}of i)(m||!d)&&s.push({from:o.from+f,insert:u+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:o,token:u}of i)if(o>=0){let f=l.from+o,d=f+u.length;l.text[d-l.from]==" "&&d++,s.push({from:f,to:d})}return{changes:s}}return null}const hv=Lr.define(),$F=Lr.define(),MF=Se.define(),fD=Se.define({combine(n){return zr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}}),dD=dn.define({create(){return Pr.empty},update(n,e){let t=e.state.facet(fD),i=e.annotation(hv);if(i){let u=ni.fromTransaction(e,i.selection),f=i.side,d=f==0?n.undone:n.done;return u?d=qm(d,d.length,t.minDepth,u):d=gD(d,e.startState.selection),new Pr(f==0?i.rest:d,f==0?d:i.rest)}let r=e.annotation($F);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Jt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ni.fromTransaction(e),l=e.annotation(Jt.time),o=e.annotation(Jt.userEvent);return s?n=n.addChanges(s,l,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,l,o,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Pr(n.done.map(ni.fromJSON),n.undone.map(ni.fromJSON))}});function IF(n={}){return[dD,fD.of(n),ge.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?pD:e.inputType=="historyRedo"?fv:null;return i?(e.preventDefault(),i(t)):!1}})]}function Ug(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(dD,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const pD=Ug(0,!1),fv=Ug(1,!1),DF=Ug(0,!0),NF=Ug(1,!0);class ni{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new ni(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new ni(e.changes&&nn.fromJSON(e.changes),[],e.mapped&&$r.fromJSON(e.mapped),e.startSelection&&K.fromJSON(e.startSelection),e.selectionsAfter.map(K.fromJSON))}static fromTransaction(e,t){let i=zi;for(let r of e.startState.facet(MF)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new ni(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,zi)}static selection(e){return new ni(void 0,zi,void 0,void 0,e)}}function qm(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function LF(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,l,o)=>{for(let u=0;u<t.length;){let f=t[u++],d=t[u++];o>=f&&l<=d&&(i=!0)}}),i}function zF(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function mD(n,e){return n.length?e.length?n.concat(e):n:e}const zi=[],BF=200;function gD(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-BF));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),qm(n,n.length-1,1e9,t.setSelAfter(i)))}else return[ni.selection([e])]}function UF(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function rb(n,e){if(!n.length)return n;let t=n.length,i=zi;for(;t;){let r=XF(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[ni.selection(i)]:zi}function XF(n,e,t){let i=mD(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):zi,t);if(!n.changes)return ni.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(s):s;return new ni(r,Ie.mapEffects(n.effects,e),l,n.startSelection.map(s),i)}const ZF=/^(input\.type|delete)($|\.)/;class Pr{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Pr(this.done,this.undone):this}addChanges(e,t,i,r,s){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||ZF.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,LF(o.changes,e.changes))||i=="input.type.compose")?l=qm(l,l.length-1,r.minDepth,new ni(e.changes.compose(o.changes),mD(Ie.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,zi)):l=qm(l,l.length,r.minDepth,e),new Pr(l,zi,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:zi;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&zF(s[s.length-1],e)?this:new Pr(gD(this.done,e),this.undone,t,i)}addMapping(e){return new Pr(rb(this.done,e),rb(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],l=s.selectionsAfter[0]||(s.startSelection?s.startSelection.map(s.changes.invertedDesc,1):t.selection);if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:hv.of({side:e,rest:UF(r),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?zi:r.slice(0,r.length-1);return s.mapped&&(o=rb(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:hv.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Pr.empty=new Pr(zi,zi);const jF=[{key:"Mod-z",run:pD,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:fv,preventDefault:!0},{linux:"Ctrl-Shift-z",run:fv,preventDefault:!0},{key:"Mod-u",run:DF,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:NF,preventDefault:!0}];function zc(n,e){return K.create(n.ranges.map(e),n.mainIndex)}function fr(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function dr({state:n,dispatch:e},t){let i=zc(n.selection,t);return i.eq(n.selection,!0)?!1:(e(fr(n,i)),!0)}function Xg(n,e){return K.cursor(e?n.to:n.from)}function OD(n,e){return dr(n,t=>t.empty?n.moveByChar(t,e):Xg(t,e))}function $n(n){return n.textDirectionAt(n.state.selection.main.head)==_t.LTR}const yD=n=>OD(n,!$n(n)),bD=n=>OD(n,$n(n));function SD(n,e){return dr(n,t=>t.empty?n.moveByGroup(t,e):Xg(t,e))}const VF=n=>SD(n,!$n(n)),qF=n=>SD(n,$n(n));function YF(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Zg(n,e,t){let i=Et(n).resolveInner(e.head),r=t?De.closedBy:De.openedBy;for(let u=e.head;;){let f=t?i.childAfter(u):i.childBefore(u);if(!f)break;YF(n,f,r)?i=f:u=t?f.to:f.from}let s=i.type.prop(r),l,o;return s&&(l=t?Qr(n,i.from,1):Qr(n,i.to,-1))&&l.matched?o=t?l.end.to:l.end.from:o=t?i.to:i.from,K.cursor(o,t?-1:1)}const FF=n=>dr(n,e=>Zg(n.state,e,!$n(n))),WF=n=>dr(n,e=>Zg(n.state,e,$n(n)));function vD(n,e){return dr(n,t=>{if(!t.empty)return Xg(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const wD=n=>vD(n,!1),xD=n=>vD(n,!0);function kD(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(ge.scrollMargins)){let l=s(n);l!=null&&l.top&&(t=Math.max(l==null?void 0:l.top,t)),l!=null&&l.bottom&&(i=Math.max(l==null?void 0:l.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function _D(n,e){let t=kD(n),{state:i}=n,r=zc(i.selection,l=>l.empty?n.moveVertically(l,e,t.height):Xg(l,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let l=n.coordsAtPos(i.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),u=o.top+t.marginTop,f=o.bottom-t.marginBottom;l&&l.top>u&&l.bottom<f&&(s=ge.scrollIntoView(r.main.head,{y:"start",yMargin:l.top-u}))}return n.dispatch(fr(i,r),{effects:s}),!0}const lQ=n=>_D(n,!1),dv=n=>_D(n,!0);function Pl(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=K.cursor(i.from+s))}return r}const HF=n=>dr(n,e=>Pl(n,e,!0)),GF=n=>dr(n,e=>Pl(n,e,!1)),KF=n=>dr(n,e=>Pl(n,e,!$n(n))),JF=n=>dr(n,e=>Pl(n,e,$n(n))),eW=n=>dr(n,e=>K.cursor(n.lineBlockAt(e.head).from,1)),tW=n=>dr(n,e=>K.cursor(n.lineBlockAt(e.head).to,-1));function nW(n,e,t){let i=!1,r=zc(n.selection,s=>{let l=Qr(n,s.head,-1)||Qr(n,s.head,1)||s.head>0&&Qr(n,s.head-1,1)||s.head<n.doc.length&&Qr(n,s.head+1,-1);if(!l||!l.end)return s;i=!0;let o=l.start.from==s.head?l.end.to:l.end.from;return K.cursor(o)});return i?(e(fr(n,r)),!0):!1}const iW=({state:n,dispatch:e})=>nW(n,e);function Zi(n,e){let t=zc(n.state.selection,i=>{let r=e(i);return K.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(fr(n.state,t)),!0)}function TD(n,e){return Zi(n,t=>n.moveByChar(t,e))}const CD=n=>TD(n,!$n(n)),ED=n=>TD(n,$n(n));function AD(n,e){return Zi(n,t=>n.moveByGroup(t,e))}const rW=n=>AD(n,!$n(n)),sW=n=>AD(n,$n(n)),lW=n=>Zi(n,e=>Zg(n.state,e,!$n(n))),aW=n=>Zi(n,e=>Zg(n.state,e,$n(n)));function QD(n,e){return Zi(n,t=>n.moveVertically(t,e))}const PD=n=>QD(n,!1),RD=n=>QD(n,!0);function $D(n,e){return Zi(n,t=>n.moveVertically(t,e,kD(n).height))}const aQ=n=>$D(n,!1),oQ=n=>$D(n,!0),oW=n=>Zi(n,e=>Pl(n,e,!0)),cW=n=>Zi(n,e=>Pl(n,e,!1)),uW=n=>Zi(n,e=>Pl(n,e,!$n(n))),hW=n=>Zi(n,e=>Pl(n,e,$n(n))),fW=n=>Zi(n,e=>K.cursor(n.lineBlockAt(e.head).from)),dW=n=>Zi(n,e=>K.cursor(n.lineBlockAt(e.head).to)),cQ=({state:n,dispatch:e})=>(e(fr(n,{anchor:0})),!0),uQ=({state:n,dispatch:e})=>(e(fr(n,{anchor:n.doc.length})),!0),hQ=({state:n,dispatch:e})=>(e(fr(n,{anchor:n.selection.main.anchor,head:0})),!0),fQ=({state:n,dispatch:e})=>(e(fr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),pW=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),mW=({state:n,dispatch:e})=>{let t=jg(n).map(({from:i,to:r})=>K.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:K.create(t),userEvent:"select"})),!0},gW=({state:n,dispatch:e})=>{let t=zc(n.selection,i=>{let r=Et(n),s=r.resolveStack(i.from,1);if(i.empty){let l=r.resolveStack(i.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:o}=l;if((o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from)&&l.next)return K.range(o.to,o.from)}return i});return t.eq(n.selection)?!1:(e(fr(n,t)),!0)};function MD(n,e){let{state:t}=n,i=t.selection,r=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<n.state.doc.length:l.from>0)for(let o=s;;){let u=n.moveVertically(o,e);if(u.head<l.from||u.head>l.to){r.some(f=>f.head==u.head)||r.push(u);break}else{if(u.head==o.head)break;o=u}}}return r.length==i.ranges.length?!1:(n.dispatch(fr(t,K.create(r,r.length-1))),!0)}const OW=n=>MD(n,!1),yW=n=>MD(n,!0),bW=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=K.create([t.main]):t.main.empty||(i=K.create([K.cursor(t.main.head)])),i?(e(fr(n,i)),!0):!1};function If(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:l,to:o}=s;if(l==o){let u=e(s);u<l?(t="delete.backward",u=Tp(n,u,!1)):u>l&&(t="delete.forward",u=Tp(n,u,!0)),l=Math.min(l,u),o=Math.max(o,u)}else l=Tp(n,l,!1),o=Tp(n,o,!0);return l==o?{range:s}:{changes:{from:l,to:o},range:K.cursor(l,l<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ge.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Tp(n,e,t){if(n instanceof ge)for(let i of n.state.facet(ge.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const ID=(n,e,t)=>If(n,i=>{let r=i.from,{state:s}=n,l=s.doc.lineAt(r),o,u;if(t&&!e&&r>l.from&&r<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,r-l.from))){if(o[o.length-1]=="	")return r-1;let f=cr(o,s.tabSize),d=f%Zm(s)||Zm(s);for(let m=0;m<d&&o[o.length-1-m]==" ";m++)r--;u=r}else u=sn(l.text,r-l.from,e,e)+l.from,u==r&&l.number!=(e?s.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,r-l.from))&&(u=sn(l.text,u-l.from,!1,!1)+l.from);return u}),pv=n=>ID(n,!1,!0),DD=n=>ID(n,!0,!1),ND=(n,e)=>If(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),l=r.charCategorizer(i);for(let o=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let u=sn(s.text,i-s.from,e)+s.from,f=s.text.slice(Math.min(i,u)-s.from,Math.max(i,u)-s.from),d=l(f);if(o!=null&&d!=o)break;(f!=" "||i!=t.head)&&(o=d),i=u}return i}),LD=n=>ND(n,!1),SW=n=>ND(n,!0),vW=n=>If(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),wW=n=>If(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),xW=n=>If(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),kW=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:lt.of(["",""])},range:K.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},_W=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),l=r==s.from?r-1:sn(s.text,r-s.from,!1)+s.from,o=r==s.to?r+1:sn(s.text,r-s.from,!0)+s.from;return{changes:{from:l,to:o,insert:n.doc.slice(r,o).append(n.doc.slice(l,r))},range:K.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function jg(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function zD(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of jg(n)){if(t?s.to==n.doc.length:s.from==0)continue;let l=n.doc.lineAt(t?s.to+1:s.from-1),o=l.length+1;if(t){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+n.lineBreak});for(let u of s.ranges)r.push(K.range(Math.min(n.doc.length,u.anchor+o),Math.min(n.doc.length,u.head+o)))}else{i.push({from:l.from,to:s.from},{from:s.to,insert:n.lineBreak+l.text});for(let u of s.ranges)r.push(K.range(u.anchor-o,u.head-o))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:K.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const TW=({state:n,dispatch:e})=>zD(n,e,!1),CW=({state:n,dispatch:e})=>zD(n,e,!0);function BD(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of jg(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});let r=n.changes(i);return e(n.update({changes:r,selection:n.selection.map(r,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const EW=({state:n,dispatch:e})=>BD(n,e,!1),AW=({state:n,dispatch:e})=>BD(n,e,!0),QW=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(jg(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=zc(e.selection,r=>{let s;if(n.lineWrapping){let l=n.lineBlockAt(r.head),o=n.coordsAtPos(r.head,r.assoc||1);o&&(s=l.bottom+n.documentTop-o.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,s)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function PW(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Et(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(De.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const dQ=UD(!1),RW=UD(!0);function UD(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:l}=r,o=e.doc.lineAt(s),u=!n&&s==l&&PW(e,s);n&&(s=l=(l<=o.to?o:e.doc.lineAt(l)).to);let f=new zg(e,{simulateBreak:s,simulateDoubleBreak:!!u}),d=yw(f,s);for(d==null&&(d=cr(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;u?{from:s,to:l}=u:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let m=["",Hh(e,d)];return u&&m.push(Hh(e,f.lineIndent(o.from,-1))),{changes:{from:s,to:l,insert:lt.of(m)},range:K.cursor(s+1+m[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function ww(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let l=i.from;l<=i.to;){let o=n.doc.lineAt(l);o.number>t&&(i.empty||i.to>o.from)&&(e(o,r,i),t=o.number),l=o.to+1}let s=n.changes(r);return{changes:r,range:K.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const $W=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new zg(n,{overrideIndentation:s=>{let l=t[s];return l??-1}}),r=ww(n,(s,l,o)=>{let u=yw(i,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let f=/^\s*/.exec(s.text)[0],d=Hh(n,u);(f!=d||o.from<s.from+f.length)&&(t[s.from]=u,l.push({from:s.from,to:s.from+f.length,insert:d}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},XD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ww(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Nc)})}),{userEvent:"input.indent"})),!0),ZD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ww(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=cr(r,n.tabSize),l=0,o=Hh(n,Math.max(0,s-Zm(n)));for(;l<r.length&&l<o.length&&r.charCodeAt(l)==o.charCodeAt(l);)l++;i.push({from:t.from+l,to:t.from+r.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),MW=n=>(n.setTabFocusMode(),!0),IW=[{key:"Ctrl-b",run:yD,shift:CD,preventDefault:!0},{key:"Ctrl-f",run:bD,shift:ED},{key:"Ctrl-p",run:wD,shift:PD},{key:"Ctrl-n",run:xD,shift:RD},{key:"Ctrl-a",run:eW,shift:fW},{key:"Ctrl-e",run:tW,shift:dW},{key:"Ctrl-d",run:DD},{key:"Ctrl-h",run:pv},{key:"Ctrl-k",run:vW},{key:"Ctrl-Alt-h",run:LD},{key:"Ctrl-o",run:kW},{key:"Ctrl-t",run:_W},{key:"Ctrl-v",run:dv}],DW=[{key:"ArrowLeft",run:yD,shift:CD,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:VF,shift:rW,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:KF,shift:uW,preventDefault:!0},{key:"ArrowRight",run:bD,shift:ED,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:qF,shift:sW,preventDefault:!0},{mac:"Cmd-ArrowRight",run:JF,shift:hW,preventDefault:!0},{key:"ArrowUp",run:wD,shift:PD,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cQ,shift:hQ},{mac:"Ctrl-ArrowUp",run:lQ,shift:aQ},{key:"ArrowDown",run:xD,shift:RD,preventDefault:!0},{mac:"Cmd-ArrowDown",run:uQ,shift:fQ},{mac:"Ctrl-ArrowDown",run:dv,shift:oQ},{key:"PageUp",run:lQ,shift:aQ},{key:"PageDown",run:dv,shift:oQ},{key:"Home",run:GF,shift:cW,preventDefault:!0},{key:"Mod-Home",run:cQ,shift:hQ},{key:"End",run:HF,shift:oW,preventDefault:!0},{key:"Mod-End",run:uQ,shift:fQ},{key:"Enter",run:dQ,shift:dQ},{key:"Mod-a",run:pW},{key:"Backspace",run:pv,shift:pv,preventDefault:!0},{key:"Delete",run:DD,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:LD,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:SW,preventDefault:!0},{mac:"Mod-Backspace",run:wW,preventDefault:!0},{mac:"Mod-Delete",run:xW,preventDefault:!0}].concat(IW.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),NW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:FF,shift:lW},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:WF,shift:aW},{key:"Alt-ArrowUp",run:TW},{key:"Shift-Alt-ArrowUp",run:EW},{key:"Alt-ArrowDown",run:CW},{key:"Shift-Alt-ArrowDown",run:AW},{key:"Mod-Alt-ArrowUp",run:OW},{key:"Mod-Alt-ArrowDown",run:yW},{key:"Escape",run:bW},{key:"Mod-Enter",run:RW},{key:"Alt-l",mac:"Ctrl-l",run:mW},{key:"Mod-i",run:gW,preventDefault:!0},{key:"Mod-[",run:ZD},{key:"Mod-]",run:XD},{key:"Mod-Alt-\\",run:$W},{key:"Shift-Mod-k",run:QW},{key:"Shift-Mod-\\",run:iW},{key:"Mod-/",run:TF},{key:"Alt-A",run:EF},{key:"Ctrl-m",mac:"Shift-Alt-m",run:MW}].concat(DW),LW={key:"Tab",run:XD,shift:ZD},pQ=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class mc{constructor(e,t,i=0,r=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?o=>s(pQ(o)):pQ,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Hn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Y1(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Cr(e);let r=this.normalize(t);if(r.length)for(let s=0,l=i;;s++){let o=r.charCodeAt(s),u=this.match(o,l,this.bufferPos+this.bufferStart);if(s==r.length-1){if(u)return this.value=u,this;break}l==i&&s<t.length&&t.charCodeAt(s)==o&&l++}}}match(e,t,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],o=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,o=!0)),o||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:i}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(mc.prototype[Symbol.iterator]=function(){return this});const jD={from:-1,to:-1,match:/.*/.exec("")},xw="gm"+(/x/.unicode==null?"":"u");class VD{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=jD,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new qD(e,t,i,r,s);this.re=new RegExp(t,xw+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let l=e.lineAt(r);this.curLineStart=l.from,this.matchPos=Ym(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=Ym(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const sb=new WeakMap;class Fo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=sb.get(e);if(!r||r.from>=i||r.to<=t){let o=new Fo(t,e.sliceString(t,i));return sb.set(e,o),o}if(r.from==t&&r.to==i)return r;let{text:s,from:l}=r;return l>t&&(s=e.sliceString(t,l)+s,l=t),r.to<i&&(s+=e.sliceString(r.to,i)),sb.set(e,new Fo(l,s)),new Fo(t,s.slice(t-l,i-l))}}class qD{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=jD,this.matchPos=Ym(e,r),this.re=new RegExp(t,xw+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Fo.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=Ym(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Fo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(VD.prototype[Symbol.iterator]=qD.prototype[Symbol.iterator]=function(){return this});function zW(n){try{return new RegExp(n,xw),!0}catch{return!1}}function Ym(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}const BW=n=>{let{state:e}=n,t=String(e.doc.lineAt(n.state.selection.main.head).number),{close:i,result:r}=i7(n,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:t},focus:!0,submitLabel:e.phrase("go")});return r.then(s=>{let l=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!l){n.dispatch({effects:i});return}let o=e.doc.lineAt(e.selection.main.head),[,u,f,d,m]=l,g=d?+d.slice(1):0,y=f?+f:o.number;if(f&&m){let x=y/100;u&&(x=x*(u=="-"?-1:1)+o.number/e.doc.lines),y=Math.round(e.doc.lines*x)}else f&&u&&(y=y*(u=="-"?-1:1)+o.number);let S=e.doc.line(Math.max(1,Math.min(e.doc.lines,y))),v=K.cursor(S.from+Math.max(0,Math.min(g,S.length)));n.dispatch({effects:[i,ge.scrollIntoView(v.from,{y:"center"})],selection:v})}),!0},UW={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},XW=Se.define({combine(n){return zr(n,UW,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function ZW(n){return[FW,YW]}const jW=Ee.mark({class:"cm-selectionMatch"}),VW=Ee.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function mQ(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Dt.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Dt.Word)}function qW(n,e,t,i){return n(e.sliceDoc(t,t+1))==Dt.Word&&n(e.sliceDoc(i-1,i))==Dt.Word}const YW=Yt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(XW),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Ee.none;let r=i.main,s,l=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ee.none;let u=t.wordAt(r.head);if(!u)return Ee.none;l=t.charCategorizer(r.head),s=t.sliceDoc(u.from,u.to)}else{let u=r.to-r.from;if(u<e.minSelectionLength||u>200)return Ee.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),l=t.charCategorizer(r.head),!(mQ(l,t,r.from,r.to)&&qW(l,t,r.from,r.to)))return Ee.none}else if(s=t.sliceDoc(r.from,r.to),!s)return Ee.none}let o=[];for(let u of n.visibleRanges){let f=new mc(t.doc,s,u.from,u.to);for(;!f.next().done;){let{from:d,to:m}=f.value;if((!l||mQ(l,t,d,m))&&(r.empty&&d<=r.from&&m>=r.to?o.push(VW.range(d,m)):(d>=r.to||m<=r.from)&&o.push(jW.range(d,m)),o.length>e.maxMatches))return Ee.none}}return Ee.set(o)}},{decorations:n=>n.decorations}),FW=ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),WW=({state:n,dispatch:e})=>{let{selection:t}=n,i=K.create(t.ranges.map(r=>n.wordAt(r.head)||K.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function HW(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let l=!1,o=new mc(n.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(l)return null;o=new mc(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),l=!0}else{if(l&&i.some(u=>u.from==o.value.from))continue;if(s){let u=n.wordAt(o.value.from);if(!u||u.from!=o.value.from||u.to!=o.value.to)continue}return o.value}}const GW=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return WW({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=HW(n,i);return r?(e(n.update({selection:n.selection.addRange(K.range(r.from,r.to),!1),effects:ge.scrollIntoView(r.to)})),!0):!1},Bc=Se.define({combine(n){return zr(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new hH(e),scrollToMatch:e=>ge.scrollIntoView(e)})}});class YD{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||zW(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new iH(this):new eH(this)}getCursor(e,t=0,i){let r=e.doc?e:et.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?Ro(this,r,t,i):Po(this,r,t,i)}}class FD{constructor(e){this.spec=e}}function KW(n,e,t){return(i,r,s,l)=>{if(t&&!t(i,r,s,l))return!1;let o=i>=l&&r<=l+s.length?s.slice(i-l,r-l):e.doc.sliceString(i,r);return n(o,e,i,r)}}function Po(n,e,t,i){let r;return n.wholeWord&&(r=JW(e.doc,e.charCategorizer(e.selection.main.head))),n.test&&(r=KW(n.test,e,r)),new mc(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),r)}function JW(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(Fm(r,t-s))!=Dt.Word||e(Wm(r,t-s))!=Dt.Word)&&(e(Wm(r,i-s))!=Dt.Word||e(Fm(r,i-s))!=Dt.Word))}class eH extends FD{constructor(e){super(e)}nextMatch(e,t,i){let r=Po(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);r=Po(this.spec,e,0,s).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==i?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),l=Po(this.spec,e,s,r),o=null;for(;!l.nextOverlapping().done;)o=l.value;if(o)return o;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=t||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Po(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Po(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function tH(n,e,t){return(i,r,s)=>(!t||t(i,r,s))&&n(s[0],e,i,r)}function Ro(n,e,t,i){let r;return n.wholeWord&&(r=nH(e.charCategorizer(e.selection.main.head))),n.test&&(r=tH(n.test,e,r)),new VD(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:r},t,i)}function Fm(n,e){return n.slice(sn(n,e,!1),e)}function Wm(n,e){return n.slice(e,sn(n,e))}function nH(n){return(e,t,i)=>!i[0].length||(n(Fm(i.input,i.index))!=Dt.Word||n(Wm(i.input,i.index))!=Dt.Word)&&(n(Wm(i.input,i.index+i[0].length))!=Dt.Word||n(Fm(i.input,i.index+i[0].length))!=Dt.Word)}class iH extends FD{nextMatch(e,t,i){let r=Ro(this.spec,e,i,e.doc.length).next();return r.done&&(r=Ro(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),l=Ro(this.spec,e,s,i),o=null;for(;!l.next().done;)o=l.value;if(o&&(s==t||o.from>s+10))return o;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let r=i.length;r>0;r--){let s=+i.slice(0,r);if(s>0&&s<e.match.length)return e.match[s]+i.slice(r)}return t})}matchAll(e,t){let i=Ro(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Ro(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Gh=Ie.define(),kw=Ie.define(),Sl=dn.define({create(n){return new lb(mv(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Gh)?n=new lb(t.value.create(),n.panel):t.is(kw)&&(n=new lb(n.query,t.value?_w:null));return n},provide:n=>Vh.from(n,e=>e.panel)});class lb{constructor(e,t){this.query=e,this.panel=t}}const rH=Ee.mark({class:"cm-searchMatch"}),sH=Ee.mark({class:"cm-searchMatch cm-searchMatch-selected"}),lH=Yt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Sl))}update(n){let e=n.state.field(Sl);(e!=n.startState.field(Sl)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Ee.none;let{view:t}=this,i=new _s;for(let r=0,s=t.visibleRanges,l=s.length;r<l;r++){let{from:o,to:u}=s[r];for(;r<l-1&&u>s[r+1].from-500;)u=s[++r].to;n.highlight(t.state,o,u,(f,d)=>{let m=t.state.selection.ranges.some(g=>g.from==f&&g.to==d);i.add(f,d,m?sH:rH)})}return i.finish()}},{decorations:n=>n.decorations});function Df(n){return e=>{let t=e.state.field(Sl,!1);return t&&t.query.spec.valid?n(e,t):GD(e)}}const Hm=Df((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=K.single(i.from,i.to),s=n.state.facet(Bc);return n.dispatch({selection:r,effects:[Tw(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),HD(n),!0}),Gm=Df((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=K.single(r.from,r.to),l=n.state.facet(Bc);return n.dispatch({selection:s,effects:[Tw(n,r),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),HD(n),!0}),aH=Df((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:K.create(t.map(i=>K.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),oH=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],l=0;for(let o=new mc(n.doc,n.sliceDoc(i,r));!o.next().done;){if(s.length>1e3)return!1;o.value.from==i&&(l=s.length),s.push(K.range(o.value.from,o.value.to))}return e(n.update({selection:K.create(s,l),userEvent:"select.search.matches"})),!0},gQ=Df((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let l=s,o=[],u,f,d=[];l.from==i&&l.to==r&&(f=t.toText(e.getReplacement(l)),o.push({from:l.from,to:l.to,insert:f}),l=e.nextMatch(t,l.from,l.to),d.push(ge.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let m=n.state.changes(o);return l&&(u=K.single(l.from,l.to).map(m),d.push(Tw(n,l)),d.push(t.facet(Bc).scrollToMatch(u.main,n))),n.dispatch({changes:m,selection:u,effects:d,userEvent:"input.replace"}),!0}),cH=Df((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:l}=r;return{from:s,to:l,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ge.announce.of(i),userEvent:"input.replace.all"}),!0});function _w(n){return n.state.facet(Bc).createPanel(n)}function mv(n,e){var t,i,r,s,l;let o=n.selection.main,u=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!u)return e;let f=n.facet(Bc);return new YD({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:f.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:f.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(l=e==null?void 0:e.wholeWord)!==null&&l!==void 0?l:f.wholeWord})}function WD(n){let e=hw(n,_w);return e&&e.dom.querySelector("[main-field]")}function HD(n){let e=WD(n);e&&e==n.root.activeElement&&e.select()}const GD=n=>{let e=n.state.field(Sl,!1);if(e&&e.panel){let t=WD(n);if(t&&t!=n.root.activeElement){let i=mv(n.state,e.query.spec);i.valid&&n.dispatch({effects:Gh.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[kw.of(!0),e?Gh.of(mv(n.state,e.query.spec)):Ie.appendConfig.of(dH)]});return!0},KD=n=>{let e=n.state.field(Sl,!1);if(!e||!e.panel)return!1;let t=hw(n,_w);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:kw.of(!1)}),!0},uH=[{key:"Mod-f",run:GD,scope:"editor search-panel"},{key:"F3",run:Hm,shift:Gm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Hm,shift:Gm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:KD,scope:"editor search-panel"},{key:"Mod-Shift-l",run:oH},{key:"Mod-Alt-g",run:BW},{key:"Mod-d",run:GW,preventDefault:!0}];class hH{constructor(e){this.view=e;let t=this.query=e.state.field(Sl).query.spec;this.commit=this.commit.bind(this),this.searchField=St("input",{value:t.search,placeholder:di(e,"Find"),"aria-label":di(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=St("input",{value:t.replace,placeholder:di(e,"Replace"),"aria-label":di(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=St("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=St("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=St("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,l){return St("button",{class:"cm-button",name:r,onclick:s,type:"button"},l)}this.dom=St("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Hm(e),[di(e,"next")]),i("prev",()=>Gm(e),[di(e,"previous")]),i("select",()=>aH(e),[di(e,"all")]),St("label",null,[this.caseField,di(e,"match case")]),St("label",null,[this.reField,di(e,"regexp")]),St("label",null,[this.wordField,di(e,"by word")]),...e.state.readOnly?[]:[St("br"),this.replaceField,i("replace",()=>gQ(e),[di(e,"replace")]),i("replaceAll",()=>cH(e),[di(e,"replace all")])],St("button",{name:"close",onclick:()=>KD(e),"aria-label":di(e,"close"),type:"button"},[""])])}commit(){let e=new YD({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Gh.of(e)}))}keydown(e){dY(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Gm:Hm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),gQ(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Gh)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Bc).top}}function di(n,e){return n.state.phrase(e)}const Cp=30,Ep=/[\s\.,:;?!]/;function Tw(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-Cp),l=Math.min(r,t+Cp),o=n.state.sliceDoc(s,l);if(s!=i.from){for(let u=0;u<Cp;u++)if(!Ep.test(o[u+1])&&Ep.test(o[u])){o=o.slice(u);break}}if(l!=r){for(let u=o.length-1;u>o.length-Cp;u--)if(!Ep.test(o[u-1])&&Ep.test(o[u])){o=o.slice(0,u);break}}return ge.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${i.number}.`)}const fH=ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),dH=[Sl,Qs.low(lH),fH];class Cw{constructor(e,t,i,r){this.state=e,this.pos=t,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Et(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(eN(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function OQ(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function pH(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=OQ(e)+OQ(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function JD(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:pH(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function mH(n,e){return t=>{for(let i=Et(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class yQ{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function Sa(n){return n.selection.main.from}function eN(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const Ew=Lr.define();function gH(n,e,t,i){let{main:r}=n.selection,s=t-r.from,l=i-r.from;return{...n.changeByRange(o=>{if(o!=r&&t!=i&&n.sliceDoc(o.from+s,o.from+l)!=n.sliceDoc(t,i))return{range:o};let u=n.toText(e);return{changes:{from:o.from+s,to:i==r.from?o.to:o.from+l,insert:u},range:K.cursor(o.from+s+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const bQ=new WeakMap;function OH(n){if(!Array.isArray(n))return n;let e=bQ.get(n);return e||bQ.set(n,e=JD(n)),e}const Km=Ie.define(),Kh=Ie.define();class yH{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Hn(e,t),r=Cr(i);this.chars.push(i);let s=e.slice(t,t+r),l=s.toUpperCase();this.folded.push(Hn(l==s?s.toLowerCase():l,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:l}=this;if(t.length==1){let C=Hn(e,0),T=Cr(C),X=T==e.length?0:-100;if(C!=t[0])if(C==i[0])X+=-200;else return null;return this.ret(X,[0,T])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,f=0;if(o<0){for(let C=0,T=Math.min(e.length,200);C<T&&f<u;){let X=Hn(e,C);(X==t[f]||X==i[f])&&(r[f++]=C),C+=Cr(X)}if(f<u)return null}let d=0,m=0,g=!1,y=0,S=-1,v=-1,x=/[a-z]/.test(e),k=!0;for(let C=0,T=Math.min(e.length,200),X=0;C<T&&m<u;){let L=Hn(e,C);o<0&&(d<u&&L==t[d]&&(s[d++]=C),y<u&&(L==t[y]||L==i[y]?(y==0&&(S=C),v=C+1,y++):y=0));let R,N=L<255?L>=48&&L<=57||L>=97&&L<=122?2:L>=65&&L<=90?1:0:(R=Y1(L))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!C||N==1&&x||X==0&&N!=0)&&(t[m]==L||i[m]==L&&(g=!0)?l[m++]=C:l.length&&(k=!1)),X=N,C+=Cr(L)}return m==u&&l[0]==0&&k?this.result(-100+(g?-200:0),l,e):y==u&&S==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):y==u?this.ret(-900-e.length,[S,v]):m==u?this.result(-100+(g?-200:0)+-700+(k?0:-1100),l,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let l of t){let o=l+(this.astral?Cr(Hn(i,l)):1);s&&r[s-1]==l?r[s-1]=o:(r[s++]=l,r[s++]=o)}return this.ret(e-i.length,r)}}class bH{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const fn=Se.define({combine(n){return zr(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:SH,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>SQ(e(i),t(i)),optionClass:(e,t)=>i=>SQ(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function SQ(n,e){return n?e?n+" "+e:n:e}function SH(n,e,t,i,r,s){let l=n.textDirection==_t.RTL,o=l,u=!1,f="top",d,m,g=e.left-r.left,y=r.right-e.right,S=i.right-i.left,v=i.bottom-i.top;if(o&&g<Math.min(S,y)?o=!1:!o&&y<Math.min(S,g)&&(o=!0),S<=(o?g:y))d=Math.max(r.top,Math.min(t.top,r.bottom-v))-e.top,m=Math.min(400,o?g:y);else{u=!0,m=Math.min(400,(l?e.right:r.right-e.left)-30);let C=r.bottom-e.bottom;C>=v||C>e.top?d=t.bottom-e.top:(f="bottom",d=e.bottom-t.top)}let x=(e.bottom-e.top)/s.offsetHeight,k=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${d/x}px; max-width: ${m/k}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":o?"left":"right")}}function vH(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r,s){let l=document.createElement("span");l.className="cm-completionLabel";let o=t.displayLabel||t.label,u=0;for(let f=0;f<s.length;){let d=s[f++],m=s[f++];d>u&&l.appendChild(document.createTextNode(o.slice(u,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(d,m))),g.className="cm-completionMatchedText",u=m}return u<o.length&&l.appendChild(document.createTextNode(o.slice(u))),l},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function ab(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class wH{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:l}=r.open,o=e.state.facet(fn);this.optionContent=vH(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=ab(s.length,l,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:f}=e.state.field(t).open;for(let d=u.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<f.length){this.applyCompletion(e,f[+m[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(fn).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Kh.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:l,disabled:o}=i.open;(!r.open||r.open.options!=s)&&(this.range=ab(s.length,l,e.state.facet(fn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),o!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=ab(t.options.length,t.selected,this.view.state.facet(fn).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:s}=r;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(r);if(!l)return;"then"in l?l.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>ti(this.view.state,o,"completion info")):(this.addInfoPane(l,r),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&kH(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(fn).positionInfo(this.view,t,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",l=>{l.target==r&&l.preventDefault()});let s=null;for(let l=i.from;l<i.to;l++){let{completion:o,match:u}=e[l],{section:f}=o;if(f){let g=typeof f=="string"?f:f.name;if(g!=s&&(l>i.from||i.from==0))if(s=g,typeof f!="string"&&f.header)r.appendChild(f.header(f));else{let y=r.appendChild(document.createElement("completion-section"));y.textContent=g}}const d=r.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(o);m&&(d.className=m);for(let g of this.optionContent){let y=g(o,this.view.state,this.view,u);y&&d.appendChild(y)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function xH(n,e){return t=>new wH(t,n,e)}function kH(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function vQ(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function _H(n,e){let t=[],i=null,r=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){i||(i=[]);let g=typeof m=="string"?m:m.name;i.some(y=>y.name==g)||i.push(typeof m=="string"?{name:g}:m)}},l=e.facet(fn);for(let d of n)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new yQ(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),y,S=l.filterStrict?new bH(g):new yH(g);for(let v of d.result.options)if(y=S.match(v.label)){let x=v.displayLabel?m?m(v,y.matched):[]:y.matched,k=y.score+(v.boost||0);if(s(new yQ(v,d.source,x,k)),typeof v.section=="object"&&v.section.rank==="dynamic"){let{name:C}=v.section;r||(r=Object.create(null)),r[C]=Math.max(k,r[C]||-1e9)}}}}if(i){let d=Object.create(null),m=0,g=(y,S)=>(y.rank==="dynamic"&&S.rank==="dynamic"?r[S.name]-r[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof S.rank=="number"?S.rank:1e9)||(y.name<S.name?-1:1);for(let y of i.sort(g))m-=1e5,d[y.name]=m;for(let y of t){let{section:S}=y.completion;S&&(y.score+=d[typeof S=="string"?S:S.name])}}let o=[],u=null,f=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||f(m.completion,g.completion))){let m=d.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?o.push(d):vQ(d.completion)>vQ(u)&&(o[o.length-1]=d),u=d.completion}return o}class Lo{constructor(e,t,i,r,s,l){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Lo(this.options,wQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s,l){if(r&&!l&&e.some(f=>f.isPending))return r.setDisabled();let o=_H(e,t);if(!o.length)return r&&e.some(f=>f.isPending)?r.setDisabled():null;let u=t.facet(fn).selectOnOpen?0:-1;if(r&&r.selected!=u&&r.selected!=-1){let f=r.options[r.selected].completion;for(let d=0;d<o.length;d++)if(o[d].completion==f){u=d;break}}return new Lo(o,wQ(i,u),{pos:e.reduce((f,d)=>d.hasResult()?Math.min(f,d.from):f,1e8),create:PH,above:s.aboveCursor},r?r.timestamp:Date.now(),u,!1)}map(e){return new Lo(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Lo(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Jm{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Jm(AH,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(fn),s=(i.override||t.languageDataAt("autocomplete",Sa(t)).map(OH)).map(u=>(this.active.find(d=>d.source==u)||new Bi(u,this.active.some(d=>d.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((u,f)=>u==this.active[f])&&(s=this.active);let l=this.open,o=e.effects.some(u=>u.is(Aw));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!TH(s,this.active)||o?l=Lo.build(s,t,this.id,l,i,o):l&&l.disabled&&!s.some(u=>u.isPending)&&(l=null),!l&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new Bi(u.source,0):u));for(let u of e.effects)u.is(nN)&&(l=l&&l.setSelected(u.value,this.id));return s==this.active&&l==this.open?this:new Jm(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?CH:EH}}function TH(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const CH={"aria-autocomplete":"list"},EH={};function wQ(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const AH=[];function tN(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(Ew);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Bi{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=tN(e,t),r=this;(i&8||i&16&&this.touches(e))&&(r=new Bi(r.source,0)),i&4&&r.state==0&&(r=new Bi(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is(Km))r=new Bi(r.source,1,s.value);else if(s.is(Kh))r=new Bi(r.source,0);else if(s.is(Aw))for(let l of s.value)l.source==r.source&&(r=l);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Sa(e.state))}}class Wo extends Bi{constructor(e,t,i,r,s,l){super(e,3,t),this.limit=i,this.result=r,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),o=Sa(e.state);if(o>l||!r||t&2&&(Sa(e.startState)==this.from||o<this.limit))return new Bi(this.source,t&4?1:0);let u=e.changes.mapPos(this.limit);return QH(r.validFor,e.state,s,l)?new Wo(this.source,this.explicit,u,r,s,l):r.update&&(r=r.update(r,s,l,new Cw(e.state,o,!1)))?new Wo(this.source,this.explicit,u,r,r.from,(i=r.to)!==null&&i!==void 0?i:Sa(e.state)):new Bi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Wo(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Bi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function QH(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):eN(n,!0).test(r)}const Aw=Ie.define({map(n,e){return n.map(t=>t.map(e))}}),nN=Ie.define(),Gn=dn.define({create(){return Jm.start()},update(n,e){return n.update(e)},provide:n=>[uw.from(n,e=>e.tooltip),ge.contentAttributes.from(n,e=>e.attrs)]});function Qw(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Gn).active.find(r=>r.source==e.source);return i instanceof Wo?(typeof t=="string"?n.dispatch({...gH(n.state,t,i.from,i.to),annotations:Ew.of(e.completion)}):t(n,e.completion,i.from,i.to),!0):!1}const PH=xH(Gn,Qw);function Ap(n,e="option"){return t=>{let i=t.state.field(Gn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(fn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=$I(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=i.open.options,o=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:l-1;return o<0?o=e=="page"?0:l-1:o>=l&&(o=e=="page"?l-1:0),t.dispatch({effects:nN.of(o)}),!0}}const RH=n=>{let e=n.state.field(Gn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(fn).interactionDelay?!1:Qw(n,e.open.options[e.open.selected])},ob=n=>n.state.field(Gn,!1)?(n.dispatch({effects:Km.of(!0)}),!0):!1,$H=n=>{let e=n.state.field(Gn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Kh.of(null)}),!0)};class MH{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const IH=50,DH=1e3,NH=Yt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Gn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Gn),t=n.state.facet(fn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Gn)==e)return;let i=n.transactions.some(s=>{let l=tN(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(i||l.context.abortOnDocChange&&n.docChanged||l.updates.length+n.transactions.length>IH&&Date.now()-l.time>DH){for(let o of l.context.abortListeners)try{o()}catch(u){ti(this.view.state,u)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(l=>l.is(Km)))&&(this.pendingStart=!0);let r=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Gn);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(fn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Sa(e),i=new Cw(e,t,n.explicit,this.view),r=new MH(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Kh.of(null)}),ti(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(fn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(fn),i=this.view.state.field(Gn);for(let r=0;r<this.running.length;r++){let s=this.running[r];if(s.done===void 0)continue;if(this.running.splice(r--,1),s.done){let o=Sa(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(o,s.done.from+(s.active.explicit?0:1)),f=new Wo(s.active.source,s.active.explicit,u,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:o);for(let d of s.updates)f=f.update(d,t);if(f.hasResult()){e.push(f);continue}}let l=i.active.find(o=>o.source==s.active.source);if(l&&l.isPending)if(s.done==null){let o=new Bi(s.active.source,0);for(let u of s.updates)o=o.update(u,t);o.isPending||e.push(o)}else this.startQuery(l)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:Aw.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Gn,!1);if(e&&e.tooltip&&this.view.state.facet(fn).closeOnBlur){let t=e.open&&$I(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Kh.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Km.of(!1)}),20),this.composing=0}}}),LH=typeof navigator=="object"&&/Win/.test(navigator.platform),zH=Qs.highest(ge.domEventHandlers({keydown(n,e){let t=e.state.field(Gn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(LH&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],r=t.active.find(l=>l.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&Qw(e,i),!1}})),iN=ge.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class BH{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class Pw{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,kn.TrackDel),i=e.mapPos(this.to,1,kn.TrackDel);return t==null||i==null?null:new Pw(this.field,t,i)}}class Rw{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),l=/^\s*/.exec(s.text)[0];for(let u of this.lines){if(i.length){let f=l,d=/^\t*/.exec(u)[0].length;for(let m=0;m<d;m++)f+=e.facet(Nc);r.push(t+f.length-d),u=f+u.slice(d)}i.push(u),t+=u.length+1}let o=this.fieldPositions.map(u=>new Pw(u.field,r[u.line]+u.from,r[u.line]+u.to));return{text:i,ranges:o}}static parse(e){let t=[],i=[],r=[],s;for(let l of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(l);){let o=s[1]?+s[1]:null,u=s[2]||s[3]||"",f=-1,d=u.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<t.length;m++)(o!=null?t[m].seq==o:d&&t[m].name==d)&&(f=m);if(f<0){let m=0;for(;m<t.length&&(o==null||t[m].seq!=null&&t[m].seq<o);)m++;t.splice(m,0,{seq:o,name:d}),f=m;for(let g of r)g.field>=f&&g.field++}for(let m of r)if(m.line==i.length&&m.from>s.index){let g=s[2]?3+(s[1]||"").length:2;m.from-=g,m.to-=g}r.push(new BH(f,i.length,s.index,s.index+d.length)),l=l.slice(0,s.index)+u+l.slice(s.index+s[0].length)}l=l.replace(/\\([{}])/g,(o,u,f)=>{for(let d of r)d.line==i.length&&d.from>f&&(d.from--,d.to--);return u}),i.push(l)}return new Rw(i,r)}}let UH=Ee.widget({widget:new class extends hr{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),XH=Ee.mark({class:"cm-snippetField"});class Uc{constructor(e,t){this.ranges=e,this.active=t,this.deco=Ee.set(e.map(i=>(i.from==i.to?UH:XH).range(i.from,i.to)),!0)}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new Uc(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const Nf=Ie.define({map(n,e){return n&&n.map(e)}}),ZH=Ie.define(),Jh=dn.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Nf))return t.value;if(t.is(ZH)&&n)return new Uc(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ge.decorations.from(n,e=>e?e.deco:Ee.none)});function $w(n,e){return K.create(n.filter(t=>t.field==e).map(t=>K.range(t.from,t.to)))}function jH(n){let e=Rw.parse(n);return(t,i,r,s)=>{let{text:l,ranges:o}=e.instantiate(t.state,r),{main:u}=t.state.selection,f={changes:{from:r,to:s==u.from?u.to:s,insert:lt.of(l)},scrollIntoView:!0,annotations:i?[Ew.of(i),Jt.userEvent.of("input.complete")]:void 0};if(o.length&&(f.selection=$w(o,0)),o.some(d=>d.field>0)){let d=new Uc(o,0),m=f.effects=[Nf.of(d)];t.state.field(Jh,!1)===void 0&&m.push(Ie.appendConfig.of([Jh,WH,HH,iN]))}t.dispatch(t.state.update(f))}}function rN(n){return({state:e,dispatch:t})=>{let i=e.field(Jh,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(l=>l.field==r+n);return t(e.update({selection:$w(i.ranges,r),effects:Nf.of(s?null:new Uc(i.ranges,r)),scrollIntoView:!0})),!0}}const VH=({state:n,dispatch:e})=>n.field(Jh,!1)?(e(n.update({effects:Nf.of(null)})),!0):!1,qH=rN(1),YH=rN(-1),FH=[{key:"Tab",run:qH,shift:YH},{key:"Escape",run:VH}],xQ=Se.define({combine(n){return n.length?n[0]:FH}}),WH=Qs.highest(Ic.compute([xQ],n=>n.facet(xQ)));function Wn(n,e){return{...e,apply:jH(n)}}const HH=ge.domEventHandlers({mousedown(n,e){let t=e.state.field(Jh,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:$w(t.ranges,r.field),effects:Nf.of(t.ranges.some(s=>s.field>r.field)?new Uc(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),ef={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ga=Ie.define({map(n,e){let t=e.mapPos(n,-1,kn.TrackAfter);return t??void 0}}),Mw=new class extends xl{};Mw.startSide=1;Mw.endSide=-1;const sN=dn.define({create(){return He.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(ga)&&(n=n.update({add:[Mw.range(t.value,t.value+1)]}));return n}});function GH(){return[JH,sN]}const cb="()[]{}<>";function lN(n){for(let e=0;e<cb.length;e+=2)if(cb.charCodeAt(e)==n)return cb.charAt(e+1);return Y1(n<128?n:n+1)}function aN(n,e){return n.languageDataAt("closeBrackets",e)[0]||ef}const KH=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),JH=ge.inputHandler.of((n,e,t,i)=>{if((KH?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&Cr(Hn(i,0))==1||e!=r.from||t!=r.to)return!1;let s=nG(n.state,i);return s?(n.dispatch(s),!0):!1}),eG=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=aN(n,n.selection.main.head).brackets||ef.brackets,r=null,s=n.changeByRange(l=>{if(l.empty){let o=iG(n.doc,l.head);for(let u of i)if(u==o&&Vg(n.doc,l.head)==lN(Hn(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:K.cursor(l.head-u.length)}}return{range:r=l}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},tG=[{key:"Backspace",run:eG}];function nG(n,e){let t=aN(n,n.selection.main.head),i=t.brackets||ef.brackets;for(let r of i){let s=lN(Hn(r,0));if(e==r)return s==r?lG(n,r,i.indexOf(r+r+r)>-1,t):rG(n,r,s,t.before||ef.before);if(e==s&&oN(n,n.selection.main.from))return sG(n,r,s)}return null}function oN(n,e){let t=!1;return n.field(sN).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Vg(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Cr(Hn(t,0)))}function iG(n,e){let t=n.sliceString(e-2,e);return Cr(Hn(t,0))==t.length?t:t.slice(1)}function rG(n,e,t,i){let r=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:ga.of(l.to+e.length),range:K.range(l.anchor+e.length,l.head+e.length)};let o=Vg(n.doc,l.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:l.head},effects:ga.of(l.head+e.length),range:K.cursor(l.head+e.length)}:{range:r=l}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function sG(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&Vg(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:K.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function lG(n,e,t,i){let r=i.stringPrefixes||ef.stringPrefixes,s=null,l=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:ga.of(o.to+e.length),range:K.range(o.anchor+e.length,o.head+e.length)};let u=o.head,f=Vg(n.doc,u),d;if(f==e){if(kQ(n,u))return{changes:{insert:e+e,from:u},effects:ga.of(u+e.length),range:K.cursor(u+e.length)};if(oN(n,u)){let g=t&&n.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:K.cursor(u+g.length)}}}else{if(t&&n.sliceDoc(u-2*e.length,u)==e+e&&(d=_Q(n,u-2*e.length,r))>-1&&kQ(n,d))return{changes:{insert:e+e+e+e,from:u},effects:ga.of(u+e.length),range:K.cursor(u+e.length)};if(n.charCategorizer(u)(f)!=Dt.Word&&_Q(n,u,r)>-1&&!aG(n,u,e,r))return{changes:{insert:e+e,from:u},effects:ga.of(u+e.length),range:K.cursor(u+e.length)}}return{range:s=o}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function kQ(n,e){let t=Et(n).resolveInner(e+1);return t.parent&&t.from==e}function aG(n,e,t,i){let r=Et(n).resolveInner(e,-1),s=i.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),u=o.indexOf(t);if(!u||u>-1&&i.indexOf(o.slice(0,u))>-1){let d=r.firstChild;for(;d&&d.from==r.from&&d.to-d.from>t.length+u;){if(n.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let f=r.to==e&&r.parent;if(!f)break;r=f}return!1}function _Q(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Dt.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=Dt.Word)return s}return-1}function oG(n={}){return[zH,Gn,fn.of(n),NH,cG,iN]}const cN=[{key:"Ctrl-Space",run:ob},{mac:"Alt-`",run:ob},{mac:"Alt-i",run:ob},{key:"Escape",run:$H},{key:"ArrowDown",run:Ap(!0)},{key:"ArrowUp",run:Ap(!1)},{key:"PageDown",run:Ap(!0,"page")},{key:"PageUp",run:Ap(!1,"page")},{key:"Enter",run:RH}],cG=Qs.highest(Ic.computeN([fn],n=>n.facet(fn).defaultKeymap?[cN]:[]));class TQ{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class ca{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=i.facet(tf).markerFilter;r&&(e=r(e,i));let s=e.slice().sort((y,S)=>y.from-S.from||y.to-S.to),l=new _s,o=[],u=0,f=i.doc.iter(),d=0,m=i.doc.length;for(let y=0;;){let S=y==s.length?null:s[y];if(!S&&!o.length)break;let v,x;if(o.length)v=u,x=o.reduce((T,X)=>Math.min(T,X.to),S&&S.from>v?S.from:1e8);else{if(v=S.from,v>m)break;x=S.to,o.push(S),y++}for(;y<s.length;){let T=s[y];if(T.from==v&&(T.to>T.from||T.to==v))o.push(T),y++,x=Math.min(T.to,x);else{x=Math.min(T.from,x);break}}x=Math.min(x,m);let k=!1;if(o.some(T=>T.from==v&&(T.to==x||x==m))&&(k=v==x,!k&&x-v<10)){let T=v-(d+f.value.length);T>0&&(f.next(T),d=v);for(let X=v;;){if(X>=x){k=!0;break}if(!f.lineBreak&&d+f.value.length>X)break;X=d+f.value.length,d+=f.value.length,f.next()}}let C=wG(o);if(k)l.add(v,v,Ee.widget({widget:new yG(C),diagnostics:o.slice()}));else{let T=o.reduce((X,L)=>L.markClass?X+" "+L.markClass:X,"");l.add(v,x,Ee.mark({class:"cm-lintRange cm-lintRange-"+C+T,diagnostics:o.slice(),inclusiveEnd:o.some(X=>X.to>x)}))}if(u=x,u==m)break;for(let T=0;T<o.length;T++)o[T].to<=u&&o.splice(T--,1)}let g=l.finish();return new ca(g,t,gc(g))}}function gc(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!i)i=new TQ(r,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new TQ(i.from,s,i.diagnostic)}}),i}function uG(n,e){let t=e.pos,i=e.end||t,r=n.state.facet(tf).hideOn(n,t,i);if(r!=null)return r;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(l=>l.is(uN))||n.changes.touchesRange(s.from,Math.max(s.to,i)))}function hG(n,e){return n.field(vi,!1)?e:e.concat(Ie.appendConfig.of(xG))}const uN=Ie.define(),Iw=Ie.define(),hN=Ie.define(),vi=dn.define({create(){return new ca(Ee.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,r=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);i=gc(t,n.selected.diagnostic,s)||gc(t,null,s)}!t.size&&r&&e.state.facet(tf).autoPanel&&(r=null),n=new ca(t,r,i)}for(let t of e.effects)if(t.is(uN)){let i=e.state.facet(tf).autoPanel?t.value.length?nf.open:null:n.panel;n=ca.init(t.value,i,e.state)}else t.is(Iw)?n=new ca(n.diagnostics,t.value?nf.open:null,n.selected):t.is(hN)&&(n=new ca(n.diagnostics,n.panel,t.value));return n},provide:n=>[Vh.from(n,e=>e.panel),ge.decorations.from(n,e=>e.diagnostics)]}),fG=Ee.mark({class:"cm-lintRange cm-lintRange-active"});function dG(n,e,t){let{diagnostics:i}=n.state.field(vi),r,s=-1,l=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(u,f,{spec:d})=>{if(e>=u&&e<=f&&(u==f||(e>u||t>0)&&(e<f||t<0)))return r=d.diagnostics,s=u,l=f,!1});let o=n.state.facet(tf).tooltipFilter;return r&&o&&(r=o(r,n.state)),r?{pos:s,end:l,above:n.state.doc.lineAt(s).to<l,create(){return{dom:pG(n,r)}}}:null}function pG(n,e){return St("ul",{class:"cm-tooltip-lint"},e.map(t=>dN(n,t,!1)))}const mG=n=>{let e=n.state.field(vi,!1);(!e||!e.panel)&&n.dispatch({effects:hG(n.state,[Iw.of(!0)])});let t=hw(n,nf.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},CQ=n=>{let e=n.state.field(vi,!1);return!e||!e.panel?!1:(n.dispatch({effects:Iw.of(!1)}),!0)},gG=n=>{let e=n.state.field(vi,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},OG=[{key:"Mod-Shift-m",run:mG,preventDefault:!0},{key:"F8",run:gG}],tf=Se.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...zr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:EQ,tooltipFilter:EQ,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,r,s)=>e(i,r,s)||t(i,r,s):e:t,autoPanel:(e,t)=>e||t})}}});function EQ(n,e){return n?e?(t,i)=>e(n(t,i),i):n:e}function fN(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function dN(n,e,t){var i;let r=t?fN(e.actions):[];return St("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},St("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,l)=>{let o=!1,u=y=>{if(y.preventDefault(),o)return;o=!0;let S=gc(n.state.field(vi).diagnostics,e);S&&s.apply(n,S.from,S.to)},{name:f}=s,d=r[l]?f.indexOf(r[l]):-1,m=d<0?f:[f.slice(0,d),St("u",f.slice(d,d+1)),f.slice(d+1)],g=s.markClass?" "+s.markClass:"";return St("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:u,onmousedown:u,"aria-label":` Action: ${f}${d<0?"":` (access key "${r[l]})"`}.`},m)}),e.source&&St("div",{class:"cm-diagnosticSource"},e.source))}class yG extends hr{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return St("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class AQ{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=dN(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class nf{constructor(e){this.view=e,this.items=[];let t=r=>{if(!(r.ctrlKey||r.altKey||r.metaKey)){if(r.keyCode==27)CQ(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=fN(s.actions);for(let o=0;o<l.length;o++)if(l[o].toUpperCase().charCodeAt(0)==r.keyCode){let u=gc(this.view.state.field(vi).diagnostics,s);u&&s.actions[o].apply(e,u.from,u.to)}}else return;r.preventDefault()}},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=St("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=St("div",{class:"cm-panel-lint"},this.list,St("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>CQ(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(vi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(vi),i=0,r=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(o,u,{spec:f})=>{for(let d of f.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let y=i;y<this.items.length;y++)if(this.items[y].diagnostic==d){m=y;break}m<0?(g=new AQ(this.view,d),this.items.splice(i,0,g),r=!0):(g=this.items[m],m>i&&(this.items.splice(i,m-i),r=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new AQ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:u})=>{let f=u.height/this.list.offsetHeight;o.top<u.top?this.list.scrollTop-=(u.top-o.top)/f:o.bottom>u.bottom&&(this.list.scrollTop+=(o.bottom-u.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(vi),i=gc(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:hN.of(i)})}static open(e){return new nf(e)}}function bG(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Qp(n){return bG(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const SG=ge.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Qp("#d11")},".cm-lintRange-warning":{backgroundImage:Qp("orange")},".cm-lintRange-info":{backgroundImage:Qp("#999")},".cm-lintRange-hint":{backgroundImage:Qp("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function vG(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function wG(n){let e="hint",t=1;for(let i of n){let r=vG(i.severity);r>t&&(t=r,e=i.severity)}return e}const xG=[vi,ge.decorations.compute([vi],n=>{let{selected:e,panel:t}=n.field(vi);return!e||!t||e.from==e.to?Ee.none:Ee.set([fG.range(e.from,e.to)])}),t7(dG,{hideOn:uG}),SG];var QQ=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(tG)),e.defaultKeymap!==!1&&(i=i.concat(NW)),e.searchKeymap!==!1&&(i=i.concat(uH)),e.historyKeymap!==!1&&(i=i.concat(jF)),e.foldKeymap!==!1&&(i=i.concat(sF)),e.completionKeymap!==!1&&(i=i.concat(cN)),e.lintKeymap!==!1&&(i=i.concat(OG));var r=[];return e.lineNumbers!==!1&&r.push(p7()),e.highlightActiveLineGutter!==!1&&r.push(O7()),e.highlightSpecialChars!==!1&&r.push(QY()),e.history!==!1&&r.push(IF()),e.foldGutter!==!1&&r.push(cF()),e.drawSelection!==!1&&r.push(bY()),e.dropCursor!==!1&&r.push(kY()),e.allowMultipleSelections!==!1&&r.push(et.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(G7()),e.syntaxHighlighting!==!1&&r.push(lD(dF,{fallback:!0})),e.bracketMatching!==!1&&r.push(SF()),e.closeBrackets!==!1&&r.push(GH()),e.autocompletion!==!1&&r.push(oG()),e.rectangularSelection!==!1&&r.push(jY()),t!==!1&&r.push(YY()),e.highlightActiveLine!==!1&&r.push(DY()),e.highlightSelectionMatches!==!1&&r.push(ZW()),e.tabSize&&typeof e.tabSize=="number"&&r.push(Nc.of(" ".repeat(e.tabSize))),r.concat([Ic.of(i.flat())]).filter(Boolean)};const kG="#e5c07b",PQ="#e06c75",_G="#56b6c2",TG="#ffffff",em="#abb2bf",gv="#7d8799",CG="#61afef",EG="#98c379",RQ="#d19a66",AG="#c678dd",QG="#21252b",$Q="#2c313a",MQ="#282c34",ub="#353a42",PG="#3E4451",IQ="#528bff",RG=ge.theme({"&":{color:em,backgroundColor:MQ},".cm-content":{caretColor:IQ},".cm-cursor, .cm-dropCursor":{borderLeftColor:IQ},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:PG},".cm-panels":{backgroundColor:QG,color:em},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:MQ,color:gv,border:"none"},".cm-activeLineGutter":{backgroundColor:$Q},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ub},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ub,borderBottomColor:ub},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:$Q,color:em}}},{dark:!0}),$G=Mf.define([{tag:Q.keyword,color:AG},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:PQ},{tag:[Q.function(Q.variableName),Q.labelName],color:CG},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:RQ},{tag:[Q.definition(Q.name),Q.separator],color:em},{tag:[Q.typeName,Q.className,Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:kG},{tag:[Q.operator,Q.operatorKeyword,Q.url,Q.escape,Q.regexp,Q.link,Q.special(Q.string)],color:_G},{tag:[Q.meta,Q.comment],color:gv},{tag:Q.strong,fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.link,color:gv,textDecoration:"underline"},{tag:Q.heading,fontWeight:"bold",color:PQ},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:RQ},{tag:[Q.processingInstruction,Q.string,Q.inserted],color:EG},{tag:Q.invalid,color:TG}]),MG=[RG,lD($G)];var IG=ge.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),DG=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:r=!1,theme:s="light",placeholder:l="",basicSetup:o=!0}=e,u=[];switch(t&&u.unshift(Ic.of([LW])),o&&(typeof o=="boolean"?u.unshift(QQ()):u.unshift(QQ(o))),l&&u.unshift(BY(l)),s){case"light":u.push(IG);break;case"dark":u.push(MG);break;case"none":break;default:u.push(s);break}return i===!1&&u.push(ge.editable.of(!1)),r&&u.push(et.readOnly.of(!0)),[...u]},NG=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class LG{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class DQ{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var hb=null,zG=()=>typeof window>"u"?new DQ:(hb||(hb=new DQ),hb),NQ=Lr.define(),BG=200,UG=[];function XG(n){var{value:e,selection:t,onChange:i,onStatistics:r,onCreateEditor:s,onUpdate:l,extensions:o=UG,autoFocus:u,theme:f="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:y=null,minWidth:S=null,maxWidth:v=null,placeholder:x="",editable:k=!0,readOnly:C=!1,indentWithTab:T=!0,basicSetup:X=!0,root:L,initialState:R}=n,[N,ae]=I.useState(),[te,z]=I.useState(),[H,W]=I.useState(),fe=I.useState(()=>({current:null}))[0],oe=I.useState(()=>({current:null}))[0],ne=ge.theme({"&":{height:d,minHeight:m,maxHeight:g,width:y,minWidth:S,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),U=ge.updateListener.of(be=>{if(be.docChanged&&typeof i=="function"&&!be.transactions.some(Y=>Y.annotation(NQ))){fe.current?fe.current.reset():(fe.current=new LG(()=>{if(oe.current){var Y=oe.current;oe.current=null,Y()}fe.current=null},BG),zG().add(fe.current));var P=be.state.doc,M=P.toString();i(M,be)}r&&r(NG(be))}),ie=DG({theme:f,editable:k,readOnly:C,placeholder:x,indentWithTab:T,basicSetup:X}),me=[U,ne,...ie];return l&&typeof l=="function"&&me.push(ge.updateListener.of(l)),me=me.concat(o),I.useLayoutEffect(()=>{if(N&&!H){var be={doc:e,selection:t,extensions:me},P=R?et.fromJSON(R.json,be,R.fields):et.create(be);if(W(P),!te){var M=new ge({state:P,parent:N,root:L});z(M),s&&s(M,P)}}return()=>{te&&(W(void 0),z(void 0))}},[N,H]),I.useEffect(()=>{n.container&&ae(n.container)},[n.container]),I.useEffect(()=>()=>{te&&(te.destroy(),z(void 0)),fe.current&&(fe.current.cancel(),fe.current=null)},[te]),I.useEffect(()=>{u&&te&&te.focus()},[u,te]),I.useEffect(()=>{te&&te.dispatch({effects:Ie.reconfigure.of(me)})},[f,o,d,m,g,y,S,v,x,k,C,T,X,i,l]),I.useEffect(()=>{if(e!==void 0){var be=te?te.state.doc.toString():"";if(te&&e!==be){var P=fe.current&&!fe.current.isDone,M=()=>{te&&e!==te.state.doc.toString()&&te.dispatch({changes:{from:0,to:te.state.doc.toString().length,insert:e||""},annotations:[NQ.of(!0)]})};P?oe.current=M:M()}}},[e,te]),{state:H,setState:W,view:te,setView:z,container:N,setContainer:ae}}var ZG=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],pN=I.forwardRef((n,e)=>{var{className:t,value:i="",selection:r,extensions:s=[],onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:f,autoFocus:d,theme:m="light",height:g,minHeight:y,maxHeight:S,width:v,minWidth:x,maxWidth:k,basicSetup:C,placeholder:T,indentWithTab:X,editable:L,readOnly:R,root:N,initialState:ae}=n,te=l8(n,ZG),z=I.useRef(null),{state:H,view:W,container:fe,setContainer:oe}=XG({root:N,value:i,autoFocus:d,theme:m,height:g,minHeight:y,maxHeight:S,width:v,minWidth:x,maxWidth:k,basicSetup:C,placeholder:T,indentWithTab:X,editable:L,readOnly:R,selection:r,onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:f,extensions:s,initialState:ae});I.useImperativeHandle(e,()=>({editor:z.current,state:H,view:W}),[z,fe,H,W]);var ne=I.useCallback(ie=>{z.current=ie,oe(ie)},[oe]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var U=typeof m=="string"?"cm-theme-"+m:"cm-theme";return A.jsx("div",xS({ref:ne,className:""+U+(t?" "+t:"")},te))});pN.displayName="CodeMirror";class eg{static create(e,t,i,r,s){let l=r+(r<<8)+e+(t<<4)|0;return new eg(e,t,i,l,s,[],[])}constructor(e,t,i,r,s,l,o){this.type=e,this.value=t,this.from=i,this.hash=r,this.end=s,this.children=l,this.positions=o,this.hashProp=[[De.contextHash,r]]}addChild(e,t){e.prop(De.contextHash)!=this.hash&&(e=new ht(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let i=this.children.length-1;return i>=0&&(t=Math.max(t,this.positions[i]+this.children[i].length+this.from)),new ht(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(r,s,l)=>new ht(ln.none,r,s,l,this.hashProp)})}}var ue;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(ue||(ue={}));class jG{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class VG{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return vh(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,i=0){for(let r=t;r<e;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(e){let t=0;for(let i=0;t<this.text.length&&i<e;t++)i+=this.text.charCodeAt(t)==9?4-i%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function LQ(n,e,t){if(t.pos==t.text.length||n!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let i=(n.type==ue.OrderedList?Lw:Nw)(t,e,!1);return i>0&&(n.type!=ue.BulletList||Dw(t,e,!1)<0)&&t.text.charCodeAt(t.pos+i-1)==n.value}const mN={[ue.Blockquote](n,e,t){return t.next!=62?!1:(t.markers.push(it(ue.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(ji(t.text.charCodeAt(t.pos+1))?2:1)),n.end=e.lineStart+t.text.length,!0)},[ue.ListItem](n,e,t){return t.indent<t.baseIndent+n.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+n.value),!0)},[ue.OrderedList]:LQ,[ue.BulletList]:LQ,[ue.Document](){return!0}};function ji(n){return n==32||n==9||n==10||n==13}function vh(n,e=0){for(;e<n.length&&ji(n.charCodeAt(e));)e++;return e}function zQ(n,e,t){for(;e>t&&ji(n.charCodeAt(e-1));)e--;return e}function gN(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let t=e;t<n.text.length;t++)if(n.text.charCodeAt(t)==96)return-1}return e}function ON(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function Dw(n,e,t){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let i=1;for(let r=n.pos+1;r<n.text.length;r++){let s=n.text.charCodeAt(r);if(s==n.next)i++;else if(!ji(s))return-1}return t&&n.next==45&&SN(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(kN.SetextHeading)>-1||i<3?-1:1}function yN(n,e){for(let t=n.stack.length-1;t>=0;t--)if(n.stack[t].type==e)return!0;return!1}function Nw(n,e,t){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||ji(n.text.charCodeAt(n.pos+1)))&&(!t||yN(e,ue.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function Lw(n,e,t){let i=n.pos,r=n.next;for(;r>=48&&r<=57;){i++;if(i==n.text.length)return-1;r=n.text.charCodeAt(i)}return i==n.pos||i>n.pos+9||r!=46&&r!=41||i<n.text.length-1&&!ji(n.text.charCodeAt(i+1))||t&&!yN(e,ue.OrderedList)&&(n.skipSpace(i+1)==n.text.length||i>n.pos+1||n.next!=49)?-1:i+1-n.pos}function bN(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let t=e-n.pos;return t>6?-1:t}function SN(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let t=e;for(;e<n.text.length&&ji(n.text.charCodeAt(e));)e++;return e==n.text.length?t:-1}const Ov=/^[ \t]*$/,vN=/-->/,wN=/\?>/,yv=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,vN],[/^\s*<\?/,wN],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Ov],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Ov]];function xN(n,e,t){if(n.next!=60)return-1;let i=n.text.slice(n.pos);for(let r=0,s=yv.length-(t?1:0);r<s;r++)if(yv[r][0].test(i))return r;return-1}function BQ(n,e){let t=n.countIndent(e,n.pos,n.indent),i=n.countIndent(n.skipSpace(e),e,t);return i>=t+5?t+1:i}function rl(n,e,t){let i=n.length-1;i>=0&&n[i].to==e&&n[i].type==ue.CodeText?n[i].to=t:n.push(it(ue.CodeText,e,t))}const Pp={LinkReference:void 0,IndentedCode(n,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let i=e.findColumn(t),r=n.lineStart+i,s=n.lineStart+e.text.length,l=[],o=[];for(rl(l,r,s);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){rl(o,n.lineStart-1,n.lineStart);for(let u of e.markers)o.push(u)}else{if(e.indent<t)break;{if(o.length){for(let f of o)f.type==ue.CodeText?rl(l,f.from,f.to):l.push(f);o=[]}rl(l,n.lineStart-1,n.lineStart);for(let f of e.markers)l.push(f);s=n.lineStart+e.text.length;let u=n.lineStart+e.findColumn(e.baseIndent+4);u<s&&rl(l,u,s)}}return o.length&&(o=o.filter(u=>u.type!=ue.CodeText),o.length&&(e.markers=o.concat(e.markers))),n.addNode(n.buffer.writeElements(l,-r).finish(ue.CodeBlock,s-r),r),!0},FencedCode(n,e){let t=gN(e);if(t<0)return!1;let i=n.lineStart+e.pos,r=e.next,s=t-e.pos,l=e.skipSpace(t),o=zQ(e.text,e.text.length,l),u=[it(ue.CodeMark,i,i+s)];l<o&&u.push(it(ue.CodeInfo,n.lineStart+l,n.lineStart+o));for(let f=!0,d=!0,m=!1;n.nextLine()&&e.depth>=n.stack.length;f=!1){let g=e.pos;if(e.indent-e.baseIndent<4)for(;g<e.text.length&&e.text.charCodeAt(g)==r;)g++;if(g-e.pos>=s&&e.skipSpace(g)==e.text.length){for(let y of e.markers)u.push(y);d&&m&&rl(u,n.lineStart-1,n.lineStart),u.push(it(ue.CodeMark,n.lineStart+e.pos,n.lineStart+g)),n.nextLine();break}else{m=!0,f||(rl(u,n.lineStart-1,n.lineStart),d=!1);for(let v of e.markers)u.push(v);let y=n.lineStart+e.basePos,S=n.lineStart+e.text.length;y<S&&(rl(u,y,S),d=!1)}}return n.addNode(n.buffer.writeElements(u,-i).finish(ue.FencedCode,n.prevLineEnd()-i),i),!0},Blockquote(n,e){let t=ON(e);return t<0?!1:(n.startContext(ue.Blockquote,e.pos),n.addNode(ue.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(n,e){if(Dw(e,n,!1)<0)return!1;let t=n.lineStart+e.pos;return n.nextLine(),n.addNode(ue.HorizontalRule,t),!0},BulletList(n,e){let t=Nw(e,n,!1);if(t<0)return!1;n.block.type!=ue.BulletList&&n.startContext(ue.BulletList,e.basePos,e.next);let i=BQ(e,e.pos+1);return n.startContext(ue.ListItem,e.basePos,i-e.baseIndent),n.addNode(ue.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(i),null},OrderedList(n,e){let t=Lw(e,n,!1);if(t<0)return!1;n.block.type!=ue.OrderedList&&n.startContext(ue.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let i=BQ(e,e.pos+t);return n.startContext(ue.ListItem,e.basePos,i-e.baseIndent),n.addNode(ue.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(i),null},ATXHeading(n,e){let t=bN(e);if(t<0)return!1;let i=e.pos,r=n.lineStart+i,s=zQ(e.text,e.text.length,i),l=s;for(;l>i&&e.text.charCodeAt(l-1)==e.next;)l--;(l==s||l==i||!ji(e.text.charCodeAt(l-1)))&&(l=e.text.length);let o=n.buffer.write(ue.HeaderMark,0,t).writeElements(n.parser.parseInline(e.text.slice(i+t+1,l),r+t+1),-r);l<e.text.length&&o.write(ue.HeaderMark,l-i,s-i);let u=o.finish(ue.ATXHeading1-1+t,e.text.length-i);return n.nextLine(),n.addNode(u,r),!0},HTMLBlock(n,e){let t=xN(e,n,!1);if(t<0)return!1;let i=n.lineStart+e.pos,r=yv[t][1],s=[],l=r!=Ov;for(;!r.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){l=!1;break}for(let f of e.markers)s.push(f)}l&&n.nextLine();let o=r==vN?ue.CommentBlock:r==wN?ue.ProcessingInstructionBlock:ue.HTMLBlock,u=n.prevLineEnd();return n.addNode(n.buffer.writeElements(s,-i).finish(o,u-i),i),!0},SetextHeading:void 0};class qG{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,i){if(this.stage==-1)return!1;let r=i.content+`
`+t.scrub(),s=this.advance(r);return s>-1&&s<r.length?this.complete(e,i,s):!1}finish(e,t){return(this.stage==2||this.stage==3)&&vh(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,i){return e.addLeafElement(t,it(ue.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage($N(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(it(ue.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(PN(e,vh(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=vh(e,this.pos),i=0;if(t>this.pos){let r=RN(e,t,this.start);if(r){let s=fb(e,r.to-this.start);s>0&&(this.nextStage(r),i=s)}}return i||(i=fb(e,this.pos)),i>0&&i<e.length?i:-1}else return fb(e,this.pos)}}}function fb(n,e){for(;e<n.length;e++){let t=n.charCodeAt(e);if(t==10)break;if(!ji(t))return-1}return e}class YG{nextLine(e,t,i){let r=t.depth<e.stack.length?-1:SN(t),s=t.next;if(r<0)return!1;let l=it(ue.HeaderMark,e.lineStart+t.pos,e.lineStart+r);return e.nextLine(),e.addLeafElement(i,it(s==61?ue.SetextHeading1:ue.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),l])),!0}finish(){return!1}}const kN={LinkReference(n,e){return e.content.charCodeAt(0)==91?new qG(e):null},SetextHeading(){return new YG}},FG=[(n,e)=>bN(e)>=0,(n,e)=>gN(e)>=0,(n,e)=>ON(e)>=0,(n,e)=>Nw(e,n,!0)>=0,(n,e)=>Lw(e,n,!0)>=0,(n,e)=>Dw(e,n,!0)>=0,(n,e)=>xN(e,n,!0)>=0],WG={text:"",end:0};class HG{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.line=new VG,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=eg.create(ue.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new JG(i,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let r=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!r||e.markers[i].from<r.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!r)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,e);if(r!=!1){if(r==!0)return null;e.forward();continue e}}break}let t=new jG(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,t);r&&t.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,t))break e}for(let i of t.parsers)if(i.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let i of e.markers)t.marks.push(i)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=MN(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=WG;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<t.end;){r++;let s=this.ranges[r].from,l=this.lineChunkAt(s);t.end=s+l.length,t.text=t.text.slice(0,this.ranges[r-1].to-i)+l,i=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(t);e.depth<this.stack.length;e.depth++){let r=this.stack[e.depth],s=this.parser.skipContextMarkup[r.type];if(!s)throw new Error("Unhandled block context "+ue[r.type]);let l=this.line.markers.length;if(!s(r,this,e)){this.line.markers.length>l&&(r.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),i;if(this.input.lineChunks)i=t==`
`?"":t;else{let r=t.indexOf(`
`);i=r<0?t:t.slice(0,r)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,i=0){this.block=eg.create(e,i,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,i=0){this.startContext(this.parser.getNodeType(e),t,i)}addNode(e,t,i){typeof e=="number"&&(e=new ht(this.parser.nodeSet.types[e],Oc,Oc,(i??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(Sv(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?_N(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let t=Sv(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(ue.Paragraph,e.content.length),e.start)}elt(e,t,i,r){return typeof e=="string"?it(this.parser.getNodeType(e),t,i,r):new EN(e,t)}get buffer(){return new CN(this.parser.nodeSet)}}function _N(n,e,t,i,r){let s=n[e].to,l=[],o=[],u=t.from+i;function f(d,m){for(;m?d>=s:d>s;){let g=n[e+1].from-s;i+=g,d+=g,e++,s=n[e].to}}for(let d=t.firstChild;d;d=d.nextSibling){f(d.from+i,!0);let m=d.from+i,g,y=r.get(d.tree);y?g=y:d.to+i>s?(g=_N(n,e,d,i,r),f(d.to+i,!1)):g=d.toTree(),l.push(g),o.push(m-u)}return f(t.to+i,!1),new ht(t.type,l,o,t.to+i-u,t.tree?t.tree.propValues:void 0)}class qg extends mw{constructor(e,t,i,r,s,l,o,u,f){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=s,this.skipContextMarkup=l,this.inlineParsers=o,this.inlineNames=u,this.wrappers=f,this.nodeTypes=Object.create(null);for(let d of e.types)this.nodeTypes[d.name]=d.id}createParse(e,t,i){let r=new HG(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}configure(e){let t=bv(e);if(!t)return this;let{nodeSet:i,skipContextMarkup:r}=this,s=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),o=this.blockNames.slice(),u=this.inlineParsers.slice(),f=this.inlineNames.slice(),d=this.endLeafBlock.slice(),m=this.wrappers;if(Yu(t.defineNodes)){r=Object.assign({},r);let g=i.types.slice(),y;for(let S of t.defineNodes){let{name:v,block:x,composite:k,style:C}=typeof S=="string"?{name:S}:S;if(g.some(L=>L.name==v))continue;k&&(r[g.length]=(L,R,N)=>k(R,N,L.value));let T=g.length,X=k?["Block","BlockContext"]:x?T>=ue.ATXHeading1&&T<=ue.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;g.push(ln.define({id:T,name:v,props:X&&[[De.group,X]]})),C&&(y||(y={}),Array.isArray(C)||C instanceof Si?y[v]=C:Object.assign(y,C))}i=new Pf(g),y&&(i=i.extend(Dc(y)))}if(Yu(t.props)&&(i=i.extend(...t.props)),Yu(t.remove))for(let g of t.remove){let y=this.blockNames.indexOf(g),S=this.inlineNames.indexOf(g);y>-1&&(s[y]=l[y]=void 0),S>-1&&(u[S]=void 0)}if(Yu(t.parseBlock))for(let g of t.parseBlock){let y=o.indexOf(g.name);if(y>-1)s[y]=g.parse,l[y]=g.leaf;else{let S=g.before?Rp(o,g.before):g.after?Rp(o,g.after)+1:o.length-1;s.splice(S,0,g.parse),l.splice(S,0,g.leaf),o.splice(S,0,g.name)}g.endLeaf&&d.push(g.endLeaf)}if(Yu(t.parseInline))for(let g of t.parseInline){let y=f.indexOf(g.name);if(y>-1)u[y]=g.parse;else{let S=g.before?Rp(f,g.before):g.after?Rp(f,g.after)+1:f.length-1;u.splice(S,0,g.parse),f.splice(S,0,g.name)}}return t.wrap&&(m=m.concat(t.wrap)),new qg(i,s,l,o,d,r,u,f,m)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let i=new zw(this,e,t);e:for(let r=t;r<i.end;){let s=i.char(r);for(let l of this.inlineParsers)if(l){let o=l(i,s,r);if(o>=0){r=o;continue e}}r++}return i.resolveMarkers(0)}}function Yu(n){return n!=null&&n.length>0}function bv(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=bv(n[0]);if(n.length==1)return e;let t=bv(n.slice(1));if(!t||!e)return e||t;let i=(l,o)=>(l||Oc).concat(o||Oc),r=e.wrap,s=t.wrap;return{props:i(e.props,t.props),defineNodes:i(e.defineNodes,t.defineNodes),parseBlock:i(e.parseBlock,t.parseBlock),parseInline:i(e.parseInline,t.parseInline),remove:i(e.remove,t.remove),wrap:r?s?(l,o,u,f)=>r(s(l,o,u,f),o,u,f):r:s}}function Rp(n,e){let t=n.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let TN=[ln.none];for(let n=1,e;e=ue[n];n++)TN[n]=ln.define({id:n,name:e,props:n>=ue.Escape?[]:[[De.group,n in mN?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Oc=[];class CN{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,i,r=0){return this.content.push(e,t,i,4+r*4),this}writeElements(e,t=0){for(let i of e)i.writeTo(this,t);return this}finish(e,t){return ht.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let rf=class{constructor(e,t,i,r=Oc){this.type=e,this.from=t,this.to=i,this.children=r}writeTo(e,t){let i=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-i)}toTree(e){return new CN(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class EN{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Oc}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function it(n,e,t,i){return new rf(n,e,t,i)}const AN={resolve:"Emphasis",mark:"EmphasisMark"},QN={resolve:"Emphasis",mark:"EmphasisMark"},ua={},tg={};class bi{constructor(e,t,i,r){this.type=e,this.from=t,this.to=i,this.side=r}}const UQ="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let sf=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{sf=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const db={Escape(n,e,t){if(e!=92||t==n.end-1)return-1;let i=n.char(t+1);for(let r=0;r<UQ.length;r++)if(UQ.charCodeAt(r)==i)return n.append(it(ue.Escape,t,t+2));return-1},Entity(n,e,t){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(t+1,t+31));return i?n.append(it(ue.Entity,t,t+1+i[0].length)):-1},InlineCode(n,e,t){if(e!=96||t&&n.char(t-1)==96)return-1;let i=t+1;for(;i<n.end&&n.char(i)==96;)i++;let r=i-t,s=0;for(;i<n.end;i++)if(n.char(i)==96){if(s++,s==r&&n.char(i+1)!=96)return n.append(it(ue.InlineCode,t,i+1,[it(ue.CodeMark,t,t+r),it(ue.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(n,e,t){if(e!=60||t==n.end-1)return-1;let i=n.slice(t+1,n.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return n.append(it(ue.Autolink,t,t+1+r[0].length,[it(ue.LinkMark,t,t+1),it(ue.URL,t+1,t+r[0].length),it(ue.LinkMark,t+r[0].length,t+1+r[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return n.append(it(ue.Comment,t,t+1+s[0].length));let l=/^\?[^]*?\?>/.exec(i);if(l)return n.append(it(ue.ProcessingInstruction,t,t+1+l[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return o?n.append(it(ue.HTMLTag,t,t+1+o[0].length)):-1},Emphasis(n,e,t){if(e!=95&&e!=42)return-1;let i=t+1;for(;n.char(i)==e;)i++;let r=n.slice(t-1,t),s=n.slice(i,i+1),l=sf.test(r),o=sf.test(s),u=/\s|^$/.test(r),f=/\s|^$/.test(s),d=!f&&(!o||u||l),m=!u&&(!l||f||o),g=d&&(e==42||!m||l),y=m&&(e==42||!d||o);return n.append(new bi(e==95?AN:QN,t,i,(g?1:0)|(y?2:0)))},HardBreak(n,e,t){if(e==92&&n.char(t+1)==10)return n.append(it(ue.HardBreak,t,t+2));if(e==32){let i=t+1;for(;n.char(i)==32;)i++;if(n.char(i)==10&&i>=t+2)return n.append(it(ue.HardBreak,t,i+1))}return-1},Link(n,e,t){return e==91?n.append(new bi(ua,t,t+1,1)):-1},Image(n,e,t){return e==33&&n.char(t+1)==91?n.append(new bi(tg,t,t+2,1)):-1},LinkEnd(n,e,t){if(e!=93)return-1;for(let i=n.parts.length-1;i>=0;i--){let r=n.parts[i];if(r instanceof bi&&(r.type==ua||r.type==tg)){if(!r.side||n.skipSpace(r.to)==t&&!/[(\[]/.test(n.slice(t+1,t+2)))return n.parts[i]=null,-1;let s=n.takeContent(i),l=n.parts[i]=GG(n,s,r.type==ua?ue.Link:ue.Image,r.from,t+1);if(r.type==ua)for(let o=0;o<i;o++){let u=n.parts[o];u instanceof bi&&u.type==ua&&(u.side=0)}return l.to}}return-1}};function GG(n,e,t,i,r){let{text:s}=n,l=n.char(r),o=r;if(e.unshift(it(ue.LinkMark,i,i+(t==ue.Image?2:1))),e.push(it(ue.LinkMark,r-1,r)),l==40){let u=n.skipSpace(r+1),f=PN(s,u-n.offset,n.offset),d;f&&(u=n.skipSpace(f.to),u!=f.to&&(d=RN(s,u-n.offset,n.offset),d&&(u=n.skipSpace(d.to)))),n.char(u)==41&&(e.push(it(ue.LinkMark,r,r+1)),o=u+1,f&&e.push(f),d&&e.push(d),e.push(it(ue.LinkMark,u,o)))}else if(l==91){let u=$N(s,r-n.offset,n.offset,!1);u&&(e.push(u),o=u.to)}return it(t,i,o,e)}function PN(n,e,t){if(n.charCodeAt(e)==60){for(let r=e+1;r<n.length;r++){let s=n.charCodeAt(r);if(s==62)return it(ue.URL,e+t,r+1+t);if(s==60||s==10)return!1}return null}else{let r=0,s=e;for(let l=!1;s<n.length;s++){let o=n.charCodeAt(s);if(ji(o))break;if(l)l=!1;else if(o==40)r++;else if(o==41){if(!r)break;r--}else o==92&&(l=!0)}return s>e?it(ue.URL,e+t,s+t):s==n.length?null:!1}}function RN(n,e,t){let i=n.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let s=e+1,l=!1;s<n.length;s++){let o=n.charCodeAt(s);if(l)l=!1;else{if(o==r)return it(ue.LinkTitle,e+t,s+1+t);o==92&&(l=!0)}}return null}function $N(n,e,t,i){for(let r=!1,s=e+1,l=Math.min(n.length,s+999);s<l;s++){let o=n.charCodeAt(s);if(r)r=!1;else{if(o==93)return i?!1:it(ue.LinkLabel,e+t,s+1+t);if(i&&!ji(o)&&(i=!1),o==91)return!1;o==92&&(r=!0)}}return null}class zw{constructor(e,t,i){this.parser=e,this.text=t,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,i,r,s){return this.append(new bi(e,t,i,(r?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof bi&&(t.type==ua||t.type==tg))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof bi&&r.type.resolve&&r.side&2))continue;let s=r.type==AN||r.type==QN,l=r.to-r.from,o,u=i-1;for(;u>=e;u--){let v=this.parts[u];if(v instanceof bi&&v.side&1&&v.type==r.type&&!(s&&(r.side&1||v.side&2)&&(v.to-v.from+l)%3==0&&((v.to-v.from)%3||l%3))){o=v;break}}if(!o)continue;let f=r.type.resolve,d=[],m=o.from,g=r.to;if(s){let v=Math.min(2,o.to-o.from,l);m=o.to-v,g=r.from+v,f=v==1?"Emphasis":"StrongEmphasis"}o.type.mark&&d.push(this.elt(o.type.mark,m,o.to));for(let v=u+1;v<i;v++)this.parts[v]instanceof rf&&d.push(this.parts[v]),this.parts[v]=null;r.type.mark&&d.push(this.elt(r.type.mark,r.from,g));let y=this.elt(f,m,g,d);this.parts[u]=s&&o.from!=m?new bi(o.type,o.from,m,o.side):null,(this.parts[i]=s&&r.to!=g?new bi(r.type,g,r.to,r.side):null)?this.parts.splice(i,0,y):this.parts[i]=y}let t=[];for(let i=e;i<this.parts.length;i++){let r=this.parts[i];r instanceof rf&&t.push(r)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let i=this.parts[t];if(i instanceof bi&&i.type==e&&i.side&1)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}getDelimiterAt(e){let t=this.parts[e];return t instanceof bi?t:null}skipSpace(e){return vh(this.text,e-this.offset)+this.offset}elt(e,t,i,r){return typeof e=="string"?it(this.parser.getNodeType(e),t,i,r):new EN(e,t)}}zw.linkStart=ua;zw.imageStart=tg;function Sv(n,e){if(!e.length)return n;if(!n.length)return e;let t=n.slice(),i=0;for(let r of e){for(;i<t.length&&t[i].to<r.to;)i++;if(i<t.length&&t[i].from<r.from){let s=t[i];s instanceof rf&&(t[i]=new rf(s.type,s.from,s.to,Sv(s.children,[r])))}else t.splice(i++,0,r)}return t}const KG=[ue.CodeBlock,ue.ListItem,ue.OrderedList,ue.BulletList];let JG=class{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=e+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=t;if(!i.childAfter(r))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(De.contextHash)==e}takeNodes(e){let t=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,l=s,o=e.block.children.length,u=l,f=o;for(;;){if(t.to-i>r){if(t.type.isAnonymous&&t.firstChild())continue;break}let d=MN(t.from-i,e.ranges);if(t.to-i<=e.ranges[e.rangeI].to)e.addNode(t.tree,d);else{let m=new ht(e.parser.nodeSet.types[ue.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(m,t.tree),e.addNode(m,d)}if(t.type.is("Block")&&(KG.indexOf(t.type.id)<0?(l=t.to-i,o=e.block.children.length):(l=u,o=f),u=t.to-i,f=e.block.children.length),!t.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return l-s}};function MN(n,e){let t=n;for(let i=1;i<e.length;i++){let r=e[i-1].to,s=e[i].from;r<n&&(t-=s-r)}return t}const eK=Dc({"Blockquote/...":Q.quote,HorizontalRule:Q.contentSeparator,"ATXHeading1/... SetextHeading1/...":Q.heading1,"ATXHeading2/... SetextHeading2/...":Q.heading2,"ATXHeading3/...":Q.heading3,"ATXHeading4/...":Q.heading4,"ATXHeading5/...":Q.heading5,"ATXHeading6/...":Q.heading6,"Comment CommentBlock":Q.comment,Escape:Q.escape,Entity:Q.character,"Emphasis/...":Q.emphasis,"StrongEmphasis/...":Q.strong,"Link/... Image/...":Q.link,"OrderedList/... BulletList/...":Q.list,"BlockQuote/...":Q.quote,"InlineCode CodeText":Q.monospace,"URL Autolink":Q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Q.processingInstruction,"CodeInfo LinkLabel":Q.labelName,LinkTitle:Q.string,Paragraph:Q.content}),tK=new qg(new Pf(TN).extend(eK),Object.keys(Pp).map(n=>Pp[n]),Object.keys(Pp).map(n=>kN[n]),Object.keys(Pp),FG,mN,Object.keys(db).map(n=>db[n]),Object.keys(db),[]);function nK(n,e,t){let i=[];for(let r=n.firstChild,s=e;;r=r.nextSibling){let l=r?r.from:t;if(l>s&&i.push({from:s,to:l}),!r)break;s=r.to}return i}function iK(n){let{codeParser:e,htmlParser:t}=n;return{wrap:jI((r,s)=>{let l=r.type.id;if(e&&(l==ue.CodeBlock||l==ue.FencedCode)){let o="";if(l==ue.FencedCode){let f=r.node.getChild(ue.CodeInfo);f&&(o=s.read(f.from,f.to))}let u=e(o);if(u)return{parser:u,overlay:f=>f.type.id==ue.CodeText,bracketed:l==ue.FencedCode}}else if(t&&(l==ue.HTMLBlock||l==ue.HTMLTag||l==ue.CommentBlock))return{parser:t,overlay:nK(r.node,r.from,r.to)};return null})}}const rK={resolve:"Strikethrough",mark:"StrikethroughMark"},sK={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Q.strikethrough}},{name:"StrikethroughMark",style:Q.processingInstruction}],parseInline:[{name:"Strikethrough",parse(n,e,t){if(e!=126||n.char(t+1)!=126||n.char(t+2)==126)return-1;let i=n.slice(t-1,t),r=n.slice(t+2,t+3),s=/\s|^$/.test(i),l=/\s|^$/.test(r),o=sf.test(i),u=sf.test(r);return n.addDelimiter(rK,t,t+2,!l&&(!u||s||o),!s&&(!o||l||u))},after:"Emphasis"}]};function wh(n,e,t=0,i,r=0){let s=0,l=!0,o=-1,u=-1,f=!1,d=()=>{i.push(n.elt("TableCell",r+o,r+u,n.parser.parseInline(e.slice(o,u),r+o)))};for(let m=t;m<e.length;m++){let g=e.charCodeAt(m);g==124&&!f?((!l||o>-1)&&s++,l=!1,i&&(o>-1&&d(),i.push(n.elt("TableDelimiter",m+r,m+r+1))),o=u=-1):(f||g!=32&&g!=9)&&(o<0&&(o=m),u=m+1),f=!f&&g==92}return o>-1&&(s++,i&&d()),s}function XQ(n,e){for(let t=e;t<n.length;t++){let i=n.charCodeAt(t);if(i==124)return!0;i==92&&t++}return!1}const IN=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class ZQ{constructor(){this.rows=null}nextLine(e,t,i){if(this.rows==null){this.rows=!1;let r;if((t.next==45||t.next==58||t.next==124)&&IN.test(r=t.text.slice(t.pos))){let s=[];wh(e,i.content,0,s,i.start)==wh(e,r,t.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let r=[];wh(e,t.text,t.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,r))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}const lK={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Q.heading}},"TableRow",{name:"TableCell",style:Q.content},{name:"TableDelimiter",style:Q.processingInstruction}],parseBlock:[{name:"Table",leaf(n,e){return XQ(e.content,0)?new ZQ:null},endLeaf(n,e,t){if(t.parsers.some(r=>r instanceof ZQ)||!XQ(e.text,e.basePos))return!1;let i=n.peekLine();return IN.test(i)&&wh(n,e.text,e.basePos)==wh(n,i,e.basePos)},before:"SetextHeading"}]};class aK{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const oK={defineNodes:[{name:"Task",block:!0,style:Q.list},{name:"TaskMarker",style:Q.atom}],parseBlock:[{name:"TaskList",leaf(n,e){return/^\[[ xX]\][ \t]/.test(e.content)&&n.parentType().name=="ListItem"?new aK:null},after:"SetextHeading"}]},jQ=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,VQ=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,cK=/[\w-]+\.[\w-]+($|\/)/,qQ=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,YQ=/\/[a-zA-Z\d@.]+/gy;function FQ(n,e,t,i){let r=0;for(let s=e;s<t;s++)n[s]==i&&r++;return r}function uK(n,e){VQ.lastIndex=e;let t=VQ.exec(n);if(!t||cK.exec(t[0])[0].indexOf("_")>-1)return-1;let i=e+t[0].length;for(;;){let r=n[i-1],s;if(/[?!.,:*_~]/.test(r)||r==")"&&FQ(n,e,i,")")>FQ(n,e,i,"("))i--;else if(r==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(n.slice(e,i))))i=e+s.index;else break}return i}function WQ(n,e){qQ.lastIndex=e;let t=qQ.exec(n);if(!t)return-1;let i=t[0][t[0].length-1];return i=="_"||i=="-"?-1:e+t[0].length-(i=="."?1:0)}const hK={parseInline:[{name:"Autolink",parse(n,e,t){let i=t-n.offset;if(i&&/\w/.test(n.text[i-1]))return-1;jQ.lastIndex=i;let r=jQ.exec(n.text),s=-1;if(!r)return-1;if(r[1]||r[2]){if(s=uK(n.text,i+r[0].length),s>-1&&n.hasOpenLink){let l=/([^\[\]]|\[[^\]]*\])*/.exec(n.text.slice(i,s));s=i+l[0].length}}else r[3]?s=WQ(n.text,i):(s=WQ(n.text,i+r[0].length),s>-1&&r[0]=="xmpp:"&&(YQ.lastIndex=s,r=YQ.exec(n.text),r&&(s=r.index+r[0].length)));return s<0?-1:(n.addElement(n.elt("URL",t,s+n.offset)),s+n.offset)}}]},fK=[lK,oK,sK,hK];function DN(n,e,t){return(i,r,s)=>{if(r!=n||i.char(s+1)==n)return-1;let l=[i.elt(t,s,s+1)];for(let o=s+1;o<i.end;o++){let u=i.char(o);if(u==n)return i.addElement(i.elt(e,s,o+1,l.concat(i.elt(t,o,o+1))));if(u==92&&l.push(i.elt("Escape",o,o+++2)),ji(u))break}return-1}}const dK={defineNodes:[{name:"Superscript",style:Q.special(Q.content)},{name:"SuperscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Superscript",parse:DN(94,"Superscript","SuperscriptMark")}]},pK={defineNodes:[{name:"Subscript",style:Q.special(Q.content)},{name:"SubscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Subscript",parse:DN(126,"Subscript","SubscriptMark")}]},mK={defineNodes:[{name:"Emoji",style:Q.character}],parseInline:[{name:"Emoji",parse(n,e,t){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(n.slice(t+1,n.end)))?-1:n.addElement(n.elt("Emoji",t,t+1+i[0].length))}}]};var HQ={};class ng{constructor(e,t,i,r,s,l,o,u,f,d=0,m){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=l,this.buffer=o,this.bufferBase=u,this.curContext=f,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new ng(e,[],t,i,i,0,[],0,r?new GQ(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(r,this.reducePos);return}let u=this.stack.length-(i-1)*3-(e&262144?6:0),f=u?this.stack[u-2]:this.p.ranges[0].from,d=this.reducePos-f;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=d));let m=u?this.stack[u-1]:0,g=this.bufferBase+this.buffer.length-m;if(r<s.minRepeatTerm||e&131072){let y=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,f,y,g+4,!0)}if(e&262144)this.state=this.stack[u];else{let y=this.stack[u-3];this.state=s.getGoto(y,r,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(r,f)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(t==i)return;if(l.buffer[o-2]>=t){l.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let u=l;u>0&&this.buffer[u-2]>i;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>i;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,r>4&&(r-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=i,this.buffer[l+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;this.pos=r;let o=l.stateFlag(s,1);!o&&(r>i||t<=l.maxNode)&&(this.reducePos=r),this.pushState(s,o?i:Math.min(i,this.reducePos)),this.shiftContext(t,i),t<=l.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new ng(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new gK(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&r.push(t[s],l);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let l=t[s+1];r.some((o,u)=>u&1&&o==l)||r.push(t[s],l)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[r],this.pos),l.reducePos=this.pos,l.score-=200,i.push(l)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-s;if(o>1){let u=l&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],u,!1)>=0)return o<<19|65536|u}}else{let o=i(l,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new GQ(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class GQ{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class gK{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class ig{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ig(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ig(this.stack,this.pos,this.index)}}function lh(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let l=n.charCodeAt(i++),o=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,o=!0),s+=u,o)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class tm{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const KQ=new tm;class OK{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=KQ,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let l=this.ranges[--r];s-=i.from-l.to,i=l}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let l=this.ranges[++r];s+=l.from-i.to,i=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=KQ,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Ho{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;NN(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Ho.prototype.contextual=Ho.prototype.fallback=Ho.prototype.extend=!1;class rg{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?lh(e):e}token(e,t){let i=e.pos,r=0;for(;;){let s=e.next<0,l=e.resolveOffset(1,1);if(NN(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,l==null)break;e.reset(l,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}rg.prototype.contextual=Ho.prototype.fallback=Ho.prototype.extend=!1;class ki{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function NN(n,e,t,i,r,s){let l=0,o=1<<i,{dialect:u}=t.p.parser;e:for(;(o&n[l])!=0;){let f=n[l+1];for(let y=l+3;y<f;y+=2)if((n[y+1]&o)>0){let S=n[y];if(u.allows(S)&&(e.token.value==-1||e.token.value==S||yK(S,e.token.value,r,s))){e.acceptToken(S);break}}let d=e.next,m=0,g=n[l+2];if(e.next<0&&g>m&&n[f+g*3-3]==65535){l=n[f+g*3-1];continue e}for(;m<g;){let y=m+g>>1,S=f+y+(y<<1),v=n[S],x=n[S+1]||65536;if(d<v)g=y;else if(d>=x)m=y+1;else{l=n[S+2],e.advance();continue e}}break}}function JQ(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function yK(n,e,t,i){let r=JQ(t,i,e);return r<0||JQ(t,i,n)<r}const pi=typeof process<"u"&&HQ&&/\bparse\b/.test(HQ.LOG);let pb=null;function eP(n,e,t){let i=n.cursor(ft.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class bK{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?eP(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?eP(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],l=this.start[t]+i.positions[r];if(l>e)return this.nextStart=l,null;if(s instanceof ht){if(l==e){if(l<this.safeFrom)return null;let o=l+s.length;if(o<=this.safeTo){let u=s.prop(De.lookAhead);if(!u||o+u<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class SK{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new tm)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,l=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let d=s[f],m=this.tokens[f];if(!(i&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=o)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=o),m.lookAhead>m.end+25&&(u=Math.max(m.lookAhead,u)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(i=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return u&&e.setLookAhead(u),!i&&e.pos==this.stream.end&&(i=new tm,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new tm,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let o=s.specializers[l](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:l}=e.p,{data:o}=l;for(let u=0;u<2;u++)for(let f=l.stateSlot(s,u?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=os(o,f+2);else{r==0&&o[f+1]==2&&(r=this.putAction(os(o,f+2),t,i,r));break}o[f]==t&&(r=this.putAction(os(o,f+1),t,i,r))}return r}}class vK{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new OK(t,r),this.tokens=new SK(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[ng.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new bK(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{r||(r=[],s=[]),r.push(o);let u=this.tokens.getMainToken(o);s.push(u.value,u.end)}}break}}if(!i.length){let l=r&&xK(r);if(l)return pi&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw pi&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let l=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(l)return pi&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(i.length>l)for(i.sort((o,u)=>u.score-o.score);i.length>l;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let l=0;l<i.length-1;l++){let o=i[l];for(let u=l+1;u<i.length;u++){let f=i[u];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(u--,1);else{i.splice(l--,1);continue e}}}i.length>12&&(i.sort((l,o)=>o.score-l.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let l=1;l<i.length;l++)i[l].pos<this.minStackPos&&(this.minStackPos=i[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,l=pi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,d=f?e.curContext.hash:0;for(let m=this.fragments.nodeAt(r);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!f||(m.prop(De.contextHash)||0)==d))return e.useNode(m,g),pi&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof ht)||m.children.length==0||m.positions[0]>0)break;let y=m.children[0];if(y instanceof ht&&m.positions[0]==0)m=y;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),pi&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let f=0;f<u.length;){let d=u[f++],m=u[f++],g=u[f++],y=f==u.length||!i,S=y?e:e.split(),v=this.tokens.mainToken;if(S.apply(d,m,v?v.start:S.pos,g),pi&&console.log(l+this.stackID(S)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${r}${S==e?"":", split"})`),y)return!0;S.pos>r?t.push(S):i.push(S)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return tP(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let l=0;l<e.length;l++){let o=e[l],u=t[l<<1],f=t[(l<<1)+1],d=pi?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),pi&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let m=o.split(),g=d;for(let y=0;y<10&&m.forceReduce()&&(pi&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,i));y++)pi&&(g=this.stackID(m)+" -> ");for(let y of o.recoverByInsert(u))pi&&console.log(d+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,i);this.stream.end>o.pos?(f==o.pos&&(f++,u=0),o.recoverByDelete(u,f),pi&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),tP(o,i)):(!r||r.score<m.score)&&(r=m)}return r}stackToTree(e){return e.close(),ht.build({buffer:ig.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(pb||(pb=new WeakMap)).get(e);return t||pb.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function tP(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class wK{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const mb=n=>n;class LN{constructor(e){this.start=e.start,this.shift=e.shift||mb,this.reduce=e.reduce||mb,this.reuse=e.reuse||mb,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class yc extends mw{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),r=[];for(let o=0;o<t.length;o++)r.push([]);function s(o,u,f){r[o].push([u,u.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=De[u]);for(let f=1;f<o.length;){let d=o[f++];if(d>=0)s(d,u,o[f++]);else{let m=o[f+-d];for(let g=-d;g>0;g--)s(o[f++],u,m);f++}}}this.nodeSet=new Pf(t.map((o,u)=>ln.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:r[u],top:i.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=zI;let l=lh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(nP),this.states=lh(e.states,Uint32Array),this.data=lh(e.stateData),this.goto=lh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Ho(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new vK(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let l=r[s++],o=l&1,u=r[s++];if(o&&i)return u;for(let f=s+(l>>1);s<f;s++)if(r[s]==e)return u;if(o)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),l;;s+=3){if((l=i[s])==65535)if(i[s+1]==1)l=i[s=os(i,s+2)];else{if(i[s+1]==2)return os(i,s+2);break}if(l==t||l==0)return os(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=os(this.data,s+2);else break;r=t(os(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=os(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];t.some((s,l)=>l&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(yc.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(o=>o.from==i.external);if(!s)return i;let l=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=nP(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(i[l]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let l=this.dialects[t[s]],o;(o=this.data[l++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[o]=1;return new wK(e,i,r)}static deserialize(e){return new yc(e)}}function os(n,e){return n[e]|n[e+1]<<16}function xK(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function nP(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const kK=55,_K=1,TK=56,CK=2,EK=57,AK=3,iP=4,QK=5,Bw=6,zN=7,BN=8,UN=9,XN=10,PK=11,RK=12,$K=13,gb=58,MK=14,IK=15,rP=59,ZN=21,DK=23,jN=24,NK=25,vv=27,VN=28,LK=29,zK=32,BK=35,UK=37,XK=38,ZK=0,jK=1,VK={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},qK={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},sP={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function YK(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}let lP=null,aP=null,oP=0;function wv(n,e){let t=n.pos+e;if(oP==t&&aP==n)return lP;let i=n.peek(e),r="";for(;YK(i);)r+=String.fromCharCode(i),i=n.peek(++e);return aP=n,oP=t,lP=r?r.toLowerCase():i==FK||i==WK?void 0:null}const qN=60,sg=62,Uw=47,FK=63,WK=33,HK=45;function cP(n,e){this.name=n,this.parent=e}const GK=[Bw,XN,zN,BN,UN],KK=new LN({start:null,shift(n,e,t,i){return GK.indexOf(e)>-1?new cP(wv(i,1)||"",n):n},reduce(n,e){return e==ZN&&n?n.parent:n},reuse(n,e,t,i){let r=e.type.id;return r==Bw||r==UK?new cP(wv(i,1)||"",n):n},strict:!1}),JK=new ki((n,e)=>{if(n.next!=qN){n.next<0&&e.context&&n.acceptToken(gb);return}n.advance();let t=n.next==Uw;t&&n.advance();let i=wv(n,0);if(i===void 0)return;if(!i)return n.acceptToken(t?IK:MK);let r=e.context?e.context.name:null;if(t){if(i==r)return n.acceptToken(PK);if(r&&qK[r])return n.acceptToken(gb,-2);if(e.dialectEnabled(ZK))return n.acceptToken(RK);for(let s=e.context;s;s=s.parent)if(s.name==i)return;n.acceptToken($K)}else{if(i=="script")return n.acceptToken(zN);if(i=="style")return n.acceptToken(BN);if(i=="textarea")return n.acceptToken(UN);if(VK.hasOwnProperty(i))return n.acceptToken(XN);r&&sP[r]&&sP[r][i]?n.acceptToken(gb,-1):n.acceptToken(Bw)}},{contextual:!0}),eJ=new ki(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(rP);break}if(n.next==HK)e++;else if(n.next==sg&&e>=2){t>=3&&n.acceptToken(rP,-2);break}else e=0;n.advance()}});function tJ(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const nJ=new ki((n,e)=>{if(n.next==Uw&&n.peek(1)==sg){let t=e.dialectEnabled(jK)||tJ(e.context);n.acceptToken(t?QK:iP,2)}else n.next==sg&&n.acceptToken(iP,1)});function Xw(n,e,t){let i=2+n.length;return new ki(r=>{for(let s=0,l=0,o=0;;o++){if(r.next<0){o&&r.acceptToken(e);break}if(s==0&&r.next==qN||s==1&&r.next==Uw||s>=2&&s<i&&r.next==n.charCodeAt(s-2))s++,l++;else if(s==i&&r.next==sg){o>l?r.acceptToken(e,-l):r.acceptToken(t,-(l-2));break}else if((r.next==10||r.next==13)&&o){r.acceptToken(e,1);break}else s=l=0;r.advance()}})}const iJ=Xw("script",kK,_K),rJ=Xw("style",TK,CK),sJ=Xw("textarea",EK,AK),lJ=Dc({"Text RawText IncompleteTag IncompleteCloseTag":Q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,"AttributeValue UnquotedAttributeValue":Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta}),aJ=yc.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:KK,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[lJ],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[iJ,rJ,sJ,nJ,JK,eJ,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function YN(n,e){let t=Object.create(null);for(let i of n.getChildren(jN)){let r=i.getChild(NK),s=i.getChild(vv)||i.getChild(VN);r&&(t[e.read(r.from,r.to)]=s?s.type.id==vv?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function uP(n,e){let t=n.getChild(DK);return t?e.read(t.from,t.to):" "}function Ob(n,e,t){let i;for(let r of t)if(!r.attrs||r.attrs(i||(i=YN(n.node.parent.firstChild,e))))return{parser:r.parser,bracketed:!0};return null}function FN(n=[],e=[]){let t=[],i=[],r=[],s=[];for(let o of n)(o.tag=="script"?t:o.tag=="style"?i:o.tag=="textarea"?r:s).push(o);let l=e.length?Object.create(null):null;for(let o of e)(l[o.name]||(l[o.name]=[])).push(o);return jI((o,u)=>{let f=o.type.id;if(f==LK)return Ob(o,u,t);if(f==zK)return Ob(o,u,i);if(f==BK)return Ob(o,u,r);if(f==ZN&&s.length){let d=o.node,m=d.firstChild,g=m&&uP(m,u),y;if(g){for(let S of s)if(S.tag==g&&(!S.attrs||S.attrs(y||(y=YN(m,u))))){let v=d.lastChild,x=v.type.id==XK?v.from:d.to;if(x>m.to)return{parser:S.parser,overlay:[{from:m.to,to:x}]}}}}if(l&&f==jN){let d=o.node,m;if(m=d.firstChild){let g=l[u.read(m.from,m.to)];if(g)for(let y of g){if(y.tagName&&y.tagName!=uP(d.parent,u))continue;let S=d.lastChild;if(S.type.id==vv){let v=S.from+1,x=S.lastChild,k=S.to-(x&&x.isError?0:1);if(k>v)return{parser:y.parser,overlay:[{from:v,to:k}],bracketed:!0}}else if(S.type.id==VN)return{parser:y.parser,overlay:[{from:S.from,to:S.to}]}}}}return null})}const oJ=122,hP=1,cJ=123,uJ=124,WN=2,hJ=125,fJ=3,dJ=4,HN=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],pJ=58,mJ=40,GN=95,gJ=91,nm=45,OJ=46,yJ=35,bJ=37,SJ=38,vJ=92,wJ=10,xJ=42;function lf(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function Zw(n){return n>=48&&n<=57}function fP(n){return Zw(n)||n>=97&&n<=102||n>=65&&n<=70}const KN=(n,e,t)=>(i,r)=>{for(let s=!1,l=0,o=0;;o++){let{next:u}=i;if(lf(u)||u==nm||u==GN||s&&Zw(u))!s&&(u!=nm||o>0)&&(s=!0),l===o&&u==nm&&l++,i.advance();else if(u==vJ&&i.peek(1)!=wJ){if(i.advance(),fP(i.next)){do i.advance();while(fP(i.next));i.next==32&&i.advance()}else i.next>-1&&i.advance();s=!0}else{s&&i.acceptToken(l==2&&r.canShift(WN)?e:u==mJ?t:n);break}}},kJ=new ki(KN(cJ,WN,uJ)),_J=new ki(KN(hJ,fJ,dJ)),TJ=new ki(n=>{if(HN.includes(n.peek(-1))){let{next:e}=n;(lf(e)||e==GN||e==yJ||e==OJ||e==xJ||e==gJ||e==pJ&&lf(n.peek(1))||e==nm||e==SJ)&&n.acceptToken(oJ)}}),CJ=new ki(n=>{if(!HN.includes(n.peek(-1))){let{next:e}=n;if(e==bJ&&(n.advance(),n.acceptToken(hP)),lf(e)){do n.advance();while(lf(n.next)||Zw(n.next));n.acceptToken(hP)}}}),EJ=Dc({"AtKeyword import charset namespace keyframes media supports":Q.definitionKeyword,"from to selector":Q.keyword,NamespaceName:Q.namespace,KeyframeName:Q.labelName,KeyframeRangeName:Q.operatorKeyword,TagName:Q.tagName,ClassName:Q.className,PseudoClassName:Q.constant(Q.className),IdName:Q.labelName,"FeatureName PropertyName":Q.propertyName,AttributeName:Q.attributeName,NumberLiteral:Q.number,KeywordQuery:Q.keyword,UnaryQueryOp:Q.operatorKeyword,"CallTag ValueName":Q.atom,VariableName:Q.variableName,Callee:Q.operatorKeyword,Unit:Q.unit,"UniversalSelector NestingSelector":Q.definitionOperator,"MatchOp CompareOp":Q.compareOperator,"ChildOp SiblingOp, LogicOp":Q.logicOperator,BinOp:Q.arithmeticOperator,Important:Q.modifier,Comment:Q.blockComment,ColorLiteral:Q.color,"ParenthesizedContent StringLiteral":Q.string,":":Q.punctuation,"PseudoOp #":Q.derefOperator,"; ,":Q.separator,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace}),AJ={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},QJ={__proto__:null,or:98,and:98,not:106,only:106,layer:170},PJ={__proto__:null,selector:112,layer:166},RJ={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},$J={__proto__:null,to:207},MJ=yc.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[EJ],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[TJ,CJ,kJ,_J,1,2,3,4,new rg("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:n=>AJ[n]||-1},{term:125,get:n=>QJ[n]||-1},{term:4,get:n=>PJ[n]||-1},{term:25,get:n=>RJ[n]||-1},{term:123,get:n=>$J[n]||-1}],tokenPrec:1963});let yb=null;function bb(){if(!yb&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let i in n)i!="cssText"&&i!="cssFloat"&&typeof n[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));yb=e.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return yb||[]}const dP=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),pP=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),IJ=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),DJ=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),as=/^(\w[\w-]*|-\w[\w-]*|)$/,NJ=/^-(-[\w-]*)?$/;function LJ(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let i=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(i==null?void 0:i.name)!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const mP=new ZI,zJ=["Declaration"];function BJ(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function JN(n,e,t){if(e.to-e.from>4096){let i=mP.get(e);if(i)return i;let r=[],s=new Set,l=e.cursor(ft.IncludeAnonymous);if(l.firstChild())do for(let o of JN(n,l.node,t))s.has(o.label)||(s.add(o.label),r.push(o));while(l.nextSibling());return mP.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(s=>{var l;if(t(s)&&s.matchContext(zJ)&&((l=s.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let o=n.sliceString(s.from,s.to);r.has(o)||(r.add(o),i.push({label:o,type:"variable"}))}}),i}}const UJ=n=>e=>{let{state:t,pos:i}=e,r=Et(t).resolveInner(i,-1),s=r.type.isError&&r.from==r.to-1&&t.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(s||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:bb(),validFor:as};if(r.name=="ValueName")return{from:r.from,options:pP,validFor:as};if(r.name=="PseudoClassName")return{from:r.from,options:dP,validFor:as};if(n(r)||(e.explicit||s)&&LJ(r,t.doc))return{from:n(r)||s?r.from:i,options:JN(t.doc,BJ(r),n),validFor:NJ};if(r.name=="TagName"){for(let{parent:u}=r;u;u=u.parent)if(u.name=="Block")return{from:r.from,options:bb(),validFor:as};return{from:r.from,options:IJ,validFor:as}}if(r.name=="AtKeyword")return{from:r.from,options:DJ,validFor:as};if(!e.explicit)return null;let l=r.resolve(i),o=l.childBefore(i);return o&&o.name==":"&&l.name=="PseudoClassSelector"?{from:i,options:dP,validFor:as}:o&&o.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:i,options:pP,validFor:as}:l.name=="Block"||l.name=="Styles"?{from:i,options:bb(),validFor:as}:null},XJ=UJ(n=>n.name=="VariableName"),lg=dc.define({name:"css",parser:MJ.configure({props:[Rf.add({Declaration:Jp()}),Lc.add({"Block KeyframeList":GI})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function ZJ(){return new Wh(lg,lg.data.of({autocomplete:XJ}))}const jJ=316,VJ=317,gP=1,qJ=2,YJ=3,FJ=4,WJ=318,HJ=320,GJ=321,KJ=5,JJ=6,eee=0,xv=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],eL=125,tee=59,kv=47,nee=42,iee=43,ree=45,see=60,lee=44,aee=63,oee=46,cee=91,uee=new LN({start:!1,shift(n,e){return e==KJ||e==JJ||e==HJ?n:e==GJ},strict:!1}),hee=new ki((n,e)=>{let{next:t}=n;(t==eL||t==-1||e.context)&&n.acceptToken(WJ)},{contextual:!0,fallback:!0}),fee=new ki((n,e)=>{let{next:t}=n,i;xv.indexOf(t)>-1||t==kv&&((i=n.peek(1))==kv||i==nee)||t!=eL&&t!=tee&&t!=-1&&!e.context&&n.acceptToken(jJ)},{contextual:!0}),dee=new ki((n,e)=>{n.next==cee&&!e.context&&n.acceptToken(VJ)},{contextual:!0}),pee=new ki((n,e)=>{let{next:t}=n;if(t==iee||t==ree){if(n.advance(),t==n.next){n.advance();let i=!e.context&&e.canShift(gP);n.acceptToken(i?gP:qJ)}}else t==aee&&n.peek(1)==oee&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(YJ))},{contextual:!0});function Sb(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const mee=new ki((n,e)=>{if(n.next!=see||!e.dialectEnabled(eee)||(n.advance(),n.next==kv))return;let t=0;for(;xv.indexOf(n.next)>-1;)n.advance(),t++;if(Sb(n.next,!0)){for(n.advance(),t++;Sb(n.next,!1);)n.advance(),t++;for(;xv.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==lee)return;for(let i=0;;i++){if(i==7){if(!Sb(n.next,!0))return;break}if(n.next!="extends".charCodeAt(i))break;n.advance(),t++}}n.acceptToken(FJ,-t)}),gee=Dc({"get set async static":Q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Q.operatorKeyword,"let var const using function class extends":Q.definitionKeyword,"import export from":Q.moduleKeyword,"with debugger new":Q.keyword,TemplateString:Q.special(Q.string),super:Q.atom,BooleanLiteral:Q.bool,this:Q.self,null:Q.null,Star:Q.modifier,VariableName:Q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Q.function(Q.variableName),VariableDefinition:Q.definition(Q.variableName),Label:Q.labelName,PropertyName:Q.propertyName,PrivatePropertyName:Q.special(Q.propertyName),"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),"FunctionDeclaration/VariableDefinition":Q.function(Q.definition(Q.variableName)),"ClassDeclaration/VariableDefinition":Q.definition(Q.className),"NewExpression/VariableName":Q.className,PropertyDefinition:Q.definition(Q.propertyName),PrivatePropertyDefinition:Q.definition(Q.special(Q.propertyName)),UpdateOp:Q.updateOperator,"LineComment Hashbang":Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,Escape:Q.escape,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,RegExp:Q.regexp,Equals:Q.definitionOperator,Arrow:Q.function(Q.punctuation),": Spread":Q.punctuation,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"InterpolationStart InterpolationEnd":Q.special(Q.brace),".":Q.derefOperator,", ;":Q.separator,"@":Q.meta,TypeName:Q.typeName,TypeDefinition:Q.definition(Q.typeName),"type enum interface implements namespace module declare":Q.definitionKeyword,"abstract global Privacy readonly override":Q.modifier,"is keyof unique infer asserts":Q.operatorKeyword,JSXAttributeValue:Q.attributeValue,JSXText:Q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Q.angleBracket,"JSXIdentifier JSXNameSpacedName":Q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Q.attributeName,"JSXBuiltin/JSXIdentifier":Q.standard(Q.tagName)}),Oee={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},yee={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},bee={__proto__:null,"<":193},See=yc.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:uee,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[gee],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[fee,dee,pee,mee,2,3,4,5,6,7,8,9,10,11,12,13,14,hee,new rg("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new rg("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:n=>Oee[n]||-1},{term:343,get:n=>yee[n]||-1},{term:95,get:n=>bee[n]||-1}],tokenPrec:15201}),tL=[Wn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Wn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Wn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Wn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Wn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Wn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Wn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Wn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Wn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Wn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Wn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],vee=tL.concat([Wn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Wn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Wn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),OP=new ZI,nL=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Fu(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const wee=["FunctionDeclaration"],xee={FunctionDeclaration:Fu("function"),ClassDeclaration:Fu("class"),ClassExpression:()=>!0,EnumDeclaration:Fu("constant"),TypeAliasDeclaration:Fu("type"),NamespaceDeclaration:Fu("namespace"),VariableDefinition(n,e){n.matchContext(wee)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function iL(n,e){let t=OP.get(e);if(t)return t;let i=[],r=!0;function s(l,o){let u=n.sliceString(l.from,l.to);i.push({label:u,type:o})}return e.cursor(ft.IncludeAnonymous).iterate(l=>{if(r)r=!1;else if(l.name){let o=xee[l.name];if(o&&o(l,s)||nL.has(l.name))return!1}else if(l.to-l.from>8192){for(let o of iL(n,l.node))i.push(o);return!1}}),OP.set(e,i),i}const yP=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,rL=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function kee(n){let e=Et(n.state).resolveInner(n.pos,-1);if(rL.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&yP.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)nL.has(r.name)&&(i=i.concat(iL(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:yP}}const Mr=dc.define({name:"javascript",parser:See.configure({props:[Rf.add({IfStatement:Jp({except:/^\s*({|else\b)/}),TryStatement:Jp({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:W7,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:F7({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Jp({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),Lc.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":GI,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),sL={test:n=>/^JSX/.test(n.name),facet:gw({commentTokens:{block:{open:"{/*",close:"*/}"}}})},lL=Mr.configure({dialect:"ts"},"typescript"),aL=Mr.configure({dialect:"jsx",props:[Ow.add(n=>n.isTop?[sL]:void 0)]}),oL=Mr.configure({dialect:"jsx ts",props:[Ow.add(n=>n.isTop?[sL]:void 0)]},"typescript");let cL=n=>({label:n,type:"keyword"});const uL="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(cL),_ee=uL.concat(["declare","implements","private","protected","public"].map(cL));function Tee(n={}){let e=n.jsx?n.typescript?oL:aL:n.typescript?lL:Mr,t=n.typescript?vee.concat(_ee):tL.concat(uL);return new Wh(e,[Mr.data.of({autocomplete:mH(rL,JD(t))}),Mr.data.of({autocomplete:kee}),n.jsx?Aee:[]])}function Cee(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function bP(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const Eee=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Aee=ge.inputHandler.of((n,e,t,i,r)=>{if((Eee?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Mr.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:l}=s,o=l.changeByRange(u=>{var f;let{head:d}=u,m=Et(l).resolveInner(d-1,-1),g;if(m.name=="JSXStartTag"&&(m=m.parent),!(l.doc.sliceString(d-1,d)!=i||m.name=="JSXAttributeValue"&&m.to>d)){if(i==">"&&m.name=="JSXFragmentTag")return{range:u,changes:{from:d,insert:"</>"}};if(i=="/"&&m.name=="JSXStartCloseTag"){let y=m.parent,S=y.parent;if(S&&y.from==d-2&&((g=bP(l.doc,S.firstChild,d))||((f=S.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let v=`${g}>`;return{range:K.cursor(d+v.length,-1),changes:{from:d,insert:v}}}}else if(i==">"){let y=Cee(m);if(y&&y.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(d,d+2))&&(g=bP(l.doc,y,d)))return{range:u,changes:{from:d,insert:`</${g}>`}}}}return{range:u}});return o.changes.empty?!1:(n.dispatch([s,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Wu=["_blank","_self","_top","_parent"],vb=["ascii","utf-8","utf-16","latin1","latin1"],wb=["get","post","put","delete"],xb=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],mi=["true","false"],Te={},Qee={a:{attrs:{href:null,ping:null,type:null,media:null,target:Wu,hreflang:null}},abbr:Te,address:Te,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Te,aside:Te,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Te,base:{attrs:{href:null,target:Wu}},bdi:Te,bdo:Te,blockquote:{attrs:{cite:null}},body:Te,br:Te,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:xb,formmethod:wb,formnovalidate:["novalidate"],formtarget:Wu,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Te,center:Te,cite:Te,code:Te,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Te,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Te,div:Te,dl:Te,dt:Te,em:Te,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Te,figure:Te,footer:Te,form:{attrs:{action:null,name:null,"accept-charset":vb,autocomplete:["on","off"],enctype:xb,method:wb,novalidate:["novalidate"],target:Wu}},h1:Te,h2:Te,h3:Te,h4:Te,h5:Te,h6:Te,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Te,hgroup:Te,hr:Te,html:{attrs:{manifest:null}},i:Te,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:xb,formmethod:wb,formnovalidate:["novalidate"],formtarget:Wu,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Te,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Te,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Te,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:vb,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Te,noscript:Te,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Te,param:{attrs:{name:null,value:null}},pre:Te,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Te,rt:Te,ruby:Te,samp:Te,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:vb}},section:Te,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Te,source:{attrs:{src:null,type:null,media:null}},span:Te,strong:Te,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Te,summary:Te,sup:Te,table:Te,tbody:Te,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Te,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Te,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Te,time:{attrs:{datetime:null}},title:Te,tr:Te,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Te,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Te},hL={accesskey:null,class:null,contenteditable:mi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:mi,autocorrect:mi,autocapitalize:mi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":mi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":mi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":mi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":mi,"aria-hidden":mi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":mi,"aria-multiselectable":mi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":mi,"aria-relevant":null,"aria-required":mi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},fL="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of fL)hL[n]=null;let af=class{constructor(e,t){this.tags={...Qee,...e},this.globalAttrs={...hL,...t},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};af.default=new af;function bc(n,e,t=n.length){if(!e)return"";let i=e.firstChild,r=i&&i.getChild("TagName");return r?n.sliceString(r.from,Math.min(r.to,t)):""}function Sc(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function dL(n,e,t){let i=t.tags[bc(n,Sc(e))];return(i==null?void 0:i.children)||t.allTags}function jw(n,e){let t=[];for(let i=Sc(e);i&&!i.type.isTop;i=Sc(i.parent)){let r=bc(n,i);if(r&&i.lastChild.name=="CloseTag")break;r&&t.indexOf(r)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&t.push(r)}return t}const pL=/^[:\-\.\w\u00b7-\uffff]*$/;function SP(n,e,t,i,r){let s=/\s*>/.test(n.sliceDoc(r,r+5))?"":">",l=Sc(t,t.name=="StartTag"||t.name=="TagName");return{from:i,to:r,options:dL(n.doc,l,e).map(o=>({label:o,type:"type"})).concat(jw(n.doc,t).map((o,u)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function vP(n,e,t,i){let r=/\s*>/.test(n.sliceDoc(i,i+5))?"":">";return{from:t,to:i,options:jw(n.doc,e).map((s,l)=>({label:s,apply:s+r,type:"type",boost:99-l})),validFor:pL}}function Pee(n,e,t,i){let r=[],s=0;for(let l of dL(n.doc,t,e))r.push({label:"<"+l,type:"type"});for(let l of jw(n.doc,t))r.push({label:"</"+l+">",type:"type",boost:99-s++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Ree(n,e,t,i,r){let s=Sc(t),l=s?e.tags[bc(n.doc,s)]:null,o=l&&l.attrs?Object.keys(l.attrs):[],u=l&&l.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:r,options:u.map(f=>({label:f,type:"property"})),validFor:pL}}function $ee(n,e,t,i,r){var s;let l=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),o=[],u;if(l){let f=n.sliceDoc(l.from,l.to),d=e.globalAttrs[f];if(!d){let m=Sc(t),g=m?e.tags[bc(n.doc,m)]:null;d=(g==null?void 0:g.attrs)&&g.attrs[f]}if(d){let m=n.sliceDoc(i,r).toLowerCase(),g='"',y='"';/^['"]/.test(m)?(u=m[0]=='"'?/^[^"]*$/:/^[^']*$/,g="",y=n.sliceDoc(r,r+1)==m[0]?"":m[0],m=m.slice(1),i++):u=/^[^\s<>='"]*$/;for(let S of d)o.push({label:S,apply:g+S+y,type:"constant"})}}return{from:i,to:r,options:o,validFor:u}}function mL(n,e){let{state:t,pos:i}=e,r=Et(t).resolveInner(i,-1),s=r.resolve(i);for(let l=i,o;s==r&&(o=r.childBefore(l));){let u=o.lastChild;if(!u||!u.type.isError||u.from<u.to)break;s=r=o,l=u.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?vP(t,r,r.from,i):SP(t,n,r,r.from,i):r.name=="StartTag"||r.name=="IncompleteTag"?SP(t,n,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?vP(t,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?Ree(t,n,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?$ee(t,n,r,r.name=="Is"?i:r.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?Pee(t,n,r,i):null}function Mee(n){return mL(af.default,n)}function Iee(n){let{extraTags:e,extraGlobalAttributes:t}=n,i=t||e?new af(e,t):af.default;return r=>mL(i,r)}const Dee=Mr.parser.configure({top:"SingleExpression"}),gL=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:lL.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:aL.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:oL.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:Dee},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:Mr.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:lg.parser}],OL=[{name:"style",parser:lg.parser.configure({top:"Styles"})}].concat(fL.map(n=>({name:n,parser:Mr.parser}))),yL=dc.define({name:"html",parser:aJ.configure({props:[Rf.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let i=n.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),Lc.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),uD.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),im=yL.configure({wrap:FN(gL,OL)});function Nee(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=FN((n.nestedLanguages||[]).concat(gL),(n.nestedAttributes||[]).concat(OL)));let i=t?yL.configure({wrap:t,dialect:e}):e?im.configure({dialect:e}):im;return new Wh(i,[im.data.of({autocomplete:Iee(n)}),n.autoCloseTags!==!1?Lee:[],Tee().support,ZJ().support])}const wP=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Lee=ge.inputHandler.of((n,e,t,i,r)=>{if(n.composing||n.state.readOnly||e!=t||i!=">"&&i!="/"||!im.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:l}=s,o=l.changeByRange(u=>{var f,d,m;let g=l.doc.sliceString(u.from-1,u.to)==i,{head:y}=u,S=Et(l).resolveInner(y,-1),v;if(g&&i==">"&&S.name=="EndTag"){let x=S.parent;if(((d=(f=x.parent)===null||f===void 0?void 0:f.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(v=bc(l.doc,x.parent,y))&&!wP.has(v)){let k=y+(l.doc.sliceString(y,y+1)===">"?1:0),C=`</${v}>`;return{range:u,changes:{from:y,to:k,insert:C}}}}else if(g&&i=="/"&&S.name=="IncompleteCloseTag"){let x=S.parent;if(S.from==y-2&&((m=x.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(v=bc(l.doc,x,y))&&!wP.has(v)){let k=y+(l.doc.sliceString(y,y+1)===">"?1:0),C=`${v}>`;return{range:K.cursor(y+C.length,-1),changes:{from:y,to:k,insert:C}}}}return{range:u}});return o.changes.empty?!1:(n.dispatch([s,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),bL=gw({commentTokens:{block:{open:"<!--",close:"-->"}}}),SL=new De,vL=tK.configure({props:[Lc.add(n=>!n.is("Block")||n.is("Document")||_v(n)!=null||zee(n)?void 0:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})),SL.add(_v),Rf.add({Document:()=>null}),ma.add({Document:bL})]});function _v(n){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(n.name);return e?+e[1]:void 0}function zee(n){return n.name=="OrderedList"||n.name=="BulletList"}function Bee(n,e){let t=n;for(;;){let i=t.nextSibling,r;if(!i||(r=_v(i.type))!=null&&r<=e)break;t=i}return t.to}const Uee=HI.of((n,e,t)=>{for(let i=Et(n).resolveInner(t,-1);i&&!(i.from<e);i=i.parent){let r=i.type.prop(SL);if(r==null)continue;let s=Bee(i,r);if(s>t)return{from:t,to:s}}return null});function Vw(n){return new Li(bL,n,[],"markdown")}const Xee=Vw(vL),Zee=vL.configure([fK,pK,dK,mK,{props:[Lc.add({Table:(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}]),ag=Vw(Zee);function jee(n,e){return t=>{if(t&&n){let i=null;if(t=/\S*/.exec(t)[0],typeof n=="function"?i=n(t):i=Xm.matchLanguageName(n,t,!0),i instanceof Xm)return i.support?i.support.language.parser:Fh.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class kb{constructor(e,t,i,r,s,l,o){this.node=e,this.from=t,this.to=i,this.spaceBefore=r,this.spaceAfter=s,this.type=l,this.item=o}blank(e,t=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(t?this.spaceAfter:"")}}marker(e,t){let i=this.node.name=="OrderedList"?String(+xL(this.item,e)[2]+t):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function wL(n,e){let t=[],i=[];for(let r=n;r;r=r.parent){if(r.name=="FencedCode")return i;(r.name=="ListItem"||r.name=="Blockquote")&&t.push(r)}for(let r=t.length-1;r>=0;r--){let s=t[r],l,o=e.lineAt(s.from),u=s.from-o.from;if(s.name=="Blockquote"&&(l=/^ *>( ?)/.exec(o.text.slice(u))))i.push(new kb(s,u,u+l[0].length,"",l[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(l=/^( *)\d+([.)])( *)/.exec(o.text.slice(u)))){let f=l[3],d=l[0].length;f.length>=4&&(f=f.slice(0,f.length-4),d-=4),i.push(new kb(s.parent,u,u+d,l[1],f,l[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(l=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(o.text.slice(u)))){let f=l[4],d=l[0].length;f.length>4&&(f=f.slice(0,f.length-4),d-=4);let m=l[2];l[3]&&(m+=l[3].replace(/[xX]/," ")),i.push(new kb(s.parent,u,u+d,l[1],f,m,s))}}return i}function xL(n,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(n.from,n.from+10))}function _b(n,e,t,i=0){for(let r=-1,s=n;;){if(s.name=="ListItem"){let o=xL(s,e),u=+o[2];if(r>=0){if(u!=r+1)return;t.push({from:s.from+o[1].length,to:s.from+o[0].length,insert:String(r+2+i)})}r=u}let l=s.nextSibling;if(!l)break;s=l}}function qw(n,e){let t=/^[ \t]*/.exec(n)[0].length;if(!t||e.facet(Nc)!="	")return n;let i=cr(n,4,t),r="";for(let s=i;s>0;)s>=4?(r+="	",s-=4):(r+=" ",s--);return r+n.slice(t)}const Vee=(n={})=>({state:e,dispatch:t})=>{let i=Et(e),{doc:r}=e,s=null,l=e.changeByRange(o=>{if(!o.empty||!ag.isActiveAt(e,o.from,-1)&&!ag.isActiveAt(e,o.from,1))return s={range:o};let u=o.from,f=r.lineAt(u),d=wL(i.resolveInner(u,-1),r);for(;d.length&&d[d.length-1].from>u-f.from;)d.pop();if(!d.length)return s={range:o};let m=d[d.length-1];if(m.to-m.spaceAfter.length>u-f.from)return s={range:o};let g=u>=m.to-m.spaceAfter.length&&!/\S/.test(f.text.slice(m.to));if(m.item&&g){let k=m.node.firstChild,C=m.node.getChild("ListItem","ListItem");if(k.to>=u||C&&C.to<u||f.from>0&&!/[^\s>]/.test(r.lineAt(f.from-1).text)||n.nonTightLists===!1){let T=d.length>1?d[d.length-2]:null,X,L="";T&&T.item?(X=f.from+T.from,L=T.marker(r,1)):X=f.from+(T?T.to:0);let R=[{from:X,to:u,insert:L}];return m.node.name=="OrderedList"&&_b(m.item,r,R,-2),T&&T.node.name=="OrderedList"&&_b(T.item,r,R),{range:K.cursor(X+L.length),changes:R}}else{let T=kP(d,e,f);return{range:K.cursor(u+T.length+1),changes:{from:f.from,insert:T+e.lineBreak}}}}if(m.node.name=="Blockquote"&&g&&f.from){let k=r.lineAt(f.from-1),C=/>\s*$/.exec(k.text);if(C&&C.index==m.from){let T=e.changes([{from:k.from+C.index,to:k.to},{from:f.from+m.from,to:f.to}]);return{range:o.map(T),changes:T}}}let y=[];m.node.name=="OrderedList"&&_b(m.item,r,y);let S=m.item&&m.item.from<f.from,v="";if(!S||/^[\s\d.)\-+*>]*/.exec(f.text)[0].length>=m.to)for(let k=0,C=d.length-1;k<=C;k++)v+=k==C&&!S?d[k].marker(r,1):d[k].blank(k<C?cr(f.text,4,d[k+1].from)-v.length:null);let x=u;for(;x>f.from&&/\s/.test(f.text.charAt(x-f.from-1));)x--;return v=qw(v,e),Yee(m.node,e.doc)&&(v=kP(d,e,f)+e.lineBreak+v),y.push({from:x,to:u,insert:e.lineBreak+v}),{range:K.cursor(x+v.length+1),changes:y}});return s?!1:(t(e.update(l,{scrollIntoView:!0,userEvent:"input"})),!0)},qee=Vee();function xP(n){return n.name=="QuoteMark"||n.name=="ListMark"}function Yee(n,e){if(n.name!="OrderedList"&&n.name!="BulletList")return!1;let t=n.firstChild,i=n.getChild("ListItem","ListItem");if(!i)return!1;let r=e.lineAt(t.to),s=e.lineAt(i.from),l=/^[\s>]*$/.test(r.text);return r.number+(l?0:1)<s.number}function kP(n,e,t){let i="";for(let r=0,s=n.length-2;r<=s;r++)i+=n[r].blank(r<s?cr(t.text,4,n[r+1].from)-i.length:null,r<s);return qw(i,e)}function Fee(n,e){let t=n.resolveInner(e,-1),i=e;xP(t)&&(i=t.from,t=t.parent);for(let r;r=t.childBefore(i);)if(xP(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")t=r.lastChild,i=t.to;else break;return t}const Wee=({state:n,dispatch:e})=>{let t=Et(n),i=null,r=n.changeByRange(s=>{let l=s.from,{doc:o}=n;if(s.empty&&ag.isActiveAt(n,s.from)){let u=o.lineAt(l),f=wL(Fee(t,l),o);if(f.length){let d=f[f.length-1],m=d.to-d.spaceAfter.length+(d.spaceAfter?1:0);if(l-u.from>m&&!/\S/.test(u.text.slice(m,l-u.from)))return{range:K.cursor(u.from+m),changes:{from:u.from+m,to:l}};if(l-u.from==m&&(!d.item||u.from<=d.item.from||!/\S/.test(u.text.slice(0,d.to)))){let g=u.from+d.from;if(d.item&&d.node.from<d.item.from&&/\S/.test(u.text.slice(d.from,d.to))){let y=d.blank(cr(u.text,4,d.to)-cr(u.text,4,d.from));return g==u.from&&(y=qw(y,n)),{range:K.cursor(g+y.length),changes:{from:g,to:u.from+d.to,insert:y}}}if(g<l)return{range:K.cursor(g),changes:{from:g,to:l}}}}}return i={range:s}});return i?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},Hee=[{key:"Enter",run:qee},{key:"Backspace",run:Wee}],kL=Nee({matchClosingTags:!1});function Gee(n={}){let{codeLanguages:e,defaultCodeLanguage:t,addKeymap:i=!0,base:{parser:r}=Xee,completeHTMLTags:s=!0,pasteURLAsLink:l=!0,htmlTagLanguage:o=kL}=n;if(!(r instanceof qg))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let u=n.extensions?[n.extensions]:[],f=[o.support,Uee],d;l&&f.push(tte),t instanceof Wh?(f.push(t.support),d=t.language):t&&(d=t);let m=e||d?jee(e,d):void 0;u.push(iK({codeParser:m,htmlParser:o.language.parser})),i&&f.push(Qs.high(Ic.of(Hee)));let g=Vw(r.configure(u));return s&&f.push(g.data.of({autocomplete:Kee})),new Wh(g,f)}function Kee(n){let{state:e,pos:t}=n,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(t-25,t));if(!i)return null;let r=Et(e).resolveInner(t,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:t-i[0].length,to:t,options:Jee(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Tb=null;function Jee(){if(Tb)return Tb;let n=Mee(new Cw(et.create({extensions:kL}),0,!0));return Tb=n?n.options:[]}const ete=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,tte=ge.domEventHandlers({paste:(n,e)=>{var t;let{main:i}=e.state.selection;if(i.empty)return!1;let r=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("text/plain");if(!r||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(r)||(/^www\./.test(r)&&(r="https://"+r),!ag.isActiveAt(e.state,i.from,1)))return!1;let s=Et(e.state),l=!1;return s.iterate({from:i.from,to:i.to,enter:o=>{(o.from>i.from||ete.test(o.name))&&(l=!0)},leave:o=>{o.to<i.to&&(l=!0)}}),l?!1:(e.dispatch({changes:[{from:i.from,insert:"["},{from:i.to,insert:`](${r})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}});function nte(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const ite=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rte=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ste={};function _P(n,e){return(ste.jsx?rte:ite).test(n)}const lte=/[ \t\n\f\r]/g;function ate(n){return typeof n=="object"?n.type==="text"?TP(n.value):!1:TP(n)}function TP(n){return n.replace(lte,"")===""}class Lf{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Lf.prototype.normal={};Lf.prototype.property={};Lf.prototype.space=void 0;function _L(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new Lf(t,i,e)}function Tv(n){return n.toLowerCase()}class si{constructor(e,t){this.attribute=t,this.property=e}}si.prototype.attribute="";si.prototype.booleanish=!1;si.prototype.boolean=!1;si.prototype.commaOrSpaceSeparated=!1;si.prototype.commaSeparated=!1;si.prototype.defined=!1;si.prototype.mustUseProperty=!1;si.prototype.number=!1;si.prototype.overloadedBoolean=!1;si.prototype.property="";si.prototype.spaceSeparated=!1;si.prototype.space=void 0;let ote=0;const Xe=Da(),Kt=Da(),Cv=Da(),ce=Da(),At=Da(),Go=Da(),Oi=Da();function Da(){return 2**++ote}const Ev=Object.freeze(Object.defineProperty({__proto__:null,boolean:Xe,booleanish:Kt,commaOrSpaceSeparated:Oi,commaSeparated:Go,number:ce,overloadedBoolean:Cv,spaceSeparated:At},Symbol.toStringTag,{value:"Module"})),Cb=Object.keys(Ev);class Yw extends si{constructor(e,t,i,r){let s=-1;if(super(e,t),CP(this,"space",r),typeof i=="number")for(;++s<Cb.length;){const l=Cb[s];CP(this,Cb[s],(i&Ev[l])===Ev[l])}}}Yw.prototype.defined=!0;function CP(n,e,t){t&&(n[e]=t)}function Xc(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const s=new Yw(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[Tv(i)]=i,t[Tv(s.attribute)]=i}return new Lf(e,t,n.space)}const TL=Xc({properties:{ariaActiveDescendant:null,ariaAtomic:Kt,ariaAutoComplete:null,ariaBusy:Kt,ariaChecked:Kt,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:At,ariaCurrent:null,ariaDescribedBy:At,ariaDetails:null,ariaDisabled:Kt,ariaDropEffect:At,ariaErrorMessage:null,ariaExpanded:Kt,ariaFlowTo:At,ariaGrabbed:Kt,ariaHasPopup:null,ariaHidden:Kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:At,ariaLevel:ce,ariaLive:null,ariaModal:Kt,ariaMultiLine:Kt,ariaMultiSelectable:Kt,ariaOrientation:null,ariaOwns:At,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:Kt,ariaReadOnly:Kt,ariaRelevant:null,ariaRequired:Kt,ariaRoleDescription:At,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:Kt,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function CL(n,e){return e in n?n[e]:e}function EL(n,e){return CL(n,e.toLowerCase())}const cte=Xc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Go,acceptCharset:At,accessKey:At,action:null,allow:null,allowFullScreen:Xe,allowPaymentRequest:Xe,allowUserMedia:Xe,alt:null,as:null,async:Xe,autoCapitalize:null,autoComplete:At,autoFocus:Xe,autoPlay:Xe,blocking:At,capture:null,charSet:null,checked:Xe,cite:null,className:At,cols:ce,colSpan:null,content:null,contentEditable:Kt,controls:Xe,controlsList:At,coords:ce|Go,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Xe,defer:Xe,dir:null,dirName:null,disabled:Xe,download:Cv,draggable:Kt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Xe,formTarget:null,headers:At,height:ce,hidden:Cv,high:ce,href:null,hrefLang:null,htmlFor:At,httpEquiv:At,id:null,imageSizes:null,imageSrcSet:null,inert:Xe,inputMode:null,integrity:null,is:null,isMap:Xe,itemId:null,itemProp:At,itemRef:At,itemScope:Xe,itemType:At,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Xe,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Xe,muted:Xe,name:null,nonce:null,noModule:Xe,noValidate:Xe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Xe,optimum:ce,pattern:null,ping:At,placeholder:null,playsInline:Xe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Xe,referrerPolicy:null,rel:At,required:Xe,reversed:Xe,rows:ce,rowSpan:ce,sandbox:At,scope:null,scoped:Xe,seamless:Xe,selected:Xe,shadowRootClonable:Xe,shadowRootDelegatesFocus:Xe,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:Kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Xe,useMap:null,value:Kt,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:At,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Xe,declare:Xe,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Xe,noHref:Xe,noShade:Xe,noWrap:Xe,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:Kt,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Xe,disableRemotePlayback:Xe,prefix:null,property:null,results:ce,security:null,unselectable:null},space:"html",transform:EL}),ute=Xc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Oi,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:At,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Xe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Go,g2:Go,glyphName:Go,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Oi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:At,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Oi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Oi,rev:Oi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Oi,requiredFeatures:Oi,requiredFonts:Oi,requiredFormats:Oi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Oi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Oi,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Oi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:CL}),AL=Xc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),QL=Xc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:EL}),PL=Xc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),hte={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fte=/[A-Z]/g,EP=/-[a-z]/g,dte=/^data[-\w.:]+$/i;function pte(n,e){const t=Tv(e);let i=e,r=si;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&dte.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(EP,gte);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!EP.test(s)){let l=s.replace(fte,mte);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}r=Yw}return new r(i,e)}function mte(n){return"-"+n.toLowerCase()}function gte(n){return n.charAt(1).toUpperCase()}const Ote=_L([TL,cte,AL,QL,PL],"html"),Fw=_L([TL,ute,AL,QL,PL],"svg");function yte(n){return n.join(" ").trim()}var _o={},Eb,AP;function bte(){if(AP)return Eb;AP=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,f="/",d="*",m="",g="comment",y="declaration";function S(x,k){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];k=k||{};var C=1,T=1;function X(oe){var ne=oe.match(e);ne&&(C+=ne.length);var U=oe.lastIndexOf(u);T=~U?oe.length-U:T+oe.length}function L(){var oe={line:C,column:T};return function(ne){return ne.position=new R(oe),te(),ne}}function R(oe){this.start=oe,this.end={line:C,column:T},this.source=k.source}R.prototype.content=x;function N(oe){var ne=new Error(k.source+":"+C+":"+T+": "+oe);if(ne.reason=oe,ne.filename=k.source,ne.line=C,ne.column=T,ne.source=x,!k.silent)throw ne}function ae(oe){var ne=oe.exec(x);if(ne){var U=ne[0];return X(U),x=x.slice(U.length),ne}}function te(){ae(t)}function z(oe){var ne;for(oe=oe||[];ne=H();)ne!==!1&&oe.push(ne);return oe}function H(){var oe=L();if(!(f!=x.charAt(0)||d!=x.charAt(1))){for(var ne=2;m!=x.charAt(ne)&&(d!=x.charAt(ne)||f!=x.charAt(ne+1));)++ne;if(ne+=2,m===x.charAt(ne-1))return N("End of comment missing");var U=x.slice(2,ne-2);return T+=2,X(U),x=x.slice(ne),T+=2,oe({type:g,comment:U})}}function W(){var oe=L(),ne=ae(i);if(ne){if(H(),!ae(r))return N("property missing ':'");var U=ae(s),ie=oe({type:y,property:v(ne[0].replace(n,m)),value:U?v(U[0].replace(n,m)):m});return ae(l),ie}}function fe(){var oe=[];z(oe);for(var ne;ne=W();)ne!==!1&&(oe.push(ne),z(oe));return oe}return te(),fe()}function v(x){return x?x.replace(o,m):m}return Eb=S,Eb}var QP;function Ste(){if(QP)return _o;QP=1;var n=_o&&_o.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=t;const e=n(bte());function t(i,r){let s=null;if(!i||typeof i!="string")return s;const l=(0,e.default)(i),o=typeof r=="function";return l.forEach(u=>{if(u.type!=="declaration")return;const{property:f,value:d}=u;o?r(f,d,u):d&&(s=s||{},s[f]=d)}),s}return _o}var Hu={},PP;function vte(){if(PP)return Hu;PP=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(f){return!f||t.test(f)||n.test(f)},l=function(f,d){return d.toUpperCase()},o=function(f,d){return"".concat(d,"-")},u=function(f,d){return d===void 0&&(d={}),s(f)?f:(f=f.toLowerCase(),d.reactCompat?f=f.replace(r,o):f=f.replace(i,o),f.replace(e,l))};return Hu.camelCase=u,Hu}var Gu,RP;function wte(){if(RP)return Gu;RP=1;var n=Gu&&Gu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(Ste()),t=vte();function i(r,s){var l={};return!r||typeof r!="string"||(0,e.default)(r,function(o,u){o&&u&&(l[(0,t.camelCase)(o,s)]=u)}),l}return i.default=i,Gu=i,Gu}var xte=wte();const kte=zv(xte),RL=$L("end"),Ww=$L("start");function $L(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function _te(n){const e=Ww(n),t=RL(n);if(e&&t)return{start:e,end:t}}function xh(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?$P(n.position):"start"in n||"end"in n?$P(n):"line"in n||"column"in n?Av(n):""}function Av(n){return MP(n&&n.line)+":"+MP(n&&n.column)}function $P(n){return Av(n&&n.start)+"-"+Av(n&&n.end)}function MP(n){return n&&typeof n=="number"?n:1}class Mn extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",s={},l=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?r=e:!s.cause&&e&&(l=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?s.ruleId=i:(s.source=i.slice(0,u),s.ruleId=i.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=xh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const Hw={}.hasOwnProperty,Tte=new Map,Cte=/[A-Z]/g,Ete=new Set(["table","tbody","thead","tfoot","tr"]),Ate=new Set(["td","th"]),ML="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Qte(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=Lte(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Nte(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Fw:Ote,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=IL(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function IL(n,e,t){if(e.type==="element")return Pte(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Rte(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Mte(n,e,t);if(e.type==="mdxjsEsm")return $te(n,e);if(e.type==="root")return Ite(n,e,t);if(e.type==="text")return Dte(n,e)}function Pte(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Fw,n.schema=r),n.ancestors.push(e);const s=NL(n,e.tagName,!1),l=zte(n,e);let o=Kw(n,e);return Ete.has(e.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!ate(u):!0})),DL(n,l,s,e),Gw(l,o),n.ancestors.pop(),n.schema=i,n.create(e,s,l,t)}function Rte(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}of(n,e.position)}function $te(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);of(n,e.position)}function Mte(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=Fw,n.schema=r),n.ancestors.push(e);const s=e.name===null?n.Fragment:NL(n,e.name,!0),l=Bte(n,e),o=Kw(n,e);return DL(n,l,s,e),Gw(l,o),n.ancestors.pop(),n.schema=i,n.create(e,s,l,t)}function Ite(n,e,t){const i={};return Gw(i,Kw(n,e)),n.create(e,n.Fragment,i,t)}function Dte(n,e){return e.value}function DL(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function Gw(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function Nte(n,e,t){return i;function i(r,s,l,o){const f=Array.isArray(l.children)?t:e;return o?f(s,l,o):f(s,l)}}function Lte(n,e){return t;function t(i,r,s,l){const o=Array.isArray(s.children),u=Ww(i);return e(r,s,l,o,{columnNumber:u?u.column-1:void 0,fileName:n,lineNumber:u?u.line:void 0},void 0)}}function zte(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&Hw.call(e.properties,r)){const s=Ute(n,r,e.properties[r]);if(s){const[l,o]=s;n.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&Ate.has(e.tagName)?i=o:t[l]=o}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function Bte(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const l=s.expression;l.type;const o=l.properties[0];o.type,Object.assign(t,n.evaluater.evaluateExpression(o.argument))}else of(n,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const o=i.value.data.estree.body[0];o.type,s=n.evaluater.evaluateExpression(o.expression)}else of(n,e.position);else s=i.value===null?!0:i.value;t[r]=s}return t}function Kw(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:Tte;for(;++i<e.children.length;){const s=e.children[i];let l;if(n.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const f=r.get(u)||0;l=u+"-"+f,r.set(u,f+1)}}const o=IL(n,s,l);o!==void 0&&t.push(o)}return t}function Ute(n,e,t){const i=pte(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?nte(t):yte(t)),i.property==="style"){let r=typeof t=="object"?t:Xte(n,String(t));return n.stylePropertyNameCase==="css"&&(r=Zte(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?hte[i.property]||i.property:i.attribute,t]}}function Xte(n,e){try{return kte(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Mn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=ML+"#cannot-parse-style-attribute",r}}function NL(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,l;for(;++s<r.length;){const o=_P(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}i=l}else i=_P(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return Hw.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);of(n)}function of(n,e){const t=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=ML+"#cannot-handle-mdx-estrees-without-createevaluater",t}function Zte(n){const e={};let t;for(t in n)Hw.call(n,t)&&(e[jte(t)]=n[t]);return e}function jte(n){let e=n.replace(Cte,Vte);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Vte(n){return"-"+n.toLowerCase()}const Ab={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qte={};function Jw(n,e){const t=qte,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return LL(n,i,r)}function LL(n,e,t){if(Yte(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return IP(n.children,e,t)}return Array.isArray(n)?IP(n,e,t):""}function IP(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=LL(n[r],e,t);return i.join("")}function Yte(n){return!!(n&&typeof n=="object")}const DP=document.createElement("i");function ex(n){const e="&"+n+";";DP.innerHTML=e;const t=DP.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function wi(n,e,t,i){const r=n.length;let s=0,l;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);s<i.length;)l=i.slice(s,s+1e4),l.unshift(e,0),n.splice(...l),s+=1e4,e+=1e4}function Ii(n,e){return n.length>0?(wi(n,n.length,0,e),n):e}const NP={}.hasOwnProperty;function zL(n){const e={};let t=-1;for(;++t<n.length;)Fte(e,n[t]);return e}function Fte(n,e){let t;for(t in e){const r=(NP.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let l;if(s)for(l in s){NP.call(r,l)||(r[l]=[]);const o=s[l];Wte(r[l],Array.isArray(o)?o:o?[o]:[])}}}function Wte(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);wi(n,0,0,i)}function BL(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function ar(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nn=Rl(/[A-Za-z]/),Pn=Rl(/[\dA-Za-z]/),Hte=Rl(/[#-'*+\--9=?A-Z^-~]/);function og(n){return n!==null&&(n<32||n===127)}const Qv=Rl(/\d/),Gte=Rl(/[\dA-Fa-f]/),Kte=Rl(/[!-/:-@[-`{-~]/);function Qe(n){return n!==null&&n<-2}function Tt(n){return n!==null&&(n<0||n===32)}function Ge(n){return n===-2||n===-1||n===32}const Yg=Rl(new RegExp("\\p{P}|\\p{S}","u")),Pa=Rl(/\s/);function Rl(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Zc(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const s=n.charCodeAt(t);let l="";if(s===37&&Pn(n.charCodeAt(t+1))&&Pn(n.charCodeAt(t+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const o=n.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(l=String.fromCharCode(s,o),r=1):l=""}else l=String.fromCharCode(s);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+r+1,l=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function rt(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(u){return Ge(u)?(n.enter(t),o(u)):e(u)}function o(u){return Ge(u)&&s++<r?(n.consume(u),o):(n.exit(t),e(u))}}const Jte={tokenize:ene};function ene(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),rt(n,e,"linePrefix")}function r(o){return n.enter("paragraph"),s(o)}function s(o){const u=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,l(o)}function l(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return Qe(o)?(n.consume(o),n.exit("chunkText"),s):(n.consume(o),l)}}const tne={tokenize:nne},LP={tokenize:ine};function nne(n){const e=this,t=[];let i=0,r,s,l;return o;function o(T){if(i<t.length){const X=t[i];return e.containerState=X[1],n.attempt(X[0].continuation,u,f)(T)}return f(T)}function u(T){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&C();const X=e.events.length;let L=X,R;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){R=e.events[L][1].end;break}k(i);let N=X;for(;N<e.events.length;)e.events[N][1].end={...R},N++;return wi(e.events,L+1,0,e.events.slice(X)),e.events.length=N,f(T)}return o(T)}function f(T){if(i===t.length){if(!r)return g(T);if(r.currentConstruct&&r.currentConstruct.concrete)return S(T);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(LP,d,m)(T)}function d(T){return r&&C(),k(i),g(T)}function m(T){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,S(T)}function g(T){return e.containerState={},n.attempt(LP,y,S)(T)}function y(T){return i++,t.push([e.currentConstruct,e.containerState]),g(T)}function S(T){if(T===null){r&&C(),k(0),n.consume(T);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),v(T)}function v(T){if(T===null){x(n.exit("chunkFlow"),!0),k(0),n.consume(T);return}return Qe(T)?(n.consume(T),x(n.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(n.consume(T),v)}function x(T,X){const L=e.sliceStream(T);if(X&&L.push(null),T.previous=s,s&&(s.next=T),s=T,r.defineSkip(T.start),r.write(L),e.parser.lazy[T.start.line]){let R=r.events.length;for(;R--;)if(r.events[R][1].start.offset<l&&(!r.events[R][1].end||r.events[R][1].end.offset>l))return;const N=e.events.length;let ae=N,te,z;for(;ae--;)if(e.events[ae][0]==="exit"&&e.events[ae][1].type==="chunkFlow"){if(te){z=e.events[ae][1].end;break}te=!0}for(k(i),R=N;R<e.events.length;)e.events[R][1].end={...z},R++;wi(e.events,ae+1,0,e.events.slice(N)),e.events.length=R}}function k(T){let X=t.length;for(;X-- >T;){const L=t[X];e.containerState=L[1],L[0].exit.call(e,n)}t.length=T}function C(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function ine(n,e,t){return rt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vc(n){if(n===null||Tt(n)||Pa(n))return 1;if(Yg(n))return 2}function Fg(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const Pv={name:"attention",resolveAll:rne,tokenize:sne};function rne(n,e){let t=-1,i,r,s,l,o,u,f,d;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;u=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m={...n[i][1].end},g={...n[t][1].start};zP(m,-u),zP(g,u),l={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:u>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},n[i][1].end={...l.start},n[t][1].start={...o.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=Ii(f,[["enter",n[i][1],e],["exit",n[i][1],e]])),f=Ii(f,[["enter",r,e],["enter",l,e],["exit",l,e],["enter",s,e]]),f=Ii(f,Fg(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),f=Ii(f,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(d=2,f=Ii(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):d=0,wi(n,i-1,t-i+3,f),t=i+f.length-d-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function sne(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=vc(i);let s;return l;function l(u){return s=u,n.enter("attentionSequence"),o(u)}function o(u){if(u===s)return n.consume(u),o;const f=n.exit("attentionSequence"),d=vc(u),m=!d||d===2&&r||t.includes(u),g=!r||r===2&&d||t.includes(i);return f._open=!!(s===42?m:m&&(r||!g)),f._close=!!(s===42?g:g&&(d||!m)),e(u)}}function zP(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const lne={name:"autolink",tokenize:ane};function ane(n,e,t){let i=0;return r;function r(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(y){return Nn(y)?(n.consume(y),l):y===64?t(y):f(y)}function l(y){return y===43||y===45||y===46||Pn(y)?(i=1,o(y)):f(y)}function o(y){return y===58?(n.consume(y),i=0,u):(y===43||y===45||y===46||Pn(y))&&i++<32?(n.consume(y),o):(i=0,f(y))}function u(y){return y===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):y===null||y===32||y===60||og(y)?t(y):(n.consume(y),u)}function f(y){return y===64?(n.consume(y),d):Hte(y)?(n.consume(y),f):t(y)}function d(y){return Pn(y)?m(y):t(y)}function m(y){return y===46?(n.consume(y),i=0,d):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):g(y)}function g(y){if((y===45||Pn(y))&&i++<63){const S=y===45?g:m;return n.consume(y),S}return t(y)}}const zf={partial:!0,tokenize:one};function one(n,e,t){return i;function i(s){return Ge(s)?rt(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||Qe(s)?e(s):t(s)}}const UL={continuation:{tokenize:une},exit:hne,name:"blockQuote",tokenize:cne};function cne(n,e,t){const i=this;return r;function r(l){if(l===62){const o=i.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),s}return t(l)}function s(l){return Ge(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function une(n,e,t){const i=this;return r;function r(l){return Ge(l)?rt(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return n.attempt(UL,e,t)(l)}}function hne(n){n.exit("blockQuote")}const XL={name:"characterEscape",tokenize:fne};function fne(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return Kte(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const ZL={name:"characterReference",tokenize:dne};function dne(n,e,t){const i=this;let r=0,s,l;return o;function o(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),u}function u(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,l=Pn,d(m))}function f(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,l=Gte,d):(n.enter("characterReferenceValue"),s=7,l=Qv,d(m))}function d(m){if(m===59&&r){const g=n.exit("characterReferenceValue");return l===Pn&&!ex(i.sliceSerialize(g))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(m)&&r++<s?(n.consume(m),d):t(m)}}const BP={partial:!0,tokenize:mne},UP={concrete:!0,name:"codeFenced",tokenize:pne};function pne(n,e,t){const i=this,r={partial:!0,tokenize:L};let s=0,l=0,o;return u;function u(R){return f(R)}function f(R){const N=i.events[i.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,o=R,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),d(R)}function d(R){return R===o?(l++,n.consume(R),d):l<3?t(R):(n.exit("codeFencedFenceSequence"),Ge(R)?rt(n,m,"whitespace")(R):m(R))}function m(R){return R===null||Qe(R)?(n.exit("codeFencedFence"),i.interrupt?e(R):n.check(BP,v,X)(R)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(R))}function g(R){return R===null||Qe(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(R)):Ge(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),rt(n,y,"whitespace")(R)):R===96&&R===o?t(R):(n.consume(R),g)}function y(R){return R===null||Qe(R)?m(R):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(R))}function S(R){return R===null||Qe(R)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(R)):R===96&&R===o?t(R):(n.consume(R),S)}function v(R){return n.attempt(r,X,x)(R)}function x(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),k}function k(R){return s>0&&Ge(R)?rt(n,C,"linePrefix",s+1)(R):C(R)}function C(R){return R===null||Qe(R)?n.check(BP,v,X)(R):(n.enter("codeFlowValue"),T(R))}function T(R){return R===null||Qe(R)?(n.exit("codeFlowValue"),C(R)):(n.consume(R),T)}function X(R){return n.exit("codeFenced"),e(R)}function L(R,N,ae){let te=0;return z;function z(ne){return R.enter("lineEnding"),R.consume(ne),R.exit("lineEnding"),H}function H(ne){return R.enter("codeFencedFence"),Ge(ne)?rt(R,W,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):W(ne)}function W(ne){return ne===o?(R.enter("codeFencedFenceSequence"),fe(ne)):ae(ne)}function fe(ne){return ne===o?(te++,R.consume(ne),fe):te>=l?(R.exit("codeFencedFenceSequence"),Ge(ne)?rt(R,oe,"whitespace")(ne):oe(ne)):ae(ne)}function oe(ne){return ne===null||Qe(ne)?(R.exit("codeFencedFence"),N(ne)):ae(ne)}}}function mne(n,e,t){const i=this;return r;function r(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s)}function s(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const Qb={name:"codeIndented",tokenize:One},gne={partial:!0,tokenize:yne};function One(n,e,t){const i=this;return r;function r(f){return n.enter("codeIndented"),rt(n,s,"linePrefix",5)(f)}function s(f){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(f):t(f)}function l(f){return f===null?u(f):Qe(f)?n.attempt(gne,l,u)(f):(n.enter("codeFlowValue"),o(f))}function o(f){return f===null||Qe(f)?(n.exit("codeFlowValue"),l(f)):(n.consume(f),o)}function u(f){return n.exit("codeIndented"),e(f)}}function yne(n,e,t){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?t(l):Qe(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):rt(n,s,"linePrefix",5)(l)}function s(l){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(l):Qe(l)?r(l):t(l)}}const bne={name:"codeText",previous:vne,resolve:Sne,tokenize:wne};function Sne(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function vne(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wne(n,e,t){let i=0,r,s;return l;function l(m){return n.enter("codeText"),n.enter("codeTextSequence"),o(m)}function o(m){return m===96?(n.consume(m),i++,o):(n.exit("codeTextSequence"),u(m))}function u(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),u):m===96?(s=n.enter("codeTextSequence"),r=0,d(m)):Qe(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),u):(n.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Qe(m)?(n.exit("codeTextData"),u(m)):(n.consume(m),f)}function d(m){return m===96?(n.consume(m),r++,d):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(s.type="codeTextData",f(m))}}class xne{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Ku(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ku(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ku(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Ku(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ku(this.left,t.reverse())}}}function Ku(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function jL(n){const e={};let t=-1,i,r,s,l,o,u,f;const d=new xne(n);for(;++t<d.length;){for(;t in e;)t=e[t];if(i=d.get(t),t&&i[1].type==="chunkFlow"&&d.get(t-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,kne(d,t)),t=e[t],f=!0);else if(i[1]._container){for(s=t,r=void 0;s--;)if(l=d.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},o=d.slice(r,t),o.unshift(i),d.splice(r,t-r+1,o))}}return wi(n,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function kne(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const s=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,u=[],f={};let d,m,g=-1,y=t,S=0,v=0;const x=[v];for(;y;){for(;n.get(++r)[1]!==y;);s.push(r),y._tokenizer||(d=i.sliceStream(y),y.next||d.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=t;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(v=g+1,x.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):x.pop(),g=x.length;g--;){const k=o.slice(x[g],x[g+1]),C=s.pop();u.push([C,C+k.length-1]),n.splice(C,2,k)}for(u.reverse(),g=-1;++g<u.length;)f[S+u[g][0]]=S+u[g][1],S+=u[g][1]-u[g][0]-1;return f}const _ne={resolve:Cne,tokenize:Ene},Tne={partial:!0,tokenize:Ane};function Cne(n){return jL(n),n}function Ene(n,e){let t;return i;function i(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?s(o):Qe(o)?n.check(Tne,l,s)(o):(n.consume(o),r)}function s(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function l(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function Ane(n,e,t){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),rt(n,s,"linePrefix")}function s(l){if(l===null||Qe(l))return t(l);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function VL(n,e,t,i,r,s,l,o,u){const f=u||Number.POSITIVE_INFINITY;let d=0;return m;function m(k){return k===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(k),n.exit(s),g):k===null||k===32||k===41||og(k)?t(k):(n.enter(i),n.enter(l),n.enter(o),n.enter("chunkString",{contentType:"string"}),v(k))}function g(k){return k===62?(n.enter(s),n.consume(k),n.exit(s),n.exit(r),n.exit(i),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(n.exit("chunkString"),n.exit(o),g(k)):k===null||k===60||Qe(k)?t(k):(n.consume(k),k===92?S:y)}function S(k){return k===60||k===62||k===92?(n.consume(k),y):y(k)}function v(k){return!d&&(k===null||k===41||Tt(k))?(n.exit("chunkString"),n.exit(o),n.exit(l),n.exit(i),e(k)):d<f&&k===40?(n.consume(k),d++,v):k===41?(n.consume(k),d--,v):k===null||k===32||k===40||og(k)?t(k):(n.consume(k),k===92?x:v)}function x(k){return k===40||k===41||k===92?(n.consume(k),v):v(k)}}function qL(n,e,t,i,r,s){const l=this;let o=0,u;return f;function f(y){return n.enter(i),n.enter(r),n.consume(y),n.exit(r),n.enter(s),d}function d(y){return o>999||y===null||y===91||y===93&&!u||y===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?t(y):y===93?(n.exit(s),n.enter(r),n.consume(y),n.exit(r),n.exit(i),e):Qe(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),d):(n.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Qe(y)||o++>999?(n.exit("chunkString"),d(y)):(n.consume(y),u||(u=!Ge(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(n.consume(y),o++,m):m(y)}}function YL(n,e,t,i,r,s){let l;return o;function o(g){return g===34||g===39||g===40?(n.enter(i),n.enter(r),n.consume(g),n.exit(r),l=g===40?41:g,u):t(g)}function u(g){return g===l?(n.enter(r),n.consume(g),n.exit(r),n.exit(i),e):(n.enter(s),f(g))}function f(g){return g===l?(n.exit(s),u(l)):g===null?t(g):Qe(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),rt(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===l||g===null||Qe(g)?(n.exit("chunkString"),f(g)):(n.consume(g),g===92?m:d)}function m(g){return g===l||g===92?(n.consume(g),d):d(g)}}function kh(n,e){let t;return i;function i(r){return Qe(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Ge(r)?rt(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const Qne={name:"definition",tokenize:Rne},Pne={partial:!0,tokenize:$ne};function Rne(n,e,t){const i=this;let r;return s;function s(y){return n.enter("definition"),l(y)}function l(y){return qL.call(i,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return r=ar(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(n.enter("definitionMarker"),n.consume(y),n.exit("definitionMarker"),u):t(y)}function u(y){return Tt(y)?kh(n,f)(y):f(y)}function f(y){return VL(n,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return n.attempt(Pne,m,m)(y)}function m(y){return Ge(y)?rt(n,g,"whitespace")(y):g(y)}function g(y){return y===null||Qe(y)?(n.exit("definition"),i.parser.defined.push(r),e(y)):t(y)}}function $ne(n,e,t){return i;function i(o){return Tt(o)?kh(n,r)(o):t(o)}function r(o){return YL(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Ge(o)?rt(n,l,"whitespace")(o):l(o)}function l(o){return o===null||Qe(o)?e(o):t(o)}}const Mne={name:"hardBreakEscape",tokenize:Ine};function Ine(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return Qe(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const Dne={name:"headingAtx",resolve:Nne,tokenize:Lne};function Nne(n,e){let t=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},wi(n,i,t-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),n}function Lne(n,e,t){let i=0;return r;function r(d){return n.enter("atxHeading"),s(d)}function s(d){return n.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&i++<6?(n.consume(d),l):d===null||Tt(d)?(n.exit("atxHeadingSequence"),o(d)):t(d)}function o(d){return d===35?(n.enter("atxHeadingSequence"),u(d)):d===null||Qe(d)?(n.exit("atxHeading"),e(d)):Ge(d)?rt(n,o,"whitespace")(d):(n.enter("atxHeadingText"),f(d))}function u(d){return d===35?(n.consume(d),u):(n.exit("atxHeadingSequence"),o(d))}function f(d){return d===null||d===35||Tt(d)?(n.exit("atxHeadingText"),o(d)):(n.consume(d),f)}}const zne=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],XP=["pre","script","style","textarea"],Bne={concrete:!0,name:"htmlFlow",resolveTo:Zne,tokenize:jne},Une={partial:!0,tokenize:qne},Xne={partial:!0,tokenize:Vne};function Zne(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function jne(n,e,t){const i=this;let r,s,l,o,u;return f;function f(E){return d(E)}function d(E){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(E),m}function m(E){return E===33?(n.consume(E),g):E===47?(n.consume(E),s=!0,v):E===63?(n.consume(E),r=3,i.interrupt?e:P):Nn(E)?(n.consume(E),l=String.fromCharCode(E),x):t(E)}function g(E){return E===45?(n.consume(E),r=2,y):E===91?(n.consume(E),r=5,o=0,S):Nn(E)?(n.consume(E),r=4,i.interrupt?e:P):t(E)}function y(E){return E===45?(n.consume(E),i.interrupt?e:P):t(E)}function S(E){const he="CDATA[";return E===he.charCodeAt(o++)?(n.consume(E),o===he.length?i.interrupt?e:W:S):t(E)}function v(E){return Nn(E)?(n.consume(E),l=String.fromCharCode(E),x):t(E)}function x(E){if(E===null||E===47||E===62||Tt(E)){const he=E===47,_e=l.toLowerCase();return!he&&!s&&XP.includes(_e)?(r=1,i.interrupt?e(E):W(E)):zne.includes(l.toLowerCase())?(r=6,he?(n.consume(E),k):i.interrupt?e(E):W(E)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(E):s?C(E):T(E))}return E===45||Pn(E)?(n.consume(E),l+=String.fromCharCode(E),x):t(E)}function k(E){return E===62?(n.consume(E),i.interrupt?e:W):t(E)}function C(E){return Ge(E)?(n.consume(E),C):z(E)}function T(E){return E===47?(n.consume(E),z):E===58||E===95||Nn(E)?(n.consume(E),X):Ge(E)?(n.consume(E),T):z(E)}function X(E){return E===45||E===46||E===58||E===95||Pn(E)?(n.consume(E),X):L(E)}function L(E){return E===61?(n.consume(E),R):Ge(E)?(n.consume(E),L):T(E)}function R(E){return E===null||E===60||E===61||E===62||E===96?t(E):E===34||E===39?(n.consume(E),u=E,N):Ge(E)?(n.consume(E),R):ae(E)}function N(E){return E===u?(n.consume(E),u=null,te):E===null||Qe(E)?t(E):(n.consume(E),N)}function ae(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Tt(E)?L(E):(n.consume(E),ae)}function te(E){return E===47||E===62||Ge(E)?T(E):t(E)}function z(E){return E===62?(n.consume(E),H):t(E)}function H(E){return E===null||Qe(E)?W(E):Ge(E)?(n.consume(E),H):t(E)}function W(E){return E===45&&r===2?(n.consume(E),U):E===60&&r===1?(n.consume(E),ie):E===62&&r===4?(n.consume(E),M):E===63&&r===3?(n.consume(E),P):E===93&&r===5?(n.consume(E),be):Qe(E)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(Une,Y,fe)(E)):E===null||Qe(E)?(n.exit("htmlFlowData"),fe(E)):(n.consume(E),W)}function fe(E){return n.check(Xne,oe,Y)(E)}function oe(E){return n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),ne}function ne(E){return E===null||Qe(E)?fe(E):(n.enter("htmlFlowData"),W(E))}function U(E){return E===45?(n.consume(E),P):W(E)}function ie(E){return E===47?(n.consume(E),l="",me):W(E)}function me(E){if(E===62){const he=l.toLowerCase();return XP.includes(he)?(n.consume(E),M):W(E)}return Nn(E)&&l.length<8?(n.consume(E),l+=String.fromCharCode(E),me):W(E)}function be(E){return E===93?(n.consume(E),P):W(E)}function P(E){return E===62?(n.consume(E),M):E===45&&r===2?(n.consume(E),P):W(E)}function M(E){return E===null||Qe(E)?(n.exit("htmlFlowData"),Y(E)):(n.consume(E),M)}function Y(E){return n.exit("htmlFlow"),e(E)}}function Vne(n,e,t){const i=this;return r;function r(l){return Qe(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s):t(l)}function s(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function qne(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(zf,e,t)}}const Yne={name:"htmlText",tokenize:Fne};function Fne(n,e,t){const i=this;let r,s,l;return o;function o(P){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(P),u}function u(P){return P===33?(n.consume(P),f):P===47?(n.consume(P),L):P===63?(n.consume(P),T):Nn(P)?(n.consume(P),ae):t(P)}function f(P){return P===45?(n.consume(P),d):P===91?(n.consume(P),s=0,S):Nn(P)?(n.consume(P),C):t(P)}function d(P){return P===45?(n.consume(P),y):t(P)}function m(P){return P===null?t(P):P===45?(n.consume(P),g):Qe(P)?(l=m,ie(P)):(n.consume(P),m)}function g(P){return P===45?(n.consume(P),y):m(P)}function y(P){return P===62?U(P):P===45?g(P):m(P)}function S(P){const M="CDATA[";return P===M.charCodeAt(s++)?(n.consume(P),s===M.length?v:S):t(P)}function v(P){return P===null?t(P):P===93?(n.consume(P),x):Qe(P)?(l=v,ie(P)):(n.consume(P),v)}function x(P){return P===93?(n.consume(P),k):v(P)}function k(P){return P===62?U(P):P===93?(n.consume(P),k):v(P)}function C(P){return P===null||P===62?U(P):Qe(P)?(l=C,ie(P)):(n.consume(P),C)}function T(P){return P===null?t(P):P===63?(n.consume(P),X):Qe(P)?(l=T,ie(P)):(n.consume(P),T)}function X(P){return P===62?U(P):T(P)}function L(P){return Nn(P)?(n.consume(P),R):t(P)}function R(P){return P===45||Pn(P)?(n.consume(P),R):N(P)}function N(P){return Qe(P)?(l=N,ie(P)):Ge(P)?(n.consume(P),N):U(P)}function ae(P){return P===45||Pn(P)?(n.consume(P),ae):P===47||P===62||Tt(P)?te(P):t(P)}function te(P){return P===47?(n.consume(P),U):P===58||P===95||Nn(P)?(n.consume(P),z):Qe(P)?(l=te,ie(P)):Ge(P)?(n.consume(P),te):U(P)}function z(P){return P===45||P===46||P===58||P===95||Pn(P)?(n.consume(P),z):H(P)}function H(P){return P===61?(n.consume(P),W):Qe(P)?(l=H,ie(P)):Ge(P)?(n.consume(P),H):te(P)}function W(P){return P===null||P===60||P===61||P===62||P===96?t(P):P===34||P===39?(n.consume(P),r=P,fe):Qe(P)?(l=W,ie(P)):Ge(P)?(n.consume(P),W):(n.consume(P),oe)}function fe(P){return P===r?(n.consume(P),r=void 0,ne):P===null?t(P):Qe(P)?(l=fe,ie(P)):(n.consume(P),fe)}function oe(P){return P===null||P===34||P===39||P===60||P===61||P===96?t(P):P===47||P===62||Tt(P)?te(P):(n.consume(P),oe)}function ne(P){return P===47||P===62||Tt(P)?te(P):t(P)}function U(P){return P===62?(n.consume(P),n.exit("htmlTextData"),n.exit("htmlText"),e):t(P)}function ie(P){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),me}function me(P){return Ge(P)?rt(n,be,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):be(P)}function be(P){return n.enter("htmlTextData"),l(P)}}const tx={name:"labelEnd",resolveAll:Kne,resolveTo:Jne,tokenize:eie},Wne={tokenize:tie},Hne={tokenize:nie},Gne={tokenize:iie};function Kne(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&wi(n,0,n.length,t),n}function Jne(n,e){let t=n.length,i=0,r,s,l,o;for(;t--;)if(r=n[t][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=t);const u={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[s][1].start},end:{...n[l][1].end}},d={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[l-2][1].start}};return o=[["enter",u,e],["enter",f,e]],o=Ii(o,n.slice(s+1,s+i+3)),o=Ii(o,[["enter",d,e]]),o=Ii(o,Fg(e.parser.constructs.insideSpan.null,n.slice(s+i+4,l-3),e)),o=Ii(o,[["exit",d,e],n[l-2],n[l-1],["exit",f,e]]),o=Ii(o,n.slice(l+1)),o=Ii(o,[["exit",u,e]]),wi(n,s,n.length,o),n}function eie(n,e,t){const i=this;let r=i.events.length,s,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return o;function o(g){return s?s._inactive?m(g):(l=i.parser.defined.includes(ar(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),u):t(g)}function u(g){return g===40?n.attempt(Wne,d,l?d:m)(g):g===91?n.attempt(Hne,d,l?f:m)(g):l?d(g):m(g)}function f(g){return n.attempt(Gne,d,m)(g)}function d(g){return e(g)}function m(g){return s._balanced=!0,t(g)}}function tie(n,e,t){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),r}function r(m){return Tt(m)?kh(n,s)(m):s(m)}function s(m){return m===41?d(m):VL(n,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Tt(m)?kh(n,u)(m):d(m)}function o(m){return t(m)}function u(m){return m===34||m===39||m===40?YL(n,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function f(m){return Tt(m)?kh(n,d)(m):d(m)}function d(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function nie(n,e,t){const i=this;return r;function r(o){return qL.call(i,n,s,l,"reference","referenceMarker","referenceString")(o)}function s(o){return i.parser.defined.includes(ar(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function l(o){return t(o)}}function iie(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const rie={name:"labelStartImage",resolveAll:tx.resolveAll,tokenize:sie};function sie(n,e,t){const i=this;return r;function r(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),s}function s(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),l):t(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const lie={name:"labelStartLink",resolveAll:tx.resolveAll,tokenize:aie};function aie(n,e,t){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const Pb={name:"lineEnding",tokenize:oie};function oie(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),rt(n,e,"linePrefix")}}const rm={name:"thematicBreak",tokenize:cie};function cie(n,e,t){let i=0,r;return s;function s(f){return n.enter("thematicBreak"),l(f)}function l(f){return r=f,o(f)}function o(f){return f===r?(n.enter("thematicBreakSequence"),u(f)):i>=3&&(f===null||Qe(f))?(n.exit("thematicBreak"),e(f)):t(f)}function u(f){return f===r?(n.consume(f),i++,u):(n.exit("thematicBreakSequence"),Ge(f)?rt(n,o,"whitespace")(f):o(f))}}const Fn={continuation:{tokenize:die},exit:mie,name:"list",tokenize:fie},uie={partial:!0,tokenize:gie},hie={partial:!0,tokenize:pie};function fie(n,e,t){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return o;function o(y){const S=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Qv(y)){if(i.containerState.type||(i.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),y===42||y===45?n.check(rm,t,f)(y):f(y);if(!i.interrupt||y===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),u(y)}return t(y)}function u(y){return Qv(y)&&++l<10?(n.consume(y),u):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(n.exit("listItemValue"),f(y)):t(y)}function f(y){return n.enter("listItemMarker"),n.consume(y),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,n.check(zf,i.interrupt?t:d,n.attempt(uie,g,m))}function d(y){return i.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return Ge(y)?(n.enter("listItemPrefixWhitespace"),n.consume(y),n.exit("listItemPrefixWhitespace"),g):t(y)}function g(y){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(y)}}function die(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(zf,r,s);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,rt(n,e,"listItemIndent",i.containerState.size+1)(o)}function s(o){return i.containerState.furtherBlankLines||!Ge(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(hie,e,l)(o))}function l(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,rt(n,n.attempt(Fn,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function pie(n,e,t){const i=this;return rt(n,r,"listItemIndent",i.containerState.size+1);function r(s){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(s):t(s)}}function mie(n){n.exit(this.containerState.type)}function gie(n,e,t){const i=this;return rt(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const l=i.events[i.events.length-1];return!Ge(s)&&l&&l[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const ZP={name:"setextUnderline",resolveTo:Oie,tokenize:yie};function Oie(n,e){let t=n.length,i,r,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",l,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function yie(n,e,t){const i=this;let r;return s;function s(f){let d=i.events.length,m;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){m=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),r=f,l(f)):t(f)}function l(f){return n.enter("setextHeadingLineSequence"),o(f)}function o(f){return f===r?(n.consume(f),o):(n.exit("setextHeadingLineSequence"),Ge(f)?rt(n,u,"lineSuffix")(f):u(f))}function u(f){return f===null||Qe(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const bie={tokenize:Sie};function Sie(n){const e=this,t=n.attempt(zf,i,n.attempt(this.parser.constructs.flowInitial,r,rt(n,n.attempt(this.parser.constructs.flow,r,n.attempt(_ne,r)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const vie={resolveAll:WL()},wie=FL("string"),xie=FL("text");function FL(n){return{resolveAll:WL(n==="text"?kie:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],s=t.attempt(r,l,o);return l;function l(d){return f(d)?s(d):o(d)}function o(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),u}function u(d){return f(d)?(t.exit("data"),s(d)):(t.consume(d),u)}function f(d){if(d===null)return!0;const m=r[d];let g=-1;if(m)for(;++g<m.length;){const y=m[g];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function WL(n){return e;function e(t,i){let r=-1,s;for(;++r<=t.length;)s===void 0?t[r]&&t[r][1].type==="data"&&(s=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(t,i):t}}function kie(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let s=r.length,l=-1,o=0,u;for(;s--;){const f=r[s];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(f===-2)u=!0,o++;else if(f!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(o=0),o){const f={type:t===n.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:i.start._bufferIndex+l,_index:i.start._index+s,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}const _ie={42:Fn,43:Fn,45:Fn,48:Fn,49:Fn,50:Fn,51:Fn,52:Fn,53:Fn,54:Fn,55:Fn,56:Fn,57:Fn,62:UL},Tie={91:Qne},Cie={[-2]:Qb,[-1]:Qb,32:Qb},Eie={35:Dne,42:rm,45:[ZP,rm],60:Bne,61:ZP,95:rm,96:UP,126:UP},Aie={38:ZL,92:XL},Qie={[-5]:Pb,[-4]:Pb,[-3]:Pb,33:rie,38:ZL,42:Pv,60:[lne,Yne],91:lie,92:[Mne,XL],93:tx,95:Pv,96:bne},Pie={null:[Pv,vie]},Rie={null:[42,95]},$ie={null:[]},Mie=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rie,contentInitial:Tie,disable:$ie,document:_ie,flow:Eie,flowInitial:Cie,insideSpan:Pie,string:Aie,text:Qie},Symbol.toStringTag,{value:"Module"}));function Iie(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},s=[];let l=[],o=[];const u={attempt:N(L),check:N(R),consume:C,enter:T,exit:X,interrupt:N(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:S,parser:n,previous:null,sliceSerialize:g,sliceStream:y,write:m};let d=e.tokenize.call(f,u);return e.resolveAll&&s.push(e),f;function m(H){return l=Ii(l,H),x(),l[l.length-1]!==null?[]:(ae(e,0),f.events=Fg(s,f.events,f),f.events)}function g(H,W){return Nie(y(H),W)}function y(H){return Die(l,H)}function S(){const{_bufferIndex:H,_index:W,line:fe,column:oe,offset:ne}=i;return{_bufferIndex:H,_index:W,line:fe,column:oe,offset:ne}}function v(H){r[H.line]=H.column,z()}function x(){let H;for(;i._index<l.length;){const W=l[i._index];if(typeof W=="string")for(H=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===H&&i._bufferIndex<W.length;)k(W.charCodeAt(i._bufferIndex));else k(W)}}function k(H){d=d(H)}function C(H){Qe(H)?(i.line++,i.column=1,i.offset+=H===-3?2:1,z()):H!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=H}function T(H,W){const fe=W||{};return fe.type=H,fe.start=S(),f.events.push(["enter",fe,f]),o.push(fe),fe}function X(H){const W=o.pop();return W.end=S(),f.events.push(["exit",W,f]),W}function L(H,W){ae(H,W.from)}function R(H,W){W.restore()}function N(H,W){return fe;function fe(oe,ne,U){let ie,me,be,P;return Array.isArray(oe)?Y(oe):"tokenize"in oe?Y([oe]):M(oe);function M(we){return Be;function Be(mt){const st=mt!==null&&we[mt],Tn=mt!==null&&we.null,Vi=[...Array.isArray(st)?st:st?[st]:[],...Array.isArray(Tn)?Tn:Tn?[Tn]:[]];return Y(Vi)(mt)}}function Y(we){return ie=we,me=0,we.length===0?U:E(we[me])}function E(we){return Be;function Be(mt){return P=te(),be=we,we.partial||(f.currentConstruct=we),we.name&&f.parser.constructs.disable.null.includes(we.name)?_e():we.tokenize.call(W?Object.assign(Object.create(f),W):f,u,he,_e)(mt)}}function he(we){return H(be,P),ne}function _e(we){return P.restore(),++me<ie.length?E(ie[me]):U}}}function ae(H,W){H.resolveAll&&!s.includes(H)&&s.push(H),H.resolve&&wi(f.events,W,f.events.length-W,H.resolve(f.events.slice(W),f)),H.resolveTo&&(f.events=H.resolveTo(f.events,f))}function te(){const H=S(),W=f.previous,fe=f.currentConstruct,oe=f.events.length,ne=Array.from(o);return{from:oe,restore:U};function U(){i=H,f.previous=W,f.currentConstruct=fe,f.events.length=oe,o=ne,z()}}function z(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Die(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let l;if(t===r)l=[n[t].slice(i,s)];else{if(l=n.slice(t,r),i>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(i):l.shift()}s>0&&l.push(n[r].slice(0,s))}return l}function Nie(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const s=n[t];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&r)continue;l=" ";break}default:l=String.fromCharCode(s)}r=s===-2,i.push(l)}return i.join("")}function Lie(n){const i={constructs:zL([Mie,...(n||{}).extensions||[]]),content:r(Jte),defined:[],document:r(tne),flow:r(bie),lazy:{},string:r(wie),text:r(xie)};return i;function r(s){return l;function l(o){return Iie(i,s,o)}}}function zie(n){for(;!jL(n););return n}const jP=/[\0\t\n\r]/g;function Bie(){let n=1,e="",t=!0,i;return r;function r(s,l,o){const u=[];let f,d,m,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,e="",t&&(s.charCodeAt(0)===65279&&m++,t=void 0);m<s.length;){if(jP.lastIndex=m,f=jP.exec(s),g=f&&f.index!==void 0?f.index:s.length,y=s.charCodeAt(g),!f){e=s.slice(m);break}if(y===10&&m===g&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),m<g&&(u.push(s.slice(m,g)),n+=g-m),y){case 0:{u.push(65533),n++;break}case 9:{for(d=Math.ceil(n/4)*4,u.push(-2);n++<d;)u.push(-1);break}case 10:{u.push(-4),n=1;break}default:i=!0,n=1}m=g+1}return o&&(i&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Uie=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Xie(n){return n.replace(Uie,Zie)}function Zie(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),s=r===120||r===88;return BL(t.slice(s?2:1),s?16:10)}return ex(t)||n}const HL={}.hasOwnProperty;function jie(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Vie(t)(zie(Lie(t).document().write(Bie()(n,e,!0))))}function Vie(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Rs),autolinkProtocol:te,autolinkEmail:te,atxHeading:s(pr),blockQuote:s(Tn),characterEscape:te,characterReference:te,codeFenced:s(Vi),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Vi,l),codeText:s(Nt,l),codeTextData:te,data:te,codeFlowValue:te,definition:s(Xt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(qi),hardBreakEscape:s(Zt),hardBreakTrailing:s(Zt),htmlFlow:s(mr,l),htmlFlowData:te,htmlText:s(mr,l),htmlTextData:te,image:s(Ur),label:l,link:s(Rs),listItem:s(Ml),listItemValue:g,listOrdered:s(Xr,m),listUnordered:s(Xr),paragraph:s(Il),reference:E,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(pr),strong:s(Dl),thematicBreak:s(Na)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:st,autolinkProtocol:mt,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:we,characterReference:Be,codeFenced:u(x),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:z,codeIndented:u(k),codeText:u(ne),codeTextData:z,data:z,definition:u(),definitionDestinationString:X,definitionLabelString:C,definitionTitleString:T,emphasis:u(),hardBreakEscape:u(W),hardBreakTrailing:u(W),htmlFlow:u(fe),htmlFlowData:z,htmlText:u(oe),htmlTextData:z,image:u(ie),label:be,labelText:me,lineEnding:H,link:u(U),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:he,resourceDestinationString:P,resourceTitleString:M,resource:Y,setextHeading:u(ae),setextHeadingLineSequence:N,setextHeadingText:R,strong:u(),thematicBreak:u()}};GL(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(J){let de={type:"root",children:[]};const Re={stack:[de],tokenStack:[],config:e,enter:o,exit:f,buffer:l,resume:d,data:t},Ze=[];let nt=-1;for(;++nt<J.length;)if(J[nt][1].type==="listOrdered"||J[nt][1].type==="listUnordered")if(J[nt][0]==="enter")Ze.push(nt);else{const Cn=Ze.pop();nt=r(J,Cn,nt)}for(nt=-1;++nt<J.length;){const Cn=e[J[nt][0]];HL.call(Cn,J[nt][1].type)&&Cn[J[nt][1].type].call(Object.assign({sliceSerialize:J[nt][2].sliceSerialize},Re),J[nt][1])}if(Re.tokenStack.length>0){const Cn=Re.tokenStack[Re.tokenStack.length-1];(Cn[1]||VP).call(Re,void 0,Cn[0])}for(de.position={start:sl(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:sl(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},nt=-1;++nt<e.transforms.length;)de=e.transforms[nt](de)||de;return de}function r(J,de,Re){let Ze=de-1,nt=-1,Cn=!1,Yi,mn,j,se;for(;++Ze<=Re;){const le=J[Ze];switch(le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{le[0]==="enter"?nt++:nt--,se=void 0;break}case"lineEndingBlank":{le[0]==="enter"&&(Yi&&!se&&!nt&&!j&&(j=Ze),se=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:se=void 0}if(!nt&&le[0]==="enter"&&le[1].type==="listItemPrefix"||nt===-1&&le[0]==="exit"&&(le[1].type==="listUnordered"||le[1].type==="listOrdered")){if(Yi){let ye=Ze;for(mn=void 0;ye--;){const Ce=J[ye];if(Ce[1].type==="lineEnding"||Ce[1].type==="lineEndingBlank"){if(Ce[0]==="exit")continue;mn&&(J[mn][1].type="lineEndingBlank",Cn=!0),Ce[1].type="lineEnding",mn=ye}else if(!(Ce[1].type==="linePrefix"||Ce[1].type==="blockQuotePrefix"||Ce[1].type==="blockQuotePrefixWhitespace"||Ce[1].type==="blockQuoteMarker"||Ce[1].type==="listItemIndent"))break}j&&(!mn||j<mn)&&(Yi._spread=!0),Yi.end=Object.assign({},mn?J[mn][1].start:le[1].end),J.splice(mn||Ze,0,["exit",Yi,le[2]]),Ze++,Re++}if(le[1].type==="listItemPrefix"){const ye={type:"listItem",_spread:!1,start:Object.assign({},le[1].start),end:void 0};Yi=ye,J.splice(Ze,0,["enter",ye,le[2]]),Ze++,Re++,j=void 0,se=!0}}}return J[de][1]._spread=Cn,Re}function s(J,de){return Re;function Re(Ze){o.call(this,J(Ze),Ze),de&&de.call(this,Ze)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(J,de,Re){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([de,Re||void 0]),J.position={start:sl(de.start),end:void 0}}function u(J){return de;function de(Re){J&&J.call(this,Re),f.call(this,Re)}}function f(J,de){const Re=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==J.type&&(de?de.call(this,J,Ze[0]):(Ze[1]||VP).call(this,J,Ze[0]));else throw new Error("Cannot close `"+J.type+"` ("+xh({start:J.start,end:J.end})+"): its not open");Re.position.end=sl(J.end)}function d(){return Jw(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(J){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function y(){const J=this.resume(),de=this.stack[this.stack.length-1];de.lang=J}function S(){const J=this.resume(),de=this.stack[this.stack.length-1];de.meta=J}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J.replace(/(\r?\n|\r)$/g,"")}function C(J){const de=this.resume(),Re=this.stack[this.stack.length-1];Re.label=de,Re.identifier=ar(this.sliceSerialize(J)).toLowerCase()}function T(){const J=this.resume(),de=this.stack[this.stack.length-1];de.title=J}function X(){const J=this.resume(),de=this.stack[this.stack.length-1];de.url=J}function L(J){const de=this.stack[this.stack.length-1];if(!de.depth){const Re=this.sliceSerialize(J).length;de.depth=Re}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function N(J){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function ae(){this.data.setextHeadingSlurpLineEnding=void 0}function te(J){const Re=this.stack[this.stack.length-1].children;let Ze=Re[Re.length-1];(!Ze||Ze.type!=="text")&&(Ze=pn(),Ze.position={start:sl(J.start),end:void 0},Re.push(Ze)),this.stack.push(Ze)}function z(J){const de=this.stack.pop();de.value+=this.sliceSerialize(J),de.position.end=sl(J.end)}function H(J){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=de.children[de.children.length-1];Re.position.end=sl(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(te.call(this,J),z.call(this,J))}function W(){this.data.atHardBreak=!0}function fe(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J}function oe(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J}function ne(){const J=this.resume(),de=this.stack[this.stack.length-1];de.value=J}function U(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=de,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ie(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=de,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function me(J){const de=this.sliceSerialize(J),Re=this.stack[this.stack.length-2];Re.label=Xie(de),Re.identifier=ar(de).toLowerCase()}function be(){const J=this.stack[this.stack.length-1],de=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const Ze=J.children;Re.children=Ze}else Re.alt=de}function P(){const J=this.resume(),de=this.stack[this.stack.length-1];de.url=J}function M(){const J=this.resume(),de=this.stack[this.stack.length-1];de.title=J}function Y(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function he(J){const de=this.resume(),Re=this.stack[this.stack.length-1];Re.label=de,Re.identifier=ar(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function _e(J){this.data.characterReferenceType=J.type}function we(J){const de=this.sliceSerialize(J),Re=this.data.characterReferenceType;let Ze;Re?(Ze=BL(de,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ze=ex(de);const nt=this.stack[this.stack.length-1];nt.value+=Ze}function Be(J){const de=this.stack.pop();de.position.end=sl(J.end)}function mt(J){z.call(this,J);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(J)}function st(J){z.call(this,J);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(J)}function Tn(){return{type:"blockquote",children:[]}}function Vi(){return{type:"code",lang:null,meta:null,value:""}}function Nt(){return{type:"inlineCode",value:""}}function Xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qi(){return{type:"emphasis",children:[]}}function pr(){return{type:"heading",depth:0,children:[]}}function Zt(){return{type:"break"}}function mr(){return{type:"html",value:""}}function Ur(){return{type:"image",title:null,url:"",alt:null}}function Rs(){return{type:"link",title:null,url:"",children:[]}}function Xr(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Ml(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Il(){return{type:"paragraph",children:[]}}function Dl(){return{type:"strong",children:[]}}function pn(){return{type:"text",value:""}}function Na(){return{type:"thematicBreak"}}}function sl(n){return{line:n.line,column:n.column,offset:n.offset}}function GL(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?GL(n,i):qie(n,i)}}function qie(n,e){let t;for(t in e)if(HL.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function VP(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+xh({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+xh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+xh({start:e.start,end:e.end})+") is still open")}function Yie(n){const e=this;e.parser=t;function t(i){return jie(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Fie(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function Wie(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Hie(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function Gie(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Kie(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Jie(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Zc(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let l,o=n.footnoteCounts.get(i);o===void 0?(o=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=s+1,o+=1,n.footnoteCounts.set(i,o);const u={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return n.patch(e,f),n.applyData(e,f)}function ere(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function tre(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function KL(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function nre(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return KL(n,e);const r={src:Zc(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,s),n.applyData(e,s)}function ire(n,e){const t={src:Zc(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function rre(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function sre(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return KL(n,e);const r={href:Zc(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function lre(n,e){const t={href:Zc(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function are(n,e,t){const i=n.all(e),r=t?ore(t):JL(e),s={},l=[];if(typeof e.checked=="boolean"){const d=i[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(r||o!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?l.push(...d.children):l.push(d)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:l};return n.patch(e,f),n.applyData(e,f)}function ore(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=JL(t[i])}return e}function JL(n){const e=n.spread;return e??n.children.length>1}function cre(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function ure(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function hre(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function fre(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function dre(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),r.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=Ww(e.children[1]),u=RL(e.children[e.children.length-1]);o&&u&&(l.position={start:o,end:u}),r.push(l)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function pre(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,o=l?l.length:e.children.length;let u=-1;const f=[];for(;++u<o;){const m=e.children[u],g={},y=l?l[u]:void 0;y&&(g.align=y);let S={type:"element",tagName:s,properties:g,children:[]};m&&(S.children=n.all(m),n.patch(m,S),S=n.applyData(m,S)),f.push(S)}const d={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(e,d),n.applyData(e,d)}function mre(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const qP=9,YP=32;function gre(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const s=[];for(;i;)s.push(FP(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return s.push(FP(e.slice(r),r>0,!1)),s.join("")}function FP(n,e,t){let i=0,r=n.length;if(e){let s=n.codePointAt(i);for(;s===qP||s===YP;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(r-1);for(;s===qP||s===YP;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function Ore(n,e){const t={type:"text",value:gre(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function yre(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const bre={blockquote:Fie,break:Wie,code:Hie,delete:Gie,emphasis:Kie,footnoteReference:Jie,heading:ere,html:tre,imageReference:nre,image:ire,inlineCode:rre,linkReference:sre,link:lre,listItem:are,list:cre,paragraph:ure,root:hre,strong:fre,table:dre,tableCell:mre,tableRow:pre,text:Ore,thematicBreak:yre,toml:$p,yaml:$p,definition:$p,footnoteDefinition:$p};function $p(){}const ez=-1,Wg=0,_h=1,cg=2,nx=3,ix=4,rx=5,sx=6,tz=7,nz=8,WP=typeof self=="object"?self:globalThis,Sre=(n,e)=>{const t=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,l]=e[r];switch(s){case Wg:case ez:return t(l,r);case _h:{const o=t([],r);for(const u of l)o.push(i(u));return o}case cg:{const o=t({},r);for(const[u,f]of l)o[i(u)]=i(f);return o}case nx:return t(new Date(l),r);case ix:{const{source:o,flags:u}=l;return t(new RegExp(o,u),r)}case rx:{const o=t(new Map,r);for(const[u,f]of l)o.set(i(u),i(f));return o}case sx:{const o=t(new Set,r);for(const u of l)o.add(i(u));return o}case tz:{const{name:o,message:u}=l;return t(new WP[o](u),r)}case nz:return t(BigInt(l),r);case"BigInt":return t(Object(BigInt(l)),r);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return t(new DataView(o),l)}}return t(new WP[s](l),r)};return i},HP=n=>Sre(new Map,n)(0),To="",{toString:vre}={},{keys:wre}=Object,Ju=n=>{const e=typeof n;if(e!=="object"||!n)return[Wg,e];const t=vre.call(n).slice(8,-1);switch(t){case"Array":return[_h,To];case"Object":return[cg,To];case"Date":return[nx,To];case"RegExp":return[ix,To];case"Map":return[rx,To];case"Set":return[sx,To];case"DataView":return[_h,t]}return t.includes("Array")?[_h,t]:t.includes("Error")?[tz,t]:[cg,t]},Mp=([n,e])=>n===Wg&&(e==="function"||e==="symbol"),xre=(n,e,t,i)=>{const r=(l,o)=>{const u=i.push(l)-1;return t.set(o,u),u},s=l=>{if(t.has(l))return t.get(l);let[o,u]=Ju(l);switch(o){case Wg:{let d=l;switch(u){case"bigint":o=nz,d=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return r([ez],l)}return r([o,d],l)}case _h:{if(u){let g=l;return u==="DataView"?g=new Uint8Array(l.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(l)),r([u,[...g]],l)}const d=[],m=r([o,d],l);for(const g of l)d.push(s(g));return m}case cg:{if(u)switch(u){case"BigInt":return r([u,l.toString()],l);case"Boolean":case"Number":case"String":return r([u,l.valueOf()],l)}if(e&&"toJSON"in l)return s(l.toJSON());const d=[],m=r([o,d],l);for(const g of wre(l))(n||!Mp(Ju(l[g])))&&d.push([s(g),s(l[g])]);return m}case nx:return r([o,l.toISOString()],l);case ix:{const{source:d,flags:m}=l;return r([o,{source:d,flags:m}],l)}case rx:{const d=[],m=r([o,d],l);for(const[g,y]of l)(n||!(Mp(Ju(g))||Mp(Ju(y))))&&d.push([s(g),s(y)]);return m}case sx:{const d=[],m=r([o,d],l);for(const g of l)(n||!Mp(Ju(g)))&&d.push(s(g));return m}}const{message:f}=l;return r([o,{name:u,message:f}],l)};return s},GP=(n,{json:e,lossy:t}={})=>{const i=[];return xre(!(e||t),!!e,new Map,i)(n),i},ug=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?HP(GP(n,e)):structuredClone(n):(n,e)=>HP(GP(n,e));function kre(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function _re(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Tre(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||kre,i=n.options.footnoteBackLabel||_re,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[u]);if(!f)continue;const d=n.all(f),m=String(f.identifier).toUpperCase(),g=Zc(m.toLowerCase());let y=0;const S=[],v=n.footnoteCounts.get(m);for(;v!==void 0&&++y<=v;){S.length>0&&S.push({type:"text",value:" "});let C=typeof t=="string"?t:t(u,y);typeof C=="string"&&(C={type:"text",value:C}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,y),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const C=x.children[x.children.length-1];C&&C.type==="text"?C.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...S)}else d.push(...S);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:n.wrap(d,!0)};n.patch(f,k),o.push(k)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ug(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(o,!0)},{type:"text",value:`
`}]}}const Hg=(function(n){if(n==null)return Qre;if(typeof n=="function")return Gg(n);if(typeof n=="object")return Array.isArray(n)?Cre(n):Ere(n);if(typeof n=="string")return Are(n);throw new Error("Expected function, string, or object as test")});function Cre(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Hg(n[t]);return Gg(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function Ere(n){const e=n;return Gg(t);function t(i){const r=i;let s;for(s in n)if(r[s]!==e[s])return!1;return!0}}function Are(n){return Gg(e);function e(t){return t&&t.type===n}}function Gg(n){return e;function e(t,i,r){return!!(Pre(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function Qre(){return!0}function Pre(n){return n!==null&&typeof n=="object"&&"type"in n}const iz=[],Rre=!0,Rv=!1,$re="skip";function rz(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const s=Hg(r),l=i?-1:1;o(n,void 0,[])();function o(u,f,d){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=iz,S,v,x;if((!e||s(u,f,d[d.length-1]||void 0))&&(y=Mre(t(u,d)),y[0]===Rv))return y;if("children"in u&&u.children){const k=u;if(k.children&&y[0]!==$re)for(v=(i?k.children.length:-1)+l,x=d.concat(k);v>-1&&v<k.children.length;){const C=k.children[v];if(S=o(C,v,x)(),S[0]===Rv)return S;v=typeof S[1]=="number"?S[1]:v+l}}return y}}}function Mre(n){return Array.isArray(n)?n:typeof n=="number"?[Rre,n]:n==null?iz:[n]}function lx(n,e,t,i){let r,s,l;typeof e=="function"&&typeof t!="function"?(s=void 0,l=e,r=t):(s=e,l=t,r=i),rz(n,s,o,r);function o(u,f){const d=f[f.length-1],m=d?d.children.indexOf(u):void 0;return l(u,m,d)}}const $v={}.hasOwnProperty,Ire={};function Dre(n,e){const t=e||Ire,i=new Map,r=new Map,s=new Map,l={...bre,...t.handlers},o={all:f,applyData:Lre,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:l,one:u,options:t,patch:Nre,wrap:Bre};return lx(n,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?i:r,g=String(d.identifier).toUpperCase();m.has(g)||m.set(g,d)}}),o;function u(d,m){const g=d.type,y=o.handlers[g];if($v.call(o.handlers,g)&&y)return y(o,d,m);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in d){const{children:v,...x}=d,k=ug(x);return k.children=o.all(d),k}return ug(d)}return(o.options.unknownHandler||zre)(o,d,m)}function f(d){const m=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const S=o.one(g[y],d);if(S){if(y&&g[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=KP(S.value)),!Array.isArray(S)&&S.type==="element")){const v=S.children[0];v&&v.type==="text"&&(v.value=KP(v.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function Nre(n,e){n.position&&(e.position=_te(n))}function Lre(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&s&&Object.assign(t.properties,ug(s)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function zre(n,e){const t=e.data||{},i="value"in e&&!($v.call(t,"hProperties")||$v.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Bre(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function KP(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function JP(n,e){const t=Dre(n,e),i=t.one(n,void 0),r=Tre(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Ure(n,e){return n&&"run"in n?async function(t,i){const r=JP(t,{file:i,...e});await n.run(r,i)}:function(t,i){return JP(t,{file:i,...n||e})}}function eR(n){if(n)throw n}var Rb,tR;function Xre(){if(tR)return Rb;tR=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},s=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var d=n.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!m)return!1;var g;for(g in f);return typeof g>"u"||n.call(f,g)},l=function(f,d){t&&d.name==="__proto__"?t(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},o=function(f,d){if(d==="__proto__")if(n.call(f,d)){if(i)return i(f,d).value}else return;return f[d]};return Rb=function u(){var f,d,m,g,y,S,v=arguments[0],x=1,k=arguments.length,C=!1;for(typeof v=="boolean"&&(C=v,v=arguments[1]||{},x=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});x<k;++x)if(f=arguments[x],f!=null)for(d in f)m=o(v,d),g=o(f,d),v!==g&&(C&&g&&(s(g)||(y=r(g)))?(y?(y=!1,S=m&&r(m)?m:[]):S=m&&s(m)?m:{},l(v,{name:d,newValue:u(C,S,g)})):typeof g<"u"&&l(v,{name:d,newValue:g}));return v},Rb}var Zre=Xre();const $b=zv(Zre);function Mv(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function jre(){const n=[],e={run:t,use:i};return e;function t(...r){let s=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...r);function o(u,...f){const d=n[++s];let m=-1;if(u){l(u);return}for(;++m<r.length;)(f[m]===null||f[m]===void 0)&&(f[m]=r[m]);r=f,d?Vre(d,o)(...f):l(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Vre(n,e){let t;return i;function i(...l){const o=n.length>l.length;let u;o&&l.push(r);try{u=n.apply(this,l)}catch(f){const d=f;if(o&&t)throw d;return r(d)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,r):u instanceof Error?r(u):s(u))}function r(l,...o){t||(t=!0,e(l,...o))}function s(l){r(null,l)}}const _r={basename:qre,dirname:Yre,extname:Fre,join:Wre,sep:"/"};function qre(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Bf(n);let t=0,i=-1,r=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,o=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else l<0&&(s=!0,l=r+1),o>-1&&(n.codePointAt(r)===e.codePointAt(o--)?o<0&&(i=r):(o=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function Yre(n){if(Bf(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Fre(n){Bf(n);let e=n.length,t=-1,i=0,r=-1,s=0,l;for(;e--;){const o=n.codePointAt(e);if(o===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),o===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||t<0||s===0||s===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Wre(...n){let e=-1,t;for(;++e<n.length;)Bf(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Hre(t)}function Hre(n){Bf(n);const e=n.codePointAt(0)===47;let t=Gre(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Gre(n,e){let t="",i=0,r=-1,s=0,l=-1,o,u;for(;++l<=n.length;){if(l<n.length)o=n.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(r===l-1||s===1))if(r!==l-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",i=0):(t=t.slice(0,u),i=t.length-1-t.lastIndexOf("/")),r=l,s=0;continue}}else if(t.length>0){t="",i=0,r=l,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,l):t=n.slice(r+1,l),i=l-r-1;r=l,s=0}else o===46&&s>-1?s++:s=-1}return t}function Bf(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Kre={cwd:Jre};function Jre(){return"/"}function Iv(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function ese(n){if(typeof n=="string")n=new URL(n);else if(!Iv(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return tse(n)}function tse(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Mb=["history","path","basename","stem","extname","dirname"];class sz{constructor(e){let t;e?Iv(e)?t={path:e}:typeof e=="string"||nse(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Kre.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Mb.length;){const s=Mb[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let r;for(r in t)Mb.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?_r.basename(this.path):void 0}set basename(e){Db(e,"basename"),Ib(e,"basename"),this.path=_r.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?_r.dirname(this.path):void 0}set dirname(e){nR(this.basename,"dirname"),this.path=_r.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?_r.extname(this.path):void 0}set extname(e){if(Ib(e,"extname"),nR(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_r.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Iv(e)&&(e=ese(e)),Db(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?_r.basename(this.path,this.extname):void 0}set stem(e){Db(e,"stem"),Ib(e,"stem"),this.path=_r.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Mn(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ib(n,e){if(n&&n.includes(_r.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+_r.sep+"`")}function Db(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function nR(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function nse(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const ise=(function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),rse={}.hasOwnProperty;class ax extends ise{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=jre()}copy(){const e=new ax;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data($b(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(zb("data",this.frozen),this.namespace[e]=t,this):rse.call(this.namespace,e)&&this.namespace[e]||void 0:e?(zb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ip(e),i=this.parser||this.Parser;return Nb("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Nb("process",this.parser||this.Parser),Lb("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(s,l){const o=Ip(e),u=i.parse(o);i.run(u,o,function(d,m,g){if(d||!m||!g)return f(d);const y=m,S=i.stringify(y,g);ase(S)?g.value=S:g.result=S,f(d,g)});function f(d,m){d||!m?l(d):s?s(m):t(void 0,m)}}}processSync(e){let t=!1,i;return this.freeze(),Nb("processSync",this.parser||this.Parser),Lb("processSync",this.compiler||this.Compiler),this.process(e,r),rR("processSync","process",t),i;function r(s,l){t=!0,eR(s),i=l}}run(e,t,i){iR(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(l,o){const u=Ip(t);r.run(e,u,f);function f(d,m,g){const y=m||e;d?o(d):l?l(y):i(void 0,y,g)}}}runSync(e,t){let i=!1,r;return this.run(e,t,s),rR("runSync","run",i),r;function s(l,o){eR(l),r=o,i=!0}}stringify(e,t){this.freeze();const i=Ip(t),r=this.compiler||this.Compiler;return Lb("stringify",r),iR(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(zb("use",this.frozen),e!=null)if(typeof e=="function")u(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...m]=f;u(d,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(f.plugins),f.settings&&(r.settings=$b(!0,r.settings,f.settings))}function o(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const m=f[d];s(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,d){let m=-1,g=-1;for(;++m<i.length;)if(i[m][0]===f){g=m;break}if(g===-1)i.push([f,...d]);else if(d.length>0){let[y,...S]=d;const v=i[g][1];Mv(v)&&Mv(y)&&(y=$b(!0,v,y)),i[g]=[f,y,...S]}}}}const sse=new ax().freeze();function Nb(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Lb(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function zb(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function iR(n){if(!Mv(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function rR(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Ip(n){return lse(n)?n:new sz(n)}function lse(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ase(n){return typeof n=="string"||ose(n)}function ose(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const cse="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sR=[],lR={allowDangerousHtml:!0},use=/^(https?|ircs?|mailto|xmpp)$/i,hse=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fse(n){const e=dse(n),t=pse(n);return mse(e.runSync(e.parse(t),t),n)}function dse(n){const e=n.rehypePlugins||sR,t=n.remarkPlugins||sR,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...lR}:lR;return sse().use(Yie).use(t).use(Ure,i).use(e)}function pse(n){const e=n.children||"",t=new sz;return typeof e=="string"&&(t.value=e),t}function mse(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,l=e.skipHtml,o=e.unwrapDisallowed,u=e.urlTransform||gse;for(const d of hse)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+cse+d.id,void 0);return e.className&&(n={type:"element",tagName:"div",properties:{className:e.className},children:n.type==="root"?n.children:[n]}),lx(n,f),Qte(n,{Fragment:A.Fragment,components:r,ignoreInvalidStyle:!0,jsx:A.jsx,jsxs:A.jsxs,passKeys:!0,passNode:!0});function f(d,m,g){if(d.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let y;for(y in Ab)if(Object.hasOwn(Ab,y)&&Object.hasOwn(d.properties,y)){const S=d.properties[y],v=Ab[y];(v===null||v.includes(d.tagName))&&(d.properties[y]=u(String(S||""),y,d))}}if(d.type==="element"){let y=t?!t.includes(d.tagName):s?s.includes(d.tagName):!1;if(!y&&i&&typeof m=="number"&&(y=!i(d,m,g)),y&&g&&typeof m=="number")return o&&d.children?g.children.splice(m,1,...d.children):g.children.splice(m,1),m}}}function gse(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||use.test(n.slice(0,e))?n:""}function aR(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function Ose(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yse(n,e,t){const r=Hg((t||{}).ignore||[]),s=bse(e);let l=-1;for(;++l<s.length;)rz(n,"text",o);function o(f,d){let m=-1,g;for(;++m<d.length;){const y=d[m],S=g?g.children:void 0;if(r(y,S?S.indexOf(y):void 0,g))return;g=y}if(g)return u(f,d)}function u(f,d){const m=d[d.length-1],g=s[l][0],y=s[l][1];let S=0;const x=m.children.indexOf(f);let k=!1,C=[];g.lastIndex=0;let T=g.exec(f.value);for(;T;){const X=T.index,L={index:T.index,input:T.input,stack:[...d,f]};let R=y(...T,L);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?g.lastIndex=X+1:(S!==X&&C.push({type:"text",value:f.value.slice(S,X)}),Array.isArray(R)?C.push(...R):R&&C.push(R),S=X+T[0].length,k=!0),!g.global)break;T=g.exec(f.value)}return k?(S<f.value.length&&C.push({type:"text",value:f.value.slice(S)}),m.children.splice(x,1,...C)):C=[f],x+C.length}}function bse(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<t.length;){const r=t[i];e.push([Sse(r[0]),vse(r[1])])}return e}function Sse(n){return typeof n=="string"?new RegExp(Ose(n),"g"):n}function vse(n){return typeof n=="function"?n:function(){return n}}const Bb="phrasing",Ub=["autolink","link","image","label"];function wse(){return{transforms:[Ase],enter:{literalAutolink:kse,literalAutolinkEmail:Xb,literalAutolinkHttp:Xb,literalAutolinkWww:Xb},exit:{literalAutolink:Ese,literalAutolinkEmail:Cse,literalAutolinkHttp:_se,literalAutolinkWww:Tse}}}function xse(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bb,notInConstruct:Ub},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bb,notInConstruct:Ub},{character:":",before:"[ps]",after:"\\/",inConstruct:Bb,notInConstruct:Ub}]}}function kse(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Xb(n){this.config.enter.autolinkProtocol.call(this,n)}function _se(n){this.config.exit.autolinkProtocol.call(this,n)}function Tse(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function Cse(n){this.config.exit.autolinkEmail.call(this,n)}function Ese(n){this.exit(n)}function Ase(n){yse(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Qse],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Pse]],{ignore:["link","linkReference"]})}function Qse(n,e,t,i,r){let s="";if(!lz(r)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!Rse(t)))return!1;const l=$se(t+i);if(!l[0])return!1;const o={type:"link",title:null,url:s+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[o,{type:"text",value:l[1]}]:o}function Pse(n,e,t,i){return!lz(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function Rse(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function $se(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=aR(n,"(");let s=aR(n,")");for(;i!==-1&&r>s;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),s++;return[n,t]}function lz(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||Pa(t)||Yg(t))&&(!e||t!==47)}az.peek=Xse;function Mse(){this.buffer()}function Ise(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function Dse(){this.buffer()}function Nse(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function Lse(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=ar(this.sliceSerialize(n)).toLowerCase(),t.label=e}function zse(n){this.exit(n)}function Bse(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=ar(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Use(n){this.exit(n)}function Xse(){return"["}function az(n,e,t,i){const r=t.createTracker(i);let s=r.move("[^");const l=t.enter("footnoteReference"),o=t.enter("reference");return s+=r.move(t.safe(t.associationId(n),{after:"]",before:s})),o(),l(),s+=r.move("]"),s}function Zse(){return{enter:{gfmFootnoteCallString:Mse,gfmFootnoteCall:Ise,gfmFootnoteDefinitionLabelString:Dse,gfmFootnoteDefinition:Nse},exit:{gfmFootnoteCallString:Lse,gfmFootnoteCall:zse,gfmFootnoteDefinitionLabelString:Bse,gfmFootnoteDefinition:Use}}}function jse(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:az},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(i,r,s,l){const o=s.createTracker(l);let u=o.move("[^");const f=s.enter("footnoteDefinition"),d=s.enter("label");return u+=o.move(s.safe(s.associationId(i),{before:u,after:"]"})),d(),u+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),u+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,o.current()),e?oz:Vse))),f(),u}}function Vse(n,e,t){return e===0?n:oz(n,e,t)}function oz(n,e,t){return(t?"":"    ")+n}const qse=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cz.peek=Gse;function Yse(){return{canContainEols:["delete"],enter:{strikethrough:Wse},exit:{strikethrough:Hse}}}function Fse(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:qse}],handlers:{delete:cz}}}function Wse(n){this.enter({type:"delete",children:[]},n)}function Hse(n){this.exit(n)}function cz(n,e,t,i){const r=t.createTracker(i),s=t.enter("strikethrough");let l=r.move("~~");return l+=t.containerPhrasing(n,{...r.current(),before:l,after:"~"}),l+=r.move("~~"),s(),l}function Gse(){return"~"}function Kse(n){return n.length}function Jse(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||Kse,s=[],l=[],o=[],u=[];let f=0,d=-1;for(;++d<n.length;){const v=[],x=[];let k=-1;for(n[d].length>f&&(f=n[d].length);++k<n[d].length;){const C=ele(n[d][k]);if(t.alignDelimiters!==!1){const T=r(C);x[k]=T,(u[k]===void 0||T>u[k])&&(u[k]=T)}v.push(C)}l[d]=v,o[d]=x}let m=-1;if(typeof i=="object"&&"length"in i)for(;++m<f;)s[m]=oR(i[m]);else{const v=oR(i);for(;++m<f;)s[m]=v}m=-1;const g=[],y=[];for(;++m<f;){const v=s[m];let x="",k="";v===99?(x=":",k=":"):v===108?x=":":v===114&&(k=":");let C=t.alignDelimiters===!1?1:Math.max(1,u[m]-x.length-k.length);const T=x+"-".repeat(C)+k;t.alignDelimiters!==!1&&(C=x.length+C+k.length,C>u[m]&&(u[m]=C),y[m]=C),g[m]=T}l.splice(1,0,g),o.splice(1,0,y),d=-1;const S=[];for(;++d<l.length;){const v=l[d],x=o[d];m=-1;const k=[];for(;++m<f;){const C=v[m]||"";let T="",X="";if(t.alignDelimiters!==!1){const L=u[m]-(x[m]||0),R=s[m];R===114?T=" ".repeat(L):R===99?L%2?(T=" ".repeat(L/2+.5),X=" ".repeat(L/2-.5)):(T=" ".repeat(L/2),X=T):X=" ".repeat(L)}t.delimiterStart!==!1&&!m&&k.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&C==="")&&(t.delimiterStart!==!1||m)&&k.push(" "),t.alignDelimiters!==!1&&k.push(T),k.push(C),t.alignDelimiters!==!1&&k.push(X),t.padding!==!1&&k.push(" "),(t.delimiterEnd!==!1||m!==f-1)&&k.push("|")}S.push(t.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return S.join(`
`)}function ele(n){return n==null?"":String(n)}function oR(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function tle(n,e,t,i){const r=t.enter("blockquote"),s=t.createTracker(i);s.move("> "),s.shift(2);const l=t.indentLines(t.containerFlow(n,s.current()),nle);return r(),l}function nle(n,e,t){return">"+(t?"":" ")+n}function ile(n,e){return cR(n,e.inConstruct,!0)&&!cR(n,e.notInConstruct,!1)}function cR(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function uR(n,e,t,i){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&ile(t.stack,t.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function rle(n,e){const t=String(n);let i=t.indexOf(e),r=i,s=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>l&&(l=s):s=1,r=i+e.length,i=t.indexOf(e,r);return l}function sle(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function lle(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function ale(n,e,t,i){const r=lle(t),s=n.value||"",l=r==="`"?"GraveAccent":"Tilde";if(sle(n,t)){const m=t.enter("codeIndented"),g=t.indentLines(s,ole);return m(),g}const o=t.createTracker(i),u=r.repeat(Math.max(rle(s,r)+1,3)),f=t.enter("codeFenced");let d=o.move(u);if(n.lang){const m=t.enter(`codeFencedLang${l}`);d+=o.move(t.safe(n.lang,{before:d,after:" ",encode:["`"],...o.current()})),m()}if(n.lang&&n.meta){const m=t.enter(`codeFencedMeta${l}`);d+=o.move(" "),d+=o.move(t.safe(n.meta,{before:d,after:`
`,encode:["`"],...o.current()})),m()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(u),f(),d}function ole(n,e,t){return(t?"":"    ")+n}function ox(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function cle(n,e,t,i){const r=ox(t),s=r==='"'?"Quote":"Apostrophe",l=t.enter("definition");let o=t.enter("label");const u=t.createTracker(i);let f=u.move("[");return f+=u.move(t.safe(t.associationId(n),{before:f,after:"]",...u.current()})),f+=u.move("]: "),o(),!n.url||/[\0- \u007F]/.test(n.url)?(o=t.enter("destinationLiteral"),f+=u.move("<"),f+=u.move(t.safe(n.url,{before:f,after:">",...u.current()})),f+=u.move(">")):(o=t.enter("destinationRaw"),f+=u.move(t.safe(n.url,{before:f,after:n.title?" ":`
`,...u.current()}))),o(),n.title&&(o=t.enter(`title${s}`),f+=u.move(" "+r),f+=u.move(t.safe(n.title,{before:f,after:r,...u.current()})),f+=u.move(r),o()),l(),f}function ule(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function cf(n){return"&#x"+n.toString(16).toUpperCase()+";"}function hg(n,e,t){const i=vc(n),r=vc(e);return i===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}uz.peek=hle;function uz(n,e,t,i){const r=ule(t),s=t.enter("emphasis"),l=t.createTracker(i),o=l.move(r);let u=l.move(t.containerPhrasing(n,{after:r,before:o,...l.current()}));const f=u.charCodeAt(0),d=hg(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(u=cf(f)+u.slice(1));const m=u.charCodeAt(u.length-1),g=hg(i.after.charCodeAt(0),m,r);g.inside&&(u=u.slice(0,-1)+cf(m));const y=l.move(r);return s(),t.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},o+u+y}function hle(n,e,t){return t.options.emphasis||"*"}function fle(n,e){let t=!1;return lx(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return t=!0,Rv}),!!((!n.depth||n.depth<3)&&Jw(n)&&(e.options.setext||t))}function dle(n,e,t,i){const r=Math.max(Math.min(6,n.depth||1),1),s=t.createTracker(i);if(fle(n,t)){const d=t.enter("headingSetext"),m=t.enter("phrasing"),g=t.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return m(),d(),g+`
`+(r===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(r),o=t.enter("headingAtx"),u=t.enter("phrasing");s.move(l+" ");let f=t.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(f)&&(f=cf(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,t.options.closeAtx&&(f+=" "+l),u(),o(),f}hz.peek=ple;function hz(n){return n.value||""}function ple(){return"<"}fz.peek=mle;function fz(n,e,t,i){const r=ox(t),s=r==='"'?"Quote":"Apostrophe",l=t.enter("image");let o=t.enter("label");const u=t.createTracker(i);let f=u.move("![");return f+=u.move(t.safe(n.alt,{before:f,after:"]",...u.current()})),f+=u.move("]("),o(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(o=t.enter("destinationLiteral"),f+=u.move("<"),f+=u.move(t.safe(n.url,{before:f,after:">",...u.current()})),f+=u.move(">")):(o=t.enter("destinationRaw"),f+=u.move(t.safe(n.url,{before:f,after:n.title?" ":")",...u.current()}))),o(),n.title&&(o=t.enter(`title${s}`),f+=u.move(" "+r),f+=u.move(t.safe(n.title,{before:f,after:r,...u.current()})),f+=u.move(r),o()),f+=u.move(")"),l(),f}function mle(){return"!"}dz.peek=gle;function dz(n,e,t,i){const r=n.referenceType,s=t.enter("imageReference");let l=t.enter("label");const o=t.createTracker(i);let u=o.move("![");const f=t.safe(n.alt,{before:u,after:"]",...o.current()});u+=o.move(f+"]["),l();const d=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(n),{before:u,after:"]",...o.current()});return l(),t.stack=d,s(),r==="full"||!f||f!==m?u+=o.move(m+"]"):r==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function gle(){return"!"}pz.peek=Ole;function pz(n,e,t){let i=n.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<t.unsafe.length;){const l=t.unsafe[s],o=t.compilePattern(l);let u;if(l.atBreak)for(;u=o.exec(i);){let f=u.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(u.index+1)}}return r+i+r}function Ole(){return"`"}function mz(n,e){const t=Jw(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}gz.peek=yle;function gz(n,e,t,i){const r=ox(t),s=r==='"'?"Quote":"Apostrophe",l=t.createTracker(i);let o,u;if(mz(n,t)){const d=t.stack;t.stack=[],o=t.enter("autolink");let m=l.move("<");return m+=l.move(t.containerPhrasing(n,{before:m,after:">",...l.current()})),m+=l.move(">"),o(),t.stack=d,m}o=t.enter("link"),u=t.enter("label");let f=l.move("[");return f+=l.move(t.containerPhrasing(n,{before:f,after:"](",...l.current()})),f+=l.move("]("),u(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(u=t.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(t.safe(n.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(u=t.enter("destinationRaw"),f+=l.move(t.safe(n.url,{before:f,after:n.title?" ":")",...l.current()}))),u(),n.title&&(u=t.enter(`title${s}`),f+=l.move(" "+r),f+=l.move(t.safe(n.title,{before:f,after:r,...l.current()})),f+=l.move(r),u()),f+=l.move(")"),o(),f}function yle(n,e,t){return mz(n,t)?"<":"["}Oz.peek=ble;function Oz(n,e,t,i){const r=n.referenceType,s=t.enter("linkReference");let l=t.enter("label");const o=t.createTracker(i);let u=o.move("[");const f=t.containerPhrasing(n,{before:u,after:"]",...o.current()});u+=o.move(f+"]["),l();const d=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(n),{before:u,after:"]",...o.current()});return l(),t.stack=d,s(),r==="full"||!f||f!==m?u+=o.move(m+"]"):r==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function ble(){return"["}function cx(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Sle(n){const e=cx(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function vle(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function yz(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function wle(n,e,t,i){const r=t.enter("list"),s=t.bulletCurrent;let l=n.ordered?vle(t):cx(t);const o=n.ordered?l==="."?")":".":Sle(t);let u=e&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!n.ordered){const d=n.children?n.children[0]:void 0;if((l==="*"||l==="-")&&d&&(!d.children||!d.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(u=!0),yz(t)===l&&d){let m=-1;for(;++m<n.children.length;){const g=n.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(l=o),t.bulletCurrent=l;const f=t.containerFlow(n,i);return t.bulletLastUsed=l,t.bulletCurrent=s,r(),f}function xle(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function kle(n,e,t,i){const r=xle(t);let s=t.bulletCurrent||cx(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+s);let l=s.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(l=Math.ceil(l/4)*4);const o=t.createTracker(i);o.move(s+" ".repeat(l-s.length)),o.shift(l);const u=t.enter("listItem"),f=t.indentLines(t.containerFlow(n,o.current()),d);return u(),f;function d(m,g,y){return g?(y?"":" ".repeat(l))+m:(y?s:s+" ".repeat(l-s.length))+m}}function _le(n,e,t,i){const r=t.enter("paragraph"),s=t.enter("phrasing"),l=t.containerPhrasing(n,i);return s(),r(),l}const Tle=Hg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Cle(n,e,t,i){return(n.children.some(function(l){return Tle(l)})?t.containerPhrasing:t.containerFlow).call(t,n,i)}function Ele(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}bz.peek=Ale;function bz(n,e,t,i){const r=Ele(t),s=t.enter("strong"),l=t.createTracker(i),o=l.move(r+r);let u=l.move(t.containerPhrasing(n,{after:r,before:o,...l.current()}));const f=u.charCodeAt(0),d=hg(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(u=cf(f)+u.slice(1));const m=u.charCodeAt(u.length-1),g=hg(i.after.charCodeAt(0),m,r);g.inside&&(u=u.slice(0,-1)+cf(m));const y=l.move(r+r);return s(),t.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},o+u+y}function Ale(n,e,t){return t.options.strong||"*"}function Qle(n,e,t,i){return t.safe(n.value,i)}function Ple(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Rle(n,e,t){const i=(yz(t)+(t.options.ruleSpaces?" ":"")).repeat(Ple(t));return t.options.ruleSpaces?i.slice(0,-1):i}const Sz={blockquote:tle,break:uR,code:ale,definition:cle,emphasis:uz,hardBreak:uR,heading:dle,html:hz,image:fz,imageReference:dz,inlineCode:pz,link:gz,linkReference:Oz,list:wle,listItem:kle,paragraph:_le,root:Cle,strong:bz,text:Qle,thematicBreak:Rle};function $le(){return{enter:{table:Mle,tableData:hR,tableHeader:hR,tableRow:Dle},exit:{codeText:Nle,table:Ile,tableData:Zb,tableHeader:Zb,tableRow:Zb}}}function Mle(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function Ile(n){this.exit(n),this.data.inTable=void 0}function Dle(n){this.enter({type:"tableRow",children:[]},n)}function Zb(n){this.exit(n)}function hR(n){this.enter({type:"tableCell",children:[]},n)}function Nle(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Lle));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function Lle(n,e){return e==="|"?e:n}function zle(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:u,tableRow:o}};function l(y,S,v,x){return f(d(y,v,x),y.align)}function o(y,S,v,x){const k=m(y,v,x),C=f([k]);return C.slice(0,C.indexOf(`
`))}function u(y,S,v,x){const k=v.enter("tableCell"),C=v.enter("phrasing"),T=v.containerPhrasing(y,{...x,before:s,after:s});return C(),k(),T}function f(y,S){return Jse(y,{align:S,alignDelimiters:i,padding:t,stringLength:r})}function d(y,S,v){const x=y.children;let k=-1;const C=[],T=S.enter("table");for(;++k<x.length;)C[k]=m(x[k],S,v);return T(),C}function m(y,S,v){const x=y.children;let k=-1;const C=[],T=S.enter("tableRow");for(;++k<x.length;)C[k]=u(x[k],y,S,v);return T(),C}function g(y,S,v){let x=Sz.inlineCode(y,S,v);return v.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Ble(){return{exit:{taskListCheckValueChecked:fR,taskListCheckValueUnchecked:fR,paragraph:Xle}}}function Ule(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Zle}}}function fR(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function Xle(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const i=t.children[0];if(i&&i.type==="text"){const r=e.children;let s=-1,l;for(;++s<r.length;){const o=r[s];if(o.type==="paragraph"){l=o;break}}l===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function Zle(n,e,t,i){const r=n.children[0],s=typeof n.checked=="boolean"&&r&&r.type==="paragraph",l="["+(n.checked?"x":" ")+"] ",o=t.createTracker(i);s&&o.move(l);let u=Sz.listItem(n,e,t,{...i,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),u;function f(d){return d+l}}function jle(){return[wse(),Zse(),Yse(),$le(),Ble()]}function Vle(n){return{extensions:[xse(),jse(n),Fse(),zle(n),Ule()]}}const qle={tokenize:Kle,partial:!0},vz={tokenize:Jle,partial:!0},wz={tokenize:eae,partial:!0},xz={tokenize:tae,partial:!0},Yle={tokenize:nae,partial:!0},kz={name:"wwwAutolink",tokenize:Hle,previous:Tz},_z={name:"protocolAutolink",tokenize:Gle,previous:Cz},Ps={name:"emailAutolink",tokenize:Wle,previous:Ez},Br={};function Fle(){return{text:Br}}let ia=48;for(;ia<123;)Br[ia]=Ps,ia++,ia===58?ia=65:ia===91&&(ia=97);Br[43]=Ps;Br[45]=Ps;Br[46]=Ps;Br[95]=Ps;Br[72]=[Ps,_z];Br[104]=[Ps,_z];Br[87]=[Ps,kz];Br[119]=[Ps,kz];function Wle(n,e,t){const i=this;let r,s;return l;function l(m){return!Dv(m)||!Ez.call(i,i.previous)||ux(i.events)?t(m):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(m))}function o(m){return Dv(m)?(n.consume(m),o):m===64?(n.consume(m),u):t(m)}function u(m){return m===46?n.check(Yle,d,f)(m):m===45||m===95||Pn(m)?(s=!0,n.consume(m),u):d(m)}function f(m){return n.consume(m),r=!0,u}function d(m){return s&&r&&Nn(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(m)):t(m)}}function Hle(n,e,t){const i=this;return r;function r(l){return l!==87&&l!==119||!Tz.call(i,i.previous)||ux(i.events)?t(l):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(qle,n.attempt(vz,n.attempt(wz,s),t),t)(l))}function s(l){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(l)}}function Gle(n,e,t){const i=this;let r="",s=!1;return l;function l(m){return(m===72||m===104)&&Cz.call(i,i.previous)&&!ux(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(m),n.consume(m),o):t(m)}function o(m){if(Nn(m)&&r.length<5)return r+=String.fromCodePoint(m),n.consume(m),o;if(m===58){const g=r.toLowerCase();if(g==="http"||g==="https")return n.consume(m),u}return t(m)}function u(m){return m===47?(n.consume(m),s?f:(s=!0,u)):t(m)}function f(m){return m===null||og(m)||Tt(m)||Pa(m)||Yg(m)?t(m):n.attempt(vz,n.attempt(wz,d),t)(m)}function d(m){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(m)}}function Kle(n,e,t){let i=0;return r;function r(l){return(l===87||l===119)&&i<3?(i++,n.consume(l),r):l===46&&i===3?(n.consume(l),s):t(l)}function s(l){return l===null?t(l):e(l)}}function Jle(n,e,t){let i,r,s;return l;function l(f){return f===46||f===95?n.check(xz,u,o)(f):f===null||Tt(f)||Pa(f)||f!==45&&Yg(f)?u(f):(s=!0,n.consume(f),l)}function o(f){return f===95?i=!0:(r=i,i=void 0),n.consume(f),l}function u(f){return r||i||!s?t(f):e(f)}}function eae(n,e){let t=0,i=0;return r;function r(l){return l===40?(t++,n.consume(l),r):l===41&&i<t?s(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?n.check(xz,e,s)(l):l===null||Tt(l)||Pa(l)?e(l):(n.consume(l),r)}function s(l){return l===41&&i++,n.consume(l),r}}function tae(n,e,t){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(n.consume(o),i):o===38?(n.consume(o),s):o===93?(n.consume(o),r):o===60||o===null||Tt(o)||Pa(o)?e(o):t(o)}function r(o){return o===null||o===40||o===91||Tt(o)||Pa(o)?e(o):i(o)}function s(o){return Nn(o)?l(o):t(o)}function l(o){return o===59?(n.consume(o),i):Nn(o)?(n.consume(o),l):t(o)}}function nae(n,e,t){return i;function i(s){return n.consume(s),r}function r(s){return Pn(s)?t(s):e(s)}}function Tz(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Tt(n)}function Cz(n){return!Nn(n)}function Ez(n){return!(n===47||Dv(n))}function Dv(n){return n===43||n===45||n===46||n===95||Pn(n)}function ux(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const iae={tokenize:hae,partial:!0};function rae(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:oae,continuation:{tokenize:cae},exit:uae}},text:{91:{name:"gfmFootnoteCall",tokenize:aae},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sae,resolveTo:lae}}}}function sae(n,e,t){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l;for(;r--;){const u=i.events[r][1];if(u.type==="labelImage"){l=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!l||!l._balanced)return t(u);const f=ar(i.sliceSerialize({start:l.end,end:i.now()}));return f.codePointAt(0)!==94||!s.includes(f.slice(1))?t(u):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(u),n.exit("gfmFootnoteCallLabelMarker"),e(u))}}function lae(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",s,e],["enter",l,e],["exit",l,e],["exit",s,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...o),n}function aae(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,l;return o;function o(m){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),u}function u(m){return m!==94?t(m):(n.enter("gfmFootnoteCallMarker"),n.consume(m),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",f)}function f(m){if(s>999||m===93&&!l||m===null||m===91||Tt(m))return t(m);if(m===93){n.exit("chunkString");const g=n.exit("gfmFootnoteCallString");return r.includes(ar(i.sliceSerialize(g)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(m)}return Tt(m)||(l=!0),s++,n.consume(m),m===92?d:f}function d(m){return m===91||m===92||m===93?(n.consume(m),s++,f):f(m)}}function oae(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,l=0,o;return u;function u(S){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",d):t(S)}function d(S){if(l>999||S===93&&!o||S===null||S===91||Tt(S))return t(S);if(S===93){n.exit("chunkString");const v=n.exit("gfmFootnoteDefinitionLabelString");return s=ar(i.sliceSerialize(v)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),g}return Tt(S)||(o=!0),l++,n.consume(S),S===92?m:d}function m(S){return S===91||S===92||S===93?(n.consume(S),l++,d):d(S)}function g(S){return S===58?(n.enter("definitionMarker"),n.consume(S),n.exit("definitionMarker"),r.includes(s)||r.push(s),rt(n,y,"gfmFootnoteDefinitionWhitespace")):t(S)}function y(S){return e(S)}}function cae(n,e,t){return n.check(zf,e,n.attempt(iae,e,t))}function uae(n){n.exit("gfmFootnoteDefinition")}function hae(n,e,t){const i=this;return rt(n,r,"gfmFootnoteDefinitionIndent",5);function r(s){const l=i.events[i.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(s):t(s)}}function fae(n){let t=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(l,o){let u=-1;for(;++u<l.length;)if(l[u][0]==="enter"&&l[u][1].type==="strikethroughSequenceTemporary"&&l[u][1]._close){let f=u;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[u][1].end.offset-l[u][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[u][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[u][1].end)},m={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[u][1].start)},g=[["enter",d,o],["enter",l[f][1],o],["exit",l[f][1],o],["enter",m,o]],y=o.parser.constructs.insideSpan.null;y&&wi(g,g.length,0,Fg(y,l.slice(f+1,u),o)),wi(g,g.length,0,[["exit",m,o],["enter",l[u][1],o],["exit",l[u][1],o],["exit",d,o]]),wi(l,f-1,u-f+3,g),u=f+g.length-2;break}}for(u=-1;++u<l.length;)l[u][1].type==="strikethroughSequenceTemporary"&&(l[u][1].type="data");return l}function s(l,o,u){const f=this.previous,d=this.events;let m=0;return g;function g(S){return f===126&&d[d.length-1][1].type!=="characterEscape"?u(S):(l.enter("strikethroughSequenceTemporary"),y(S))}function y(S){const v=vc(f);if(S===126)return m>1?u(S):(l.consume(S),m++,y);if(m<2&&!t)return u(S);const x=l.exit("strikethroughSequenceTemporary"),k=vc(S);return x._open=!k||k===2&&!!v,x._close=!v||v===2&&!!k,o(S)}}}class dae{constructor(){this.map=[]}add(e,t,i){pae(this,e,t,i)}consume(e){if(this.map.sort(function(s,l){return s[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const s of r)e.push(s);r=i.pop()}this.map.length=0}}function pae(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function mae(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}function gae(){return{flow:{null:{name:"table",tokenize:Oae,resolveAll:yae}}}}function Oae(n,e,t){const i=this;let r=0,s=0,l;return o;function o(z){let H=i.events.length-1;for(;H>-1;){const oe=i.events[H][1].type;if(oe==="lineEnding"||oe==="linePrefix")H--;else break}const W=H>-1?i.events[H][1].type:null,fe=W==="tableHead"||W==="tableRow"?R:u;return fe===R&&i.parser.lazy[i.now().line]?t(z):fe(z)}function u(z){return n.enter("tableHead"),n.enter("tableRow"),f(z)}function f(z){return z===124||(l=!0,s+=1),d(z)}function d(z){return z===null?t(z):Qe(z)?s>1?(s=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(z),n.exit("lineEnding"),y):t(z):Ge(z)?rt(n,d,"whitespace")(z):(s+=1,l&&(l=!1,r+=1),z===124?(n.enter("tableCellDivider"),n.consume(z),n.exit("tableCellDivider"),l=!0,d):(n.enter("data"),m(z)))}function m(z){return z===null||z===124||Tt(z)?(n.exit("data"),d(z)):(n.consume(z),z===92?g:m)}function g(z){return z===92||z===124?(n.consume(z),m):m(z)}function y(z){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(z):(n.enter("tableDelimiterRow"),l=!1,Ge(z)?rt(n,S,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):S(z))}function S(z){return z===45||z===58?x(z):z===124?(l=!0,n.enter("tableCellDivider"),n.consume(z),n.exit("tableCellDivider"),v):L(z)}function v(z){return Ge(z)?rt(n,x,"whitespace")(z):x(z)}function x(z){return z===58?(s+=1,l=!0,n.enter("tableDelimiterMarker"),n.consume(z),n.exit("tableDelimiterMarker"),k):z===45?(s+=1,k(z)):z===null||Qe(z)?X(z):L(z)}function k(z){return z===45?(n.enter("tableDelimiterFiller"),C(z)):L(z)}function C(z){return z===45?(n.consume(z),C):z===58?(l=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(z),n.exit("tableDelimiterMarker"),T):(n.exit("tableDelimiterFiller"),T(z))}function T(z){return Ge(z)?rt(n,X,"whitespace")(z):X(z)}function X(z){return z===124?S(z):z===null||Qe(z)?!l||r!==s?L(z):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(z)):L(z)}function L(z){return t(z)}function R(z){return n.enter("tableRow"),N(z)}function N(z){return z===124?(n.enter("tableCellDivider"),n.consume(z),n.exit("tableCellDivider"),N):z===null||Qe(z)?(n.exit("tableRow"),e(z)):Ge(z)?rt(n,N,"whitespace")(z):(n.enter("data"),ae(z))}function ae(z){return z===null||z===124||Tt(z)?(n.exit("data"),N(z)):(n.consume(z),z===92?te:ae)}function te(z){return z===92||z===124?(n.consume(z),ae):ae(z)}}function yae(n,e){let t=-1,i=!0,r=0,s=[0,0,0,0],l=[0,0,0,0],o=!1,u=0,f,d,m;const g=new dae;for(;++t<n.length;){const y=n[t],S=y[1];y[0]==="enter"?S.type==="tableHead"?(o=!1,u!==0&&(dR(g,e,u,f,d),d=void 0,u=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(t,0,[["enter",f,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(i=!0,m=void 0,s=[0,0,0,0],l=[0,t+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(t,0,[["enter",d,e]])),r=S.type==="tableDelimiterRow"?2:d?3:1):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(i=!1,l[2]===0&&(s[1]!==0&&(l[0]=l[1],m=Dp(g,e,s,r,void 0,m),s=[0,0,0,0]),l[2]=t)):S.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(l[0]=l[1],m=Dp(g,e,s,r,void 0,m)),s=l,l=[s[1],t,0,0])):S.type==="tableHead"?(o=!0,u=t):S.type==="tableRow"||S.type==="tableDelimiterRow"?(u=t,s[1]!==0?(l[0]=l[1],m=Dp(g,e,s,r,t,m)):l[1]!==0&&(m=Dp(g,e,l,r,t,m)),r=0):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=t)}for(u!==0&&dR(g,e,u,f,d),g.consume(e.events),t=-1;++t<e.events.length;){const y=e.events[t];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=mae(e.events,t))}return n}function Dp(n,e,t,i,r,s){const l=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";t[0]!==0&&(s.end=Object.assign({},$o(e.events,t[0])),n.add(t[0],0,[["exit",s,e]]));const u=$o(e.events,t[1]);if(s={type:l,start:Object.assign({},u),end:Object.assign({},u)},n.add(t[1],0,[["enter",s,e]]),t[2]!==0){const f=$o(e.events,t[2]),d=$o(e.events,t[3]),m={type:o,start:Object.assign({},f),end:Object.assign({},d)};if(n.add(t[2],0,[["enter",m,e]]),i!==2){const g=e.events[t[2]],y=e.events[t[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",t[3]>t[2]+1){const S=t[2]+1,v=t[3]-t[2]-1;n.add(S,v,[])}}n.add(t[3]+1,0,[["exit",m,e]])}return r!==void 0&&(s.end=Object.assign({},$o(e.events,r)),n.add(r,0,[["exit",s,e]]),s=void 0),s}function dR(n,e,t,i,r){const s=[],l=$o(e.events,t);r&&(r.end=Object.assign({},l),s.push(["exit",r,e])),i.end=Object.assign({},l),s.push(["exit",i,e]),n.add(t+1,0,s)}function $o(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const bae={name:"tasklistCheck",tokenize:vae};function Sae(){return{text:{91:bae}}}function vae(n,e,t){const i=this;return r;function r(u){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(u):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(u),n.exit("taskListCheckMarker"),s)}function s(u){return Tt(u)?(n.enter("taskListCheckValueUnchecked"),n.consume(u),n.exit("taskListCheckValueUnchecked"),l):u===88||u===120?(n.enter("taskListCheckValueChecked"),n.consume(u),n.exit("taskListCheckValueChecked"),l):t(u)}function l(u){return u===93?(n.enter("taskListCheckMarker"),n.consume(u),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),o):t(u)}function o(u){return Qe(u)?e(u):Ge(u)?n.check({tokenize:wae},e,t)(u):t(u)}}function wae(n,e,t){return rt(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function xae(n){return zL([Fle(),rae(),fae(n),gae(),Sae()])}const kae={};function _ae(n){const e=this,t=n||kae,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),l=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(xae(t)),s.push(jle()),l.push(Vle(t))}function Tae(){return{serverUrl:localStorage.getItem("mdflare_server_url")||"http://localhost:7779",token:localStorage.getItem("mdflare_token")||"",useProxy:localStorage.getItem("mdflare_use_proxy")==="true"}}function Cae({userId:n,isPrivateVault:e=!1,onConnectionChange:t}){const[i,r]=I.useState(null),[s,l]=I.useState(null),o=I.useCallback(async()=>{try{if(e){const f=Tae();let d;if(f.useProxy){const x=f.serverUrl.replace("http://","").replace("https://","");d=`/_tunnel?server=${encodeURIComponent(x)}&path=${encodeURIComponent("/api/files")}`}else d=`${f.serverUrl}/api/files`;const m={};f.token&&(m.Authorization=`Bearer ${f.token}`);const g=new AbortController,y=setTimeout(()=>g.abort(),3e3),S=await fetch(d,{headers:m,signal:g.signal});clearTimeout(y);const v=S.ok;r(v),l(null),t&&t(v)}else{const f={};if(ks.currentUser)try{const m=await ks.currentUser.getIdToken();f.Authorization=`Bearer ${m}`}catch{}const d=await fetch(`/api/${n}/agent-status`,{headers:f});if(d.ok){const m=await d.json();r(m.connected),l(m.minutesAgo),t&&t(m.connected)}}}catch{e&&(r(!1),t&&t(!1))}},[n,e]);if(I.useEffect(()=>{o();const f=setInterval(o,e?5e3:6e4);return()=>clearInterval(f)},[o,e]),i===null)return null;const u=!i&&s!=null?` : ${s} `:i?" ":"  ";return A.jsx("span",{className:`agent-status-dot ${i?"connected":"disconnected"}`,title:u})}const Eae="/api",Aae=1e3;function Az(){return{serverUrl:localStorage.getItem("mdflare_server_url")||"http://localhost:7779",token:localStorage.getItem("mdflare_token")||"",useProxy:localStorage.getItem("mdflare_use_proxy")==="true"}}const xr=n=>n.split("/").map(e=>encodeURIComponent(e)).join("/");async function gi(n=!1){const e={"Content-Type":"application/json"};if(n){const{token:t}=Az();t&&(e.Authorization=`Bearer ${t}`)}else if(ks.currentUser)try{const t=await ks.currentUser.getIdToken();e.Authorization=`Bearer ${t}`}catch(t){console.error("Failed to get ID token:",t)}return e}const Qae=ge.theme({"&":{backgroundColor:"#0d1117",color:"#e6edf3"},".cm-content":{caretColor:"#58a6ff"},".cm-cursor":{borderLeftColor:"#58a6ff"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground":{backgroundColor:"#1f6feb44"},".cm-gutters":{backgroundColor:"#161b22",color:"#484f58",border:"none"},".cm-activeLineGutter":{backgroundColor:"#1f6feb22"},".cm-activeLine":{backgroundColor:"#1f6feb11"}},{dark:!0}),Pae=ge.theme({"&":{backgroundColor:"#ffffff",color:"#24292f"},".cm-content":{caretColor:"#0969da"},".cm-cursor":{borderLeftColor:"#0969da"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground":{backgroundColor:"#0969da22"},".cm-gutters":{backgroundColor:"#f6f8fa",color:"#8c959f",border:"none"},".cm-activeLineGutter":{backgroundColor:"#0969da11"},".cm-activeLine":{backgroundColor:"#0969da08"}},{dark:!1}),Rae={flex:1,overflow:"auto"};function $ae({toasts:n,onRemove:e}){return A.jsx("div",{className:"toast-container",children:n.map(t=>A.jsxs("div",{className:`toast toast-${t.type}`,onClick:()=>e(t.id),children:[A.jsx("span",{className:"toast-icon",children:t.type==="loading"?"":t.type==="success"?"":""}),A.jsx("span",{className:"toast-msg",children:t.message})]},t.id))})}function pR({user:n,isPrivateVault:e=!1}){const{userId:t,"*":i}=sB(),r=_c(),s=e?"":t,l=e?Az():null,o=j=>{if(e&&l){if(l.useProxy){const se=l.serverUrl.replace("http://","").replace("https://","");return`/_tunnel?server=${encodeURIComponent(se)}&path=${encodeURIComponent("/api"+j)}`}return`${l.serverUrl}/api${j}`}return`${Eae}/${s}${j}`},[u,f]=I.useState([]),[d,m]=I.useState(null),[g,y]=I.useState(""),[S,v]=I.useState(""),[x,k]=I.useState("edit"),[C,T]=I.useState("idle"),[X,L]=I.useState(null),[R,N]=I.useState(!1),[ae,te]=I.useState([]),[z,H]=I.useState(!1),[W,fe]=I.useState(""),[oe,ne]=I.useState(null),[U,ie]=I.useState(null),[me,be]=I.useState(""),[P,M]=I.useState(()=>localStorage.getItem("mdflare-theme")==="light"),[Y,E]=I.useState(null),[he,_e]=I.useState(()=>{try{return JSON.parse(localStorage.getItem("mdflare-recent")||"[]")}catch{return[]}}),we=I.useRef(null),Be=I.useRef(0),mt=I.useRef(""),st=I.useRef(""),Tn=I.useRef(null);I.useEffect(()=>{mt.current=g},[g]),I.useEffect(()=>{st.current=S},[S]);const Vi=I.useMemo(()=>[Gee(),P?Pae:Qae,ge.lineWrapping],[P]),Nt=I.useCallback((j,se="loading",le=null)=>{const ye=++Be.current;return te(Ce=>[...Ce,{id:ye,message:j,type:se}]),le&&setTimeout(()=>te(Ce=>Ce.filter(Ne=>Ne.id!==ye)),le),ye},[]),Xt=I.useCallback((j,se,le,ye=2e3)=>{te(Ce=>Ce.map(Ne=>Ne.id===j?{...Ne,message:se,type:le}:Ne)),ye&&setTimeout(()=>te(Ce=>Ce.filter(Ne=>Ne.id!==j)),ye)},[]),qi=I.useCallback(j=>{te(se=>se.filter(le=>le.id!==j))},[]),pr=I.useCallback(j=>[...j].sort((se,le)=>se.type==="folder"&&le.type!=="folder"?-1:se.type!=="folder"&&le.type==="folder"?1:se.name.localeCompare(le.name,"ko")).map(se=>se.children?{...se,children:pr(se.children)}:se),[]),Zt=I.useCallback(async()=>{try{const j=await gi(e),le=await(await fetch(o("/files"),{headers:j})).json();f(pr(le.files||[]))}catch(j){console.error("Failed to load files:",j)}},[s,pr]);I.useEffect(()=>{Zt()},[Zt]),I.useEffect(()=>{if(i){const j=decodeURIComponent(i);y(""),v(""),m({path:j,loading:!0}),T("idle"),(async()=>{try{const se=await gi(e),ye=await(await fetch(o(`/file/${xr(j)}`),{headers:se})).json();ye.error||(m(ye),y(ye.content),v(ye.content))}catch{}})()}else m(null),y(""),v("")},[i,s]),I.useEffect(()=>{const j=()=>L(null);return window.addEventListener("click",j),window.addEventListener("touchmove",j,{passive:!0}),()=>{window.removeEventListener("click",j),window.removeEventListener("touchmove",j)}},[]),I.useEffect(()=>{if(e)return;const j=e8(s,async se=>{if(d){const le=se.find(ye=>ye.path===d.path);if(le){if(le.hash===Tn.current){Tn.current=null,Zt();return}if(mt.current!==st.current){Zt();return}if(le.hash!==ta(mt.current))try{const ye=await gi(e),Ne=await(await fetch(o(`/file/${xr(d.path)}`),{headers:ye})).json();y(Ne.content),v(Ne.content),T("idle")}catch(ye){console.error("Failed to reload:",ye)}}}Zt()});return()=>j&&j()},[d,Zt,s]);const mr=I.useCallback(j=>{r(e?`/private/${j}`:`/${s}/${j}`),_e(se=>{const le=[j,...se.filter(ye=>ye!==j)].slice(0,10);return localStorage.setItem("mdflare-recent",JSON.stringify(le)),le})},[s,e,r]),Ur=I.useCallback(async(j,se)=>{T("saving");try{const le=st.current,ye=ta(le),Ce=ta(se),Ne=t8(le,se);(await(await fetch(o(`/file/${xr(j)}`),{method:"PUT",headers:await gi(e),body:JSON.stringify({content:se,oldHash:ye,diff:Ne})})).json()).saved&&(Tn.current=Ce,v(se),T("saved"),setTimeout(()=>T(Fi=>Fi==="saved"?"idle":Fi),2e3))}catch(le){console.error("Failed to save:",le),T("error")}},[s,e]),Rs=I.useCallback(j=>{y(j),we.current&&clearTimeout(we.current),j!==st.current&&d&&(T("editing"),we.current=setTimeout(()=>{Ur(d.path,j)},Aae))},[d,Ur]);I.useEffect(()=>()=>{we.current&&clearTimeout(we.current)},[]);const Xr=I.useCallback((j,se)=>{if(!se)return j;const le=se.toLowerCase();return j.reduce((ye,Ce)=>{if(Ce.type==="folder"){const Ne=Xr(Ce.children||[],se);(Ne.length>0||Ce.name.toLowerCase().includes(le))&&ye.push({...Ce,children:Ne})}else Ce.name.toLowerCase().includes(le)&&ye.push(Ce);return ye},[])},[]),Ml=me?Xr(u,me):u,Il=I.useCallback((j,se)=>{for(const le of se)if(le.path===j||le.children&&Il(j,le.children))return!0;return!1},[]),Dl=async j=>{const se=prompt("   (.md  )");if(!se)return;const le=se.endsWith(".md")?se:`${se}.md`,ye=j?`${j}/${le}`:le;if(Il(ye,u)){Nt(` "${le}"      `,"error",3e3);return}const Ce=Nt(` "${le}"  ...`,"loading");H(!0);try{const Ne=`# ${se.replace(".md","")}

`;await fetch(o(`/file/${xr(ye)}`),{method:"PUT",headers:await gi(e),body:JSON.stringify({content:Ne})}),e||ko(s,ye,{size:new Blob([Ne]).size,hash:ta(Ne),action:"create"}).catch(gt=>console.error("Firebase meta update failed:",gt)),await Zt(),Xt(Ce,` "${le}"  !`,"success"),mr(ye)}catch(Ne){console.error("Failed to create file:",Ne),Xt(Ce,` "${le}"  `,"error")}finally{H(!1)}},pn=async()=>{if(!confirm("   ?"))return;const j=Nt("   ...","loading");H(!0);const se=[{path:"Getting Started/welcome.md",content:`# Welcome to MDFlare! 

This is your markdown workspace.

## Quick Tips
- Click any file to edit
- Auto-saves after 1 second
- Right-click for more options
`},{path:"Getting Started/markdown-guide.md",content:`# Markdown Guide

## Headers
# H1
## H2
### H3

## Formatting
**bold** *italic* ~~strikethrough~~

## Lists
- Item 1
- Item 2
  - Nested

## Code
\`\`\`js
console.log("Hello MDFlare!");
\`\`\`

## Links
[MDFlare](https://mdflare.com)
`},{path:"Notes/ideas.md",content:`#  Ideas

- [ ] Build something awesome
- [ ] Share with the world
- [x] Try MDFlare
`},{path:"Notes/meeting-notes.md",content:`#  Meeting Notes

## 2025-01-15
- Discussed project roadmap
- Next milestone: v1.0 launch
- Action items:
  1. Finalize design
  2. Write documentation
`},{path:"Projects/project-alpha.md",content:`# Project Alpha 

## Overview
A brief description of the project.

## Status
| Task | Status |
|------|--------|
| Design |  Done |
| Backend |  In Progress |
| Frontend |  Todo |

## Notes
Keep track of important decisions here.
`},{path:"journal.md",content:`#  Journal

## Today
Started using MDFlare for my notes.
Love the clean interface and auto-save!

---

> "The best time to start writing is now."
`}];try{for(const le of se)await fetch(o(`/file/${xr(le.path)}`),{method:"PUT",headers:await gi(e),body:JSON.stringify({content:le.content})});await Zt(),Xt(j,"   ! (3 + 6)","success",3e3)}catch(le){console.error("Failed to generate samples:",le),Xt(j,"   ","error")}finally{H(!1)}},Na=async(j,se)=>{const le=j.split("/").pop();if((j.includes("/")?j.substring(0,j.lastIndexOf("/")):"")===se)return;const Ce=se?`${se}/${le}`:le;if(j===Ce)return;if(Ce.startsWith(j+"/")){Nt("      ","error",3e3);return}const Ne=Nt(` "${le}"  ...`,"loading");H(!0);try{await fetch(o("/rename"),{method:"POST",headers:await gi(e),body:JSON.stringify({oldPath:j,newPath:Ce})}),e||(I0(s,j).catch(gt=>console.error("Firebase delete old meta failed:",gt)),ko(s,Ce,{size:0,hash:"",action:"rename",oldPath:j}).catch(gt=>console.error("Firebase move meta failed:",gt))),await Zt(),Xt(Ne,` "${le}"  !`,"success"),(d==null?void 0:d.path)===j&&mr(Ce)}catch(gt){console.error("Failed to move:",gt),Xt(Ne,"  ","error")}finally{H(!1)}},J=async j=>{const se=prompt("  ");if(!se)return;const le=j?`${j}/${se}`:se;if(Il(le,u)){Nt(` "${se}"      `,"error",3e3);return}const ye=`${le}/.gitkeep`,Ce=Nt(` "${se}"   ...`,"loading");H(!0);try{await fetch(o(`/file/${xr(ye)}`),{method:"PUT",headers:await gi(e),body:JSON.stringify({content:""})}),e||ko(s,ye,{size:0,hash:ta(""),action:"create"}).catch(Ne=>console.error("Firebase meta update failed:",Ne)),await Zt(),Xt(Ce,` "${se}"   !`,"success")}catch(Ne){console.error("Failed to create folder:",Ne),Xt(Ce,` "${se}"   `,"error")}finally{H(!1)}},de=async j=>{const se=j.split("/").pop(),le=prompt(" ",se);if(!le||le===se)return;const ye=j.includes("/")?j.substring(0,j.lastIndexOf("/")):"",Ce=ye?`${ye}/${le}`:le,Ne=Nt(` "${se}"  "${le}"  ...`,"loading");H(!0);try{await fetch(o("/rename"),{method:"POST",headers:await gi(e),body:JSON.stringify({oldPath:j,newPath:Ce})}),e||(I0(s,j).catch(gt=>console.error("Firebase delete old meta failed:",gt)),ko(s,Ce,{size:0,hash:"",action:"rename",oldPath:j}).catch(gt=>console.error("Firebase rename meta failed:",gt))),await Zt(),Xt(Ne,"   !","success"),(d==null?void 0:d.path)===j&&mr(Ce)}catch(gt){console.error("Failed to rename:",gt),Xt(Ne,"   ","error")}finally{H(!1)}},Re=async(j,se,le="file")=>{var gt;const ye=le==="folder",Ce=ye?"":"";if(!confirm(`"${se}" ${Ce} ?${ye?`
(    )`:""}`))return;const Ne=Nt(` "${se}" ${Ce}  ...`,"loading");H(!0);try{const Bn=ye?"?folder=true":"";await fetch(o(`/file/${xr(j)}${Bn}`),{method:"DELETE",headers:await gi(e)}),e||I0(s,j).catch(Fi=>console.error("Firebase delete meta failed:",Fi)),await Zt(),Xt(Ne,` "${se}" ${Ce}  `,"success"),((d==null?void 0:d.path)===j||ye&&((gt=d==null?void 0:d.path)!=null&&gt.startsWith(j+"/")))&&r(e?"/private":`/${s}`)}catch(Bn){console.error("Failed to delete:",Bn),Xt(Ne,` "${se}" ${Ce}  `,"error")}finally{H(!1)}},Ze=async j=>{const se=j.split("/").pop(),le=Nt(` "${se}"  ...`,"loading");H(!0);try{const ye=await gi(e),Ne=await(await fetch(o(`/file/${xr(j)}`),{headers:ye})).json(),gt=j.lastIndexOf(".md"),Bn=gt>0?`${j.slice(0,gt)} (copy).md`:`${j} (copy)`;await fetch(o(`/file/${xr(Bn)}`),{method:"PUT",headers:await gi(e),body:JSON.stringify({content:Ne.content})}),e||ko(s,Bn,{size:new Blob([Ne.content]).size,hash:ta(Ne.content),action:"create"}).catch(Fi=>console.error("Firebase meta update failed:",Fi)),await Zt(),Xt(le,` "${se}"  !`,"success")}catch(ye){console.error("Failed to duplicate:",ye),Xt(le,"  ","error")}finally{H(!1)}},nt=(j,se,le,ye)=>{j.preventDefault(),j.stopPropagation(),L({x:j.clientX,y:j.clientY,type:se,path:le,name:ye})},Cn=async()=>{e?(localStorage.removeItem("mdflare_mode"),localStorage.removeItem("mdflare_server_url"),localStorage.removeItem("mdflare_token"),localStorage.removeItem("mdflare_use_proxy")):await i8(),r("/")};I.useEffect(()=>{const j=se=>{g!==S&&(se.preventDefault(),se.returnValue="")};return window.addEventListener("beforeunload",j),()=>window.removeEventListener("beforeunload",j)},[g,S]),I.useEffect(()=>{document.body.classList.toggle("light-mode",P),localStorage.setItem("mdflare-theme",P?"light":"dark")},[P]),I.useEffect(()=>{const j=se=>{(se.ctrlKey||se.metaKey)&&se.key==="s"&&(se.preventDefault(),d&&g!==S&&(we.current&&clearTimeout(we.current),Ur(d.path,g))),(se.ctrlKey||se.metaKey)&&se.key==="b"&&(se.preventDefault(),N(le=>!le)),se.key==="Escape"&&(be(""),L(null))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[d,g,S,Ur]);const Yi={idle:"idle",editing:"unsaved",saving:"saving",saved:"saved",error:"error"},mn={idle:"",editing:"",saving:" ...",saved:"",error:" "};return A.jsxs(A.Fragment,{children:[A.jsxs("header",{className:"header",children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[A.jsx("button",{className:"sidebar-toggle",onClick:()=>N(!R),children:R?"":""}),A.jsxs("h1",{onClick:()=>r(e?"/private":`/${s}`),style:{cursor:"pointer"},children:[" ",Tf()]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[A.jsx(Cae,{userId:s,isPrivateVault:e,onConnectionChange:e?E:void 0}),A.jsx("span",{className:"user-badge",children:e?" Private Vault":` ${(n==null?void 0:n.displayName)||s}`}),A.jsx("button",{className:"logout-btn",onClick:Cn,children:e?" ":""})]})]}),A.jsxs("div",{className:"main",children:[A.jsxs("aside",{className:`sidebar ${R?"open":""}`,children:[!R&&A.jsx("div",{className:"sidebar-collapsed",onClick:()=>N(!0),children:""}),A.jsxs("div",{className:"sidebar-header",onContextMenu:j=>{j.preventDefault(),nt(j,"root","","root")},children:[A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,flex:1,minWidth:0},children:[A.jsxs("span",{children:[" Files ",z&&A.jsx("span",{className:"sidebar-spinner",children:""})]}),W&&A.jsxs("span",{className:"focused-folder-label",onClick:()=>fe(""),children:[" ",W," "]})]}),A.jsxs("div",{className:"sidebar-actions",children:[A.jsx("button",{className:"sidebar-action-btn",onClick:()=>Dl(W),title:W?`${W}  `:" ",disabled:z,children:"+"}),A.jsx("button",{className:"sidebar-action-btn",onClick:()=>J(W),title:W?`${W}  `:" ",disabled:z,children:"+"})]})]}),A.jsxs("div",{className:"sidebar-search",children:[A.jsx("input",{type:"text",placeholder:"  ...",value:me,onChange:j=>be(j.target.value),className:"search-input"}),me&&A.jsx("button",{className:"search-clear",onClick:()=>be(""),children:""})]}),A.jsx("div",{className:"file-tree",onContextMenu:j=>{j.preventDefault(),!j.target.closest(".tree-item")&&nt(j,"root","","root")},onDragOver:j=>{j.preventDefault(),j.dataTransfer.dropEffect="move"},onDrop:j=>{j.preventDefault();const se=j.dataTransfer.getData("text/plain");se&&Na(se,"")},children:A.jsx(Pz,{items:Ml,currentPath:d==null?void 0:d.path,onSelect:mr,onContextMenu:nt,focusedFolder:W,onFocusFolder:fe,onNewFile:Dl,onDragMove:Na,dragOver:oe,onDragOver:ne,dragSrc:U,onDragStart:ie})}),A.jsxs("div",{className:"sidebar-footer",children:[A.jsxs("span",{title:"Rust  +  ",children:["v","1.0.15","  ","Rust  +  "]}),A.jsx("button",{className:"sample-btn",onClick:pn,disabled:z,children:" "})]}),A.jsx("div",{className:"sidebar-handle",onClick:()=>N(!1),children:""})]}),A.jsx("div",{className:"editor-area",children:d?d.loading?A.jsxs("div",{className:"empty-state",children:[A.jsx("div",{className:"loading-spinner",children:""}),A.jsx("p",{children:" ..."})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"editor-toolbar",children:[A.jsx("span",{className:"file-path",children:(()=>{const j=d.path.split("/");return j.map((se,le)=>A.jsxs("span",{children:[le>0&&A.jsx("span",{className:"breadcrumb-sep",children:"/"}),le<j.length-1?A.jsx("span",{className:"breadcrumb-link",onClick:()=>{const ye=j.slice(0,le+1).join("/");fe(ye),N(!0)},children:se}):A.jsx("span",{className:"breadcrumb-current",children:se})]},le))})()}),A.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[A.jsxs("div",{className:"tab-bar",children:[A.jsx("button",{className:`tab-btn ${x==="edit"?"active":""}`,onClick:()=>k("edit"),children:"Edit"}),A.jsx("button",{className:`tab-btn ${x==="split"?"active":""}`,onClick:()=>k("split"),children:"Split"}),A.jsx("button",{className:`tab-btn ${x==="preview"?"active":""}`,onClick:()=>k("preview"),children:"Preview"})]}),A.jsx("button",{className:"tab-btn",onClick:()=>{const j=parseInt(prompt(" :","3"));if(!j||j<1)return;const se="| "+Array.from({length:j},(Ce,Ne)=>`${Ne+1}`).join(" | ")+" |",le="| "+Array.from({length:j},()=>"---").join(" | ")+" |",ye="| "+Array.from({length:j},()=>"  ").join(" | ")+" |";y(Ce=>Ce+`
`+se+`
`+le+`
`+ye+`
`),Nt("  ","success",2e3)},title:" ",children:""}),A.jsx("button",{className:"tab-btn",onClick:()=>{const j=prompt(" URL:");if(!j)return;const le=`![${prompt(" :","image")||"image"}](${j})`;y(ye=>ye+`
`+le+`
`),Nt("  ","success",2e3)},title:" ",children:""}),!e&&A.jsx("button",{className:"tab-btn",onClick:async()=>{const j=`${window.location.origin}/${s}/${d.path}`;try{await navigator.clipboard.writeText(j),Nt("   ","success",2e3)}catch{prompt(" :",j)}},title:"  ",children:""}),A.jsx("button",{className:"tab-btn",onClick:()=>M(!P),title:" ",children:P?"":""}),A.jsx("button",{className:"tab-btn",onClick:()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},title:" ",children:""}),A.jsx("button",{className:"tab-btn",onClick:async()=>{try{await navigator.clipboard.writeText(g),Nt("  ","success",2e3)}catch{Nt("  ","error",2e3)}},title:"  ",children:""}),A.jsx("button",{className:"tab-btn",onClick:()=>{const j=new Blob([g],{type:"text/markdown"}),se=URL.createObjectURL(j),le=document.createElement("a");le.href=se,le.download=d.path.split("/").pop(),le.click(),URL.revokeObjectURL(se),Nt("  ","success",2e3)},title:" ",children:""}),A.jsx("span",{className:`save-status ${Yi[C]}`,title:mn[C]})]})]}),A.jsxs("div",{className:"editor-stats",children:[A.jsxs("span",{children:[g.length,""]}),A.jsxs("span",{children:[g.trim()?g.trim().split(/\s+/).length:0,""]}),A.jsxs("span",{children:[g.split(`
`).length,""]})]}),A.jsxs("div",{className:"editor-content",children:[(x==="edit"||x==="split")&&A.jsx(pN,{value:g,onChange:Rs,extensions:Vi,theme:"none",style:Rae}),(x==="preview"||x==="split")&&A.jsx("div",{className:"preview",children:A.jsx(fse,{remarkPlugins:[_ae],children:g})})]})]}):A.jsxs("div",{className:"empty-state",onDragOver:j=>{j.preventDefault(),j.dataTransfer.dropEffect="copy"},onDrop:async j=>{j.preventDefault();const se=[...j.dataTransfer.files].filter(ye=>ye.name.endsWith(".md")||ye.name.endsWith(".txt")||ye.name.endsWith(".markdown"));if(se.length===0)return;const le=Nt(` ${se.length}   ...`,"loading");H(!0);try{for(const ye of se){const Ce=await ye.text(),Ne=W||"",gt=Ne?`${Ne}/${ye.name}`:ye.name;await fetch(o(`/file/${xr(gt)}`),{method:"PUT",headers:await gi(e),body:JSON.stringify({content:Ce})}),e||ko(s,gt,{size:new Blob([Ce]).size,hash:ta(Ce),action:"create"}).catch(Bn=>console.error("Firebase meta update failed:",Bn))}await Zt(),Xt(le,` ${se.length}   !`,"success")}catch{Xt(le,"  ","error")}finally{H(!1)}},children:[A.jsx("div",{className:"logo",children:""}),A.jsx("p",{children:"  .md   "}),he.length>0&&A.jsxs("div",{className:"recent-files",children:[A.jsx("h4",{children:" "}),he.map(j=>A.jsxs("div",{className:"recent-item",onClick:()=>mr(j),children:[" ",j]},j))]})]})})]}),X&&A.jsx(Mae,{...X,onNewFile:Dl,onNewFolder:J,onRename:de,onDelete:Re,onDuplicate:Ze,onClose:()=>L(null)}),A.jsx($ae,{toasts:ae,onRemove:qi}),e&&Y===!1&&A.jsx("div",{className:"agent-disconnected-overlay",children:A.jsxs("div",{className:"agent-disconnected-modal",children:[A.jsx("div",{className:"agent-disconnected-icon",children:""}),A.jsx("h3",{children:"  "}),A.jsxs("p",{children:["Private Vault   .",A.jsx("br",{}),"    ."]}),A.jsx("div",{className:"agent-disconnected-spinner",children:""}),A.jsx("p",{className:"agent-disconnected-sub",children:"  ..."}),A.jsx("button",{className:"agent-disconnected-btn",onClick:Cn,children:" "})]})})]})}function Mae({x:n,y:e,type:t,path:i,name:r,onNewFile:s,onNewFolder:l,onRename:o,onDelete:u,onDuplicate:f,onClose:d}){const m=I.useRef(null);I.useEffect(()=>{if(m.current){const y=m.current.getBoundingClientRect();y.right>window.innerWidth&&(m.current.style.left=`${window.innerWidth-y.width-8}px`),y.bottom>window.innerHeight&&(m.current.style.top=`${window.innerHeight-y.height-8}px`)}},[]);const g=t==="folder"?i:t==="root"?"":i.substring(0,i.lastIndexOf("/"));return A.jsxs("div",{className:"context-menu",ref:m,style:{left:n,top:e},children:[A.jsx("div",{className:"context-item",onClick:()=>{s(g),d()},children:"  "}),A.jsx("div",{className:"context-item",onClick:()=>{l(g),d()},children:"  "}),t!=="root"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"context-divider"}),A.jsx("div",{className:"context-item",onClick:()=>{o(i,t),d()},children:"  "}),t==="file"&&A.jsx("div",{className:"context-item",onClick:()=>{f(i),d()},children:" "}),A.jsx("div",{className:"context-divider"}),A.jsx("div",{className:"context-item danger",onClick:()=>{u(i,r,t),d()},children:" "})]})]})}function Qz(n,e,t=500){const i=I.useRef(null),r=I.useRef(!1),s=I.useRef(!1),l=I.useRef(!1),o=I.useCallback(m=>{var v;r.current=!1,s.current=!1,l.current=!0;const g=(v=m.touches)==null?void 0:v[0],y=(g==null?void 0:g.clientX)??m.clientX,S=(g==null?void 0:g.clientY)??m.clientY;i.current=setTimeout(()=>{s.current=!0,navigator.vibrate&&navigator.vibrate(30),n({clientX:y,clientY:S,preventDefault:()=>{},stopPropagation:()=>{}})},t)},[n,t]),u=I.useCallback(()=>{r.current=!0,i.current&&(clearTimeout(i.current),i.current=null)},[]),f=I.useCallback(m=>{if(i.current&&(clearTimeout(i.current),i.current=null),s.current){m.preventDefault();return}!r.current&&e&&e(m),setTimeout(()=>{l.current=!1},300)},[e]),d=I.useCallback(m=>{l.current||e&&e(m)},[e]);return{onTouchStart:o,onTouchMove:u,onTouchEnd:f,onClick:d,onContextMenu:m=>{m.preventDefault(),m.stopPropagation(),n(m)}}}function Pz({items:n,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:u,onDragOver:f,dragSrc:d,onDragStart:m,depth:g=0}){return n.map(y=>A.jsx("div",{children:y.type==="folder"?A.jsx(Dae,{item:y,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:u,onDragOver:f,dragSrc:d,onDragStart:m,depth:g}):A.jsx(Iae,{item:y,currentPath:e,onSelect:t,onContextMenu:i,onDragMove:o,onDragStart:m,depth:g})},y.path))}function Iae({item:n,currentPath:e,onSelect:t,onContextMenu:i,onDragMove:r,onDragStart:s,depth:l}){const o=Qz(u=>i(u,"file",n.path,n.name),()=>t(n.path));return A.jsxs("div",{className:`tree-item ${n.path===e?"active":""}`,style:{paddingLeft:16+l*16},draggable:!0,onDragStart:u=>{u.dataTransfer.setData("text/plain",n.path),u.dataTransfer.effectAllowed="move",s(n.path)},onDragEnd:()=>s(null),...o,children:[A.jsx("span",{className:"icon",children:""}),A.jsx("span",{className:"tree-item-name",children:n.name}),A.jsx("button",{className:"tree-item-menu",onClick:u=>{u.stopPropagation(),i(u,"file",n.path,n.name)},children:""})]})}function Dae({item:n,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:u,onDragOver:f,dragSrc:d,onDragStart:m,depth:g}){var R;const[y,S]=I.useState(!0),v=r===n.path,x=d!=null&&d.includes("/")?d.substring(0,d.lastIndexOf("/")):"",k=d&&x===n.path,C=u===n.path&&!k,T=((R=n.children)==null?void 0:R.filter(N=>N.name!==".gitkeep"))||[],X=T.length===0,L=Qz(N=>i(N,"folder",n.path,n.name),()=>{S(!y),s&&s(v?"":n.path)});return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:`tree-item tree-folder ${v?"focused":""} ${C?"drag-over":""}`,style:{paddingLeft:16+g*16},onDragOver:N=>{if(N.preventDefault(),k){N.dataTransfer.dropEffect="none";return}N.dataTransfer.dropEffect="move",f(n.path)},onDragLeave:()=>f(null),onDrop:N=>{N.preventDefault(),N.stopPropagation();const ae=N.dataTransfer.getData("text/plain");f(null),ae&&!k&&o&&o(ae,n.path)},...L,children:[A.jsx("span",{className:"icon",children:y?"":""}),A.jsx("span",{className:"tree-item-name",children:n.name}),A.jsx("button",{className:"tree-item-menu",onClick:N=>{N.stopPropagation(),i(N,"folder",n.path,n.name)},children:""})]}),y&&A.jsx("div",{style:{paddingLeft:0},children:X?A.jsx("div",{className:"empty-folder",style:{paddingLeft:32+g*16},children:A.jsx("button",{className:"empty-folder-btn",onClick:()=>l&&l(n.path),children:"+  "})}):A.jsx(Pz,{items:T,currentPath:e,onSelect:t,onContextMenu:i,focusedFolder:r,onFocusFolder:s,onNewFile:l,onDragMove:o,dragOver:u,onDragOver:f,dragSrc:d,onDragStart:m,depth:g+1})})]})}const Nae=/^[a-z0-9][a-z0-9-]{1,18}[a-z0-9]$/;function Lae({user:n}){const e=_c(),[t,i]=I.useState(""),[r,s]=I.useState("idle"),[l,o]=I.useState(""),[u,f]=I.useState(!1),d=I.useRef(null),m=I.useCallback(S=>{const v=S.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");if(i(v),d.current&&clearTimeout(d.current),!v||v.length<3){s("idle"),o(v.length>0?"3  ":"");return}if(!Nae.test(v)){s("invalid"),o(", ,   (/   )");return}s("checking"),o(" ..."),d.current=setTimeout(async()=>{try{const k=await(await fetch(`/api/username/check?name=${v}`)).json();k.available?(s("available"),o(` ${v}  !`)):(s("taken"),o(k.reason||"   "))}catch{s("error"),o(" .  .")}},400)},[]),g=async S=>{if(S.preventDefault(),!(r!=="available"||u)){f(!0);try{const x=await(await fetch("/api/username/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid,username:t,displayName:n.displayName||""})})).json();if(x.registered){const k=new URLSearchParams(window.location.search).get("return");e(k==="agent"?"/auth/agent":`/${t}`)}else s("error"),o(x.error||" ")}catch{s("error"),o(" .  .")}finally{f(!1)}}};I.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const y={idle:"#888",checking:"#888",available:"#3fb950",taken:"#f85149",invalid:"#f85149",error:"#f85149"};return A.jsxs("div",{className:"landing",children:[A.jsx("nav",{className:"landing-nav",children:A.jsxs("h1",{children:[" ",Tf()]})}),A.jsxs("div",{className:"hero",style:{maxWidth:480},children:[A.jsx("h2",{children:"  "}),A.jsxs("p",{className:"hero-sub",children:["URL   .",A.jsx("br",{}),A.jsxs("strong",{children:["mdflare.com/",A.jsx("span",{style:{color:"#58a6ff"},children:t||"your-name"})]})]}),A.jsxs("form",{onSubmit:g,style:{marginTop:24},children:[A.jsx("div",{style:{position:"relative"},children:A.jsx("input",{type:"text",value:t,onChange:m,placeholder:"your-username",maxLength:20,autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:18,background:"#161b22",border:`1px solid ${r==="available"?"#3fb950":r==="taken"||r==="invalid"?"#f85149":"#30363d"}`,borderRadius:8,color:"#e6edf3",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s"}})}),l&&A.jsx("p",{style:{color:y[r],marginTop:8,fontSize:14,textAlign:"left"},children:l}),A.jsx("button",{type:"submit",className:"cta-btn",disabled:r!=="available"||u,style:{marginTop:20,width:"100%",opacity:r==="available"&&!u?1:.5,cursor:r==="available"&&!u?"pointer":"not-allowed"},children:u?" ...":"   "})]})]})]})}const Rz="https://firebasestorage.googleapis.com/v0/b/markdownflare.firebasestorage.app/o",zae=`${Rz}/downloads%2Fmac%2Fmeta.json?alt=media`,Bae=n=>`${Rz}/downloads%2Fmac%2FMDFlare-Agent-${n}-mac.zip?alt=media`;function Uae(){const n=_c(),[e,t]=I.useState(null);return I.useEffect(()=>{fetch(zae).then(i=>i.json()).then(t).catch(()=>{})},[]),A.jsxs("div",{className:"landing",children:[A.jsxs("nav",{className:"landing-nav",children:[A.jsxs("h1",{onClick:()=>n("/"),style:{cursor:"pointer"},children:[" ",Tf()]}),A.jsx("div",{style:{display:"flex",gap:12},children:A.jsx("button",{className:"login-btn",onClick:()=>n("/"),children:""})})]}),A.jsxs("div",{className:"hero",children:[A.jsx("h2",{children:"  "}),A.jsxs("p",{className:"hero-sub",children:["    MDFlare  .",A.jsx("br",{}),"     ."]})]}),A.jsxs("div",{className:"download-cards",children:[A.jsxs("div",{className:"download-card",children:[A.jsx("span",{className:"download-icon",children:""}),A.jsx("h3",{children:"macOS"}),A.jsx("p",{children:"Apple Silicon & Intel "}),A.jsxs("a",{href:e?Bae(e.version):"#",className:"cta-btn",style:{textDecoration:"none",display:"inline-block"},children:["",e?` (${e.size})`:""]}),A.jsxs("span",{className:"download-note",children:["Rust    ",e?`  v${e.version}`:""]}),A.jsx("span",{className:"download-note",style:{marginTop:4},children:"zip   "})]}),A.jsxs("div",{className:"download-card",children:[A.jsx("span",{className:"download-icon",children:""}),A.jsx("h3",{children:"Windows"}),A.jsx("p",{children:"Windows 10 "}),A.jsx("button",{className:"cta-btn",disabled:!0,style:{opacity:.5,cursor:"not-allowed"},children:"Coming Soon"}),A.jsx("span",{className:"download-note",children:"    "})]}),A.jsxs("div",{className:"download-card",children:[A.jsx("span",{className:"download-icon",children:""}),A.jsx("h3",{children:"Linux"}),A.jsx("p",{children:"Ubuntu, Fedora, Arch "}),A.jsx("button",{className:"cta-btn",disabled:!0,style:{opacity:.5,cursor:"not-allowed"},children:"Coming Soon"}),A.jsx("span",{className:"download-note",children:"CLI +   AppImage"})]})]}),A.jsxs("div",{className:"how-it-works",children:[A.jsx("h2",{children:" ?"}),A.jsxs("div",{className:"steps",children:[A.jsxs("div",{className:"step",children:[A.jsx("span",{className:"step-num",children:"1"}),A.jsx("h3",{children:" "}),A.jsx("p",{children:"OS    ."})]}),A.jsxs("div",{className:"step",children:[A.jsx("span",{className:"step-num",children:"2"}),A.jsx("h3",{children:" "}),A.jsx("p",{children:"    ."})]}),A.jsxs("div",{className:"step",children:[A.jsx("span",{className:"step-num",children:"3"}),A.jsx("h3",{children:" "}),A.jsx("p",{children:"     ."})]})]})]}),A.jsxs("footer",{className:"landing-footer",children:[A.jsx("p",{children:" 2026 MDFlare  Built with Cloudflare"}),A.jsxs("p",{style:{marginTop:4,fontSize:11,color:"#30363d"},children:["v","1.0.15","  ","2026. 2. 11. PM 4:08:46"]})]})]})}const Xae=()=>{};var mR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Zae=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],l=n[t++],o=n[t++],u=((r&7)<<18|(s&63)<<12|(l&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Mz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],l=r+1<n.length,o=l?n[r+1]:0,u=r+2<n.length,f=u?n[r+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let g=(o&15)<<2|f>>6,y=f&63;u||(y=64,l||(g=64)),i.push(t[d],t[m],t[g],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($z(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Zae(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||f==null||m==null)throw new jae;const g=s<<2|o>>4;if(i.push(g),f!==64){const y=o<<4&240|f>>2;if(i.push(y),m!==64){const S=f<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vae=function(n){const e=$z(n);return Mz.encodeByteArray(e,!0)},Iz=function(n){return Vae(n).replace(/\./g,"")},Dz=function(n){try{return Mz.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae=()=>qae().__FIREBASE_DEFAULTS__,Fae=()=>{if(typeof process>"u"||typeof mR>"u")return;const n=mR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Wae=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dz(n[1]);return e&&JSON.parse(e)},Hae=()=>{try{return Xae()||Yae()||Fae()||Wae()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Gae=n=>{var e;return(e=Hae())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function Jae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eoe(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function toe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function noe(){try{return typeof indexedDB=="object"}catch{return!1}}function ioe(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe="FirebaseError";class $l extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=roe,Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uf.prototype.create)}}class Uf{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?soe(s,i):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new $l(r,o,i)}}function soe(n,e){return n.replace(loe,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const loe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function aoe(n,e){const t=new ooe(n,e);return t.subscribe.bind(t)}class ooe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");coe(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=jb),r.error===void 0&&(r.error=jb),r.complete===void 0&&(r.complete=jb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function coe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n){return n&&n._delegate?n._delegate:n}class uf{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xt||(xt={}));const uoe={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},hoe=xt.INFO,foe={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},doe=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=foe[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lz{constructor(e){this.name=e,this._logLevel=hoe,this._logHandler=doe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uoe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(moe(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function moe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nv="@firebase/app",gR="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Lz("@firebase/app"),goe="@firebase/app-compat",Ooe="@firebase/analytics-compat",yoe="@firebase/analytics",boe="@firebase/app-check-compat",Soe="@firebase/app-check",voe="@firebase/auth",woe="@firebase/auth-compat",xoe="@firebase/database",koe="@firebase/data-connect",_oe="@firebase/database-compat",Toe="@firebase/functions",Coe="@firebase/functions-compat",Eoe="@firebase/installations",Aoe="@firebase/installations-compat",Qoe="@firebase/messaging",Poe="@firebase/messaging-compat",Roe="@firebase/performance",$oe="@firebase/performance-compat",Moe="@firebase/remote-config",Ioe="@firebase/remote-config-compat",Doe="@firebase/storage",Noe="@firebase/storage-compat",Loe="@firebase/firestore",zoe="@firebase/ai",Boe="@firebase/firestore-compat",Uoe="firebase",Xoe="12.9.0",Zoe={[Nv]:"fire-core",[goe]:"fire-core-compat",[yoe]:"fire-analytics",[Ooe]:"fire-analytics-compat",[Soe]:"fire-app-check",[boe]:"fire-app-check-compat",[voe]:"fire-auth",[woe]:"fire-auth-compat",[xoe]:"fire-rtdb",[koe]:"fire-data-connect",[_oe]:"fire-rtdb-compat",[Toe]:"fire-fn",[Coe]:"fire-fn-compat",[Eoe]:"fire-iid",[Aoe]:"fire-iid-compat",[Qoe]:"fire-fcm",[Poe]:"fire-fcm-compat",[Roe]:"fire-perf",[$oe]:"fire-perf-compat",[Moe]:"fire-rc",[Ioe]:"fire-rc-compat",[Doe]:"fire-gcs",[Noe]:"fire-gcs-compat",[Loe]:"fire-fst",[Boe]:"fire-fst-compat",[zoe]:"fire-vertex","fire-js":"fire-js",[Uoe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new Map,Voe=new Map,OR=new Map;function yR(n,e){try{n.container.addComponent(e)}catch(t){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hf(n){const e=n.name;if(OR.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;OR.set(e,n);for(const t of joe.values())yR(t,n);for(const t of Voe.values())yR(t,n);return!0}function us(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fx=new Uf("app","Firebase",qoe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=Xoe;function Th(n,e,t){let i=Zoe[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(l.join(" "));return}hf(new uf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yoe="firebase-heartbeat-database",Foe=1,ff="firebase-heartbeat-store";let Vb=null;function zz(){return Vb||(Vb=h$(Yoe,Foe,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ff)}catch(t){console.warn(t)}}}}).catch(n=>{throw fx.create("idb-open",{originalErrorMessage:n.message})})),Vb}async function Woe(n){try{const t=(await zz()).transaction(ff),i=await t.objectStore(ff).get(Bz(n));return await t.done,i}catch(e){if(e instanceof $l)Es.warn(e.message);else{const t=fx.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(t.message)}}}async function bR(n,e){try{const i=(await zz()).transaction(ff,"readwrite");await i.objectStore(ff).put(e,Bz(n)),await i.done}catch(t){if(t instanceof $l)Es.warn(t.message);else{const i=fx.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Es.warn(i.message)}}}function Bz(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe=1024,Goe=30;class Koe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ece(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Goe){const l=tce(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Es.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=SR(),{heartbeatsToSend:i,unsentEntries:r}=Joe(this._heartbeatsCache.heartbeats),s=Iz(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Es.warn(t),""}}}function SR(){return new Date().toISOString().substring(0,10)}function Joe(n,e=Hoe){const t=[];let i=n.slice();for(const r of n){const s=t.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),vR(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),vR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ece{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return noe()?ioe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Woe(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vR(n){return Iz(JSON.stringify({version:2,heartbeats:n})).length}function tce(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(n){hf(new uf("platform-logger",e=>new poe(e),"PRIVATE")),hf(new uf("heartbeat",e=>new Koe(e),"PRIVATE")),Th(Nv,gR,n),Th(Nv,gR,"esm2020"),Th("fire-js","")}nce("");function Uz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ice=Uz,Xz=new Uf("auth","Firebase",Uz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Lz("@firebase/auth");function rce(n,...e){fg.logLevel<=xt.WARN&&fg.warn(`Auth (${dx}): ${n}`,...e)}function sm(n,...e){fg.logLevel<=xt.ERROR&&fg.error(`Auth (${dx}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n,...e){throw mx(n,...e)}function Ko(n,...e){return mx(n,...e)}function px(n,e,t){const i={...ice(),[e]:t};return new Uf("auth","Firebase",i).create(e,{appName:n.name})}function Jo(n){return px(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sce(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ra(n,"argument-error"),px(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mx(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Xz.create(n,...e)}function Ve(n,e,...t){if(!n)throw mx(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sm(e),new Error(e)}function $a(n,e){n||ms(e)}function lce(){return wR()==="http:"||wR()==="https:"}function wR(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lce()||eoe()||"connection"in navigator)?navigator.onLine:!0}function oce(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.shortDelay=e,this.longDelay=t,$a(t>e,"Short delay should be less than long delay!"),this.isMobile=Kae()||toe()}get(){return ace()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cce(n,e){$a(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fce=new Zf(3e4,6e4);function gx(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function jf(n,e,t,i,r={}){return jz(n,r,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const o=hx({key:n.config.apiKey,...l}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:u,...s};return Jae()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Nz(n.emulatorConfig.host)&&(f.credentials="include"),Zz.fetch()(await Vz(n,n.config.apiHost,t,o),f)})}async function jz(n,e,t){n._canInitEmulator=!1;const i={...uce,...e};try{const r=new pce(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Np(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const o=s.ok?l.errorMessage:l.error.message,[u,f]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(n,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Np(n,"email-already-in-use",l);if(u==="USER_DISABLED")throw Np(n,"user-disabled",l);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw px(n,d,f);Ra(n,d)}}catch(r){if(r instanceof $l)throw r;Ra(n,"network-request-failed",{message:String(r)})}}async function dce(n,e,t,i,r={}){const s=await jf(n,e,t,i,r);return"mfaPendingCredential"in s&&Ra(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Vz(n,e,t,i){const r=`${e}${t}?${i}`,s=n,l=s.config.emulator?cce(n.config,r):`${n.config.apiScheme}://${r}`;return hce.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class pce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ko(this.auth,"network-request-failed")),fce.get())})}}function Np(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Ko(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mce(n,e){return jf(n,"POST","/v1/accounts:delete",e)}async function dg(n,e){return jf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gce(n,e=!1){const t=Xf(n),i=await t.getIdToken(e),r=Ox(i);Ve(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ch(qb(r.auth_time)),issuedAtTime:Ch(qb(r.iat)),expirationTime:Ch(qb(r.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qb(n){return Number(n)*1e3}function Ox(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{const r=Dz(t);return r?JSON.parse(r):(sm("Failed to decode base64 JWT payload"),null)}catch(r){return sm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function xR(n){const e=Ox(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $l&&Oce(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Oce({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(n){var m;const e=n.auth,t=await n.getIdToken(),i=await df(n,dg(e,{idToken:t}));Ve(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?qz(r.providerUserInfo):[],l=Sce(n.providerData,s),o=n.isAnonymous,u=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),f=o?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Lv(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,d)}async function bce(n){const e=Xf(n);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sce(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function qz(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vce(n,e){const t=await jz(n,{},async()=>{const i=hx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,l=await Vz(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return n.emulatorConfig&&Nz(n.emulatorConfig.host)&&(u.credentials="include"),Zz.fetch()(l,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wce(n,e){return jf(n,"POST","/v2/accounts:revokeToken",gx(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=xR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await vce(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,l=new ec;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),s&&(Ve(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new yce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Lv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await df(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gce(this,e)}reload(){return bce(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await pg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await df(this,mce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,o=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,d=t.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:y,providerData:S,stsTokenManager:v}=t;Ve(m&&v,e,"internal-error");const x=ec.fromJSON(this.name,v);Ve(typeof m=="string",e,"internal-error"),ll(i,e.name),ll(r,e.name),Ve(typeof g=="boolean",e,"internal-error"),Ve(typeof y=="boolean",e,"internal-error"),ll(s,e.name),ll(l,e.name),ll(o,e.name),ll(u,e.name),ll(f,e.name),ll(d,e.name);const k=new rr({uid:m,auth:e,email:r,emailVerified:g,displayName:i,isAnonymous:y,photoURL:l,phoneNumber:s,tenantId:o,stsTokenManager:x,createdAt:f,lastLoginAt:d});return S&&Array.isArray(S)&&(k.providerData=S.map(C=>({...C}))),u&&(k._redirectEventId=u),k}static async _fromIdTokenResponse(e,t,i=!1){const r=new ec;r.updateFromServerResponse(t);const s=new rr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await pg(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ve(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?qz(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new ec;o.updateFromIdToken(i);const u=new rr({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Lv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;function Oa(n){$a(n instanceof Function,"Expected a class definition");let e=kR.get(n);return e?($a(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yz.type="NONE";const _R=Yz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,e,t){return`firebase:${n}:${e}:${t}`}class tc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Yb(this.userKey,r.apiKey,s),this.fullPersistenceKey=Yb("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dg(this.auth,{idToken:e}).catch(()=>{});return t?rr._fromGetAccountInfoResponse(this.auth,t,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new tc(Oa(_R),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||Oa(_R);const l=Yb(i,e.config.apiKey,e.name);let o=null;for(const f of t)try{const d=await f._get(l);if(d){let m;if(typeof d=="string"){const g=await dg(e,{idToken:d}).catch(()=>{});if(!g)break;m=await rr._fromGetAccountInfoResponse(e,g,d)}else m=rr._fromJSON(e,d);f!==s&&(o=m),s=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new tc(s,e,i):(s=u[0],o&&await s._set(l,o.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new tc(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tce(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xce(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ece(e))return"Blackberry";if(Ace(e))return"Webos";if(kce(e))return"Safari";if((e.includes("chrome/")||_ce(e))&&!e.includes("edge/"))return"Chrome";if(Cce(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xce(n=Dr()){return/firefox\//i.test(n)}function kce(n=Dr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _ce(n=Dr()){return/crios\//i.test(n)}function Tce(n=Dr()){return/iemobile/i.test(n)}function Cce(n=Dr()){return/android/i.test(n)}function Ece(n=Dr()){return/blackberry/i.test(n)}function Ace(n=Dr()){return/webos/i.test(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(n,e=[]){let t;switch(n){case"Browser":t=TR(Dr());break;case"Worker":t=`${TR(Dr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dx}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((l,o)=>{try{const u=e(s);l(u)}catch(u){o(u)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pce(n,e={}){return jf(n,"GET","/v2/passwordPolicy",gx(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=6;class $ce{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Rce,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CR(this),this.idTokenSubscription=new CR(this),this.beforeStateQueue=new Qce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oa(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dg(this,{idToken:e}),i=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(us(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===o)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oce()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(us(this.app))return Promise.reject(Jo(this));const t=e?Xf(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return us(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pce(this),t=new $ce(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uf("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wce(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oa(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[Oa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(o,this,"internal-error"),o.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,i,r);return()=>{l=!0,u()}}else{const u=e.addObserver(t);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&rce(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wz(n){return Xf(n)}class CR{constructor(e){this.auth=e,this.observer=null,this.addObserver=aoe(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ice(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Oa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(n,e){return dce(n,"POST","/v1/accounts:signInWithIdp",gx(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce="http://localhost";class Ma extends Hz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ra("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=t;if(!i||!r)return null;const l=new Ma(i,r);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return nc(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,nc(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nc(e,t)}buildRequest(){const e={requestUri:Dce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hx(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends Gz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Kg{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.FACEBOOK_SIGN_IN_METHOD="facebook.com";ul.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Kg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return hl.credential(t,i)}catch{return null}}}hl.GOOGLE_SIGN_IN_METHOD="google.com";hl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Kg{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.GITHUB_SIGN_IN_METHOD="github.com";fl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Kg{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return dl.credential(t,i)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await rr._fromIdTokenResponse(e,i,r),l=ER(i);return new wc({user:s,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=ER(i);return new wc({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function ER(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends $l{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new mg(e,t,i,r)}}function Kz(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mg._fromErrorAndOperation(n,s,e,i):s})}async function Nce(n,e,t=!1){const i=await df(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lce(n,e,t=!1){const{auth:i}=n;if(us(i.app))return Promise.reject(Jo(i));const r="reauthenticate";try{const s=await df(n,Kz(i,r,e,n),t);Ve(s.idToken,i,"internal-error");const l=Ox(s.idToken);Ve(l,i,"internal-error");const{sub:o}=l;return Ve(n.uid===o,i,"user-mismatch"),wc._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ra(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zce(n,e,t=!1){if(us(n.app))return Promise.reject(Jo(n));const i="signIn",r=await Kz(n,i,e),s=await wc._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function Bce(n,e,t,i){return Xf(n).onAuthStateChanged(e,t,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}new Zf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xce(n,e){return Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends Hz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zce(n){return zce(n.auth,new yx(n),n.bypassAuthState)}function jce(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Lce(t,new yx(n),n.bypassAuthState)}async function Vce(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Nce(t,new yx(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:l,type:o}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zce;case"linkViaPopup":case"linkViaRedirect":return Vce;case"reauthViaPopup":case"reauthViaRedirect":return jce;default:Ra(this.auth,"internal-error")}}resolve(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=new Zf(2e3,1e4);async function Fce(n,e,t){if(us(n.app))return Promise.reject(Ko(n,"operation-not-supported-in-this-environment"));const i=Wz(n);sce(n,e,Gz);const r=Xce(i);return new ya(i,"signInViaPopup",e,r).executeNotNull()}class ya extends qce{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){$a(this.filter.length===1,"Popup operations only handle one event");const e=Uce();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ko(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ko(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ko(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yce.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zf(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zf(5e3,15e3);var AR="@firebase/auth",QR="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hce(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gce(n){hf(new uf("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:o}=i.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:l,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fz(n)},f=new Mce(i,r,s,u);return Ice(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),hf(new uf("auth-internal",e=>{const t=Wz(e.getProvider("auth").getImmediate());return(i=>new Wce(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Th(AR,QR,Hce(n)),Th(AR,QR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kce=300;Gae("authIdTokenMaxAge");Gce("Browser");function Jce(){const[n,e]=I.useState("loading"),[t,i]=I.useState(null),[r,s]=I.useState(null),[l,o]=I.useState(null);I.useEffect(()=>{const d=Bce(ks,m=>{m?(s(m),e("logged_in")):e("ready")});return()=>d()},[]);const u=async()=>{e("logging_in");try{const d=await Fce(ks,dM);s(d.user),e("logged_in")}catch(d){i(d.message),e("error")}},f=async()=>{if(r){e("authorizing");try{const m=await(await fetch(`/api/username/resolve?uid=${r.uid}`)).json();if(!m.username){e("needs_username");return}const g=await r.getIdToken(),S=await(await fetch("/api/token/agent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({uid:r.uid,username:m.username})})).json();if(!S.token){i(S.error||"  "),e("error");return}o(m.username);const v=`mdflare://callback?uid=${encodeURIComponent(r.uid)}&username=${encodeURIComponent(m.username)}&token=${encodeURIComponent(S.token)}`;e("redirecting"),window.location.href=v,setTimeout(()=>e("done"),1500)}catch(d){i(d.message),e("error")}}};return A.jsx("div",{className:"agent-auth",children:A.jsxs("div",{className:"agent-auth-card",children:[A.jsx("div",{className:"logo",children:""}),A.jsx("h1",{children:"MDFlare  "}),n==="loading"&&A.jsx("p",{className:"status",children:" ..."}),n==="ready"&&A.jsxs(A.Fragment,{children:[A.jsx("p",{children:"Google    ."}),A.jsx("button",{className:"auth-btn",onClick:u,children:" Google "})]}),n==="logging_in"&&A.jsx("p",{className:"status",children:" ..."}),n==="logged_in"&&r&&A.jsxs(A.Fragment,{children:[A.jsxs("p",{className:"user-info",children:[" ",r.displayName||r.email]}),A.jsx("button",{className:"auth-btn primary",onClick:f,children:"   "}),A.jsx("p",{className:"hint",children:"  MDFlare   ."})]}),n==="needs_username"&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"status",children:" ID  ."}),A.jsx("a",{href:"/setup?return=agent",className:"auth-btn primary",style:{display:"inline-block",textDecoration:"none",marginTop:"12px"},children:"ID "})]}),n==="authorizing"&&A.jsx("p",{className:"status",children:"  ..."}),n==="redirecting"&&A.jsx("p",{className:"status success",children:"   ..."}),n==="done"&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"status success",children:"  ."}),A.jsx("a",{href:`/${l}`,className:"auth-btn primary",style:{display:"inline-block",textDecoration:"none",marginTop:"12px"},children:"   "}),A.jsxs("p",{className:"hint",children:["  ? ",A.jsx("a",{href:"/download",children:" "})]})]}),n==="error"&&A.jsxs("div",{className:"error-box",children:[A.jsxs("p",{children:[" ",t]}),A.jsx("button",{className:"retry-btn",onClick:()=>e("ready"),children:" "})]})]})})}function eue(){const[n,e]=I.useState(null),[t,i]=I.useState(null),[r,s]=I.useState(!0);return I.useEffect(()=>r8(async o=>{if(e(o),o)try{const f=await(await fetch(`/api/username/resolve?uid=${o.uid}`)).json();f.found?i(f.username):i(null)}catch{i(null)}else i(null);s(!1)}),[]),s8(),r?A.jsxs("div",{className:"loading-screen",children:[A.jsx("div",{className:"logo",children:""}),A.jsx("p",{children:Tf()})]}):A.jsxs(SB,{children:[A.jsx(ra,{path:"/",element:A.jsx(UE,{user:n,username:t})}),A.jsx(ra,{path:"/download",element:A.jsx(Uae,{})}),A.jsx(ra,{path:"/auth/agent",element:A.jsx(Jce,{})}),A.jsx(ra,{path:"/setup",element:n&&!t?A.jsx(Lae,{user:n}):A.jsx(UE,{user:n,username:t})}),A.jsx(ra,{path:"/private/*",element:A.jsx(pR,{user:n,isPrivateVault:!0})}),A.jsx(ra,{path:"/:userId/*",element:A.jsx(pR,{user:n})})]})}w4.createRoot(document.getElementById("root")).render(A.jsx(VB,{children:A.jsx(eue,{})}));
