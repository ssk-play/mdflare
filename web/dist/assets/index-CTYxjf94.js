(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function N1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wy={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function r5(){if(tC)return nc;tC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:s}}return nc.Fragment=e,nc.jsx=t,nc.jsxs=t,nc}var nC;function s5(){return nC||(nC=1,wy.exports=r5()),wy.exports}var z=s5(),ky={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function l5(){if(iC)return Re;iC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function k(P,U,C){this.props=P,this.context=U,this.refs=w,this.updater=C||S}k.prototype.isReactComponent={},k.prototype.setState=function(P,U){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,U,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function A(){}A.prototype=k.prototype;function T(P,U,C){this.props=P,this.context=U,this.refs=w,this.updater=C||S}var Z=T.prototype=new A;Z.constructor=T,x(Z,k.prototype),Z.isPureReactComponent=!0;var D=Array.isArray;function R(){}var B={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function re(P,U,C){var ue=C.ref;return{$$typeof:n,type:P,key:U,ref:ue!==void 0?ue:null,props:C}}function I(P,U){return re(P.type,U,P.props)}function ee(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function W(P){var U={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(C){return U[C]})}var he=/\/+/g;function se(P,U){return typeof P=="object"&&P!==null&&P.key!=null?W(""+P.key):U.toString(36)}function te(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(R,R):(P.status="pending",P.then(function(U){P.status==="pending"&&(P.status="fulfilled",P.value=U)},function(U){P.status==="pending"&&(P.status="rejected",P.reason=U)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function N(P,U,C,ue,we){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var Ie=!1;if(P===null)Ie=!0;else switch(Se){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(P.$$typeof){case n:case e:Ie=!0;break;case d:return Ie=P._init,N(Ie(P._payload),U,C,ue,we)}}if(Ie)return we=we(P),Ie=ue===""?"."+se(P,0):ue,D(we)?(C="",Ie!=null&&(C=Ie.replace(he,"$&/")+"/"),N(we,U,C,"",function(di){return di})):we!=null&&(ee(we)&&(we=I(we,C+(we.key==null||P&&P.key===we.key?"":(""+we.key).replace(he,"$&/")+"/")+Ie)),U.push(we)),1;Ie=0;var Ct=ue===""?".":ue+":";if(D(P))for(var at=0;at<P.length;at++)ue=P[at],Se=Ct+se(ue,at),Ie+=N(ue,U,C,Se,we);else if(at=y(P),typeof at=="function")for(P=at.call(P),at=0;!(ue=P.next()).done;)ue=ue.value,Se=Ct+se(ue,at++),Ie+=N(ue,U,C,Se,we);else if(Se==="object"){if(typeof P.then=="function")return N(te(P),U,C,ue,we);throw U=String(P),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ne(P,U,C){if(P==null)return P;var ue=[],we=0;return N(P,ue,"","",function(Se){return U.call(C,Se,we++)}),ue}function pe(P){if(P._status===-1){var U=P._result;U=U(),U.then(function(C){(P._status===0||P._status===-1)&&(P._status=1,P._result=C)},function(C){(P._status===0||P._status===-1)&&(P._status=2,P._result=C)}),P._status===-1&&(P._status=0,P._result=U)}if(P._status===1)return P._result.default;throw P._result}var F=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},E={map:ne,forEach:function(P,U,C){ne(P,function(){U.apply(this,arguments)},C)},count:function(P){var U=0;return ne(P,function(){U++}),U},toArray:function(P){return ne(P,function(U){return U})||[]},only:function(P){if(!ee(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Re.Activity=m,Re.Children=E,Re.Component=k,Re.Fragment=t,Re.Profiler=r,Re.PureComponent=T,Re.StrictMode=i,Re.Suspense=c,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return B.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(P,U,C){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=x({},P.props),we=P.key;if(U!=null)for(Se in U.key!==void 0&&(we=""+U.key),U)!le.call(U,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&U.ref===void 0||(ue[Se]=U[Se]);var Se=arguments.length-2;if(Se===1)ue.children=C;else if(1<Se){for(var Ie=Array(Se),Ct=0;Ct<Se;Ct++)Ie[Ct]=arguments[Ct+2];ue.children=Ie}return re(P.type,we,ue)},Re.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:s,_context:P},P},Re.createElement=function(P,U,C){var ue,we={},Se=null;if(U!=null)for(ue in U.key!==void 0&&(Se=""+U.key),U)le.call(U,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=U[ue]);var Ie=arguments.length-2;if(Ie===1)we.children=C;else if(1<Ie){for(var Ct=Array(Ie),at=0;at<Ie;at++)Ct[at]=arguments[at+2];we.children=Ct}if(P&&P.defaultProps)for(ue in Ie=P.defaultProps,Ie)we[ue]===void 0&&(we[ue]=Ie[ue]);return re(P,Se,we)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:u,render:P}},Re.isValidElement=ee,Re.lazy=function(P){return{$$typeof:d,_payload:{_status:-1,_result:P},_init:pe}},Re.memo=function(P,U){return{$$typeof:f,type:P,compare:U===void 0?null:U}},Re.startTransition=function(P){var U=B.T,C={};B.T=C;try{var ue=P(),we=B.S;we!==null&&we(C,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(R,F)}catch(Se){F(Se)}finally{U!==null&&C.types!==null&&(U.types=C.types),B.T=U}},Re.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Re.use=function(P){return B.H.use(P)},Re.useActionState=function(P,U,C){return B.H.useActionState(P,U,C)},Re.useCallback=function(P,U){return B.H.useCallback(P,U)},Re.useContext=function(P){return B.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,U){return B.H.useDeferredValue(P,U)},Re.useEffect=function(P,U){return B.H.useEffect(P,U)},Re.useEffectEvent=function(P){return B.H.useEffectEvent(P)},Re.useId=function(){return B.H.useId()},Re.useImperativeHandle=function(P,U,C){return B.H.useImperativeHandle(P,U,C)},Re.useInsertionEffect=function(P,U){return B.H.useInsertionEffect(P,U)},Re.useLayoutEffect=function(P,U){return B.H.useLayoutEffect(P,U)},Re.useMemo=function(P,U){return B.H.useMemo(P,U)},Re.useOptimistic=function(P,U){return B.H.useOptimistic(P,U)},Re.useReducer=function(P,U,C){return B.H.useReducer(P,U,C)},Re.useRef=function(P){return B.H.useRef(P)},Re.useState=function(P){return B.H.useState(P)},Re.useSyncExternalStore=function(P,U,C){return B.H.useSyncExternalStore(P,U,C)},Re.useTransition=function(){return B.H.useTransition()},Re.version="19.2.4",Re}var rC;function z1(){return rC||(rC=1,ky.exports=l5()),ky.exports}var X=z1(),_y={exports:{}},ic={},Cy={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function a5(){return sC||(sC=1,(function(n){function e(N,ne){var pe=N.length;N.push(ne);e:for(;0<pe;){var F=pe-1>>>1,E=N[F];if(0<r(E,ne))N[F]=ne,N[pe]=E,pe=F;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var ne=N[0],pe=N.pop();if(pe!==ne){N[0]=pe;e:for(var F=0,E=N.length,P=E>>>1;F<P;){var U=2*(F+1)-1,C=N[U],ue=U+1,we=N[ue];if(0>r(C,pe))ue<E&&0>r(we,C)?(N[F]=we,N[ue]=pe,F=ue):(N[F]=C,N[U]=pe,F=U);else if(ue<E&&0>r(we,pe))N[F]=we,N[ue]=pe,F=ue;else break e}}return ne}function r(N,ne){var pe=N.sortIndex-ne.sortIndex;return pe!==0?pe:N.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],f=[],d=1,m=null,g=3,y=!1,S=!1,x=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function Z(N){for(var ne=t(f);ne!==null;){if(ne.callback===null)i(f);else if(ne.startTime<=N)i(f),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=t(f)}}function D(N){if(x=!1,Z(N),!S)if(t(c)!==null)S=!0,R||(R=!0,W());else{var ne=t(f);ne!==null&&te(D,ne.startTime-N)}}var R=!1,B=-1,le=5,re=-1;function I(){return w?!0:!(n.unstable_now()-re<le)}function ee(){if(w=!1,R){var N=n.unstable_now();re=N;var ne=!0;try{e:{S=!1,x&&(x=!1,A(B),B=-1),y=!0;var pe=g;try{t:{for(Z(N),m=t(c);m!==null&&!(m.expirationTime>N&&I());){var F=m.callback;if(typeof F=="function"){m.callback=null,g=m.priorityLevel;var E=F(m.expirationTime<=N);if(N=n.unstable_now(),typeof E=="function"){m.callback=E,Z(N),ne=!0;break t}m===t(c)&&i(c),Z(N)}else i(c);m=t(c)}if(m!==null)ne=!0;else{var P=t(f);P!==null&&te(D,P.startTime-N),ne=!1}}break e}finally{m=null,g=pe,y=!1}ne=void 0}}finally{ne?W():R=!1}}}var W;if(typeof T=="function")W=function(){T(ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,se=he.port2;he.port1.onmessage=ee,W=function(){se.postMessage(null)}}else W=function(){k(ee,0)};function te(N,ne){B=k(function(){N(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(N){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var pe=g;g=ne;try{return N()}finally{g=pe}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(N,ne){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var pe=g;g=N;try{return ne()}finally{g=pe}},n.unstable_scheduleCallback=function(N,ne,pe){var F=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?F+pe:F):pe=F,N){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=pe+E,N={id:d++,callback:ne,priorityLevel:N,startTime:pe,expirationTime:E,sortIndex:-1},pe>F?(N.sortIndex=pe,e(f,N),t(c)===null&&N===t(f)&&(x?(A(B),B=-1):x=!0,te(D,pe-F))):(N.sortIndex=E,e(c,N),S||y||(S=!0,R||(R=!0,W()))),N},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(N){var ne=g;return function(){var pe=g;g=ne;try{return N.apply(this,arguments)}finally{g=pe}}}})(Ty)),Ty}var lC;function o5(){return lC||(lC=1,Cy.exports=a5()),Cy.exports}var Ey={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function u5(){if(aC)return pn;aC=1;var n=z1();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:c,containerInfo:f,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,d)},pn.flushSync=function(c){var f=l.T,d=i.p;try{if(l.T=null,i.p=2,c)return c()}finally{l.T=f,i.p=d,i.d.f()}},pn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},pn.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},pn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,m=u(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):d==="script"&&i.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},pn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=u(d,f.crossOrigin);i.d.L(c,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pn.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},pn.requestFormReset=function(c){i.d.r(c)},pn.unstable_batchedUpdates=function(c,f){return c(f)},pn.useFormState=function(c,f,d){return l.H.useFormState(c,f,d)},pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var oC;function c5(){if(oC)return Ey.exports;oC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ey.exports=u5(),Ey.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function h5(){if(uC)return ic;uC=1;var n=o5(),e=z1(),t=c5();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(i(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(i(188));return o!==a?null:a}for(var h=a,p=o;;){var O=h.return;if(O===null)break;var b=O.alternate;if(b===null){if(p=O.return,p!==null){h=p;continue}break}if(O.child===b.child){for(b=O.child;b;){if(b===h)return c(O),a;if(b===p)return c(O),o;b=b.sibling}throw Error(i(188))}if(h.return!==p.return)h=O,p=b;else{for(var v=!1,_=O.child;_;){if(_===h){v=!0,h=O,p=b;break}if(_===p){v=!0,p=O,h=b;break}_=_.sibling}if(!v){for(_=b.child;_;){if(_===h){v=!0,h=b,p=O;break}if(_===p){v=!0,p=b,h=O;break}_=_.sibling}if(!v)throw Error(i(189))}}if(h.alternate!==p)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var he=Symbol.for("react.client.reference");function se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===he?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList";case re:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case Z:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return o=a.displayName||null,o!==null?o:se(a.type)||"Memo";case le:o=a._payload,a=a._init;try{return se(a(o))}catch{}}return null}var te=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},F=[],E=-1;function P(a){return{current:a}}function U(a){0>E||(a.current=F[E],F[E]=null,E--)}function C(a,o){E++,F[E]=a.current,a.current=o}var ue=P(null),we=P(null),Se=P(null),Ie=P(null);function Ct(a,o){switch(C(Se,o),C(we,a),C(ue,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?k_(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=k_(o),a=__(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}U(ue),C(ue,a)}function at(){U(ue),U(we),U(Se)}function di(a){a.memoizedState!==null&&C(Ie,a);var o=ue.current,h=__(o,a.type);o!==h&&(C(we,a),C(ue,h))}function kr(a){we.current===a&&(U(ue),U(we)),Ie.current===a&&(U(Ie),Ku._currentValue=pe)}var uu,tf;function _r(a){if(uu===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);uu=o&&o[1]||"",tf=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uu+a+tf}var ua=!1;function ca(a,o){if(!a||ua)return"";ua=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var V=Y}Reflect.construct(a,[],ie)}else{try{ie.call()}catch(Y){V=Y}a.call(ie.prototype)}}else{try{throw Error()}catch(Y){V=Y}(ie=a())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&V&&typeof Y.stack=="string")return[Y.stack,V.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),v=b[0],_=b[1];if(v&&_){var M=v.split(`
`),q=_.split(`
`);for(O=p=0;p<M.length&&!M[p].includes("DetermineComponentFrameRoot");)p++;for(;O<q.length&&!q[O].includes("DetermineComponentFrameRoot");)O++;if(p===M.length||O===q.length)for(p=M.length-1,O=q.length-1;1<=p&&0<=O&&M[p]!==q[O];)O--;for(;1<=p&&0<=O;p--,O--)if(M[p]!==q[O]){if(p!==1||O!==1)do if(p--,O--,0>O||M[p]!==q[O]){var H=`
`+M[p].replace(" at new "," at ");return a.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",a.displayName)),H}while(1<=p&&0<=O);break}}}finally{ua=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?_r(h):""}function nf(a,o){switch(a.tag){case 26:case 27:case 5:return _r(a.type);case 16:return _r("Lazy");case 13:return a.child!==o&&o!==null?_r("Suspense Fallback"):_r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return ca(a.type,!1);case 11:return ca(a.type.render,!1);case 1:return ca(a.type,!0);case 31:return _r("Activity");default:return""}}function rf(a){try{var o="",h=null;do o+=nf(a,h),h=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ha=Object.prototype.hasOwnProperty,fa=n.unstable_scheduleCallback,cu=n.unstable_cancelCallback,og=n.unstable_shouldYield,ug=n.unstable_requestPaint,vn=n.unstable_now,cg=n.unstable_getCurrentPriorityLevel,K=n.unstable_ImmediatePriority,fe=n.unstable_UserBlockingPriority,Te=n.unstable_NormalPriority,ze=n.unstable_LowPriority,it=n.unstable_IdlePriority,Wn=n.log,Cr=n.unstable_setDisableYieldValue,xn=null,jt=null;function En(a){if(typeof Wn=="function"&&Cr(a),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(xn,a)}catch{}}var dt=Math.clz32?Math.clz32:jL,ds=Math.log,$i=Math.LN2;function jL(a){return a>>>=0,a===0?32:31-(ds(a)/$i|0)|0}var sf=256,lf=262144,af=4194304;function pl(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function of(a,o,h){var p=a.pendingLanes;if(p===0)return 0;var O=0,b=a.suspendedLanes,v=a.pingedLanes;a=a.warmLanes;var _=p&134217727;return _!==0?(p=_&~b,p!==0?O=pl(p):(v&=_,v!==0?O=pl(v):h||(h=_&~a,h!==0&&(O=pl(h))))):(_=p&~b,_!==0?O=pl(_):v!==0?O=pl(v):h||(h=p&~a,h!==0&&(O=pl(h)))),O===0?0:o!==0&&o!==O&&(o&b)===0&&(b=O&-O,h=o&-o,b>=h||b===32&&(h&4194048)!==0)?o:O}function hu(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function qL(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sx(){var a=af;return af<<=1,(af&62914560)===0&&(af=4194304),a}function hg(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function fu(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function VL(a,o,h,p,O,b){var v=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var _=a.entanglements,M=a.expirationTimes,q=a.hiddenUpdates;for(h=v&~h;0<h;){var H=31-dt(h),ie=1<<H;_[H]=0,M[H]=-1;var V=q[H];if(V!==null)for(q[H]=null,H=0;H<V.length;H++){var Y=V[H];Y!==null&&(Y.lane&=-536870913)}h&=~ie}p!==0&&lx(a,p,0),b!==0&&O===0&&a.tag!==0&&(a.suspendedLanes|=b&~(v&~o))}function lx(a,o,h){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-dt(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|h&261930}function ax(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var p=31-dt(h),O=1<<p;O&o|a[p]&o&&(a[p]|=o),h&=~O}}function ox(a,o){var h=o&-o;return h=(h&42)!==0?1:fg(h),(h&(a.suspendedLanes|o))!==0?0:h}function fg(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dg(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ux(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:W_(a.type))}function cx(a,o){var h=ne.p;try{return ne.p=a,o()}finally{ne.p=h}}var ps=Math.random().toString(36).slice(2),rn="__reactFiber$"+ps,Qn="__reactProps$"+ps,da="__reactContainer$"+ps,pg="__reactEvents$"+ps,YL="__reactListeners$"+ps,WL="__reactHandles$"+ps,hx="__reactResources$"+ps,du="__reactMarker$"+ps;function mg(a){delete a[rn],delete a[Qn],delete a[pg],delete a[YL],delete a[WL]}function pa(a){var o=a[rn];if(o)return o;for(var h=a.parentNode;h;){if(o=h[da]||h[rn]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(a=R_(a);a!==null;){if(h=a[rn])return h;a=R_(a)}return o}a=h,h=a.parentNode}return null}function ma(a){if(a=a[rn]||a[da]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function pu(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function ga(a){var o=a[hx];return o||(o=a[hx]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Gt(a){a[du]=!0}var fx=new Set,dx={};function ml(a,o){Oa(a,o),Oa(a+"Capture",o)}function Oa(a,o){for(dx[a]=o,a=0;a<o.length;a++)fx.add(o[a])}var HL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),px={},mx={};function GL(a){return ha.call(mx,a)?!0:ha.call(px,a)?!1:HL.test(a)?mx[a]=!0:(px[a]=!0,!1)}function uf(a,o,h){if(GL(o))if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+h)}}function cf(a,o,h){if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+h)}}function Tr(a,o,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(o,h,""+p)}}function pi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function gx(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function FL(a,o,h){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,b=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return O.call(this)},set:function(v){h=""+v,b.call(this,v)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function gg(a){if(!a._valueTracker){var o=gx(a)?"checked":"value";a._valueTracker=FL(a,o,""+a[o])}}function Ox(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var h=o.getValue(),p="";return a&&(p=gx(a)?a.checked?"true":"false":a.value),a=p,a!==h?(o.setValue(a),!0):!1}function hf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var KL=/[\n"\\]/g;function mi(a){return a.replace(KL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Og(a,o,h,p,O,b,v,_){a.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?a.type=v:a.removeAttribute("type"),o!=null?v==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pi(o)):a.value!==""+pi(o)&&(a.value=""+pi(o)):v!=="submit"&&v!=="reset"||a.removeAttribute("value"),o!=null?yg(a,v,pi(o)):h!=null?yg(a,v,pi(h)):p!=null&&a.removeAttribute("value"),O==null&&b!=null&&(a.defaultChecked=!!b),O!=null&&(a.checked=O&&typeof O!="function"&&typeof O!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.name=""+pi(_):a.removeAttribute("name")}function yx(a,o,h,p,O,b,v,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){gg(a);return}h=h!=null?""+pi(h):"",o=o!=null?""+pi(o):h,_||o===a.value||(a.value=o),a.defaultValue=o}p=p??O,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=_?a.checked:!!p,a.defaultChecked=!!p,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.name=v),gg(a)}function yg(a,o,h){o==="number"&&hf(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ya(a,o,h,p){if(a=a.options,o){o={};for(var O=0;O<h.length;O++)o["$"+h[O]]=!0;for(h=0;h<a.length;h++)O=o.hasOwnProperty("$"+a[h].value),a[h].selected!==O&&(a[h].selected=O),O&&p&&(a[h].defaultSelected=!0)}else{for(h=""+pi(h),o=null,O=0;O<a.length;O++){if(a[O].value===h){a[O].selected=!0,p&&(a[O].defaultSelected=!0);return}o!==null||a[O].disabled||(o=a[O])}o!==null&&(o.selected=!0)}}function bx(a,o,h){if(o!=null&&(o=""+pi(o),o!==a.value&&(a.value=o),h==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=h!=null?""+pi(h):""}function Sx(a,o,h,p){if(o==null){if(p!=null){if(h!=null)throw Error(i(92));if(te(p)){if(1<p.length)throw Error(i(93));p=p[0]}h=p}h==null&&(h=""),o=h}h=pi(o),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p),gg(a)}function ba(a,o){if(o){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=o;return}}a.textContent=o}var JL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vx(a,o,h){var p=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,h):typeof h!="number"||h===0||JL.has(o)?o==="float"?a.cssFloat=h:a[o]=(""+h).trim():a[o]=h+"px"}function xx(a,o,h){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var O in o)p=o[O],o.hasOwnProperty(O)&&h[O]!==p&&vx(a,O,p)}else for(var b in o)o.hasOwnProperty(b)&&vx(a,b,o[b])}function bg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ff(a){return tN.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Er(){}var Sg=null;function vg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Sa=null,va=null;function wx(a){var o=ma(a);if(o&&(a=o.stateNode)){var h=a[Qn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Og(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+mi(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var p=h[o];if(p!==a&&p.form===a.form){var O=p[Qn]||null;if(!O)throw Error(i(90));Og(p,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(o=0;o<h.length;o++)p=h[o],p.form===a.form&&Ox(p)}break e;case"textarea":bx(a,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&ya(a,!!h.multiple,o,!1)}}}var xg=!1;function kx(a,o,h){if(xg)return a(o,h);xg=!0;try{var p=a(o);return p}finally{if(xg=!1,(Sa!==null||va!==null)&&(Jf(),Sa&&(o=Sa,a=va,va=Sa=null,wx(o),a)))for(o=0;o<a.length;o++)wx(a[o])}}function mu(a,o){var h=a.stateNode;if(h===null)return null;var p=h[Qn]||null;if(p===null)return null;h=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,o,typeof h));return h}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=!1;if(Qr)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){wg=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{wg=!1}var ms=null,kg=null,df=null;function _x(){if(df)return df;var a,o=kg,h=o.length,p,O="value"in ms?ms.value:ms.textContent,b=O.length;for(a=0;a<h&&o[a]===O[a];a++);var v=h-a;for(p=1;p<=v&&o[h-p]===O[b-p];p++);return df=O.slice(a,1<p?1-p:void 0)}function pf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function mf(){return!0}function Cx(){return!1}function An(a){function o(h,p,O,b,v){this._reactName=h,this._targetInst=O,this.type=p,this.nativeEvent=b,this.target=v,this.currentTarget=null;for(var _ in a)a.hasOwnProperty(_)&&(h=a[_],this[_]=h?h(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?mf:Cx,this.isPropagationStopped=Cx,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),o}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=An(gl),Ou=m({},gl,{view:0,detail:0}),nN=An(Ou),_g,Cg,yu,Of=m({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yu&&(yu&&a.type==="mousemove"?(_g=a.screenX-yu.screenX,Cg=a.screenY-yu.screenY):Cg=_g=0,yu=a),_g)},movementY:function(a){return"movementY"in a?a.movementY:Cg}}),Tx=An(Of),iN=m({},Of,{dataTransfer:0}),rN=An(iN),sN=m({},Ou,{relatedTarget:0}),Tg=An(sN),lN=m({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),aN=An(lN),oN=m({},gl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),uN=An(oN),cN=m({},gl,{data:0}),Ex=An(cN),hN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pN(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=dN[a])?!!o[a]:!1}function Eg(){return pN}var mN=m({},Ou,{key:function(a){if(a.key){var o=hN[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=pf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(a){return a.type==="keypress"?pf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?pf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gN=An(mN),ON=m({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=An(ON),yN=m({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),bN=An(yN),SN=m({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vN=An(SN),xN=m({},Of,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),wN=An(xN),kN=m({},gl,{newState:0,oldState:0}),_N=An(kN),CN=[9,13,27,32],Qg=Qr&&"CompositionEvent"in window,bu=null;Qr&&"documentMode"in document&&(bu=document.documentMode);var TN=Qr&&"TextEvent"in window&&!bu,Ax=Qr&&(!Qg||bu&&8<bu&&11>=bu),Px=" ",Rx=!1;function Mx(a,o){switch(a){case"keyup":return CN.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $x(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xa=!1;function EN(a,o){switch(a){case"compositionend":return $x(o);case"keypress":return o.which!==32?null:(Rx=!0,Px);case"textInput":return a=o.data,a===Px&&Rx?null:a;default:return null}}function QN(a,o){if(xa)return a==="compositionend"||!Qg&&Mx(a,o)?(a=_x(),df=kg=ms=null,xa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ax&&o.locale!=="ko"?null:o.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dx(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!AN[a.type]:o==="textarea"}function Ix(a,o,h,p){Sa?va?va.push(p):va=[p]:Sa=p,o=ld(o,"onChange"),0<o.length&&(h=new gf("onChange","change",null,h,p),a.push({event:h,listeners:o}))}var Su=null,vu=null;function PN(a){y_(a,0)}function yf(a){var o=pu(a);if(Ox(o))return a}function Lx(a,o){if(a==="change")return o}var Nx=!1;if(Qr){var Ag;if(Qr){var Pg="oninput"in document;if(!Pg){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),Pg=typeof zx.oninput=="function"}Ag=Pg}else Ag=!1;Nx=Ag&&(!document.documentMode||9<document.documentMode)}function Bx(){Su&&(Su.detachEvent("onpropertychange",Xx),vu=Su=null)}function Xx(a){if(a.propertyName==="value"&&yf(vu)){var o=[];Ix(o,vu,a,vg(a)),kx(PN,o)}}function RN(a,o,h){a==="focusin"?(Bx(),Su=o,vu=h,Su.attachEvent("onpropertychange",Xx)):a==="focusout"&&Bx()}function MN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return yf(vu)}function $N(a,o){if(a==="click")return yf(o)}function DN(a,o){if(a==="input"||a==="change")return yf(o)}function IN(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Hn=typeof Object.is=="function"?Object.is:IN;function xu(a,o){if(Hn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),p=Object.keys(o);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var O=h[p];if(!ha.call(o,O)||!Hn(a[O],o[O]))return!1}return!0}function Zx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ux(a,o){var h=Zx(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=o&&p>=o)return{node:h,offset:o-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Zx(h)}}function jx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?jx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function qx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=hf(a.document);o instanceof a.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)a=o.contentWindow;else break;o=hf(a.document)}return o}function Rg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var LN=Qr&&"documentMode"in document&&11>=document.documentMode,wa=null,Mg=null,wu=null,$g=!1;function Vx(a,o,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$g||wa==null||wa!==hf(p)||(p=wa,"selectionStart"in p&&Rg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),wu&&xu(wu,p)||(wu=p,p=ld(Mg,"onSelect"),0<p.length&&(o=new gf("onSelect","select",null,o,h),a.push({event:o,listeners:p}),o.target=wa)))}function Ol(a,o){var h={};return h[a.toLowerCase()]=o.toLowerCase(),h["Webkit"+a]="webkit"+o,h["Moz"+a]="moz"+o,h}var ka={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionrun:Ol("Transition","TransitionRun"),transitionstart:Ol("Transition","TransitionStart"),transitioncancel:Ol("Transition","TransitionCancel"),transitionend:Ol("Transition","TransitionEnd")},Dg={},Yx={};Qr&&(Yx=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function yl(a){if(Dg[a])return Dg[a];if(!ka[a])return a;var o=ka[a],h;for(h in o)if(o.hasOwnProperty(h)&&h in Yx)return Dg[a]=o[h];return a}var Wx=yl("animationend"),Hx=yl("animationiteration"),Gx=yl("animationstart"),NN=yl("transitionrun"),zN=yl("transitionstart"),BN=yl("transitioncancel"),Fx=yl("transitionend"),Kx=new Map,Ig="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ig.push("scrollEnd");function Di(a,o){Kx.set(a,o),ml(o,[a])}var bf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},gi=[],_a=0,Lg=0;function Sf(){for(var a=_a,o=Lg=_a=0;o<a;){var h=gi[o];gi[o++]=null;var p=gi[o];gi[o++]=null;var O=gi[o];gi[o++]=null;var b=gi[o];if(gi[o++]=null,p!==null&&O!==null){var v=p.pending;v===null?O.next=O:(O.next=v.next,v.next=O),p.pending=O}b!==0&&Jx(h,O,b)}}function vf(a,o,h,p){gi[_a++]=a,gi[_a++]=o,gi[_a++]=h,gi[_a++]=p,Lg|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Ng(a,o,h,p){return vf(a,o,h,p),xf(a)}function bl(a,o){return vf(a,null,null,o),xf(a)}function Jx(a,o,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var O=!1,b=a.return;b!==null;)b.childLanes|=h,p=b.alternate,p!==null&&(p.childLanes|=h),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(O=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,O&&o!==null&&(O=31-dt(h),a=b.hiddenUpdates,p=a[O],p===null?a[O]=[o]:p.push(o),o.lane=h|536870912),b):null}function xf(a){if(50<qu)throw qu=0,YO=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Ca={};function XN(a,o,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(a,o,h,p){return new XN(a,o,h,p)}function zg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ar(a,o){var h=a.alternate;return h===null?(h=Gn(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function ew(a,o){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,o=h.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function wf(a,o,h,p,O,b){var v=0;if(p=a,typeof a=="function")zg(a)&&(v=1);else if(typeof a=="string")v=Vz(a,h,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case re:return a=Gn(31,h,o,O),a.elementType=re,a.lanes=b,a;case x:return Sl(h.children,O,b,o);case w:v=8,O|=24;break;case k:return a=Gn(12,h,o,O|2),a.elementType=k,a.lanes=b,a;case D:return a=Gn(13,h,o,O),a.elementType=D,a.lanes=b,a;case R:return a=Gn(19,h,o,O),a.elementType=R,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:v=10;break e;case A:v=9;break e;case Z:v=11;break e;case B:v=14;break e;case le:v=16,p=null;break e}v=29,h=Error(i(130,a===null?"null":typeof a,"")),p=null}return o=Gn(v,h,o,O),o.elementType=a,o.type=p,o.lanes=b,o}function Sl(a,o,h,p){return a=Gn(7,a,p,o),a.lanes=h,a}function Bg(a,o,h){return a=Gn(6,a,null,o),a.lanes=h,a}function tw(a){var o=Gn(18,null,null,0);return o.stateNode=a,o}function Xg(a,o,h){return o=Gn(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var nw=new WeakMap;function Oi(a,o){if(typeof a=="object"&&a!==null){var h=nw.get(a);return h!==void 0?h:(o={value:a,source:o,stack:rf(o)},nw.set(a,o),o)}return{value:a,source:o,stack:rf(o)}}var Ta=[],Ea=0,kf=null,ku=0,yi=[],bi=0,gs=null,Ji=1,er="";function Pr(a,o){Ta[Ea++]=ku,Ta[Ea++]=kf,kf=a,ku=o}function iw(a,o,h){yi[bi++]=Ji,yi[bi++]=er,yi[bi++]=gs,gs=a;var p=Ji;a=er;var O=32-dt(p)-1;p&=~(1<<O),h+=1;var b=32-dt(o)+O;if(30<b){var v=O-O%5;b=(p&(1<<v)-1).toString(32),p>>=v,O-=v,Ji=1<<32-dt(o)+O|h<<O|p,er=b+a}else Ji=1<<b|h<<O|p,er=a}function Zg(a){a.return!==null&&(Pr(a,1),iw(a,1,0))}function Ug(a){for(;a===kf;)kf=Ta[--Ea],Ta[Ea]=null,ku=Ta[--Ea],Ta[Ea]=null;for(;a===gs;)gs=yi[--bi],yi[bi]=null,er=yi[--bi],yi[bi]=null,Ji=yi[--bi],yi[bi]=null}function rw(a,o){yi[bi++]=Ji,yi[bi++]=er,yi[bi++]=gs,Ji=o.id,er=o.overflow,gs=a}var sn=null,wt=null,We=!1,Os=null,Si=!1,jg=Error(i(519));function ys(a){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _u(Oi(o,a)),jg}function sw(a){var o=a.stateNode,h=a.type,p=a.memoizedProps;switch(o[rn]=a,o[Qn]=p,h){case"dialog":Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":case"embed":Xe("load",o);break;case"video":case"audio":for(h=0;h<Yu.length;h++)Xe(Yu[h],o);break;case"source":Xe("error",o);break;case"img":case"image":case"link":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"input":Xe("invalid",o),yx(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Xe("invalid",o);break;case"textarea":Xe("invalid",o),Sx(o,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||p.suppressHydrationWarning===!0||x_(o.textContent,h)?(p.popover!=null&&(Xe("beforetoggle",o),Xe("toggle",o)),p.onScroll!=null&&Xe("scroll",o),p.onScrollEnd!=null&&Xe("scrollend",o),p.onClick!=null&&(o.onclick=Er),o=!0):o=!1,o||ys(a,!0)}function lw(a){for(sn=a.return;sn;)switch(sn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:sn=sn.return}}function Qa(a){if(a!==sn)return!1;if(!We)return lw(a),We=!0,!1;var o=a.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||oy(a.type,a.memoizedProps)),h=!h),h&&wt&&ys(a),lw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));wt=P_(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));wt=P_(a)}else o===27?(o=wt,Rs(a.type)?(a=dy,dy=null,wt=a):wt=o):wt=sn?xi(a.stateNode.nextSibling):null;return!0}function vl(){wt=sn=null,We=!1}function qg(){var a=Os;return a!==null&&($n===null?$n=a:$n.push.apply($n,a),Os=null),a}function _u(a){Os===null?Os=[a]:Os.push(a)}var Vg=P(null),xl=null,Rr=null;function bs(a,o,h){C(Vg,o._currentValue),o._currentValue=h}function Mr(a){a._currentValue=Vg.current,U(Vg)}function Yg(a,o,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===h)break;a=a.return}}function Wg(a,o,h,p){var O=a.child;for(O!==null&&(O.return=a);O!==null;){var b=O.dependencies;if(b!==null){var v=O.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=O;for(var M=0;M<o.length;M++)if(_.context===o[M]){b.lanes|=h,_=b.alternate,_!==null&&(_.lanes|=h),Yg(b.return,h,a),p||(v=null);break e}b=_.next}}else if(O.tag===18){if(v=O.return,v===null)throw Error(i(341));v.lanes|=h,b=v.alternate,b!==null&&(b.lanes|=h),Yg(v,h,a),v=null}else v=O.child;if(v!==null)v.return=O;else for(v=O;v!==null;){if(v===a){v=null;break}if(O=v.sibling,O!==null){O.return=v.return,v=O;break}v=v.return}O=v}}function Aa(a,o,h,p){a=null;for(var O=o,b=!1;O!==null;){if(!b){if((O.flags&524288)!==0)b=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var v=O.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var _=O.type;Hn(O.pendingProps.value,v.value)||(a!==null?a.push(_):a=[_])}}else if(O===Ie.current){if(v=O.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(a!==null?a.push(Ku):a=[Ku])}O=O.return}a!==null&&Wg(o,a,h,p),o.flags|=262144}function _f(a){for(a=a.firstContext;a!==null;){if(!Hn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function wl(a){xl=a,Rr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ln(a){return aw(xl,a)}function Cf(a,o){return xl===null&&wl(a),aw(a,o)}function aw(a,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Rr===null){if(a===null)throw Error(i(308));Rr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Rr=Rr.next=o;return h}var ZN=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(h){return h()})}},UN=n.unstable_scheduleCallback,jN=n.unstable_NormalPriority,Lt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hg(){return{controller:new ZN,data:new Map,refCount:0}}function Cu(a){a.refCount--,a.refCount===0&&UN(jN,function(){a.controller.abort()})}var Tu=null,Gg=0,Pa=0,Ra=null;function qN(a,o){if(Tu===null){var h=Tu=[];Gg=0,Pa=JO(),Ra={status:"pending",value:void 0,then:function(p){h.push(p)}}}return Gg++,o.then(ow,ow),o}function ow(){if(--Gg===0&&Tu!==null){Ra!==null&&(Ra.status="fulfilled");var a=Tu;Tu=null,Pa=0,Ra=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function VN(a,o){var h=[],p={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var O=0;O<h.length;O++)(0,h[O])(o)},function(O){for(p.status="rejected",p.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),p}var uw=N.S;N.S=function(a,o){Vk=vn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&qN(a,o),uw!==null&&uw(a,o)};var kl=P(null);function Fg(){var a=kl.current;return a!==null?a:pt.pooledCache}function Tf(a,o){o===null?C(kl,kl.current):C(kl,o.pool)}function cw(){var a=Fg();return a===null?null:{parent:Lt._currentValue,pool:a}}var Ma=Error(i(460)),Kg=Error(i(474)),Ef=Error(i(542)),Qf={then:function(){}};function hw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fw(a,o,h){switch(h=a[h],h===void 0?a.push(o):h!==o&&(o.then(Er,Er),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,pw(a),a;default:if(typeof o.status=="string")o.then(Er,Er);else{if(a=pt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var O=o;O.status="fulfilled",O.value=p}},function(p){if(o.status==="pending"){var O=o;O.status="rejected",O.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,pw(a),a}throw Cl=o,Ma}}function _l(a){try{var o=a._init;return o(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Cl=h,Ma):h}}var Cl=null;function dw(){if(Cl===null)throw Error(i(459));var a=Cl;return Cl=null,a}function pw(a){if(a===Ma||a===Ef)throw Error(i(483))}var $a=null,Eu=0;function Af(a){var o=Eu;return Eu+=1,$a===null&&($a=[]),fw($a,a,o)}function Qu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Pf(a,o){throw o.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function mw(a){function o(L,$){if(a){var j=L.deletions;j===null?(L.deletions=[$],L.flags|=16):j.push($)}}function h(L,$){if(!a)return null;for(;$!==null;)o(L,$),$=$.sibling;return null}function p(L){for(var $=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function O(L,$){return L=Ar(L,$),L.index=0,L.sibling=null,L}function b(L,$,j){return L.index=j,a?(j=L.alternate,j!==null?(j=j.index,j<$?(L.flags|=67108866,$):j):(L.flags|=67108866,$)):(L.flags|=1048576,$)}function v(L){return a&&L.alternate===null&&(L.flags|=67108866),L}function _(L,$,j,J){return $===null||$.tag!==6?($=Bg(j,L.mode,J),$.return=L,$):($=O($,j),$.return=L,$)}function M(L,$,j,J){var ke=j.type;return ke===x?H(L,$,j.props.children,J,j.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===le&&_l(ke)===$.type)?($=O($,j.props),Qu($,j),$.return=L,$):($=wf(j.type,j.key,j.props,null,L.mode,J),Qu($,j),$.return=L,$)}function q(L,$,j,J){return $===null||$.tag!==4||$.stateNode.containerInfo!==j.containerInfo||$.stateNode.implementation!==j.implementation?($=Xg(j,L.mode,J),$.return=L,$):($=O($,j.children||[]),$.return=L,$)}function H(L,$,j,J,ke){return $===null||$.tag!==7?($=Sl(j,L.mode,J,ke),$.return=L,$):($=O($,j),$.return=L,$)}function ie(L,$,j){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Bg(""+$,L.mode,j),$.return=L,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return j=wf($.type,$.key,$.props,null,L.mode,j),Qu(j,$),j.return=L,j;case S:return $=Xg($,L.mode,j),$.return=L,$;case le:return $=_l($),ie(L,$,j)}if(te($)||W($))return $=Sl($,L.mode,j,null),$.return=L,$;if(typeof $.then=="function")return ie(L,Af($),j);if($.$$typeof===T)return ie(L,Cf(L,$),j);Pf(L,$)}return null}function V(L,$,j,J){var ke=$!==null?$.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ke!==null?null:_(L,$,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return j.key===ke?M(L,$,j,J):null;case S:return j.key===ke?q(L,$,j,J):null;case le:return j=_l(j),V(L,$,j,J)}if(te(j)||W(j))return ke!==null?null:H(L,$,j,J,null);if(typeof j.then=="function")return V(L,$,Af(j),J);if(j.$$typeof===T)return V(L,$,Cf(L,j),J);Pf(L,j)}return null}function Y(L,$,j,J,ke){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(j)||null,_($,L,""+J,ke);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return L=L.get(J.key===null?j:J.key)||null,M($,L,J,ke);case S:return L=L.get(J.key===null?j:J.key)||null,q($,L,J,ke);case le:return J=_l(J),Y(L,$,j,J,ke)}if(te(J)||W(J))return L=L.get(j)||null,H($,L,J,ke,null);if(typeof J.then=="function")return Y(L,$,j,Af(J),ke);if(J.$$typeof===T)return Y(L,$,j,Cf($,J),ke);Pf($,J)}return null}function ye(L,$,j,J){for(var ke=null,Ke=null,be=$,$e=$=0,Ve=null;be!==null&&$e<j.length;$e++){be.index>$e?(Ve=be,be=null):Ve=be.sibling;var Je=V(L,be,j[$e],J);if(Je===null){be===null&&(be=Ve);break}a&&be&&Je.alternate===null&&o(L,be),$=b(Je,$,$e),Ke===null?ke=Je:Ke.sibling=Je,Ke=Je,be=Ve}if($e===j.length)return h(L,be),We&&Pr(L,$e),ke;if(be===null){for(;$e<j.length;$e++)be=ie(L,j[$e],J),be!==null&&($=b(be,$,$e),Ke===null?ke=be:Ke.sibling=be,Ke=be);return We&&Pr(L,$e),ke}for(be=p(be);$e<j.length;$e++)Ve=Y(be,L,$e,j[$e],J),Ve!==null&&(a&&Ve.alternate!==null&&be.delete(Ve.key===null?$e:Ve.key),$=b(Ve,$,$e),Ke===null?ke=Ve:Ke.sibling=Ve,Ke=Ve);return a&&be.forEach(function(Ls){return o(L,Ls)}),We&&Pr(L,$e),ke}function Ce(L,$,j,J){if(j==null)throw Error(i(151));for(var ke=null,Ke=null,be=$,$e=$=0,Ve=null,Je=j.next();be!==null&&!Je.done;$e++,Je=j.next()){be.index>$e?(Ve=be,be=null):Ve=be.sibling;var Ls=V(L,be,Je.value,J);if(Ls===null){be===null&&(be=Ve);break}a&&be&&Ls.alternate===null&&o(L,be),$=b(Ls,$,$e),Ke===null?ke=Ls:Ke.sibling=Ls,Ke=Ls,be=Ve}if(Je.done)return h(L,be),We&&Pr(L,$e),ke;if(be===null){for(;!Je.done;$e++,Je=j.next())Je=ie(L,Je.value,J),Je!==null&&($=b(Je,$,$e),Ke===null?ke=Je:Ke.sibling=Je,Ke=Je);return We&&Pr(L,$e),ke}for(be=p(be);!Je.done;$e++,Je=j.next())Je=Y(be,L,$e,Je.value,J),Je!==null&&(a&&Je.alternate!==null&&be.delete(Je.key===null?$e:Je.key),$=b(Je,$,$e),Ke===null?ke=Je:Ke.sibling=Je,Ke=Je);return a&&be.forEach(function(i5){return o(L,i5)}),We&&Pr(L,$e),ke}function ct(L,$,j,J){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case y:e:{for(var ke=j.key;$!==null;){if($.key===ke){if(ke=j.type,ke===x){if($.tag===7){h(L,$.sibling),J=O($,j.props.children),J.return=L,L=J;break e}}else if($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===le&&_l(ke)===$.type){h(L,$.sibling),J=O($,j.props),Qu(J,j),J.return=L,L=J;break e}h(L,$);break}else o(L,$);$=$.sibling}j.type===x?(J=Sl(j.props.children,L.mode,J,j.key),J.return=L,L=J):(J=wf(j.type,j.key,j.props,null,L.mode,J),Qu(J,j),J.return=L,L=J)}return v(L);case S:e:{for(ke=j.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===j.containerInfo&&$.stateNode.implementation===j.implementation){h(L,$.sibling),J=O($,j.children||[]),J.return=L,L=J;break e}else{h(L,$);break}else o(L,$);$=$.sibling}J=Xg(j,L.mode,J),J.return=L,L=J}return v(L);case le:return j=_l(j),ct(L,$,j,J)}if(te(j))return ye(L,$,j,J);if(W(j)){if(ke=W(j),typeof ke!="function")throw Error(i(150));return j=ke.call(j),Ce(L,$,j,J)}if(typeof j.then=="function")return ct(L,$,Af(j),J);if(j.$$typeof===T)return ct(L,$,Cf(L,j),J);Pf(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,$!==null&&$.tag===6?(h(L,$.sibling),J=O($,j),J.return=L,L=J):(h(L,$),J=Bg(j,L.mode,J),J.return=L,L=J),v(L)):h(L,$)}return function(L,$,j,J){try{Eu=0;var ke=ct(L,$,j,J);return $a=null,ke}catch(be){if(be===Ma||be===Ef)throw be;var Ke=Gn(29,be,null,L.mode);return Ke.lanes=J,Ke.return=L,Ke}finally{}}}var Tl=mw(!0),gw=mw(!1),Ss=!1;function Jg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eO(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function vs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xs(a,o,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(et&2)!==0){var O=p.pending;return O===null?o.next=o:(o.next=O.next,O.next=o),p.pending=o,o=xf(a),Jx(a,null,h),o}return vf(a,p,o,h),xf(a)}function Au(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,h|=p,o.lanes=h,ax(a,h)}}function tO(a,o){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var O=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var v={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?O=b=v:b=b.next=v,h=h.next}while(h!==null);b===null?O=b=o:b=b.next=o}else O=b=o;h={baseState:p.baseState,firstBaseUpdate:O,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}var nO=!1;function Pu(){if(nO){var a=Ra;if(a!==null)throw a}}function Ru(a,o,h,p){nO=!1;var O=a.updateQueue;Ss=!1;var b=O.firstBaseUpdate,v=O.lastBaseUpdate,_=O.shared.pending;if(_!==null){O.shared.pending=null;var M=_,q=M.next;M.next=null,v===null?b=q:v.next=q,v=M;var H=a.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==v&&(_===null?H.firstBaseUpdate=q:_.next=q,H.lastBaseUpdate=M))}if(b!==null){var ie=O.baseState;v=0,H=q=M=null,_=b;do{var V=_.lane&-536870913,Y=V!==_.lane;if(Y?(qe&V)===V:(p&V)===V){V!==0&&V===Pa&&(nO=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ye=a,Ce=_;V=o;var ct=h;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){ie=ye.call(ct,ie,V);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,V=typeof ye=="function"?ye.call(ct,ie,V):ye,V==null)break e;ie=m({},ie,V);break e;case 2:Ss=!0}}V=_.callback,V!==null&&(a.flags|=64,Y&&(a.flags|=8192),Y=O.callbacks,Y===null?O.callbacks=[V]:Y.push(V))}else Y={lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(q=H=Y,M=ie):H=H.next=Y,v|=V;if(_=_.next,_===null){if(_=O.shared.pending,_===null)break;Y=_,_=Y.next,Y.next=null,O.lastBaseUpdate=Y,O.shared.pending=null}}while(!0);H===null&&(M=ie),O.baseState=M,O.firstBaseUpdate=q,O.lastBaseUpdate=H,b===null&&(O.shared.lanes=0),Ts|=v,a.lanes=v,a.memoizedState=ie}}function Ow(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function yw(a,o){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Ow(h[a],o)}var Da=P(null),Rf=P(0);function bw(a,o){a=Zr,C(Rf,a),C(Da,o),Zr=a|o.baseLanes}function iO(){C(Rf,Zr),C(Da,Da.current)}function rO(){Zr=Rf.current,U(Da),U(Rf)}var Fn=P(null),vi=null;function ws(a){var o=a.alternate;C(Mt,Mt.current&1),C(Fn,a),vi===null&&(o===null||Da.current!==null||o.memoizedState!==null)&&(vi=a)}function sO(a){C(Mt,Mt.current),C(Fn,a),vi===null&&(vi=a)}function Sw(a){a.tag===22?(C(Mt,Mt.current),C(Fn,a),vi===null&&(vi=a)):ks()}function ks(){C(Mt,Mt.current),C(Fn,Fn.current)}function Kn(a){U(Fn),vi===a&&(vi=null),U(Mt)}var Mt=P(0);function Mf(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||hy(h)||fy(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $r=0,Me=null,ot=null,Nt=null,$f=!1,Ia=!1,El=!1,Df=0,Mu=0,La=null,YN=0;function At(){throw Error(i(321))}function lO(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!Hn(a[h],o[h]))return!1;return!0}function aO(a,o,h,p,O,b){return $r=b,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,N.H=a===null||a.memoizedState===null?ik:xO,El=!1,b=h(p,O),El=!1,Ia&&(b=xw(o,h,p,O)),vw(a),b}function vw(a){N.H=Iu;var o=ot!==null&&ot.next!==null;if($r=0,Nt=ot=Me=null,$f=!1,Mu=0,La=null,o)throw Error(i(300));a===null||zt||(a=a.dependencies,a!==null&&_f(a)&&(zt=!0))}function xw(a,o,h,p){Me=a;var O=0;do{if(Ia&&(La=null),Mu=0,Ia=!1,25<=O)throw Error(i(301));if(O+=1,Nt=ot=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}N.H=rk,b=o(h,p)}while(Ia);return b}function WN(){var a=N.H,o=a.useState()[0];return o=typeof o.then=="function"?$u(o):o,a=a.useState()[0],(ot!==null?ot.memoizedState:null)!==a&&(Me.flags|=1024),o}function oO(){var a=Df!==0;return Df=0,a}function uO(a,o,h){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~h}function cO(a){if($f){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}$f=!1}$r=0,Nt=ot=Me=null,Ia=!1,Mu=Df=0,La=null}function wn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=a:Nt=Nt.next=a,Nt}function $t(){if(ot===null){var a=Me.alternate;a=a!==null?a.memoizedState:null}else a=ot.next;var o=Nt===null?Me.memoizedState:Nt.next;if(o!==null)Nt=o,ot=a;else{if(a===null)throw Me.alternate===null?Error(i(467)):Error(i(310));ot=a,a={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Nt===null?Me.memoizedState=Nt=a:Nt=Nt.next=a}return Nt}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $u(a){var o=Mu;return Mu+=1,La===null&&(La=[]),a=fw(La,a,o),o=Me,(Nt===null?o.memoizedState:Nt.next)===null&&(o=o.alternate,N.H=o===null||o.memoizedState===null?ik:xO),a}function Lf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return $u(a);if(a.$$typeof===T)return ln(a)}throw Error(i(438,String(a)))}function hO(a){var o=null,h=Me.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var p=Me.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(O){return O.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=If(),Me.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(a),p=0;p<a;p++)h[p]=I;return o.index++,h}function Dr(a,o){return typeof o=="function"?o(a):o}function Nf(a){var o=$t();return fO(o,ot,a)}function fO(a,o,h){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=h;var O=a.baseQueue,b=p.pending;if(b!==null){if(O!==null){var v=O.next;O.next=b.next,b.next=v}o.baseQueue=O=b,p.pending=null}if(b=a.baseState,O===null)a.memoizedState=b;else{o=O.next;var _=v=null,M=null,q=o,H=!1;do{var ie=q.lane&-536870913;if(ie!==q.lane?(qe&ie)===ie:($r&ie)===ie){var V=q.revertLane;if(V===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ie===Pa&&(H=!0);else if(($r&V)===V){q=q.next,V===Pa&&(H=!0);continue}else ie={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(_=M=ie,v=b):M=M.next=ie,Me.lanes|=V,Ts|=V;ie=q.action,El&&h(b,ie),b=q.hasEagerState?q.eagerState:h(b,ie)}else V={lane:ie,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(_=M=V,v=b):M=M.next=V,Me.lanes|=ie,Ts|=ie;q=q.next}while(q!==null&&q!==o);if(M===null?v=b:M.next=_,!Hn(b,a.memoizedState)&&(zt=!0,H&&(h=Ra,h!==null)))throw h;a.memoizedState=b,a.baseState=v,a.baseQueue=M,p.lastRenderedState=b}return O===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function dO(a){var o=$t(),h=o.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var p=h.dispatch,O=h.pending,b=o.memoizedState;if(O!==null){h.pending=null;var v=O=O.next;do b=a(b,v.action),v=v.next;while(v!==O);Hn(b,o.memoizedState)||(zt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),h.lastRenderedState=b}return[b,p]}function ww(a,o,h){var p=Me,O=$t(),b=We;if(b){if(h===void 0)throw Error(i(407));h=h()}else h=o();var v=!Hn((ot||O).memoizedState,h);if(v&&(O.memoizedState=h,zt=!0),O=O.queue,gO(Cw.bind(null,p,O,a),[a]),O.getSnapshot!==o||v||Nt!==null&&Nt.memoizedState.tag&1){if(p.flags|=2048,Na(9,{destroy:void 0},_w.bind(null,p,O,h,o),null),pt===null)throw Error(i(349));b||($r&127)!==0||kw(p,o,h)}return h}function kw(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=Me.updateQueue,o===null?(o=If(),Me.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function _w(a,o,h,p){o.value=h,o.getSnapshot=p,Tw(o)&&Ew(a)}function Cw(a,o,h){return h(function(){Tw(o)&&Ew(a)})}function Tw(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!Hn(a,h)}catch{return!0}}function Ew(a){var o=bl(a,2);o!==null&&Dn(o,a,2)}function pO(a){var o=wn();if(typeof a=="function"){var h=a;if(a=h(),El){En(!0);try{h()}finally{En(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:a},o}function Qw(a,o,h,p){return a.baseState=h,fO(a,ot,typeof p=="function"?p:Dr)}function HN(a,o,h,p,O){if(Xf(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:O,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){b.listeners.push(v)}};N.T!==null?h(!0):b.isTransition=!1,p(b),h=o.pending,h===null?(b.next=o.pending=b,Aw(o,b)):(b.next=h.next,o.pending=h.next=b)}}function Aw(a,o){var h=o.action,p=o.payload,O=a.state;if(o.isTransition){var b=N.T,v={};N.T=v;try{var _=h(O,p),M=N.S;M!==null&&M(v,_),Pw(a,o,_)}catch(q){mO(a,o,q)}finally{b!==null&&v.types!==null&&(b.types=v.types),N.T=b}}else try{b=h(O,p),Pw(a,o,b)}catch(q){mO(a,o,q)}}function Pw(a,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){Rw(a,o,p)},function(p){return mO(a,o,p)}):Rw(a,o,h)}function Rw(a,o,h){o.status="fulfilled",o.value=h,Mw(o),a.state=h,o=a.pending,o!==null&&(h=o.next,h===o?a.pending=null:(h=h.next,o.next=h,Aw(a,h)))}function mO(a,o,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=h,Mw(o),o=o.next;while(o!==p)}a.action=null}function Mw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function $w(a,o){return o}function Dw(a,o){if(We){var h=pt.formState;if(h!==null){e:{var p=Me;if(We){if(wt){t:{for(var O=wt,b=Si;O.nodeType!==8;){if(!b){O=null;break t}if(O=xi(O.nextSibling),O===null){O=null;break t}}b=O.data,O=b==="F!"||b==="F"?O:null}if(O){wt=xi(O.nextSibling),p=O.data==="F!";break e}}ys(p)}p=!1}p&&(o=h[0])}}return h=wn(),h.memoizedState=h.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$w,lastRenderedState:o},h.queue=p,h=ek.bind(null,Me,p),p.dispatch=h,p=pO(!1),b=vO.bind(null,Me,!1,p.queue),p=wn(),O={state:o,dispatch:null,action:a,pending:null},p.queue=O,h=HN.bind(null,Me,O,b,h),O.dispatch=h,p.memoizedState=a,[o,h,!1]}function Iw(a){var o=$t();return Lw(o,ot,a)}function Lw(a,o,h){if(o=fO(a,o,$w)[0],a=Nf(Dr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=$u(o)}catch(v){throw v===Ma?Ef:v}else p=o;o=$t();var O=o.queue,b=O.dispatch;return h!==o.memoizedState&&(Me.flags|=2048,Na(9,{destroy:void 0},GN.bind(null,O,h),null)),[p,b,a]}function GN(a,o){a.action=o}function Nw(a){var o=$t(),h=ot;if(h!==null)return Lw(o,h,a);$t(),o=o.memoizedState,h=$t();var p=h.queue.dispatch;return h.memoizedState=a,[o,p,!1]}function Na(a,o,h,p){return a={tag:a,create:h,deps:p,inst:o,next:null},o=Me.updateQueue,o===null&&(o=If(),Me.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,o.lastEffect=a),a}function zw(){return $t().memoizedState}function zf(a,o,h,p){var O=wn();Me.flags|=a,O.memoizedState=Na(1|o,{destroy:void 0},h,p===void 0?null:p)}function Bf(a,o,h,p){var O=$t();p=p===void 0?null:p;var b=O.memoizedState.inst;ot!==null&&p!==null&&lO(p,ot.memoizedState.deps)?O.memoizedState=Na(o,b,h,p):(Me.flags|=a,O.memoizedState=Na(1|o,b,h,p))}function Bw(a,o){zf(8390656,8,a,o)}function gO(a,o){Bf(2048,8,a,o)}function FN(a){Me.flags|=4;var o=Me.updateQueue;if(o===null)o=If(),Me.updateQueue=o,o.events=[a];else{var h=o.events;h===null?o.events=[a]:h.push(a)}}function Xw(a){var o=$t().memoizedState;return FN({ref:o,nextImpl:a}),function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Zw(a,o){return Bf(4,2,a,o)}function Uw(a,o){return Bf(4,4,a,o)}function jw(a,o){if(typeof o=="function"){a=a();var h=o(a);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function qw(a,o,h){h=h!=null?h.concat([a]):null,Bf(4,4,jw.bind(null,o,a),h)}function OO(){}function Vw(a,o){var h=$t();o=o===void 0?null:o;var p=h.memoizedState;return o!==null&&lO(o,p[1])?p[0]:(h.memoizedState=[a,o],a)}function Yw(a,o){var h=$t();o=o===void 0?null:o;var p=h.memoizedState;if(o!==null&&lO(o,p[1]))return p[0];if(p=a(),El){En(!0);try{a()}finally{En(!1)}}return h.memoizedState=[p,o],p}function yO(a,o,h){return h===void 0||($r&1073741824)!==0&&(qe&261930)===0?a.memoizedState=o:(a.memoizedState=h,a=Wk(),Me.lanes|=a,Ts|=a,h)}function Ww(a,o,h,p){return Hn(h,o)?h:Da.current!==null?(a=yO(a,h,p),Hn(a,o)||(zt=!0),a):($r&42)===0||($r&1073741824)!==0&&(qe&261930)===0?(zt=!0,a.memoizedState=h):(a=Wk(),Me.lanes|=a,Ts|=a,o)}function Hw(a,o,h,p,O){var b=ne.p;ne.p=b!==0&&8>b?b:8;var v=N.T,_={};N.T=_,vO(a,!1,o,h);try{var M=O(),q=N.S;if(q!==null&&q(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=VN(M,p);Du(a,o,H,ti(a))}else Du(a,o,p,ti(a))}catch(ie){Du(a,o,{then:function(){},status:"rejected",reason:ie},ti())}finally{ne.p=b,v!==null&&_.types!==null&&(v.types=_.types),N.T=v}}function KN(){}function bO(a,o,h,p){if(a.tag!==5)throw Error(i(476));var O=Gw(a).queue;Hw(a,O,o,pe,h===null?KN:function(){return Fw(a),h(p)})}function Gw(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:pe},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:h},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Fw(a){var o=Gw(a);o.next===null&&(o=a.alternate.memoizedState),Du(a,o.next.queue,{},ti())}function SO(){return ln(Ku)}function Kw(){return $t().memoizedState}function Jw(){return $t().memoizedState}function JN(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var h=ti();a=vs(h);var p=xs(o,a,h);p!==null&&(Dn(p,o,h),Au(p,o,h)),o={cache:Hg()},a.payload=o;return}o=o.return}}function ez(a,o,h){var p=ti();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Xf(a)?tk(o,h):(h=Ng(a,o,h,p),h!==null&&(Dn(h,a,p),nk(h,o,p)))}function ek(a,o,h){var p=ti();Du(a,o,h,p)}function Du(a,o,h,p){var O={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Xf(a))tk(o,O);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var v=o.lastRenderedState,_=b(v,h);if(O.hasEagerState=!0,O.eagerState=_,Hn(_,v))return vf(a,o,O,0),pt===null&&Sf(),!1}catch{}finally{}if(h=Ng(a,o,O,p),h!==null)return Dn(h,a,p),nk(h,o,p),!0}return!1}function vO(a,o,h,p){if(p={lane:2,revertLane:JO(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Xf(a)){if(o)throw Error(i(479))}else o=Ng(a,h,p,2),o!==null&&Dn(o,a,2)}function Xf(a){var o=a.alternate;return a===Me||o!==null&&o===Me}function tk(a,o){Ia=$f=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function nk(a,o,h){if((h&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,h|=p,o.lanes=h,ax(a,h)}}var Iu={readContext:ln,use:Lf,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Iu.useEffectEvent=At;var ik={readContext:ln,use:Lf,useCallback:function(a,o){return wn().memoizedState=[a,o===void 0?null:o],a},useContext:ln,useEffect:Bw,useImperativeHandle:function(a,o,h){h=h!=null?h.concat([a]):null,zf(4194308,4,jw.bind(null,o,a),h)},useLayoutEffect:function(a,o){return zf(4194308,4,a,o)},useInsertionEffect:function(a,o){zf(4,2,a,o)},useMemo:function(a,o){var h=wn();o=o===void 0?null:o;var p=a();if(El){En(!0);try{a()}finally{En(!1)}}return h.memoizedState=[p,o],p},useReducer:function(a,o,h){var p=wn();if(h!==void 0){var O=h(o);if(El){En(!0);try{h(o)}finally{En(!1)}}}else O=o;return p.memoizedState=p.baseState=O,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:O},p.queue=a,a=a.dispatch=ez.bind(null,Me,a),[p.memoizedState,a]},useRef:function(a){var o=wn();return a={current:a},o.memoizedState=a},useState:function(a){a=pO(a);var o=a.queue,h=ek.bind(null,Me,o);return o.dispatch=h,[a.memoizedState,h]},useDebugValue:OO,useDeferredValue:function(a,o){var h=wn();return yO(h,a,o)},useTransition:function(){var a=pO(!1);return a=Hw.bind(null,Me,a.queue,!0,!1),wn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,h){var p=Me,O=wn();if(We){if(h===void 0)throw Error(i(407));h=h()}else{if(h=o(),pt===null)throw Error(i(349));(qe&127)!==0||kw(p,o,h)}O.memoizedState=h;var b={value:h,getSnapshot:o};return O.queue=b,Bw(Cw.bind(null,p,b,a),[a]),p.flags|=2048,Na(9,{destroy:void 0},_w.bind(null,p,b,h,o),null),h},useId:function(){var a=wn(),o=pt.identifierPrefix;if(We){var h=er,p=Ji;h=(p&~(1<<32-dt(p)-1)).toString(32)+h,o="_"+o+"R_"+h,h=Df++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=YN++,o="_"+o+"r_"+h.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:SO,useFormState:Dw,useActionState:Dw,useOptimistic:function(a){var o=wn();o.memoizedState=o.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=vO.bind(null,Me,!0,h),h.dispatch=o,[a,o]},useMemoCache:hO,useCacheRefresh:function(){return wn().memoizedState=JN.bind(null,Me)},useEffectEvent:function(a){var o=wn(),h={impl:a};return o.memoizedState=h,function(){if((et&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},xO={readContext:ln,use:Lf,useCallback:Vw,useContext:ln,useEffect:gO,useImperativeHandle:qw,useInsertionEffect:Zw,useLayoutEffect:Uw,useMemo:Yw,useReducer:Nf,useRef:zw,useState:function(){return Nf(Dr)},useDebugValue:OO,useDeferredValue:function(a,o){var h=$t();return Ww(h,ot.memoizedState,a,o)},useTransition:function(){var a=Nf(Dr)[0],o=$t().memoizedState;return[typeof a=="boolean"?a:$u(a),o]},useSyncExternalStore:ww,useId:Kw,useHostTransitionStatus:SO,useFormState:Iw,useActionState:Iw,useOptimistic:function(a,o){var h=$t();return Qw(h,ot,a,o)},useMemoCache:hO,useCacheRefresh:Jw};xO.useEffectEvent=Xw;var rk={readContext:ln,use:Lf,useCallback:Vw,useContext:ln,useEffect:gO,useImperativeHandle:qw,useInsertionEffect:Zw,useLayoutEffect:Uw,useMemo:Yw,useReducer:dO,useRef:zw,useState:function(){return dO(Dr)},useDebugValue:OO,useDeferredValue:function(a,o){var h=$t();return ot===null?yO(h,a,o):Ww(h,ot.memoizedState,a,o)},useTransition:function(){var a=dO(Dr)[0],o=$t().memoizedState;return[typeof a=="boolean"?a:$u(a),o]},useSyncExternalStore:ww,useId:Kw,useHostTransitionStatus:SO,useFormState:Nw,useActionState:Nw,useOptimistic:function(a,o){var h=$t();return ot!==null?Qw(h,ot,a,o):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:hO,useCacheRefresh:Jw};rk.useEffectEvent=Xw;function wO(a,o,h,p){o=a.memoizedState,h=h(p,o),h=h==null?o:m({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var kO={enqueueSetState:function(a,o,h){a=a._reactInternals;var p=ti(),O=vs(p);O.payload=o,h!=null&&(O.callback=h),o=xs(a,O,p),o!==null&&(Dn(o,a,p),Au(o,a,p))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var p=ti(),O=vs(p);O.tag=1,O.payload=o,h!=null&&(O.callback=h),o=xs(a,O,p),o!==null&&(Dn(o,a,p),Au(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=ti(),p=vs(h);p.tag=2,o!=null&&(p.callback=o),o=xs(a,p,h),o!==null&&(Dn(o,a,h),Au(o,a,h))}};function sk(a,o,h,p,O,b,v){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,v):o.prototype&&o.prototype.isPureReactComponent?!xu(h,p)||!xu(O,b):!0}function lk(a,o,h,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,p),o.state!==a&&kO.enqueueReplaceState(o,o.state,null)}function Ql(a,o){var h=o;if("ref"in o){h={};for(var p in o)p!=="ref"&&(h[p]=o[p])}if(a=a.defaultProps){h===o&&(h=m({},h));for(var O in a)h[O]===void 0&&(h[O]=a[O])}return h}function ak(a){bf(a)}function ok(a){console.error(a)}function uk(a){bf(a)}function Zf(a,o){try{var h=a.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function ck(a,o,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function _O(a,o,h){return h=vs(h),h.tag=3,h.payload={element:null},h.callback=function(){Zf(a,o)},h}function hk(a){return a=vs(a),a.tag=3,a}function fk(a,o,h,p){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var b=p.value;a.payload=function(){return O(b)},a.callback=function(){ck(o,h,p)}}var v=h.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){ck(o,h,p),typeof O!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var _=p.stack;this.componentDidCatch(p.value,{componentStack:_!==null?_:""})})}function tz(a,o,h,p,O){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=h.alternate,o!==null&&Aa(o,h,O,!0),h=Fn.current,h!==null){switch(h.tag){case 31:case 13:return vi===null?ed():h.alternate===null&&Pt===0&&(Pt=3),h.flags&=-257,h.flags|=65536,h.lanes=O,p===Qf?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([p]):o.add(p),GO(a,p,O)),!1;case 22:return h.flags|=65536,p===Qf?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([p]):h.add(p)),GO(a,p,O)),!1}throw Error(i(435,h.tag))}return GO(a,p,O),ed(),!1}if(We)return o=Fn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=O,p!==jg&&(a=Error(i(422),{cause:p}),_u(Oi(a,h)))):(p!==jg&&(o=Error(i(423),{cause:p}),_u(Oi(o,h))),a=a.current.alternate,a.flags|=65536,O&=-O,a.lanes|=O,p=Oi(p,h),O=_O(a.stateNode,p,O),tO(a,O),Pt!==4&&(Pt=2)),!1;var b=Error(i(520),{cause:p});if(b=Oi(b,h),ju===null?ju=[b]:ju.push(b),Pt!==4&&(Pt=2),o===null)return!0;p=Oi(p,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,a=O&-O,h.lanes|=a,a=_O(h.stateNode,p,a),tO(h,a),!1;case 1:if(o=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Es===null||!Es.has(b))))return h.flags|=65536,O&=-O,h.lanes|=O,O=hk(O),fk(O,a,h,p),tO(h,O),!1}h=h.return}while(h!==null);return!1}var CO=Error(i(461)),zt=!1;function an(a,o,h,p){o.child=a===null?gw(o,null,h,p):Tl(o,a.child,h,p)}function dk(a,o,h,p,O){h=h.render;var b=o.ref;if("ref"in p){var v={};for(var _ in p)_!=="ref"&&(v[_]=p[_])}else v=p;return wl(o),p=aO(a,o,h,v,b,O),_=oO(),a!==null&&!zt?(uO(a,o,O),Ir(a,o,O)):(We&&_&&Zg(o),o.flags|=1,an(a,o,p,O),o.child)}function pk(a,o,h,p,O){if(a===null){var b=h.type;return typeof b=="function"&&!zg(b)&&b.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=b,mk(a,o,b,p,O)):(a=wf(h.type,null,p,o,o.mode,O),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!$O(a,O)){var v=b.memoizedProps;if(h=h.compare,h=h!==null?h:xu,h(v,p)&&a.ref===o.ref)return Ir(a,o,O)}return o.flags|=1,a=Ar(b,p),a.ref=o.ref,a.return=o,o.child=a}function mk(a,o,h,p,O){if(a!==null){var b=a.memoizedProps;if(xu(b,p)&&a.ref===o.ref)if(zt=!1,o.pendingProps=p=b,$O(a,O))(a.flags&131072)!==0&&(zt=!0);else return o.lanes=a.lanes,Ir(a,o,O)}return TO(a,o,h,p,O)}function gk(a,o,h,p){var O=p.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,a!==null){for(p=o.child=a.child,O=0;p!==null;)O=O|p.lanes|p.childLanes,p=p.sibling;p=O&~b}else p=0,o.child=null;return Ok(a,o,b,h,p)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tf(o,b!==null?b.cachePool:null),b!==null?bw(o,b):iO(),Sw(o);else return p=o.lanes=536870912,Ok(a,o,b!==null?b.baseLanes|h:h,h,p)}else b!==null?(Tf(o,b.cachePool),bw(o,b),ks(),o.memoizedState=null):(a!==null&&Tf(o,null),iO(),ks());return an(a,o,O,h),o.child}function Lu(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ok(a,o,h,p,O){var b=Fg();return b=b===null?null:{parent:Lt._currentValue,pool:b},o.memoizedState={baseLanes:h,cachePool:b},a!==null&&Tf(o,null),iO(),Sw(o),a!==null&&Aa(a,o,p,!0),o.childLanes=O,null}function Uf(a,o){return o=qf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function yk(a,o,h){return Tl(o,a.child,null,h),a=Uf(o,o.pendingProps),a.flags|=2,Kn(o),o.memoizedState=null,a}function nz(a,o,h){var p=o.pendingProps,O=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(We){if(p.mode==="hidden")return a=Uf(o,p),o.lanes=536870912,Lu(null,a);if(sO(o),(a=wt)?(a=A_(a,Si),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:gs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},h=tw(a),h.return=o,o.child=h,sn=o,wt=null)):a=null,a===null)throw ys(o);return o.lanes=536870912,null}return Uf(o,p)}var b=a.memoizedState;if(b!==null){var v=b.dehydrated;if(sO(o),O)if(o.flags&256)o.flags&=-257,o=yk(a,o,h);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(i(558));else if(zt||Aa(a,o,h,!1),O=(h&a.childLanes)!==0,zt||O){if(p=pt,p!==null&&(v=ox(p,h),v!==0&&v!==b.retryLane))throw b.retryLane=v,bl(a,v),Dn(p,a,v),CO;ed(),o=yk(a,o,h)}else a=b.treeContext,wt=xi(v.nextSibling),sn=o,We=!0,Os=null,Si=!1,a!==null&&rw(o,a),o=Uf(o,p),o.flags|=4096;return o}return a=Ar(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function jf(a,o){var h=o.ref;if(h===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(o.flags|=4194816)}}function TO(a,o,h,p,O){return wl(o),h=aO(a,o,h,p,void 0,O),p=oO(),a!==null&&!zt?(uO(a,o,O),Ir(a,o,O)):(We&&p&&Zg(o),o.flags|=1,an(a,o,h,O),o.child)}function bk(a,o,h,p,O,b){return wl(o),o.updateQueue=null,h=xw(o,p,h,O),vw(a),p=oO(),a!==null&&!zt?(uO(a,o,b),Ir(a,o,b)):(We&&p&&Zg(o),o.flags|=1,an(a,o,h,b),o.child)}function Sk(a,o,h,p,O){if(wl(o),o.stateNode===null){var b=Ca,v=h.contextType;typeof v=="object"&&v!==null&&(b=ln(v)),b=new h(p,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=kO,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=p,b.state=o.memoizedState,b.refs={},Jg(o),v=h.contextType,b.context=typeof v=="object"&&v!==null?ln(v):Ca,b.state=o.memoizedState,v=h.getDerivedStateFromProps,typeof v=="function"&&(wO(o,h,v,p),b.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(v=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),v!==b.state&&kO.enqueueReplaceState(b,b.state,null),Ru(o,p,b,O),Pu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){b=o.stateNode;var _=o.memoizedProps,M=Ql(h,_);b.props=M;var q=b.context,H=h.contextType;v=Ca,typeof H=="object"&&H!==null&&(v=ln(H));var ie=h.getDerivedStateFromProps;H=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=o.pendingProps!==_,H||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||q!==v)&&lk(o,b,p,v),Ss=!1;var V=o.memoizedState;b.state=V,Ru(o,p,b,O),Pu(),q=o.memoizedState,_||V!==q||Ss?(typeof ie=="function"&&(wO(o,h,ie,p),q=o.memoizedState),(M=Ss||sk(o,h,M,p,V,q,v))?(H||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=q),b.props=p,b.state=q,b.context=v,p=M):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{b=o.stateNode,eO(a,o),v=o.memoizedProps,H=Ql(h,v),b.props=H,ie=o.pendingProps,V=b.context,q=h.contextType,M=Ca,typeof q=="object"&&q!==null&&(M=ln(q)),_=h.getDerivedStateFromProps,(q=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(v!==ie||V!==M)&&lk(o,b,p,M),Ss=!1,V=o.memoizedState,b.state=V,Ru(o,p,b,O),Pu();var Y=o.memoizedState;v!==ie||V!==Y||Ss||a!==null&&a.dependencies!==null&&_f(a.dependencies)?(typeof _=="function"&&(wO(o,h,_,p),Y=o.memoizedState),(H=Ss||sk(o,h,H,p,V,Y,M)||a!==null&&a.dependencies!==null&&_f(a.dependencies))?(q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,Y,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,Y,M)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||v===a.memoizedProps&&V===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||v===a.memoizedProps&&V===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Y),b.props=p,b.state=Y,b.context=M,p=H):(typeof b.componentDidUpdate!="function"||v===a.memoizedProps&&V===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||v===a.memoizedProps&&V===a.memoizedState||(o.flags|=1024),p=!1)}return b=p,jf(a,o),p=(o.flags&128)!==0,b||p?(b=o.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&p?(o.child=Tl(o,a.child,null,O),o.child=Tl(o,null,h,O)):an(a,o,h,O),o.memoizedState=b.state,a=o.child):a=Ir(a,o,O),a}function vk(a,o,h,p){return vl(),o.flags|=256,an(a,o,h,p),o.child}var EO={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function QO(a){return{baseLanes:a,cachePool:cw()}}function AO(a,o,h){return a=a!==null?a.childLanes&~h:0,o&&(a|=ei),a}function xk(a,o,h){var p=o.pendingProps,O=!1,b=(o.flags&128)!==0,v;if((v=b)||(v=a!==null&&a.memoizedState===null?!1:(Mt.current&2)!==0),v&&(O=!0,o.flags&=-129),v=(o.flags&32)!==0,o.flags&=-33,a===null){if(We){if(O?ws(o):ks(),(a=wt)?(a=A_(a,Si),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:gs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},h=tw(a),h.return=o,o.child=h,sn=o,wt=null)):a=null,a===null)throw ys(o);return fy(a)?o.lanes=32:o.lanes=536870912,null}var _=p.children;return p=p.fallback,O?(ks(),O=o.mode,_=qf({mode:"hidden",children:_},O),p=Sl(p,O,h,null),_.return=o,p.return=o,_.sibling=p,o.child=_,p=o.child,p.memoizedState=QO(h),p.childLanes=AO(a,v,h),o.memoizedState=EO,Lu(null,p)):(ws(o),PO(o,_))}var M=a.memoizedState;if(M!==null&&(_=M.dehydrated,_!==null)){if(b)o.flags&256?(ws(o),o.flags&=-257,o=RO(a,o,h)):o.memoizedState!==null?(ks(),o.child=a.child,o.flags|=128,o=null):(ks(),_=p.fallback,O=o.mode,p=qf({mode:"visible",children:p.children},O),_=Sl(_,O,h,null),_.flags|=2,p.return=o,_.return=o,p.sibling=_,o.child=p,Tl(o,a.child,null,h),p=o.child,p.memoizedState=QO(h),p.childLanes=AO(a,v,h),o.memoizedState=EO,o=Lu(null,p));else if(ws(o),fy(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var q=v.dgst;v=q,p=Error(i(419)),p.stack="",p.digest=v,_u({value:p,source:null,stack:null}),o=RO(a,o,h)}else if(zt||Aa(a,o,h,!1),v=(h&a.childLanes)!==0,zt||v){if(v=pt,v!==null&&(p=ox(v,h),p!==0&&p!==M.retryLane))throw M.retryLane=p,bl(a,p),Dn(v,a,p),CO;hy(_)||ed(),o=RO(a,o,h)}else hy(_)?(o.flags|=192,o.child=a.child,o=null):(a=M.treeContext,wt=xi(_.nextSibling),sn=o,We=!0,Os=null,Si=!1,a!==null&&rw(o,a),o=PO(o,p.children),o.flags|=4096);return o}return O?(ks(),_=p.fallback,O=o.mode,M=a.child,q=M.sibling,p=Ar(M,{mode:"hidden",children:p.children}),p.subtreeFlags=M.subtreeFlags&65011712,q!==null?_=Ar(q,_):(_=Sl(_,O,h,null),_.flags|=2),_.return=o,p.return=o,p.sibling=_,o.child=p,Lu(null,p),p=o.child,_=a.child.memoizedState,_===null?_=QO(h):(O=_.cachePool,O!==null?(M=Lt._currentValue,O=O.parent!==M?{parent:M,pool:M}:O):O=cw(),_={baseLanes:_.baseLanes|h,cachePool:O}),p.memoizedState=_,p.childLanes=AO(a,v,h),o.memoizedState=EO,Lu(a.child,p)):(ws(o),h=a.child,a=h.sibling,h=Ar(h,{mode:"visible",children:p.children}),h.return=o,h.sibling=null,a!==null&&(v=o.deletions,v===null?(o.deletions=[a],o.flags|=16):v.push(a)),o.child=h,o.memoizedState=null,h)}function PO(a,o){return o=qf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function qf(a,o){return a=Gn(22,a,null,o),a.lanes=0,a}function RO(a,o,h){return Tl(o,a.child,null,h),a=PO(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function wk(a,o,h){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Yg(a.return,o,h)}function MO(a,o,h,p,O,b){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:O,treeForkCount:b}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=h,v.tailMode=O,v.treeForkCount=b)}function kk(a,o,h){var p=o.pendingProps,O=p.revealOrder,b=p.tail;p=p.children;var v=Mt.current,_=(v&2)!==0;if(_?(v=v&1|2,o.flags|=128):v&=1,C(Mt,v),an(a,o,p,h),p=We?ku:0,!_&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wk(a,h,o);else if(a.tag===19)wk(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(O){case"forwards":for(h=o.child,O=null;h!==null;)a=h.alternate,a!==null&&Mf(a)===null&&(O=h),h=h.sibling;h=O,h===null?(O=o.child,o.child=null):(O=h.sibling,h.sibling=null),MO(o,!1,O,h,b,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=o.child,o.child=null;O!==null;){if(a=O.alternate,a!==null&&Mf(a)===null){o.child=O;break}a=O.sibling,O.sibling=h,h=O,O=a}MO(o,!0,h,null,b,p);break;case"together":MO(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ir(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),Ts|=o.lanes,(h&o.childLanes)===0)if(a!==null){if(Aa(a,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,h=Ar(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=Ar(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function $O(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&_f(a)))}function iz(a,o,h){switch(o.tag){case 3:Ct(o,o.stateNode.containerInfo),bs(o,Lt,a.memoizedState.cache),vl();break;case 27:case 5:di(o);break;case 4:Ct(o,o.stateNode.containerInfo);break;case 10:bs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,sO(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ws(o),o.flags|=128,null):(h&o.child.childLanes)!==0?xk(a,o,h):(ws(o),a=Ir(a,o,h),a!==null?a.sibling:null);ws(o);break;case 19:var O=(a.flags&128)!==0;if(p=(h&o.childLanes)!==0,p||(Aa(a,o,h,!1),p=(h&o.childLanes)!==0),O){if(p)return kk(a,o,h);o.flags|=128}if(O=o.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),C(Mt,Mt.current),p)break;return null;case 22:return o.lanes=0,gk(a,o,h,o.pendingProps);case 24:bs(o,Lt,a.memoizedState.cache)}return Ir(a,o,h)}function _k(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps)zt=!0;else{if(!$O(a,h)&&(o.flags&128)===0)return zt=!1,iz(a,o,h);zt=(a.flags&131072)!==0}else zt=!1,We&&(o.flags&1048576)!==0&&iw(o,ku,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=_l(o.elementType),o.type=a,typeof a=="function")zg(a)?(p=Ql(a,p),o.tag=1,o=Sk(null,o,a,p,h)):(o.tag=0,o=TO(null,o,a,p,h));else{if(a!=null){var O=a.$$typeof;if(O===Z){o.tag=11,o=dk(null,o,a,p,h);break e}else if(O===B){o.tag=14,o=pk(null,o,a,p,h);break e}}throw o=se(a)||a,Error(i(306,o,""))}}return o;case 0:return TO(a,o,o.type,o.pendingProps,h);case 1:return p=o.type,O=Ql(p,o.pendingProps),Sk(a,o,p,O,h);case 3:e:{if(Ct(o,o.stateNode.containerInfo),a===null)throw Error(i(387));p=o.pendingProps;var b=o.memoizedState;O=b.element,eO(a,o),Ru(o,p,null,h);var v=o.memoizedState;if(p=v.cache,bs(o,Lt,p),p!==b.cache&&Wg(o,[Lt],h,!0),Pu(),p=v.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:v.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=vk(a,o,p,h);break e}else if(p!==O){O=Oi(Error(i(424)),o),_u(O),o=vk(a,o,p,h);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(wt=xi(a.firstChild),sn=o,We=!0,Os=null,Si=!0,h=gw(o,null,p,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(vl(),p===O){o=Ir(a,o,h);break e}an(a,o,p,h)}o=o.child}return o;case 26:return jf(a,o),a===null?(h=I_(o.type,null,o.pendingProps,null))?o.memoizedState=h:We||(h=o.type,a=o.pendingProps,p=ad(Se.current).createElement(h),p[rn]=o,p[Qn]=a,on(p,h,a),Gt(p),o.stateNode=p):o.memoizedState=I_(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return di(o),a===null&&We&&(p=o.stateNode=M_(o.type,o.pendingProps,Se.current),sn=o,Si=!0,O=wt,Rs(o.type)?(dy=O,wt=xi(p.firstChild)):wt=O),an(a,o,o.pendingProps.children,h),jf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&We&&((O=p=wt)&&(p=Mz(p,o.type,o.pendingProps,Si),p!==null?(o.stateNode=p,sn=o,wt=xi(p.firstChild),Si=!1,O=!0):O=!1),O||ys(o)),di(o),O=o.type,b=o.pendingProps,v=a!==null?a.memoizedProps:null,p=b.children,oy(O,b)?p=null:v!==null&&oy(O,v)&&(o.flags|=32),o.memoizedState!==null&&(O=aO(a,o,WN,null,null,h),Ku._currentValue=O),jf(a,o),an(a,o,p,h),o.child;case 6:return a===null&&We&&((a=h=wt)&&(h=$z(h,o.pendingProps,Si),h!==null?(o.stateNode=h,sn=o,wt=null,a=!0):a=!1),a||ys(o)),null;case 13:return xk(a,o,h);case 4:return Ct(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Tl(o,null,p,h):an(a,o,p,h),o.child;case 11:return dk(a,o,o.type,o.pendingProps,h);case 7:return an(a,o,o.pendingProps,h),o.child;case 8:return an(a,o,o.pendingProps.children,h),o.child;case 12:return an(a,o,o.pendingProps.children,h),o.child;case 10:return p=o.pendingProps,bs(o,o.type,p.value),an(a,o,p.children,h),o.child;case 9:return O=o.type._context,p=o.pendingProps.children,wl(o),O=ln(O),p=p(O),o.flags|=1,an(a,o,p,h),o.child;case 14:return pk(a,o,o.type,o.pendingProps,h);case 15:return mk(a,o,o.type,o.pendingProps,h);case 19:return kk(a,o,h);case 31:return nz(a,o,h);case 22:return gk(a,o,h,o.pendingProps);case 24:return wl(o),p=ln(Lt),a===null?(O=Fg(),O===null&&(O=pt,b=Hg(),O.pooledCache=b,b.refCount++,b!==null&&(O.pooledCacheLanes|=h),O=b),o.memoizedState={parent:p,cache:O},Jg(o),bs(o,Lt,O)):((a.lanes&h)!==0&&(eO(a,o),Ru(o,null,null,h),Pu()),O=a.memoizedState,b=o.memoizedState,O.parent!==p?(O={parent:p,cache:p},o.memoizedState=O,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=O),bs(o,Lt,p)):(p=b.cache,bs(o,Lt,p),p!==O.cache&&Wg(o,[Lt],h,!0))),an(a,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Lr(a){a.flags|=4}function DO(a,o,h,p,O){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(O&335544128)===O)if(a.stateNode.complete)a.flags|=8192;else if(Kk())a.flags|=8192;else throw Cl=Qf,Kg}else a.flags&=-16777217}function Ck(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!X_(o))if(Kk())a.flags|=8192;else throw Cl=Qf,Kg}function Vf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?sx():536870912,a.lanes|=o,Za|=o)}function Nu(a,o){if(!We)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function kt(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(o)for(var O=a.child;O!==null;)h|=O.lanes|O.childLanes,p|=O.subtreeFlags&65011712,p|=O.flags&65011712,O.return=a,O=O.sibling;else for(O=a.child;O!==null;)h|=O.lanes|O.childLanes,p|=O.subtreeFlags,p|=O.flags,O.return=a,O=O.sibling;return a.subtreeFlags|=p,a.childLanes=h,o}function rz(a,o,h){var p=o.pendingProps;switch(Ug(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(o),null;case 1:return kt(o),null;case 3:return h=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Mr(Lt),at(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Qa(o)?Lr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qg())),kt(o),null;case 26:var O=o.type,b=o.memoizedState;return a===null?(Lr(o),b!==null?(kt(o),Ck(o,b)):(kt(o),DO(o,O,null,p,h))):b?b!==a.memoizedState?(Lr(o),kt(o),Ck(o,b)):(kt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&Lr(o),kt(o),DO(o,O,a,p,h)),null;case 27:if(kr(o),h=Se.current,O=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Lr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return kt(o),null}a=ue.current,Qa(o)?sw(o):(a=M_(O,p,h),o.stateNode=a,Lr(o))}return kt(o),null;case 5:if(kr(o),O=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Lr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return kt(o),null}if(b=ue.current,Qa(o))sw(o);else{var v=ad(Se.current);switch(b){case 1:b=v.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:b=v.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":b=v.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":b=v.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":b=v.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?v.createElement(O,{is:p.is}):v.createElement(O)}}b[rn]=o,b[Qn]=p;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)b.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=b;e:switch(on(b,O,p),O){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Lr(o)}}return kt(o),DO(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,h),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&Lr(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(i(166));if(a=Se.current,Qa(o)){if(a=o.stateNode,h=o.memoizedProps,p=null,O=sn,O!==null)switch(O.tag){case 27:case 5:p=O.memoizedProps}a[rn]=o,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||x_(a.nodeValue,h)),a||ys(o,!0)}else a=ad(a).createTextNode(p),a[rn]=o,o.stateNode=a}return kt(o),null;case 31:if(h=o.memoizedState,a===null||a.memoizedState!==null){if(p=Qa(o),h!==null){if(a===null){if(!p)throw Error(i(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[rn]=o}else vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kt(o),a=!1}else h=qg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return o.flags&256?(Kn(o),o):(Kn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return kt(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(O=Qa(o),p!==null&&p.dehydrated!==null){if(a===null){if(!O)throw Error(i(318));if(O=o.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[rn]=o}else vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kt(o),O=!1}else O=qg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=O),O=!0;if(!O)return o.flags&256?(Kn(o),o):(Kn(o),null)}return Kn(o),(o.flags&128)!==0?(o.lanes=h,o):(h=p!==null,a=a!==null&&a.memoizedState!==null,h&&(p=o.child,O=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(O=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==O&&(p.flags|=2048)),h!==a&&h&&(o.child.flags|=8192),Vf(o,o.updateQueue),kt(o),null);case 4:return at(),a===null&&iy(o.stateNode.containerInfo),kt(o),null;case 10:return Mr(o.type),kt(o),null;case 19:if(U(Mt),p=o.memoizedState,p===null)return kt(o),null;if(O=(o.flags&128)!==0,b=p.rendering,b===null)if(O)Nu(p,!1);else{if(Pt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Mf(a),b!==null){for(o.flags|=128,Nu(p,!1),a=b.updateQueue,o.updateQueue=a,Vf(o,a),o.subtreeFlags=0,a=h,h=o.child;h!==null;)ew(h,a),h=h.sibling;return C(Mt,Mt.current&1|2),We&&Pr(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&vn()>Ff&&(o.flags|=128,O=!0,Nu(p,!1),o.lanes=4194304)}else{if(!O)if(a=Mf(b),a!==null){if(o.flags|=128,O=!0,a=a.updateQueue,o.updateQueue=a,Vf(o,a),Nu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!We)return kt(o),null}else 2*vn()-p.renderingStartTime>Ff&&h!==536870912&&(o.flags|=128,O=!0,Nu(p,!1),o.lanes=4194304);p.isBackwards?(b.sibling=o.child,o.child=b):(a=p.last,a!==null?a.sibling=b:o.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=vn(),a.sibling=null,h=Mt.current,C(Mt,O?h&1|2:h&1),We&&Pr(o,p.treeForkCount),a):(kt(o),null);case 22:case 23:return Kn(o),rO(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(h&536870912)!==0&&(o.flags&128)===0&&(kt(o),o.subtreeFlags&6&&(o.flags|=8192)):kt(o),h=o.updateQueue,h!==null&&Vf(o,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==h&&(o.flags|=2048),a!==null&&U(kl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Mr(Lt),kt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function sz(a,o){switch(Ug(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Mr(Lt),at(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return kr(o),null;case 31:if(o.memoizedState!==null){if(Kn(o),o.alternate===null)throw Error(i(340));vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Kn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return U(Mt),null;case 4:return at(),null;case 10:return Mr(o.type),null;case 22:case 23:return Kn(o),rO(),a!==null&&U(kl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Mr(Lt),null;case 25:return null;default:return null}}function Tk(a,o){switch(Ug(o),o.tag){case 3:Mr(Lt),at();break;case 26:case 27:case 5:kr(o);break;case 4:at();break;case 31:o.memoizedState!==null&&Kn(o);break;case 13:Kn(o);break;case 19:U(Mt);break;case 10:Mr(o.type);break;case 22:case 23:Kn(o),rO(),a!==null&&U(kl);break;case 24:Mr(Lt)}}function zu(a,o){try{var h=o.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var O=p.next;h=O;do{if((h.tag&a)===a){p=void 0;var b=h.create,v=h.inst;p=b(),v.destroy=p}h=h.next}while(h!==O)}}catch(_){lt(o,o.return,_)}}function _s(a,o,h){try{var p=o.updateQueue,O=p!==null?p.lastEffect:null;if(O!==null){var b=O.next;p=b;do{if((p.tag&a)===a){var v=p.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,O=o;var M=h,q=_;try{q()}catch(H){lt(O,M,H)}}}p=p.next}while(p!==b)}}catch(H){lt(o,o.return,H)}}function Ek(a){var o=a.updateQueue;if(o!==null){var h=a.stateNode;try{yw(o,h)}catch(p){lt(a,a.return,p)}}}function Qk(a,o,h){h.props=Ql(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){lt(a,o,p)}}function Bu(a,o){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(O){lt(a,o,O)}}function tr(a,o){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(O){lt(a,o,O)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){lt(a,o,O)}else h.current=null}function Ak(a){var o=a.type,h=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(O){lt(a,a.return,O)}}function IO(a,o,h){try{var p=a.stateNode;Tz(p,a.type,h,o),p[Qn]=o}catch(O){lt(a,a.return,O)}}function Pk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Rs(a.type)||a.tag===4}function LO(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Pk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Rs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function NO(a,o,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(a),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Er));else if(p!==4&&(p===27&&Rs(a.type)&&(h=a.stateNode,o=null),a=a.child,a!==null))for(NO(a,o,h),a=a.sibling;a!==null;)NO(a,o,h),a=a.sibling}function Yf(a,o,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?h.insertBefore(a,o):h.appendChild(a);else if(p!==4&&(p===27&&Rs(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Yf(a,o,h),a=a.sibling;a!==null;)Yf(a,o,h),a=a.sibling}function Rk(a){var o=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,O=o.attributes;O.length;)o.removeAttributeNode(O[0]);on(o,p,h),o[rn]=a,o[Qn]=h}catch(b){lt(a,a.return,b)}}var Nr=!1,Bt=!1,zO=!1,Mk=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function lz(a,o){if(a=a.containerInfo,ly=pd,a=qx(a),Rg(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var O=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var v=0,_=-1,M=-1,q=0,H=0,ie=a,V=null;t:for(;;){for(var Y;ie!==h||O!==0&&ie.nodeType!==3||(_=v+O),ie!==b||p!==0&&ie.nodeType!==3||(M=v+p),ie.nodeType===3&&(v+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)V=ie,ie=Y;for(;;){if(ie===a)break t;if(V===h&&++q===O&&(_=v),V===b&&++H===p&&(M=v),(Y=ie.nextSibling)!==null)break;ie=V,V=ie.parentNode}ie=Y}h=_===-1||M===-1?null:{start:_,end:M}}else h=null}h=h||{start:0,end:0}}else h=null;for(ay={focusedElem:a,selectionRange:h},pd=!1,Ft=o;Ft!==null;)if(o=Ft,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ft=a;else for(;Ft!==null;){switch(o=Ft,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)O=a[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,h=o,O=b.memoizedProps,b=b.memoizedState,p=h.stateNode;try{var ye=Ql(h.type,O);a=p.getSnapshotBeforeUpdate(ye,b),p.__reactInternalSnapshotBeforeUpdate=a}catch(Ce){lt(h,h.return,Ce)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,h=a.nodeType,h===9)cy(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Ft=a;break}Ft=o.return}}function $k(a,o,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Br(a,h),p&4&&zu(5,h);break;case 1:if(Br(a,h),p&4)if(a=h.stateNode,o===null)try{a.componentDidMount()}catch(v){lt(h,h.return,v)}else{var O=Ql(h.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(O,o,a.__reactInternalSnapshotBeforeUpdate)}catch(v){lt(h,h.return,v)}}p&64&&Ek(h),p&512&&Bu(h,h.return);break;case 3:if(Br(a,h),p&64&&(a=h.updateQueue,a!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{yw(a,o)}catch(v){lt(h,h.return,v)}}break;case 27:o===null&&p&4&&Rk(h);case 26:case 5:Br(a,h),o===null&&p&4&&Ak(h),p&512&&Bu(h,h.return);break;case 12:Br(a,h);break;case 31:Br(a,h),p&4&&Lk(a,h);break;case 13:Br(a,h),p&4&&Nk(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=mz.bind(null,h),Dz(a,h))));break;case 22:if(p=h.memoizedState!==null||Nr,!p){o=o!==null&&o.memoizedState!==null||Bt,O=Nr;var b=Bt;Nr=p,(Bt=o)&&!b?Xr(a,h,(h.subtreeFlags&8772)!==0):Br(a,h),Nr=O,Bt=b}break;case 30:break;default:Br(a,h)}}function Dk(a){var o=a.alternate;o!==null&&(a.alternate=null,Dk(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&mg(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Tt=null,Pn=!1;function zr(a,o,h){for(h=h.child;h!==null;)Ik(a,o,h),h=h.sibling}function Ik(a,o,h){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(xn,h)}catch{}switch(h.tag){case 26:Bt||tr(h,o),zr(a,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Bt||tr(h,o);var p=Tt,O=Pn;Rs(h.type)&&(Tt=h.stateNode,Pn=!1),zr(a,o,h),Hu(h.stateNode),Tt=p,Pn=O;break;case 5:Bt||tr(h,o);case 6:if(p=Tt,O=Pn,Tt=null,zr(a,o,h),Tt=p,Pn=O,Tt!==null)if(Pn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(h.stateNode)}catch(b){lt(h,o,b)}else try{Tt.removeChild(h.stateNode)}catch(b){lt(h,o,b)}break;case 18:Tt!==null&&(Pn?(a=Tt,E_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Ga(a)):E_(Tt,h.stateNode));break;case 4:p=Tt,O=Pn,Tt=h.stateNode.containerInfo,Pn=!0,zr(a,o,h),Tt=p,Pn=O;break;case 0:case 11:case 14:case 15:_s(2,h,o),Bt||_s(4,h,o),zr(a,o,h);break;case 1:Bt||(tr(h,o),p=h.stateNode,typeof p.componentWillUnmount=="function"&&Qk(h,o,p)),zr(a,o,h);break;case 21:zr(a,o,h);break;case 22:Bt=(p=Bt)||h.memoizedState!==null,zr(a,o,h),Bt=p;break;default:zr(a,o,h)}}function Lk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ga(a)}catch(h){lt(o,o.return,h)}}}function Nk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ga(a)}catch(h){lt(o,o.return,h)}}function az(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Mk),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Mk),o;default:throw Error(i(435,a.tag))}}function Wf(a,o){var h=az(a);o.forEach(function(p){if(!h.has(p)){h.add(p);var O=gz.bind(null,a,p);p.then(O,O)}})}function Rn(a,o){var h=o.deletions;if(h!==null)for(var p=0;p<h.length;p++){var O=h[p],b=a,v=o,_=v;e:for(;_!==null;){switch(_.tag){case 27:if(Rs(_.type)){Tt=_.stateNode,Pn=!1;break e}break;case 5:Tt=_.stateNode,Pn=!1;break e;case 3:case 4:Tt=_.stateNode.containerInfo,Pn=!0;break e}_=_.return}if(Tt===null)throw Error(i(160));Ik(b,v,O),Tt=null,Pn=!1,b=O.alternate,b!==null&&(b.return=null),O.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)zk(o,a),o=o.sibling}var Ii=null;function zk(a,o){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rn(o,a),Mn(a),p&4&&(_s(3,a,a.return),zu(3,a),_s(5,a,a.return));break;case 1:Rn(o,a),Mn(a),p&512&&(Bt||h===null||tr(h,h.return)),p&64&&Nr&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var O=Ii;if(Rn(o,a),Mn(a),p&512&&(Bt||h===null||tr(h,h.return)),p&4){var b=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){e:{p=a.type,h=a.memoizedProps,O=O.ownerDocument||O;t:switch(p){case"title":b=O.getElementsByTagName("title")[0],(!b||b[du]||b[rn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=O.createElement(p),O.head.insertBefore(b,O.querySelector("head > title"))),on(b,p,h),b[rn]=a,Gt(b),p=b;break e;case"link":var v=z_("link","href",O).get(p+(h.href||""));if(v){for(var _=0;_<v.length;_++)if(b=v[_],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){v.splice(_,1);break t}}b=O.createElement(p),on(b,p,h),O.head.appendChild(b);break;case"meta":if(v=z_("meta","content",O).get(p+(h.content||""))){for(_=0;_<v.length;_++)if(b=v[_],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){v.splice(_,1);break t}}b=O.createElement(p),on(b,p,h),O.head.appendChild(b);break;default:throw Error(i(468,p))}b[rn]=a,Gt(b),p=b}a.stateNode=p}else B_(O,a.type,a.stateNode);else a.stateNode=N_(O,p,a.memoizedProps);else b!==p?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,p===null?B_(O,a.type,a.stateNode):N_(O,p,a.memoizedProps)):p===null&&a.stateNode!==null&&IO(a,a.memoizedProps,h.memoizedProps)}break;case 27:Rn(o,a),Mn(a),p&512&&(Bt||h===null||tr(h,h.return)),h!==null&&p&4&&IO(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Rn(o,a),Mn(a),p&512&&(Bt||h===null||tr(h,h.return)),a.flags&32){O=a.stateNode;try{ba(O,"")}catch(ye){lt(a,a.return,ye)}}p&4&&a.stateNode!=null&&(O=a.memoizedProps,IO(a,O,h!==null?h.memoizedProps:O)),p&1024&&(zO=!0);break;case 6:if(Rn(o,a),Mn(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(ye){lt(a,a.return,ye)}}break;case 3:if(cd=null,O=Ii,Ii=od(o.containerInfo),Rn(o,a),Ii=O,Mn(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Ga(o.containerInfo)}catch(ye){lt(a,a.return,ye)}zO&&(zO=!1,Bk(a));break;case 4:p=Ii,Ii=od(a.stateNode.containerInfo),Rn(o,a),Mn(a),Ii=p;break;case 12:Rn(o,a),Mn(a);break;case 31:Rn(o,a),Mn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Wf(a,p)));break;case 13:Rn(o,a),Mn(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Gf=vn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Wf(a,p)));break;case 22:O=a.memoizedState!==null;var M=h!==null&&h.memoizedState!==null,q=Nr,H=Bt;if(Nr=q||O,Bt=H||M,Rn(o,a),Bt=H,Nr=q,Mn(a),p&8192)e:for(o=a.stateNode,o._visibility=O?o._visibility&-2:o._visibility|1,O&&(h===null||M||Nr||Bt||Al(a)),h=null,o=a;;){if(o.tag===5||o.tag===26){if(h===null){M=h=o;try{if(b=M.stateNode,O)v=b.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=M.stateNode;var ie=M.memoizedProps.style,V=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;_.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ye){lt(M,M.return,ye)}}}else if(o.tag===6){if(h===null){M=o;try{M.stateNode.nodeValue=O?"":M.memoizedProps}catch(ye){lt(M,M.return,ye)}}}else if(o.tag===18){if(h===null){M=o;try{var Y=M.stateNode;O?Q_(Y,!0):Q_(M.stateNode,!1)}catch(ye){lt(M,M.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Wf(a,h))));break;case 19:Rn(o,a),Mn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Wf(a,p)));break;case 30:break;case 21:break;default:Rn(o,a),Mn(a)}}function Mn(a){var o=a.flags;if(o&2){try{for(var h,p=a.return;p!==null;){if(Pk(p)){h=p;break}p=p.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var O=h.stateNode,b=LO(a);Yf(a,b,O);break;case 5:var v=h.stateNode;h.flags&32&&(ba(v,""),h.flags&=-33);var _=LO(a);Yf(a,_,v);break;case 3:case 4:var M=h.stateNode.containerInfo,q=LO(a);NO(a,q,M);break;default:throw Error(i(161))}}catch(H){lt(a,a.return,H)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Bk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Bk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Br(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$k(a,o.alternate,o),o=o.sibling}function Al(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:_s(4,o,o.return),Al(o);break;case 1:tr(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&Qk(o,o.return,h),Al(o);break;case 27:Hu(o.stateNode);case 26:case 5:tr(o,o.return),Al(o);break;case 22:o.memoizedState===null&&Al(o);break;case 30:Al(o);break;default:Al(o)}a=a.sibling}}function Xr(a,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,O=a,b=o,v=b.flags;switch(b.tag){case 0:case 11:case 15:Xr(O,b,h),zu(4,b);break;case 1:if(Xr(O,b,h),p=b,O=p.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(q){lt(p,p.return,q)}if(p=b,O=p.updateQueue,O!==null){var _=p.stateNode;try{var M=O.shared.hiddenCallbacks;if(M!==null)for(O.shared.hiddenCallbacks=null,O=0;O<M.length;O++)Ow(M[O],_)}catch(q){lt(p,p.return,q)}}h&&v&64&&Ek(b),Bu(b,b.return);break;case 27:Rk(b);case 26:case 5:Xr(O,b,h),h&&p===null&&v&4&&Ak(b),Bu(b,b.return);break;case 12:Xr(O,b,h);break;case 31:Xr(O,b,h),h&&v&4&&Lk(O,b);break;case 13:Xr(O,b,h),h&&v&4&&Nk(O,b);break;case 22:b.memoizedState===null&&Xr(O,b,h),Bu(b,b.return);break;case 30:break;default:Xr(O,b,h)}o=o.sibling}}function BO(a,o){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Cu(h))}function XO(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Cu(a))}function Li(a,o,h,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Xk(a,o,h,p),o=o.sibling}function Xk(a,o,h,p){var O=o.flags;switch(o.tag){case 0:case 11:case 15:Li(a,o,h,p),O&2048&&zu(9,o);break;case 1:Li(a,o,h,p);break;case 3:Li(a,o,h,p),O&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Cu(a)));break;case 12:if(O&2048){Li(a,o,h,p),a=o.stateNode;try{var b=o.memoizedProps,v=b.id,_=b.onPostCommit;typeof _=="function"&&_(v,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(M){lt(o,o.return,M)}}else Li(a,o,h,p);break;case 31:Li(a,o,h,p);break;case 13:Li(a,o,h,p);break;case 23:break;case 22:b=o.stateNode,v=o.alternate,o.memoizedState!==null?b._visibility&2?Li(a,o,h,p):Xu(a,o):b._visibility&2?Li(a,o,h,p):(b._visibility|=2,za(a,o,h,p,(o.subtreeFlags&10256)!==0||!1)),O&2048&&BO(v,o);break;case 24:Li(a,o,h,p),O&2048&&XO(o.alternate,o);break;default:Li(a,o,h,p)}}function za(a,o,h,p,O){for(O=O&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,v=o,_=h,M=p,q=v.flags;switch(v.tag){case 0:case 11:case 15:za(b,v,_,M,O),zu(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?za(b,v,_,M,O):Xu(b,v):(H._visibility|=2,za(b,v,_,M,O)),O&&q&2048&&BO(v.alternate,v);break;case 24:za(b,v,_,M,O),O&&q&2048&&XO(v.alternate,v);break;default:za(b,v,_,M,O)}o=o.sibling}}function Xu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=a,p=o,O=p.flags;switch(p.tag){case 22:Xu(h,p),O&2048&&BO(p.alternate,p);break;case 24:Xu(h,p),O&2048&&XO(p.alternate,p);break;default:Xu(h,p)}o=o.sibling}}var Zu=8192;function Ba(a,o,h){if(a.subtreeFlags&Zu)for(a=a.child;a!==null;)Zk(a,o,h),a=a.sibling}function Zk(a,o,h){switch(a.tag){case 26:Ba(a,o,h),a.flags&Zu&&a.memoizedState!==null&&Yz(h,Ii,a.memoizedState,a.memoizedProps);break;case 5:Ba(a,o,h);break;case 3:case 4:var p=Ii;Ii=od(a.stateNode.containerInfo),Ba(a,o,h),Ii=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Zu,Zu=16777216,Ba(a,o,h),Zu=p):Ba(a,o,h));break;default:Ba(a,o,h)}}function Uk(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Uu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var p=o[h];Ft=p,qk(p,a)}Uk(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jk(a),a=a.sibling}function jk(a){switch(a.tag){case 0:case 11:case 15:Uu(a),a.flags&2048&&_s(9,a,a.return);break;case 3:Uu(a);break;case 12:Uu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Hf(a)):Uu(a);break;default:Uu(a)}}function Hf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var p=o[h];Ft=p,qk(p,a)}Uk(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:_s(8,o,o.return),Hf(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,Hf(o));break;default:Hf(o)}a=a.sibling}}function qk(a,o){for(;Ft!==null;){var h=Ft;switch(h.tag){case 0:case 11:case 15:_s(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Cu(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Ft=p;else e:for(h=a;Ft!==null;){p=Ft;var O=p.sibling,b=p.return;if(Dk(p),p===h){Ft=null;break e}if(O!==null){O.return=b,Ft=O;break e}Ft=b}}}var oz={getCacheForType:function(a){var o=ln(Lt),h=o.data.get(a);return h===void 0&&(h=a(),o.data.set(a,h)),h},cacheSignal:function(){return ln(Lt).controller.signal}},uz=typeof WeakMap=="function"?WeakMap:Map,et=0,pt=null,Be=null,qe=0,st=0,Jn=null,Cs=!1,Xa=!1,ZO=!1,Zr=0,Pt=0,Ts=0,Pl=0,UO=0,ei=0,Za=0,ju=null,$n=null,jO=!1,Gf=0,Vk=0,Ff=1/0,Kf=null,Es=null,qt=0,Qs=null,Ua=null,Ur=0,qO=0,VO=null,Yk=null,qu=0,YO=null;function ti(){return(et&2)!==0&&qe!==0?qe&-qe:N.T!==null?JO():ux()}function Wk(){if(ei===0)if((qe&536870912)===0||We){var a=lf;lf<<=1,(lf&3932160)===0&&(lf=262144),ei=a}else ei=536870912;return a=Fn.current,a!==null&&(a.flags|=32),ei}function Dn(a,o,h){(a===pt&&(st===2||st===9)||a.cancelPendingCommit!==null)&&(ja(a,0),As(a,qe,ei,!1)),fu(a,h),((et&2)===0||a!==pt)&&(a===pt&&((et&2)===0&&(Pl|=h),Pt===4&&As(a,qe,ei,!1)),nr(a))}function Hk(a,o,h){if((et&6)!==0)throw Error(i(327));var p=!h&&(o&127)===0&&(o&a.expiredLanes)===0||hu(a,o),O=p?fz(a,o):HO(a,o,!0),b=p;do{if(O===0){Xa&&!p&&As(a,o,0,!1);break}else{if(h=a.current.alternate,b&&!cz(h)){O=HO(a,o,!1),b=!1;continue}if(O===2){if(b=o,a.errorRecoveryDisabledLanes&b)var v=0;else v=a.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){o=v;e:{var _=a;O=ju;var M=_.current.memoizedState.isDehydrated;if(M&&(ja(_,v).flags|=256),v=HO(_,v,!1),v!==2){if(ZO&&!M){_.errorRecoveryDisabledLanes|=b,Pl|=b,O=4;break e}b=$n,$n=O,b!==null&&($n===null?$n=b:$n.push.apply($n,b))}O=v}if(b=!1,O!==2)continue}}if(O===1){ja(a,0),As(a,o,0,!0);break}e:{switch(p=a,b=O,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:As(p,o,ei,!Cs);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(O=Gf+300-vn(),10<O)){if(As(p,o,ei,!Cs),of(p,0,!0)!==0)break e;Ur=o,p.timeoutHandle=C_(Gk.bind(null,p,h,$n,Kf,jO,o,ei,Pl,Za,Cs,b,"Throttled",-0,0),O);break e}Gk(p,h,$n,Kf,jO,o,ei,Pl,Za,Cs,b,null,-0,0)}}break}while(!0);nr(a)}function Gk(a,o,h,p,O,b,v,_,M,q,H,ie,V,Y){if(a.timeoutHandle=-1,ie=o.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Er},Zk(o,b,ie);var ye=(b&62914560)===b?Gf-vn():(b&4194048)===b?Vk-vn():0;if(ye=Wz(ie,ye),ye!==null){Ur=b,a.cancelPendingCommit=ye(r_.bind(null,a,o,b,h,p,O,v,_,M,H,ie,null,V,Y)),As(a,b,v,!q);return}}r_(a,o,b,h,p,O,v,_,M)}function cz(a){for(var o=a;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var O=h[p],b=O.getSnapshot;O=O.value;try{if(!Hn(b(),O))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function As(a,o,h,p){o&=~UO,o&=~Pl,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var O=o;0<O;){var b=31-dt(O),v=1<<b;p[b]=-1,O&=~v}h!==0&&lx(a,h,o)}function Jf(){return(et&6)===0?(Vu(0),!1):!0}function WO(){if(Be!==null){if(st===0)var a=Be.return;else a=Be,Rr=xl=null,cO(a),$a=null,Eu=0,a=Be;for(;a!==null;)Tk(a.alternate,a),a=a.return;Be=null}}function ja(a,o){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,Az(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Ur=0,WO(),pt=a,Be=h=Ar(a.current,null),qe=o,st=0,Jn=null,Cs=!1,Xa=hu(a,o),ZO=!1,Za=ei=UO=Pl=Ts=Pt=0,$n=ju=null,jO=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var O=31-dt(p),b=1<<O;o|=a[O],p&=~b}return Zr=o,Sf(),h}function Fk(a,o){Me=null,N.H=Iu,o===Ma||o===Ef?(o=dw(),st=3):o===Kg?(o=dw(),st=4):st=o===CO?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jn=o,Be===null&&(Pt=1,Zf(a,Oi(o,a.current)))}function Kk(){var a=Fn.current;return a===null?!0:(qe&4194048)===qe?vi===null:(qe&62914560)===qe||(qe&536870912)!==0?a===vi:!1}function Jk(){var a=N.H;return N.H=Iu,a===null?Iu:a}function e_(){var a=N.A;return N.A=oz,a}function ed(){Pt=4,Cs||(qe&4194048)!==qe&&Fn.current!==null||(Xa=!0),(Ts&134217727)===0&&(Pl&134217727)===0||pt===null||As(pt,qe,ei,!1)}function HO(a,o,h){var p=et;et|=2;var O=Jk(),b=e_();(pt!==a||qe!==o)&&(Kf=null,ja(a,o)),o=!1;var v=Pt;e:do try{if(st!==0&&Be!==null){var _=Be,M=Jn;switch(st){case 8:WO(),v=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(o=!0);var q=st;if(st=0,Jn=null,qa(a,_,M,q),h&&Xa){v=0;break e}break;default:q=st,st=0,Jn=null,qa(a,_,M,q)}}hz(),v=Pt;break}catch(H){Fk(a,H)}while(!0);return o&&a.shellSuspendCounter++,Rr=xl=null,et=p,N.H=O,N.A=b,Be===null&&(pt=null,qe=0,Sf()),v}function hz(){for(;Be!==null;)t_(Be)}function fz(a,o){var h=et;et|=2;var p=Jk(),O=e_();pt!==a||qe!==o?(Kf=null,Ff=vn()+500,ja(a,o)):Xa=hu(a,o);e:do try{if(st!==0&&Be!==null){o=Be;var b=Jn;t:switch(st){case 1:st=0,Jn=null,qa(a,o,b,1);break;case 2:case 9:if(hw(b)){st=0,Jn=null,n_(o);break}o=function(){st!==2&&st!==9||pt!==a||(st=7),nr(a)},b.then(o,o);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:hw(b)?(st=0,Jn=null,n_(o)):(st=0,Jn=null,qa(a,o,b,7));break;case 5:var v=null;switch(Be.tag){case 26:v=Be.memoizedState;case 5:case 27:var _=Be;if(v?X_(v):_.stateNode.complete){st=0,Jn=null;var M=_.sibling;if(M!==null)Be=M;else{var q=_.return;q!==null?(Be=q,td(q)):Be=null}break t}}st=0,Jn=null,qa(a,o,b,5);break;case 6:st=0,Jn=null,qa(a,o,b,6);break;case 8:WO(),Pt=6;break e;default:throw Error(i(462))}}dz();break}catch(H){Fk(a,H)}while(!0);return Rr=xl=null,N.H=p,N.A=O,et=h,Be!==null?0:(pt=null,qe=0,Sf(),Pt)}function dz(){for(;Be!==null&&!og();)t_(Be)}function t_(a){var o=_k(a.alternate,a,Zr);a.memoizedProps=a.pendingProps,o===null?td(a):Be=o}function n_(a){var o=a,h=o.alternate;switch(o.tag){case 15:case 0:o=bk(h,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=bk(h,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:cO(o);default:Tk(h,o),o=Be=ew(o,Zr),o=_k(h,o,Zr)}a.memoizedProps=a.pendingProps,o===null?td(a):Be=o}function qa(a,o,h,p){Rr=xl=null,cO(o),$a=null,Eu=0;var O=o.return;try{if(tz(a,O,o,h,qe)){Pt=1,Zf(a,Oi(h,a.current)),Be=null;return}}catch(b){if(O!==null)throw Be=O,b;Pt=1,Zf(a,Oi(h,a.current)),Be=null;return}o.flags&32768?(We||p===1?a=!0:Xa||(qe&536870912)!==0?a=!1:(Cs=a=!0,(p===2||p===9||p===3||p===6)&&(p=Fn.current,p!==null&&p.tag===13&&(p.flags|=16384))),i_(o,a)):td(o)}function td(a){var o=a;do{if((o.flags&32768)!==0){i_(o,Cs);return}a=o.return;var h=rz(o.alternate,o,Zr);if(h!==null){Be=h;return}if(o=o.sibling,o!==null){Be=o;return}Be=o=a}while(o!==null);Pt===0&&(Pt=5)}function i_(a,o){do{var h=sz(a.alternate,a);if(h!==null){h.flags&=32767,Be=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(a=a.sibling,a!==null)){Be=a;return}Be=a=h}while(a!==null);Pt=6,Be=null}function r_(a,o,h,p,O,b,v,_,M){a.cancelPendingCommit=null;do nd();while(qt!==0);if((et&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Lg,VL(a,h,b,v,_,M),a===pt&&(Be=pt=null,qe=0),Ua=o,Qs=a,Ur=h,qO=b,VO=O,Yk=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Oz(Te,function(){return u_(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=N.T,N.T=null,O=ne.p,ne.p=2,v=et,et|=4;try{lz(a,o,h)}finally{et=v,ne.p=O,N.T=p}}qt=1,s_(),l_(),a_()}}function s_(){if(qt===1){qt=0;var a=Qs,o=Ua,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=N.T,N.T=null;var p=ne.p;ne.p=2;var O=et;et|=4;try{zk(o,a);var b=ay,v=qx(a.containerInfo),_=b.focusedElem,M=b.selectionRange;if(v!==_&&_&&_.ownerDocument&&jx(_.ownerDocument.documentElement,_)){if(M!==null&&Rg(_)){var q=M.start,H=M.end;if(H===void 0&&(H=q),"selectionStart"in _)_.selectionStart=q,_.selectionEnd=Math.min(H,_.value.length);else{var ie=_.ownerDocument||document,V=ie&&ie.defaultView||window;if(V.getSelection){var Y=V.getSelection(),ye=_.textContent.length,Ce=Math.min(M.start,ye),ct=M.end===void 0?Ce:Math.min(M.end,ye);!Y.extend&&Ce>ct&&(v=ct,ct=Ce,Ce=v);var L=Ux(_,Ce),$=Ux(_,ct);if(L&&$&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==$.node||Y.focusOffset!==$.offset)){var j=ie.createRange();j.setStart(L.node,L.offset),Y.removeAllRanges(),Ce>ct?(Y.addRange(j),Y.extend($.node,$.offset)):(j.setEnd($.node,$.offset),Y.addRange(j))}}}}for(ie=[],Y=_;Y=Y.parentNode;)Y.nodeType===1&&ie.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ie.length;_++){var J=ie[_];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}pd=!!ly,ay=ly=null}finally{et=O,ne.p=p,N.T=h}}a.current=o,qt=2}}function l_(){if(qt===2){qt=0;var a=Qs,o=Ua,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=N.T,N.T=null;var p=ne.p;ne.p=2;var O=et;et|=4;try{$k(a,o.alternate,o)}finally{et=O,ne.p=p,N.T=h}}qt=3}}function a_(){if(qt===4||qt===3){qt=0,ug();var a=Qs,o=Ua,h=Ur,p=Yk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?qt=5:(qt=0,Ua=Qs=null,o_(a,a.pendingLanes));var O=a.pendingLanes;if(O===0&&(Es=null),dg(h),o=o.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(xn,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=N.T,O=ne.p,ne.p=2,N.T=null;try{for(var b=a.onRecoverableError,v=0;v<p.length;v++){var _=p[v];b(_.value,{componentStack:_.stack})}}finally{N.T=o,ne.p=O}}(Ur&3)!==0&&nd(),nr(a),O=a.pendingLanes,(h&261930)!==0&&(O&42)!==0?a===YO?qu++:(qu=0,YO=a):qu=0,Vu(0)}}function o_(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Cu(o)))}function nd(){return s_(),l_(),a_(),u_()}function u_(){if(qt!==5)return!1;var a=Qs,o=qO;qO=0;var h=dg(Ur),p=N.T,O=ne.p;try{ne.p=32>h?32:h,N.T=null,h=VO,VO=null;var b=Qs,v=Ur;if(qt=0,Ua=Qs=null,Ur=0,(et&6)!==0)throw Error(i(331));var _=et;if(et|=4,jk(b.current),Xk(b,b.current,v,h),et=_,Vu(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(xn,b)}catch{}return!0}finally{ne.p=O,N.T=p,o_(a,o)}}function c_(a,o,h){o=Oi(h,o),o=_O(a.stateNode,o,2),a=xs(a,o,2),a!==null&&(fu(a,2),nr(a))}function lt(a,o,h){if(a.tag===3)c_(a,a,h);else for(;o!==null;){if(o.tag===3){c_(o,a,h);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Es===null||!Es.has(p))){a=Oi(h,a),h=hk(2),p=xs(o,h,2),p!==null&&(fk(h,p,o,a),fu(p,2),nr(p));break}}o=o.return}}function GO(a,o,h){var p=a.pingCache;if(p===null){p=a.pingCache=new uz;var O=new Set;p.set(o,O)}else O=p.get(o),O===void 0&&(O=new Set,p.set(o,O));O.has(h)||(ZO=!0,O.add(h),a=pz.bind(null,a,o,h),o.then(a,a))}function pz(a,o,h){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,pt===a&&(qe&h)===h&&(Pt===4||Pt===3&&(qe&62914560)===qe&&300>vn()-Gf?(et&2)===0&&ja(a,0):UO|=h,Za===qe&&(Za=0)),nr(a)}function h_(a,o){o===0&&(o=sx()),a=bl(a,o),a!==null&&(fu(a,o),nr(a))}function mz(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),h_(a,h)}function gz(a,o){var h=0;switch(a.tag){case 31:case 13:var p=a.stateNode,O=a.memoizedState;O!==null&&(h=O.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(o),h_(a,h)}function Oz(a,o){return fa(a,o)}var id=null,Va=null,FO=!1,rd=!1,KO=!1,Ps=0;function nr(a){a!==Va&&a.next===null&&(Va===null?id=Va=a:Va=Va.next=a),rd=!0,FO||(FO=!0,bz())}function Vu(a,o){if(!KO&&rd){KO=!0;do for(var h=!1,p=id;p!==null;){if(a!==0){var O=p.pendingLanes;if(O===0)var b=0;else{var v=p.suspendedLanes,_=p.pingedLanes;b=(1<<31-dt(42|a)+1)-1,b&=O&~(v&~_),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,m_(p,b))}else b=qe,b=of(p,p===pt?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||hu(p,b)||(h=!0,m_(p,b));p=p.next}while(h);KO=!1}}function yz(){f_()}function f_(){rd=FO=!1;var a=0;Ps!==0&&Qz()&&(a=Ps);for(var o=vn(),h=null,p=id;p!==null;){var O=p.next,b=d_(p,o);b===0?(p.next=null,h===null?id=O:h.next=O,O===null&&(Va=h)):(h=p,(a!==0||(b&3)!==0)&&(rd=!0)),p=O}qt!==0&&qt!==5||Vu(a),Ps!==0&&(Ps=0)}function d_(a,o){for(var h=a.suspendedLanes,p=a.pingedLanes,O=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var v=31-dt(b),_=1<<v,M=O[v];M===-1?((_&h)===0||(_&p)!==0)&&(O[v]=qL(_,o)):M<=o&&(a.expiredLanes|=_),b&=~_}if(o=pt,h=qe,h=of(a,a===o?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===o&&(st===2||st===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&cu(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||hu(a,h)){if(o=h&-h,o===a.callbackPriority)return o;switch(p!==null&&cu(p),dg(h)){case 2:case 8:h=fe;break;case 32:h=Te;break;case 268435456:h=it;break;default:h=Te}return p=p_.bind(null,a),h=fa(h,p),a.callbackPriority=o,a.callbackNode=h,o}return p!==null&&p!==null&&cu(p),a.callbackPriority=2,a.callbackNode=null,2}function p_(a,o){if(qt!==0&&qt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(nd()&&a.callbackNode!==h)return null;var p=qe;return p=of(a,a===pt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Hk(a,p,o),d_(a,vn()),a.callbackNode!=null&&a.callbackNode===h?p_.bind(null,a):null)}function m_(a,o){if(nd())return null;Hk(a,o,!0)}function bz(){Pz(function(){(et&6)!==0?fa(K,yz):f_()})}function JO(){if(Ps===0){var a=Pa;a===0&&(a=sf,sf<<=1,(sf&261888)===0&&(sf=256)),Ps=a}return Ps}function g_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ff(""+a)}function O_(a,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,a.id&&h.setAttribute("form",a.id),o.parentNode.insertBefore(h,o),a=new FormData(a),h.parentNode.removeChild(h),a}function Sz(a,o,h,p,O){if(o==="submit"&&h&&h.stateNode===O){var b=g_((O[Qn]||null).action),v=p.submitter;v&&(o=(o=v[Qn]||null)?g_(o.formAction):v.getAttribute("formAction"),o!==null&&(b=o,v=null));var _=new gf("action","action",null,p,O);a.push({event:_,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ps!==0){var M=v?O_(O,v):new FormData(O);bO(h,{pending:!0,data:M,method:O.method,action:b},null,M)}}else typeof b=="function"&&(_.preventDefault(),M=v?O_(O,v):new FormData(O),bO(h,{pending:!0,data:M,method:O.method,action:b},b,M))},currentTarget:O}]})}}for(var ey=0;ey<Ig.length;ey++){var ty=Ig[ey],vz=ty.toLowerCase(),xz=ty[0].toUpperCase()+ty.slice(1);Di(vz,"on"+xz)}Di(Wx,"onAnimationEnd"),Di(Hx,"onAnimationIteration"),Di(Gx,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(NN,"onTransitionRun"),Di(zN,"onTransitionStart"),Di(BN,"onTransitionCancel"),Di(Fx,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function y_(a,o){o=(o&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],O=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var v=p.length-1;0<=v;v--){var _=p[v],M=_.instance,q=_.currentTarget;if(_=_.listener,M!==b&&O.isPropagationStopped())break e;b=_,O.currentTarget=q;try{b(O)}catch(H){bf(H)}O.currentTarget=null,b=M}else for(v=0;v<p.length;v++){if(_=p[v],M=_.instance,q=_.currentTarget,_=_.listener,M!==b&&O.isPropagationStopped())break e;b=_,O.currentTarget=q;try{b(O)}catch(H){bf(H)}O.currentTarget=null,b=M}}}}function Xe(a,o){var h=o[pg];h===void 0&&(h=o[pg]=new Set);var p=a+"__bubble";h.has(p)||(b_(o,a,2,!1),h.add(p))}function ny(a,o,h){var p=0;o&&(p|=4),b_(h,a,p,o)}var sd="_reactListening"+Math.random().toString(36).slice(2);function iy(a){if(!a[sd]){a[sd]=!0,fx.forEach(function(h){h!=="selectionchange"&&(wz.has(h)||ny(h,!1,a),ny(h,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[sd]||(o[sd]=!0,ny("selectionchange",!1,o))}}function b_(a,o,h,p){switch(W_(o)){case 2:var O=Fz;break;case 8:O=Kz;break;default:O=yy}h=O.bind(null,o,h,a),O=void 0,!wg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(O=!0),p?O!==void 0?a.addEventListener(o,h,{capture:!0,passive:O}):a.addEventListener(o,h,!0):O!==void 0?a.addEventListener(o,h,{passive:O}):a.addEventListener(o,h,!1)}function ry(a,o,h,p,O){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var v=p.tag;if(v===3||v===4){var _=p.stateNode.containerInfo;if(_===O)break;if(v===4)for(v=p.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===O)return;v=v.return}for(;_!==null;){if(v=pa(_),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){p=b=v;continue e}_=_.parentNode}}p=p.return}kx(function(){var q=b,H=vg(h),ie=[];e:{var V=Kx.get(a);if(V!==void 0){var Y=gf,ye=a;switch(a){case"keypress":if(pf(h)===0)break e;case"keydown":case"keyup":Y=gN;break;case"focusin":ye="focus",Y=Tg;break;case"focusout":ye="blur",Y=Tg;break;case"beforeblur":case"afterblur":Y=Tg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=rN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=bN;break;case Wx:case Hx:case Gx:Y=aN;break;case Fx:Y=vN;break;case"scroll":case"scrollend":Y=nN;break;case"wheel":Y=wN;break;case"copy":case"cut":case"paste":Y=uN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Qx;break;case"toggle":case"beforetoggle":Y=_N}var Ce=(o&4)!==0,ct=!Ce&&(a==="scroll"||a==="scrollend"),L=Ce?V!==null?V+"Capture":null:V;Ce=[];for(var $=q,j;$!==null;){var J=$;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||L===null||(J=mu($,L),J!=null&&Ce.push(Wu($,J,j))),ct)break;$=$.return}0<Ce.length&&(V=new Y(V,ye,null,h,H),ie.push({event:V,listeners:Ce}))}}if((o&7)===0){e:{if(V=a==="mouseover"||a==="pointerover",Y=a==="mouseout"||a==="pointerout",V&&h!==Sg&&(ye=h.relatedTarget||h.fromElement)&&(pa(ye)||ye[da]))break e;if((Y||V)&&(V=H.window===H?H:(V=H.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(ye=h.relatedTarget||h.toElement,Y=q,ye=ye?pa(ye):null,ye!==null&&(ct=s(ye),Ce=ye.tag,ye!==ct||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):(Y=null,ye=q),Y!==ye)){if(Ce=Tx,J="onMouseLeave",L="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=Qx,J="onPointerLeave",L="onPointerEnter",$="pointer"),ct=Y==null?V:pu(Y),j=ye==null?V:pu(ye),V=new Ce(J,$+"leave",Y,h,H),V.target=ct,V.relatedTarget=j,J=null,pa(H)===q&&(Ce=new Ce(L,$+"enter",ye,h,H),Ce.target=j,Ce.relatedTarget=ct,J=Ce),ct=J,Y&&ye)t:{for(Ce=kz,L=Y,$=ye,j=0,J=L;J;J=Ce(J))j++;J=0;for(var ke=$;ke;ke=Ce(ke))J++;for(;0<j-J;)L=Ce(L),j--;for(;0<J-j;)$=Ce($),J--;for(;j--;){if(L===$||$!==null&&L===$.alternate){Ce=L;break t}L=Ce(L),$=Ce($)}Ce=null}else Ce=null;Y!==null&&S_(ie,V,Y,Ce,!1),ye!==null&&ct!==null&&S_(ie,ct,ye,Ce,!0)}}e:{if(V=q?pu(q):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var Ke=Lx;else if(Dx(V))if(Nx)Ke=DN;else{Ke=MN;var be=RN}else Y=V.nodeName,!Y||Y.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?q&&bg(q.elementType)&&(Ke=Lx):Ke=$N;if(Ke&&(Ke=Ke(a,q))){Ix(ie,Ke,h,H);break e}be&&be(a,V,q),a==="focusout"&&q&&V.type==="number"&&q.memoizedProps.value!=null&&yg(V,"number",V.value)}switch(be=q?pu(q):window,a){case"focusin":(Dx(be)||be.contentEditable==="true")&&(wa=be,Mg=q,wu=null);break;case"focusout":wu=Mg=wa=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,Vx(ie,h,H);break;case"selectionchange":if(LN)break;case"keydown":case"keyup":Vx(ie,h,H)}var $e;if(Qg)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else xa?Mx(a,h)&&(Ve="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ax&&h.locale!=="ko"&&(xa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&xa&&($e=_x()):(ms=H,kg="value"in ms?ms.value:ms.textContent,xa=!0)),be=ld(q,Ve),0<be.length&&(Ve=new Ex(Ve,a,null,h,H),ie.push({event:Ve,listeners:be}),$e?Ve.data=$e:($e=$x(h),$e!==null&&(Ve.data=$e)))),($e=TN?EN(a,h):QN(a,h))&&(Ve=ld(q,"onBeforeInput"),0<Ve.length&&(be=new Ex("onBeforeInput","beforeinput",null,h,H),ie.push({event:be,listeners:Ve}),be.data=$e)),Sz(ie,a,q,h,H)}y_(ie,o)})}function Wu(a,o,h){return{instance:a,listener:o,currentTarget:h}}function ld(a,o){for(var h=o+"Capture",p=[];a!==null;){var O=a,b=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||b===null||(O=mu(a,h),O!=null&&p.unshift(Wu(a,O,b)),O=mu(a,o),O!=null&&p.push(Wu(a,O,b))),a.tag===3)return p;a=a.return}return[]}function kz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function S_(a,o,h,p,O){for(var b=o._reactName,v=[];h!==null&&h!==p;){var _=h,M=_.alternate,q=_.stateNode;if(_=_.tag,M!==null&&M===p)break;_!==5&&_!==26&&_!==27||q===null||(M=q,O?(q=mu(h,b),q!=null&&v.unshift(Wu(h,q,M))):O||(q=mu(h,b),q!=null&&v.push(Wu(h,q,M)))),h=h.return}v.length!==0&&a.push({event:o,listeners:v})}var _z=/\r\n?/g,Cz=/\u0000|\uFFFD/g;function v_(a){return(typeof a=="string"?a:""+a).replace(_z,`
`).replace(Cz,"")}function x_(a,o){return o=v_(o),v_(a)===o}function ut(a,o,h,p,O,b){switch(h){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||ba(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&ba(a,""+p);break;case"className":cf(a,"class",p);break;case"tabIndex":cf(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":cf(a,h,p);break;case"style":xx(a,p,b);break;case"data":if(o!=="object"){cf(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=ff(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(o!=="input"&&ut(a,o,"name",O.name,O,null),ut(a,o,"formEncType",O.formEncType,O,null),ut(a,o,"formMethod",O.formMethod,O,null),ut(a,o,"formTarget",O.formTarget,O,null)):(ut(a,o,"encType",O.encType,O,null),ut(a,o,"method",O.method,O,null),ut(a,o,"target",O.target,O,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=ff(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=Er);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(O.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=ff(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":Xe("beforetoggle",a),Xe("toggle",a),uf(a,"popover",p);break;case"xlinkActuate":Tr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Tr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Tr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Tr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Tr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Tr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Tr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Tr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Tr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":uf(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=eN.get(h)||h,uf(a,h,p))}}function sy(a,o,h,p,O,b){switch(h){case"style":xx(a,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(O.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof p=="string"?ba(a,p):(typeof p=="number"||typeof p=="bigint")&&ba(a,""+p);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dx.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),o=h.slice(2,O?h.length-7:void 0),b=a[Qn]||null,b=b!=null?b[h]:null,typeof b=="function"&&a.removeEventListener(o,b,O),typeof p=="function")){typeof b!="function"&&b!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(o,p,O);break e}h in a?a[h]=p:p===!0?a.setAttribute(h,""):uf(a,h,p)}}}function on(a,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",a),Xe("load",a);var p=!1,O=!1,b;for(b in h)if(h.hasOwnProperty(b)){var v=h[b];if(v!=null)switch(b){case"src":p=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ut(a,o,b,v,h,null)}}O&&ut(a,o,"srcSet",h.srcSet,h,null),p&&ut(a,o,"src",h.src,h,null);return;case"input":Xe("invalid",a);var _=b=v=O=null,M=null,q=null;for(p in h)if(h.hasOwnProperty(p)){var H=h[p];if(H!=null)switch(p){case"name":O=H;break;case"type":v=H;break;case"checked":M=H;break;case"defaultChecked":q=H;break;case"value":b=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,o));break;default:ut(a,o,p,H,h,null)}}yx(a,b,_,M,q,v,O,!1);return;case"select":Xe("invalid",a),p=v=b=null;for(O in h)if(h.hasOwnProperty(O)&&(_=h[O],_!=null))switch(O){case"value":b=_;break;case"defaultValue":v=_;break;case"multiple":p=_;default:ut(a,o,O,_,h,null)}o=b,h=v,a.multiple=!!p,o!=null?ya(a,!!p,o,!1):h!=null&&ya(a,!!p,h,!0);return;case"textarea":Xe("invalid",a),b=O=p=null;for(v in h)if(h.hasOwnProperty(v)&&(_=h[v],_!=null))switch(v){case"value":p=_;break;case"defaultValue":O=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:ut(a,o,v,_,h,null)}Sx(a,p,O,b);return;case"option":for(M in h)if(h.hasOwnProperty(M)&&(p=h[M],p!=null))switch(M){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ut(a,o,M,p,h,null)}return;case"dialog":Xe("beforetoggle",a),Xe("toggle",a),Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":Xe("load",a);break;case"video":case"audio":for(p=0;p<Yu.length;p++)Xe(Yu[p],a);break;case"image":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"embed":case"source":case"link":Xe("error",a),Xe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in h)if(h.hasOwnProperty(q)&&(p=h[q],p!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ut(a,o,q,p,h,null)}return;default:if(bg(o)){for(H in h)h.hasOwnProperty(H)&&(p=h[H],p!==void 0&&sy(a,o,H,p,h,void 0));return}}for(_ in h)h.hasOwnProperty(_)&&(p=h[_],p!=null&&ut(a,o,_,p,h,null))}function Tz(a,o,h,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,b=null,v=null,_=null,M=null,q=null,H=null;for(Y in h){var ie=h[Y];if(h.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=ie;default:p.hasOwnProperty(Y)||ut(a,o,Y,null,p,ie)}}for(var V in p){var Y=p[V];if(ie=h[V],p.hasOwnProperty(V)&&(Y!=null||ie!=null))switch(V){case"type":b=Y;break;case"name":O=Y;break;case"checked":q=Y;break;case"defaultChecked":H=Y;break;case"value":v=Y;break;case"defaultValue":_=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,o));break;default:Y!==ie&&ut(a,o,V,Y,p,ie)}}Og(a,v,_,M,q,H,b,O);return;case"select":Y=v=_=V=null;for(b in h)if(M=h[b],h.hasOwnProperty(b)&&M!=null)switch(b){case"value":break;case"multiple":Y=M;default:p.hasOwnProperty(b)||ut(a,o,b,null,p,M)}for(O in p)if(b=p[O],M=h[O],p.hasOwnProperty(O)&&(b!=null||M!=null))switch(O){case"value":V=b;break;case"defaultValue":_=b;break;case"multiple":v=b;default:b!==M&&ut(a,o,O,b,p,M)}o=_,h=v,p=Y,V!=null?ya(a,!!h,V,!1):!!p!=!!h&&(o!=null?ya(a,!!h,o,!0):ya(a,!!h,h?[]:"",!1));return;case"textarea":Y=V=null;for(_ in h)if(O=h[_],h.hasOwnProperty(_)&&O!=null&&!p.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ut(a,o,_,null,p,O)}for(v in p)if(O=p[v],b=h[v],p.hasOwnProperty(v)&&(O!=null||b!=null))switch(v){case"value":V=O;break;case"defaultValue":Y=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==b&&ut(a,o,v,O,p,b)}bx(a,V,Y);return;case"option":for(var ye in h)if(V=h[ye],h.hasOwnProperty(ye)&&V!=null&&!p.hasOwnProperty(ye))switch(ye){case"selected":a.selected=!1;break;default:ut(a,o,ye,null,p,V)}for(M in p)if(V=p[M],Y=h[M],p.hasOwnProperty(M)&&V!==Y&&(V!=null||Y!=null))switch(M){case"selected":a.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:ut(a,o,M,V,p,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in h)V=h[Ce],h.hasOwnProperty(Ce)&&V!=null&&!p.hasOwnProperty(Ce)&&ut(a,o,Ce,null,p,V);for(q in p)if(V=p[q],Y=h[q],p.hasOwnProperty(q)&&V!==Y&&(V!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,o));break;default:ut(a,o,q,V,p,Y)}return;default:if(bg(o)){for(var ct in h)V=h[ct],h.hasOwnProperty(ct)&&V!==void 0&&!p.hasOwnProperty(ct)&&sy(a,o,ct,void 0,p,V);for(H in p)V=p[H],Y=h[H],!p.hasOwnProperty(H)||V===Y||V===void 0&&Y===void 0||sy(a,o,H,V,p,Y);return}}for(var L in h)V=h[L],h.hasOwnProperty(L)&&V!=null&&!p.hasOwnProperty(L)&&ut(a,o,L,null,p,V);for(ie in p)V=p[ie],Y=h[ie],!p.hasOwnProperty(ie)||V===Y||V==null&&Y==null||ut(a,o,ie,V,p,Y)}function w_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ez(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var O=h[p],b=O.transferSize,v=O.initiatorType,_=O.duration;if(b&&_&&w_(v)){for(v=0,_=O.responseEnd,p+=1;p<h.length;p++){var M=h[p],q=M.startTime;if(q>_)break;var H=M.transferSize,ie=M.initiatorType;H&&w_(ie)&&(M=M.responseEnd,v+=H*(M<_?1:(_-q)/(M-q)))}if(--p,o+=8*(b+v)/(O.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ly=null,ay=null;function ad(a){return a.nodeType===9?a:a.ownerDocument}function k_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function oy(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var uy=null;function Qz(){var a=window.event;return a&&a.type==="popstate"?a===uy?!1:(uy=a,!0):(uy=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,Az=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,Pz=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(a){return T_.resolve(null).then(a).catch(Rz)}:C_;function Rz(a){setTimeout(function(){throw a})}function Rs(a){return a==="head"}function E_(a,o){var h=o,p=0;do{var O=h.nextSibling;if(a.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(p===0){a.removeChild(O),Ga(o);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")Hu(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Hu(h);for(var b=h.firstChild;b;){var v=b.nextSibling,_=b.nodeName;b[du]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=v}}else h==="body"&&Hu(a.ownerDocument.body);h=O}while(h);Ga(o)}function Q_(a,o){var h=a;a=0;do{var p=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=p}while(h)}function cy(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":cy(h),mg(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function Mz(a,o,h,p){for(;a.nodeType===1;){var O=h;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[du])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==O.rel||a.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||a.getAttribute("title")!==(O.title==null?null:O.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(O.src==null?null:O.src)||a.getAttribute("type")!==(O.type==null?null:O.type)||a.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=O.name==null?null:""+O.name;if(O.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=xi(a.nextSibling),a===null)break}return null}function $z(a,o,h){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=xi(a.nextSibling),a===null))return null;return a}function A_(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=xi(a.nextSibling),a===null))return null;return a}function hy(a){return a.data==="$?"||a.data==="$~"}function fy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Dz(a,o){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||h.readyState!=="loading")o();else{var p=function(){o(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function xi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var dy=null;function P_(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(o===0)return xi(a.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}a=a.nextSibling}return null}function R_(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return a;o--}else h!=="/$"&&h!=="/&"||o++}a=a.previousSibling}return null}function M_(a,o,h){switch(o=ad(h),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Hu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);mg(a)}var wi=new Map,$_=new Set;function od(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var jr=ne.d;ne.d={f:Iz,r:Lz,D:Nz,C:zz,L:Bz,m:Xz,X:Uz,S:Zz,M:jz};function Iz(){var a=jr.f(),o=Jf();return a||o}function Lz(a){var o=ma(a);o!==null&&o.tag===5&&o.type==="form"?Fw(o):jr.r(a)}var Ya=typeof document>"u"?null:document;function D_(a,o,h){var p=Ya;if(p&&typeof o=="string"&&o){var O=mi(o);O='link[rel="'+a+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),$_.has(O)||($_.add(O),a={rel:a,crossOrigin:h,href:o},p.querySelector(O)===null&&(o=p.createElement("link"),on(o,"link",a),Gt(o),p.head.appendChild(o)))}}function Nz(a){jr.D(a),D_("dns-prefetch",a,null)}function zz(a,o){jr.C(a,o),D_("preconnect",a,o)}function Bz(a,o,h){jr.L(a,o,h);var p=Ya;if(p&&a&&o){var O='link[rel="preload"][as="'+mi(o)+'"]';o==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+mi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+mi(h.imageSizes)+'"]')):O+='[href="'+mi(a)+'"]';var b=O;switch(o){case"style":b=Wa(a);break;case"script":b=Ha(a)}wi.has(b)||(a=m({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:a,as:o},h),wi.set(b,a),p.querySelector(O)!==null||o==="style"&&p.querySelector(Gu(b))||o==="script"&&p.querySelector(Fu(b))||(o=p.createElement("link"),on(o,"link",a),Gt(o),p.head.appendChild(o)))}}function Xz(a,o){jr.m(a,o);var h=Ya;if(h&&a){var p=o&&typeof o.as=="string"?o.as:"script",O='link[rel="modulepreload"][as="'+mi(p)+'"][href="'+mi(a)+'"]',b=O;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ha(a)}if(!wi.has(b)&&(a=m({rel:"modulepreload",href:a},o),wi.set(b,a),h.querySelector(O)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Fu(b)))return}p=h.createElement("link"),on(p,"link",a),Gt(p),h.head.appendChild(p)}}}function Zz(a,o,h){jr.S(a,o,h);var p=Ya;if(p&&a){var O=ga(p).hoistableStyles,b=Wa(a);o=o||"default";var v=O.get(b);if(!v){var _={loading:0,preload:null};if(v=p.querySelector(Gu(b)))_.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},h),(h=wi.get(b))&&py(a,h);var M=v=p.createElement("link");Gt(M),on(M,"link",a),M._p=new Promise(function(q,H){M.onload=q,M.onerror=H}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ud(v,o,p)}v={type:"stylesheet",instance:v,count:1,state:_},O.set(b,v)}}}function Uz(a,o){jr.X(a,o);var h=Ya;if(h&&a){var p=ga(h).hoistableScripts,O=Ha(a),b=p.get(O);b||(b=h.querySelector(Fu(O)),b||(a=m({src:a,async:!0},o),(o=wi.get(O))&&my(a,o),b=h.createElement("script"),Gt(b),on(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(O,b))}}function jz(a,o){jr.M(a,o);var h=Ya;if(h&&a){var p=ga(h).hoistableScripts,O=Ha(a),b=p.get(O);b||(b=h.querySelector(Fu(O)),b||(a=m({src:a,async:!0,type:"module"},o),(o=wi.get(O))&&my(a,o),b=h.createElement("script"),Gt(b),on(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(O,b))}}function I_(a,o,h,p){var O=(O=Se.current)?od(O):null;if(!O)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=Wa(h.href),h=ga(O).hoistableStyles,p=h.get(o),p||(p={type:"style",instance:null,count:0,state:null},h.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Wa(h.href);var b=ga(O).hoistableStyles,v=b.get(a);if(v||(O=O.ownerDocument||O,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,v),(b=O.querySelector(Gu(a)))&&!b._p&&(v.instance=b,v.state.loading=5),wi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},wi.set(a,h),b||qz(O,a,h,v.state))),o&&p===null)throw Error(i(528,""));return v}if(o&&p!==null)throw Error(i(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ha(h),h=ga(O).hoistableScripts,p=h.get(o),p||(p={type:"script",instance:null,count:0,state:null},h.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Wa(a){return'href="'+mi(a)+'"'}function Gu(a){return'link[rel="stylesheet"]['+a+"]"}function L_(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function qz(a,o,h,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),on(o,"link",h),Gt(o),a.head.appendChild(o))}function Ha(a){return'[src="'+mi(a)+'"]'}function Fu(a){return"script[async]"+a}function N_(a,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+mi(h.href)+'"]');if(p)return o.instance=p,Gt(p),p;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Gt(p),on(p,"style",O),ud(p,h.precedence,a),o.instance=p;case"stylesheet":O=Wa(h.href);var b=a.querySelector(Gu(O));if(b)return o.state.loading|=4,o.instance=b,Gt(b),b;p=L_(h),(O=wi.get(O))&&py(p,O),b=(a.ownerDocument||a).createElement("link"),Gt(b);var v=b;return v._p=new Promise(function(_,M){v.onload=_,v.onerror=M}),on(b,"link",p),o.state.loading|=4,ud(b,h.precedence,a),o.instance=b;case"script":return b=Ha(h.src),(O=a.querySelector(Fu(b)))?(o.instance=O,Gt(O),O):(p=h,(O=wi.get(b))&&(p=m({},h),my(p,O)),a=a.ownerDocument||a,O=a.createElement("script"),Gt(O),on(O,"link",p),a.head.appendChild(O),o.instance=O);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,ud(p,h.precedence,a));return o.instance}function ud(a,o,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=p.length?p[p.length-1]:null,b=O,v=0;v<p.length;v++){var _=p[v];if(_.dataset.precedence===o)b=_;else if(b!==O)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(a,o.firstChild))}function py(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function my(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var cd=null;function z_(a,o,h){if(cd===null){var p=new Map,O=cd=new Map;O.set(h,p)}else O=cd,p=O.get(h),p||(p=new Map,O.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),O=0;O<h.length;O++){var b=h[O];if(!(b[du]||b[rn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var v=b.getAttribute(o)||"";v=a+v;var _=p.get(v);_?_.push(b):p.set(v,[b])}}return p}function B_(a,o,h){a=a.ownerDocument||a,a.head.insertBefore(h,o==="title"?a.querySelector("head > title"):null)}function Vz(a,o,h){if(h===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function X_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Yz(a,o,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=Wa(p.href),b=o.querySelector(Gu(O));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=hd.bind(a),o.then(a,a)),h.state.loading|=4,h.instance=b,Gt(b);return}b=o.ownerDocument||o,p=L_(p),(O=wi.get(O))&&py(p,O),b=b.createElement("link"),Gt(b);var v=b;v._p=new Promise(function(_,M){v.onload=_,v.onerror=M}),on(b,"link",p),h.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=hd.bind(a),o.addEventListener("load",h),o.addEventListener("error",h))}}var gy=0;function Wz(a,o){return a.stylesheets&&a.count===0&&dd(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var p=setTimeout(function(){if(a.stylesheets&&dd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&gy===0&&(gy=62500*Ez());var O=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&dd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>gy?50:800)+o);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(O)}}:null}function hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var fd=null;function dd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,fd=new Map,o.forEach(Hz,a),fd=null,hd.call(a))}function Hz(a,o){if(!(o.state.loading&4)){var h=fd.get(a);if(h)var p=h.get(null);else{h=new Map,fd.set(a,h);for(var O=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<O.length;b++){var v=O[b];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(h.set(v.dataset.precedence,v),p=v)}p&&h.set(null,p)}O=o.instance,v=O.getAttribute("data-precedence"),b=h.get(v)||p,b===p&&h.set(null,O),h.set(v,O),this.count++,p=hd.bind(this),O.addEventListener("load",p),O.addEventListener("error",p),b?b.parentNode.insertBefore(O,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(O,a.firstChild)),o.state.loading|=4}}var Ku={$$typeof:T,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Gz(a,o,h,p,O,b,v,_,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.hiddenUpdates=hg(null),this.identifierPrefix=p,this.onUncaughtError=O,this.onCaughtError=b,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Z_(a,o,h,p,O,b,v,_,M,q,H,ie){return a=new Gz(a,o,h,v,M,q,H,ie,_),o=1,b===!0&&(o|=24),b=Gn(3,null,null,o),a.current=b,b.stateNode=a,o=Hg(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:p,isDehydrated:h,cache:o},Jg(b),a}function U_(a){return a?(a=Ca,a):Ca}function j_(a,o,h,p,O,b){O=U_(O),p.context===null?p.context=O:p.pendingContext=O,p=vs(o),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),h=xs(a,p,o),h!==null&&(Dn(h,a,o),Au(h,a,o))}function q_(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function Oy(a,o){q_(a,o),(a=a.alternate)&&q_(a,o)}function V_(a){if(a.tag===13||a.tag===31){var o=bl(a,67108864);o!==null&&Dn(o,a,67108864),Oy(a,67108864)}}function Y_(a){if(a.tag===13||a.tag===31){var o=ti();o=fg(o);var h=bl(a,o);h!==null&&Dn(h,a,o),Oy(a,o)}}var pd=!0;function Fz(a,o,h,p){var O=N.T;N.T=null;var b=ne.p;try{ne.p=2,yy(a,o,h,p)}finally{ne.p=b,N.T=O}}function Kz(a,o,h,p){var O=N.T;N.T=null;var b=ne.p;try{ne.p=8,yy(a,o,h,p)}finally{ne.p=b,N.T=O}}function yy(a,o,h,p){if(pd){var O=by(p);if(O===null)ry(a,o,p,md,h),H_(a,p);else if(e5(O,a,o,h,p))p.stopPropagation();else if(H_(a,p),o&4&&-1<Jz.indexOf(a)){for(;O!==null;){var b=ma(O);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var v=pl(b.pendingLanes);if(v!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var M=1<<31-dt(v);_.entanglements[1]|=M,v&=~M}nr(b),(et&6)===0&&(Ff=vn()+500,Vu(0))}}break;case 31:case 13:_=bl(b,2),_!==null&&Dn(_,b,2),Jf(),Oy(b,2)}if(b=by(p),b===null&&ry(a,o,p,md,h),b===O)break;O=b}O!==null&&p.stopPropagation()}else ry(a,o,p,null,h)}}function by(a){return a=vg(a),Sy(a)}var md=null;function Sy(a){if(md=null,a=pa(a),a!==null){var o=s(a);if(o===null)a=null;else{var h=o.tag;if(h===13){if(a=l(o),a!==null)return a;a=null}else if(h===31){if(a=u(o),a!==null)return a;a=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return md=a,null}function W_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cg()){case K:return 2;case fe:return 8;case Te:case ze:return 32;case it:return 268435456;default:return 32}default:return 32}}var vy=!1,Ms=null,$s=null,Ds=null,Ju=new Map,ec=new Map,Is=[],Jz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(a,o){switch(a){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Ju.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(o.pointerId)}}function tc(a,o,h,p,O,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:h,eventSystemFlags:p,nativeEvent:b,targetContainers:[O]},o!==null&&(o=ma(o),o!==null&&V_(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,O!==null&&o.indexOf(O)===-1&&o.push(O),a)}function e5(a,o,h,p,O){switch(o){case"focusin":return Ms=tc(Ms,a,o,h,p,O),!0;case"dragenter":return $s=tc($s,a,o,h,p,O),!0;case"mouseover":return Ds=tc(Ds,a,o,h,p,O),!0;case"pointerover":var b=O.pointerId;return Ju.set(b,tc(Ju.get(b)||null,a,o,h,p,O)),!0;case"gotpointercapture":return b=O.pointerId,ec.set(b,tc(ec.get(b)||null,a,o,h,p,O)),!0}return!1}function G_(a){var o=pa(a.target);if(o!==null){var h=s(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){a.blockedOn=o,cx(a.priority,function(){Y_(h)});return}}else if(o===31){if(o=u(h),o!==null){a.blockedOn=o,cx(a.priority,function(){Y_(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function gd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var h=by(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);Sg=p,h.target.dispatchEvent(p),Sg=null}else return o=ma(h),o!==null&&V_(o),a.blockedOn=h,!1;o.shift()}return!0}function F_(a,o,h){gd(a)&&h.delete(o)}function t5(){vy=!1,Ms!==null&&gd(Ms)&&(Ms=null),$s!==null&&gd($s)&&($s=null),Ds!==null&&gd(Ds)&&(Ds=null),Ju.forEach(F_),ec.forEach(F_)}function Od(a,o){a.blockedOn===o&&(a.blockedOn=null,vy||(vy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,t5)))}var yd=null;function K_(a){yd!==a&&(yd=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){yd===a&&(yd=null);for(var o=0;o<a.length;o+=3){var h=a[o],p=a[o+1],O=a[o+2];if(typeof p!="function"){if(Sy(p||h)===null)continue;break}var b=ma(h);b!==null&&(a.splice(o,3),o-=3,bO(b,{pending:!0,data:O,method:h.method,action:p},p,O))}}))}function Ga(a){function o(M){return Od(M,a)}Ms!==null&&Od(Ms,a),$s!==null&&Od($s,a),Ds!==null&&Od(Ds,a),Ju.forEach(o),ec.forEach(o);for(var h=0;h<Is.length;h++){var p=Is[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Is.length&&(h=Is[0],h.blockedOn===null);)G_(h),h.blockedOn===null&&Is.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var O=h[p],b=h[p+1],v=O[Qn]||null;if(typeof b=="function")v||K_(h);else if(v){var _=null;if(b&&b.hasAttribute("formAction")){if(O=b,v=b[Qn]||null)_=v.formAction;else if(Sy(O)!==null)continue}else _=v.action;typeof _=="function"?h[p+1]=_:(h.splice(p,3),p-=3),K_(h)}}}function J_(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(v){return O=v})},focusReset:"manual",scroll:"manual"})}function o(){O!==null&&(O(),O=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,O=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),O!==null&&(O(),O=null)}}}function xy(a){this._internalRoot=a}bd.prototype.render=xy.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var h=o.current,p=ti();j_(h,p,a,o,null,null)},bd.prototype.unmount=xy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;j_(a.current,2,null,a,null,null),Jf(),o[da]=null}};function bd(a){this._internalRoot=a}bd.prototype.unstable_scheduleHydration=function(a){if(a){var o=ux();a={blockedOn:null,target:a,priority:o};for(var h=0;h<Is.length&&o!==0&&o<Is[h].priority;h++);Is.splice(h,0,a),h===0&&G_(a)}};var eC=e.version;if(eC!=="19.2.4")throw Error(i(527,eC,"19.2.4"));ne.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var n5={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{xn=Sd.inject(n5),jt=Sd}catch{}}return ic.createRoot=function(a,o){if(!r(a))throw Error(i(299));var h=!1,p="",O=ak,b=ok,v=uk;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(O=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Z_(a,1,!1,null,null,h,p,null,O,b,v,J_),a[da]=o.current,iy(a),new xy(o)},ic.hydrateRoot=function(a,o,h){if(!r(a))throw Error(i(299));var p=!1,O="",b=ak,v=ok,_=uk,M=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(v=h.onCaughtError),h.onRecoverableError!==void 0&&(_=h.onRecoverableError),h.formState!==void 0&&(M=h.formState)),o=Z_(a,1,!0,o,h??null,p,O,M,b,v,_,J_),o.context=U_(null),h=o.current,p=ti(),p=fg(p),O=vs(p),O.callback=null,xs(h,O,p),h=p,o.current.lanes=h,fu(o,h),nr(o),a[da]=o.current,iy(a),new bd(o)},ic.version="19.2.4",ic}var cC;function f5(){if(cC)return _y.exports;cC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_y.exports=h5(),_y.exports}var d5=f5();const p5=N1(d5);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hC="popstate";function m5(n={}){function e(i,r){let{pathname:s,search:l,hash:u}=i.location;return eb("",{pathname:s,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Vc(r)}return O5(e,t,null,n)}function Qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g5(){return Math.random().toString(36).substring(2,10)}function fC(n,e){return{usr:n.state,key:n.key,idx:e}}function eb(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||i||g5()}}function Vc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function O5(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,u="POP",c=null,f=d();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function d(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=d(),k=w==null?null:w-f;f=w,c&&c({action:u,location:x.location,delta:k})}function g(w,k){u="PUSH";let A=eb(x.location,w,k);f=d()+1;let T=fC(A,f),Z=x.createHref(A);try{l.pushState(T,"",Z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(Z)}s&&c&&c({action:u,location:x.location,delta:1})}function y(w,k){u="REPLACE";let A=eb(x.location,w,k);f=d();let T=fC(A,f),Z=x.createHref(A);l.replaceState(T,"",Z),s&&c&&c({action:u,location:x.location,delta:0})}function S(w){return y5(w)}let x={get action(){return u},get location(){return n(r,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(hC,m),c=w,()=>{r.removeEventListener(hC,m),c=null}},createHref(w){return e(r,w)},createURL:S,encodeLocation(w){let k=S(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(w){return l.go(w)}};return x}function y5(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Vc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function eP(n,e,t="/"){return b5(n,e,t,!1)}function b5(n,e,t,i){let r=typeof e=="string"?jo(e):e,s=ns(r.pathname||"/",t);if(s==null)return null;let l=tP(n);S5(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=P5(s);u=Q5(l[c],f,i)}return u}function tP(n,e=[],t=[],i="",r=!1){let s=(l,u,c=r,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&c)return;Qt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let m=Jr([i,d.relativePath]),g=t.concat(d);l.children&&l.children.length>0&&(Qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),tP(l.children,e,g,m,c)),!(l.path==null&&!l.index)&&e.push({path:m,score:T5(m,l.index),routesMeta:g})};return n.forEach((l,u)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,u);else for(let f of nP(l.path))s(l,u,!0,f)}),e}function nP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=nP(i.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...l),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function S5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:E5(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var v5=/^:[\w-]+$/,x5=3,w5=2,k5=1,_5=10,C5=-2,dC=n=>n==="*";function T5(n,e){let t=n.split("/"),i=t.length;return t.some(dC)&&(i+=C5),e&&(i+=w5),t.filter(r=>!dC(r)).reduce((r,s)=>r+(v5.test(s)?x5:s===""?k5:_5),i)}function E5(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Q5(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",l=[];for(let u=0;u<i.length;++u){let c=i[u],f=u===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=Sp({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),g=c.route;if(!m&&f&&t&&!i[i.length-1].route.index&&(m=Sp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Jr([s,m.pathname]),pathnameBase:D5(Jr([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Jr([s,m.pathnameBase]))}return l}function Sp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=A5(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let S=u[g]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=u[g];return m&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function A5(n,e=!1,t=!0){yr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function P5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ns(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var R5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function M5(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?jo(n):n,s;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?s=pC(t.substring(1),"/"):s=pC(t,e)):s=e,{pathname:s,search:I5(i),hash:L5(r)}}function pC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Qy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iP(n){let e=$5(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rP(n,e,t,i=!1){let r;typeof n=="string"?r=jo(n):(r={...n},Qt(!r.pathname||!r.pathname.includes("?"),Qy("?","pathname","search",r)),Qt(!r.pathname||!r.pathname.includes("#"),Qy("#","pathname","hash",r)),Qt(!r.search||!r.search.includes("#"),Qy("#","search","hash",r)));let s=n===""||r.pathname==="",l=s?"/":r.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=M5(r,u),f=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),D5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),I5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,L5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,N5=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function z5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function B5(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lP(n,e){let t=n;if(typeof t!="string"||!R5.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(sP)try{let s=new URL(window.location.href),l=t.startsWith("//")?new URL(s.protocol+t):new URL(t),u=ns(l.pathname,e);l.origin===s.origin&&u!=null?t=u+l.search+l.hash:r=!0}catch{yr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aP=["POST","PUT","PATCH","DELETE"];new Set(aP);var X5=["GET",...aP];new Set(X5);var qo=X.createContext(null);qo.displayName="DataRouter";var Tm=X.createContext(null);Tm.displayName="DataRouterState";var Z5=X.createContext(!1),oP=X.createContext({isTransitioning:!1});oP.displayName="ViewTransition";var U5=X.createContext(new Map);U5.displayName="Fetchers";var j5=X.createContext(null);j5.displayName="Await";var Pi=X.createContext(null);Pi.displayName="Navigation";var Eh=X.createContext(null);Eh.displayName="Location";var Sr=X.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var B1=X.createContext(null);B1.displayName="RouteError";var uP="REACT_ROUTER_ERROR",q5="REDIRECT",V5="ROUTE_ERROR_RESPONSE";function Y5(n){if(n.startsWith(`${uP}:${q5}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function W5(n){if(n.startsWith(`${uP}:${V5}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new N5(e.status,e.statusText,e.data)}catch{}}function H5(n,{relative:e}={}){Qt(Qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=X.useContext(Pi),{hash:r,pathname:s,search:l}=Ph(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Jr([t,s])),i.createHref({pathname:u,search:l,hash:r})}function Qh(){return X.useContext(Eh)!=null}function ul(){return Qt(Qh(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Eh).location}var cP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hP(n){X.useContext(Pi).static||X.useLayoutEffect(n)}function Ah(){let{isDataRoute:n}=X.useContext(Sr);return n?u3():G5()}function G5(){Qt(Qh(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(qo),{basename:e,navigator:t}=X.useContext(Pi),{matches:i}=X.useContext(Sr),{pathname:r}=ul(),s=JSON.stringify(iP(i)),l=X.useRef(!1);return hP(()=>{l.current=!0}),X.useCallback((c,f={})=>{if(yr(l.current,cP),!l.current)return;if(typeof c=="number"){t.go(c);return}let d=rP(c,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Jr([e,d.pathname])),(f.replace?t.replace:t.push)(d,f.state,f)},[e,t,s,r,n])}X.createContext(null);function F5(){let{matches:n}=X.useContext(Sr),e=n[n.length-1];return e?e.params:{}}function Ph(n,{relative:e}={}){let{matches:t}=X.useContext(Sr),{pathname:i}=ul(),r=JSON.stringify(iP(t));return X.useMemo(()=>rP(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function K5(n,e){return fP(n,e)}function fP(n,e,t,i,r){var A;Qt(Qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=X.useContext(Pi),{matches:l}=X.useContext(Sr),u=l[l.length-1],c=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",m=u&&u.route;{let T=m&&m.path||"";pP(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=ul(),y;if(e){let T=typeof e=="string"?jo(e):e;Qt(d==="/"||((A=T.pathname)==null?void 0:A.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let S=y.pathname||"/",x=S;if(d!=="/"){let T=d.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=eP(n,{pathname:x});yr(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),yr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=i3(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Jr([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Jr([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,t,i,r);return e&&k?X.createElement(Eh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function J5(){let n=o3(),e=z5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:s},"ErrorBoundary")," or"," ",X.createElement("code",{style:s},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:r},t):null,l)}var e3=X.createElement(J5,null),dP=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=W5(n.digest);t&&(n=t)}let e=n!==void 0?X.createElement(Sr.Provider,{value:this.props.routeContext},X.createElement(B1.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?X.createElement(t3,{error:n},e):e}};dP.contextType=Z5;var Ay=new WeakMap;function t3({children:n,error:e}){let{basename:t}=X.useContext(Pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Y5(e.digest);if(i){let r=Ay.get(e);if(r)throw r;let s=lP(i.location,t);if(sP&&!Ay.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Ay.set(e,l),l}return X.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function n3({routeContext:n,match:e,children:t}){let i=X.useContext(qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Sr.Provider,{value:n},t)}function i3(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:y}=t,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let f=t&&i?(d,m)=>{var g,y;i(d,{location:t.location,params:((y=(g=t.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:B5(t.matches),errorInfo:m})}:void 0;return s.reduceRight((d,m,g)=>{let y,S=!1,x=null,w=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||e3,u&&(c<0&&g===0?(pP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):c===g&&(S=!0,w=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,g+1)),A=()=>{let T;return y?T=x:S?T=w:m.route.Component?T=X.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=d,X.createElement(n3,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:T})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?X.createElement(dP,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):A()},null)}function X1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r3(n){let e=X.useContext(qo);return Qt(e,X1(n)),e}function s3(n){let e=X.useContext(Tm);return Qt(e,X1(n)),e}function l3(n){let e=X.useContext(Sr);return Qt(e,X1(n)),e}function Z1(n){let e=l3(n),t=e.matches[e.matches.length-1];return Qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function a3(){return Z1("useRouteId")}function o3(){var i;let n=X.useContext(B1),e=s3("useRouteError"),t=Z1("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function u3(){let{router:n}=r3("useNavigate"),e=Z1("useNavigate"),t=X.useRef(!1);return hP(()=>{t.current=!0}),X.useCallback(async(r,s={})=>{yr(t.current,cP),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var mC={};function pP(n,e,t){!e&&!mC[n]&&(mC[n]=!0,yr(!1,t))}X.memo(c3);function c3({routes:n,future:e,state:t,onError:i}){return fP(n,void 0,t,i,e)}function vc(n){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:l}){Qt(!Qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:u,navigator:r,static:s,unstable_useTransitions:l,future:{}}),[u,r,s,l]);typeof t=="string"&&(t=jo(t));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,S=X.useMemo(()=>{let x=ns(f,u);return x==null?null:{location:{pathname:x,search:d,hash:m,state:g,key:y},navigationType:i}},[u,f,d,m,g,y,i]);return yr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:X.createElement(Pi.Provider,{value:c},X.createElement(Eh.Provider,{children:e,value:S}))}function f3({children:n,location:e}){return K5(tb(n),e)}function tb(n,e=[]){let t=[];return X.Children.forEach(n,(i,r)=>{if(!X.isValidElement(i))return;let s=[...e,r];if(i.type===X.Fragment){t.push.apply(t,tb(i.props.children,s));return}Qt(i.type===vc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=tb(i.props.children,s)),t.push(l)}),t}var ep="get",tp="application/x-www-form-urlencoded";function Em(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function d3(n){return Em(n)&&n.tagName.toLowerCase()==="button"}function p3(n){return Em(n)&&n.tagName.toLowerCase()==="form"}function m3(n){return Em(n)&&n.tagName.toLowerCase()==="input"}function g3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function O3(n,e){return n.button===0&&(!e||e==="_self")&&!g3(n)}var vd=null;function y3(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var b3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Py(n){return n!=null&&!b3.has(n)?(yr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tp}"`),null):n}function S3(n,e){let t,i,r,s,l;if(p3(n)){let u=n.getAttribute("action");i=u?ns(u,e):null,t=n.getAttribute("method")||ep,r=Py(n.getAttribute("enctype"))||tp,s=new FormData(n)}else if(d3(n)||m3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?ns(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||ep,r=Py(n.getAttribute("formenctype"))||Py(u.getAttribute("enctype"))||tp,s=new FormData(u,n),!y3()){let{name:f,type:d,value:m}=n;if(d==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(Em(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ep,i=null,r=tp,l=n}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function v3(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&ns(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function x3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function k3(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await x3(s,t);return l.links?l.links():[]}return[]}));return E3(i.flat(1).filter(w3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function gC(n,e,t,i,r,s){let l=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var d;return t[f].pathname!==c.pathname||((d=t[f].route.path)==null?void 0:d.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>l(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var m;let d=i.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _3(n,e,{includeHydrateFallback:t}={}){return C3(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function C3(n){return[...new Set(n)]}function T3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function E3(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(T3(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function mP(){let n=X.useContext(qo);return U1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Q3(){let n=X.useContext(Tm);return U1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var j1=X.createContext(void 0);j1.displayName="FrameworkContext";function gP(){let n=X.useContext(j1);return U1(n,"You must render this element inside a <HydratedRouter> element"),n}function A3(n,e){let t=X.useContext(j1),[i,r]=X.useState(!1),[s,l]=X.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,g=X.useRef(null);X.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=k=>{k.forEach(A=>{l(A.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[n]),X.useEffect(()=>{if(i){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[i]);let y=()=>{r(!0)},S=()=>{r(!1),l(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:rc(u,y),onBlur:rc(c,S),onMouseEnter:rc(f,y),onMouseLeave:rc(d,S),onTouchStart:rc(m,y)}]:[!1,g,{}]}function rc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function P3({page:n,...e}){let{router:t}=mP(),i=X.useMemo(()=>eP(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?X.createElement(M3,{page:n,matches:i,...e}):null}function R3(n){let{manifest:e,routeModules:t}=gP(),[i,r]=X.useState([]);return X.useEffect(()=>{let s=!1;return k3(n,e,t).then(l=>{s||r(l)}),()=>{s=!0}},[n,e,t]),i}function M3({page:n,matches:e,...t}){let i=ul(),{future:r,manifest:s,routeModules:l}=gP(),{basename:u}=mP(),{loaderData:c,matches:f}=Q3(),d=X.useMemo(()=>gC(n,e,f,s,i,"data"),[n,e,f,s,i]),m=X.useMemo(()=>gC(n,e,f,s,i,"assets"),[n,e,f,s,i]),g=X.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,w=!1;if(e.forEach(A=>{var Z;let T=s.routes[A.route.id];!T||!T.hasLoader||(!d.some(D=>D.route.id===A.route.id)&&A.route.id in c&&((Z=l[A.route.id])!=null&&Z.shouldRevalidate)||T.hasClientLoader?w=!0:x.add(A.route.id))}),x.size===0)return[];let k=v3(n,u,r.unstable_trailingSlashAwareDataRequests,"data");return w&&x.size>0&&k.searchParams.set("_routes",e.filter(A=>x.has(A.route.id)).map(A=>A.route.id).join(",")),[k.pathname+k.search]},[u,r.unstable_trailingSlashAwareDataRequests,c,i,s,d,e,n,l]),y=X.useMemo(()=>_3(m,s),[m,s]),S=R3(m);return X.createElement(X.Fragment,null,g.map(x=>X.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),y.map(x=>X.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),S.map(({key:x,link:w})=>X.createElement("link",{key:x,nonce:t.nonce,...w,crossOrigin:w.crossOrigin??t.crossOrigin})))}function $3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D3&&(window.__reactRouterVersion="7.13.0")}catch{}function I3({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=X.useRef();r.current==null&&(r.current=m5({window:i,v5Compat:!0}));let s=r.current,[l,u]=X.useState({action:s.action,location:s.location}),c=X.useCallback(f=>{t===!1?u(f):X.startTransition(()=>u(f))},[t]);return X.useLayoutEffect(()=>s.listen(c),[s,c]),X.createElement(h3,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:t})}var OP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yP=X.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:u,target:c,to:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S){let{basename:x,unstable_useTransitions:w}=X.useContext(Pi),k=typeof f=="string"&&OP.test(f),A=lP(f,x);f=A.to;let T=H5(f,{relative:r}),[Z,D,R]=A3(i,y),B=B3(f,{replace:l,state:u,target:c,preventScrollReset:d,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:w});function le(I){e&&e(I),I.defaultPrevented||B(I)}let re=X.createElement("a",{...y,...R,href:A.absoluteURL||T,onClick:A.isExternal||s?e:le,ref:$3(S,D),target:c,"data-discover":!k&&t==="render"?"true":void 0});return Z&&!k?X.createElement(X.Fragment,null,re,X.createElement(P3,{page:T})):re});yP.displayName="Link";var L3=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:u,children:c,...f},d){let m=Ph(l,{relative:f.relative}),g=ul(),y=X.useContext(Tm),{navigator:S,basename:x}=X.useContext(Pi),w=y!=null&&q3(m)&&u===!0,k=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,A=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(A=A.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&x&&(T=ns(T,x)||T);const Z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=A===k||!r&&A.startsWith(k)&&A.charAt(Z)==="/",R=T!=null&&(T===k||!r&&T.startsWith(k)&&T.charAt(k.length)==="/"),B={isActive:D,isPending:R,isTransitioning:w},le=D?e:void 0,re;typeof i=="function"?re=i(B):re=[i,D?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(B):s;return X.createElement(yP,{...f,"aria-current":le,className:re,ref:d,style:I,to:l,viewTransition:u},typeof c=="function"?c(B):c)});L3.displayName="NavLink";var N3=X.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:l=ep,action:u,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S)=>{let{unstable_useTransitions:x}=X.useContext(Pi),w=U3(),k=j3(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&OP.test(u),Z=D=>{if(c&&c(D),D.defaultPrevented)return;D.preventDefault();let R=D.nativeEvent.submitter,B=(R==null?void 0:R.getAttribute("formmethod"))||l,le=()=>w(R||D.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:r,state:s,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});x&&t!==!1?X.startTransition(()=>le()):le()};return X.createElement("form",{ref:S,method:A,action:k,onSubmit:i?c:Z,...y,"data-discover":!T&&n==="render"?"true":void 0})});N3.displayName="Form";function z3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bP(n){let e=X.useContext(qo);return Qt(e,z3(n)),e}function B3(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:c}={}){let f=Ah(),d=ul(),m=Ph(n,{relative:s});return X.useCallback(g=>{if(O3(g,e)){g.preventDefault();let y=t!==void 0?t:Vc(d)===Vc(m),S=()=>f(n,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});c?X.startTransition(()=>S()):S()}},[d,f,m,t,i,e,n,r,s,l,u,c])}var X3=0,Z3=()=>`__${String(++X3)}__`;function U3(){let{router:n}=bP("useSubmit"),{basename:e}=X.useContext(Pi),t=a3(),i=n.fetch,r=n.navigate;return X.useCallback(async(s,l={})=>{let{action:u,method:c,encType:f,formData:d,body:m}=S3(s,e);if(l.navigate===!1){let g=l.fetcherKey||Z3();await i(g,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,e,t])}function j3(n,{relative:e}={}){let{basename:t}=X.useContext(Pi),i=X.useContext(Sr);Qt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Ph(n||".",{relative:e})},l=ul();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Jr([t,s.pathname])),Vc(s)}function q3(n,{relative:e}={}){let t=X.useContext(oP);Qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bP("useViewTransitionState"),r=Ph(n,{relative:e});if(!t.isTransitioning)return!1;let s=ns(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ns(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sp(r.pathname,l)!=null||Sp(r.pathname,s)!=null}const V3=()=>{};var OC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw Vo(e)},Vo=function(n){return new Error("Firebase Database ("+SP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Y3=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],l=n[t++],u=n[t++],c=((r&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],l=r+1<n.length,u=l?n[r+1]:0,c=r+2<n.length,f=c?n[r+2]:0,d=s>>2,m=(s&3)<<4|u>>4;let g=(u&15)<<2|f>>6,y=f&63;c||(y=64,l||(g=64)),i.push(t[d],t[m],t[g],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Y3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||u==null||f==null||m==null)throw new W3;const g=s<<2|u>>4;if(i.push(g),f!==64){const y=u<<4&240|f>>2;if(i.push(y),m!==64){const S=f<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xP=function(n){const e=vP(n);return q1.encodeByteArray(e,!0)},vp=function(n){return xP(n).replace(/\./g,"")},xp=function(n){try{return q1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(n){return wP(void 0,n)}function wP(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!G3(t)||(n[t]=wP(n[t],e[t]));return n}function G3(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=()=>F3().__FIREBASE_DEFAULTS__,J3=()=>{if(typeof process>"u"||typeof OC>"u")return;const n=OC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xp(n[1]);return e&&JSON.parse(e)},V1=()=>{try{return V3()||K3()||J3()||e4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kP=n=>{var e,t;return(t=(e=V1())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},t4=n=>{const e=kP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_P=()=>{var n;return(n=V1())==null?void 0:n.config},CP=n=>{var e;return(e=V1())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TP(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vp(JSON.stringify(t)),vp(JSON.stringify(l)),""].join(".")}const Tc={};function i4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?n.emulator.push(e):n.prod.push(e);return n}function r4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yC=!1;function EP(n,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||Tc[n]===e||Tc[n]||yC)return;Tc[n]=e;function t(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=i4().prod.length>0;function l(){const g=document.getElementById(i);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{yC=!0,l()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=r4(i),y=t("text"),S=document.getElementById(y)||document.createElement("span"),x=t("learnmore"),w=document.getElementById(x)||document.createElement("a"),k=t("preprendIcon"),A=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;u(T),d(w,x);const Z=f();c(A,k),T.append(A,S,w,Z),document.body.appendChild(T)}s?(S.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function s4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a4(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o4(){return SP.NODE_ADMIN===!0}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function c4(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="FirebaseError";class cl extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=h4,Object.setPrototypeOf(this,cl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rh.prototype.create)}}class Rh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?f4(s,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new cl(r,u,i)}}function f4(n,e){return n.replace(d4,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const d4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){return JSON.parse(n)}function en(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=Yc(xp(s[0])||""),t=Yc(xp(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},p4=function(n){const e=AP(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},m4=function(n){const e=AP(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ko(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function nb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wp(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Hl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],l=e[r];if(bC(s)&&bC(l)){if(!Hl(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function bC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let m=0;m<16;m++)i[m]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let m=16;m<80;m++){const g=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(g<<1|g>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4],f,d;for(let m=0;m<80;m++){m<40?m<20?(f=u^s&(l^u),d=1518500249):(f=s^l^u,d=1859775393):m<60?(f=s&l|u&(s|l),d=2400959708):(f=s^l^u,d=3395469782);const g=(r<<5|r>>>27)+f+c+d+i[m]&4294967295;c=u,u=l,l=(s<<30|s>>>2)&4294967295,s=r,r=g}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let l=this.inbuf_;for(;r<t;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(s),l=0;break}}else for(;r<t;)if(s[l]=e[r],++l,++r,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function O4(n,e){const t=new y4(n,e);return t.subscribe.bind(t)}class y4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");b4(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ry),r.error===void 0&&(r.error=Ry),r.complete===void 0&&(r.complete=Ry);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ry(){}function W1(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,ce(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;r=65536+(s<<10)+l}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Am=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n){return n&&n._delegate?n._delegate:n}class Gl{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Qm;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w4(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&l.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:x4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x4(n){return n===$l?void 0:n}function w4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new v4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const _4={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},C4=ft.INFO,T4={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},E4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=T4[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H1{constructor(e){this.name=e,this._logLevel=C4,this._logHandler=E4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const Q4=(n,e)=>e.some(t=>n instanceof t);let SC,vC;function A4(){return SC||(SC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P4(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PP=new WeakMap,ib=new WeakMap,RP=new WeakMap,My=new WeakMap,G1=new WeakMap;function R4(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Hs(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&PP.set(t,n)}).catch(()=>{}),G1.set(e,n),e}function M4(n){if(ib.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});ib.set(n,e)}let rb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ib.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $4(n){rb=n(rb)}function D4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($y(this),e,...t);return RP.set(i,e.sort?e.sort():[e]),Hs(i)}:P4().includes(n)?function(...e){return n.apply($y(this),e),Hs(PP.get(this))}:function(...e){return Hs(n.apply($y(this),e))}}function I4(n){return typeof n=="function"?D4(n):(n instanceof IDBTransaction&&M4(n),Q4(n,A4())?new Proxy(n,rb):n)}function Hs(n){if(n instanceof IDBRequest)return R4(n);if(My.has(n))return My.get(n);const e=I4(n);return e!==n&&(My.set(n,e),G1.set(e,n)),e}const $y=n=>G1.get(n);function L4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(n,e),u=Hs(l);return i&&l.addEventListener("upgradeneeded",c=>{i(Hs(l.result),c.oldVersion,c.newVersion,Hs(l.transaction),c)}),t&&l.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const N4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],Dy=new Map;function xC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=z4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||N4.includes(t)))return;const s=async function(l,...u){const c=this.transaction(l,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&c.done]))[0]};return Dy.set(e,s),s}$4(n=>({...n,get:(e,t,i)=>xC(e,t)||n.get(e,t,i),has:(e,t)=>!!xC(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function X4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sb="@firebase/app",wC="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new H1("@firebase/app"),Z4="@firebase/app-compat",U4="@firebase/analytics-compat",j4="@firebase/analytics",q4="@firebase/app-check-compat",V4="@firebase/app-check",Y4="@firebase/auth",W4="@firebase/auth-compat",H4="@firebase/database",G4="@firebase/data-connect",F4="@firebase/database-compat",K4="@firebase/functions",J4="@firebase/functions-compat",eB="@firebase/installations",tB="@firebase/installations-compat",nB="@firebase/messaging",iB="@firebase/messaging-compat",rB="@firebase/performance",sB="@firebase/performance-compat",lB="@firebase/remote-config",aB="@firebase/remote-config-compat",oB="@firebase/storage",uB="@firebase/storage-compat",cB="@firebase/firestore",hB="@firebase/ai",fB="@firebase/firestore-compat",dB="firebase",pB="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="[DEFAULT]",mB={[sb]:"fire-core",[Z4]:"fire-core-compat",[j4]:"fire-analytics",[U4]:"fire-analytics-compat",[V4]:"fire-app-check",[q4]:"fire-app-check-compat",[Y4]:"fire-auth",[W4]:"fire-auth-compat",[H4]:"fire-rtdb",[G4]:"fire-data-connect",[F4]:"fire-rtdb-compat",[K4]:"fire-fn",[J4]:"fire-fn-compat",[eB]:"fire-iid",[tB]:"fire-iid-compat",[nB]:"fire-fcm",[iB]:"fire-fcm-compat",[rB]:"fire-perf",[sB]:"fire-perf-compat",[lB]:"fire-rc",[aB]:"fire-rc-compat",[oB]:"fire-gcs",[uB]:"fire-gcs-compat",[cB]:"fire-fst",[fB]:"fire-fst-compat",[hB]:"fire-vertex","fire-js":"fire-js",[dB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map,gB=new Map,ab=new Map;function kC(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _o(n){const e=n.name;if(ab.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;ab.set(e,n);for(const t of kp.values())kC(t,n);for(const t of gB.values())kC(t,n);return!0}function F1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Rh("app","Firebase",OB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=pB;function MP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:lb,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Gs.create("bad-app-name",{appName:String(r)});if(t||(t=_P()),!t)throw Gs.create("no-options");const s=kp.get(r);if(s){if(Hl(t,s.options)&&Hl(i,s.config))return s;throw Gs.create("duplicate-app",{appName:r})}const l=new k4(r);for(const c of ab.values())l.addComponent(c);const u=new yB(t,i,l);return kp.set(r,u),u}function $P(n=lb){const e=kp.get(n);if(!e&&n===lb&&_P())return MP();if(!e)throw Gs.create("no-app",{appName:n});return e}function Fs(n,e,t){let i=mB[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(l.join(" "));return}_o(new Gl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="firebase-heartbeat-database",SB=1,Wc="firebase-heartbeat-store";let Iy=null;function DP(){return Iy||(Iy=L4(bB,SB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gs.create("idb-open",{originalErrorMessage:n.message})})),Iy}async function vB(n){try{const t=(await DP()).transaction(Wc),i=await t.objectStore(Wc).get(IP(n));return await t.done,i}catch(e){if(e instanceof cl)is.warn(e.message);else{const t=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(t.message)}}}async function _C(n,e){try{const i=(await DP()).transaction(Wc,"readwrite");await i.objectStore(Wc).put(e,IP(n)),await i.done}catch(t){if(t instanceof cl)is.warn(t.message);else{const i=Gs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});is.warn(i.message)}}}function IP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=1024,wB=30;class kB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CB(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>wB){const l=TB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){is.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CC(),{heartbeatsToSend:i,unsentEntries:r}=_B(this._heartbeatsCache.heartbeats),s=vp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return is.warn(t),""}}}function CC(){return new Date().toISOString().substring(0,10)}function _B(n,e=xB){const t=[];let i=n.slice();for(const r of n){const s=t.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),TC(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),TC(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?c4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _C(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _C(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TC(n){return vp(JSON.stringify({version:2,heartbeats:n})).length}function TB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(n){_o(new Gl("platform-logger",e=>new B4(e),"PRIVATE")),_o(new Gl("heartbeat",e=>new kB(e),"PRIVATE")),Fs(sb,wC,n),Fs(sb,wC,"esm2020"),Fs("fire-js","")}EB("");var QB="firebase",AB="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(QB,AB,"app");var EC={};const QC="@firebase/database",AC="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LP="";function PB(n){LP=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),en(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Yc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RB(e)}}catch{}return new MB},Bl=NP("localStorage"),$B=NP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new H1("@firebase/database"),DB=(function(){let n=1;return function(){return n++}})(),zP=function(n){const e=S4(n),t=new g4;t.update(e);const i=t.digest();return q1.encodeByteArray(i)},Mh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Mh.apply(null,i):typeof i=="object"?e+=en(i):e+=i,e+=" "}return e};let Ec=null,PC=!0;const IB=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),oo.logLevel=ft.VERBOSE,Ec=oo.log.bind(oo)},gn=function(...n){if(PC===!0&&(PC=!1,Ec===null&&$B.get("logging_enabled")===!0&&IB()),Ec){const e=Mh.apply(null,n);Ec(e)}},$h=function(n){return function(...e){gn(n,...e)}},ob=function(...n){const e="FIREBASE INTERNAL ERROR: "+Mh(...n);oo.error(e)},rs=function(...n){const e=`FIREBASE FATAL ERROR: ${Mh(...n)}`;throw oo.error(e),new Error(e)},qn=function(...n){const e="FIREBASE WARNING: "+Mh(...n);oo.warn(e)},LB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},BP=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},NB=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Co="[MIN_NAME]",Fl="[MAX_NAME]",Go=function(n,e){if(n===e)return 0;if(n===Co||e===Fl)return-1;if(e===Co||n===Fl)return 1;{const t=RC(n),i=RC(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},zB=function(n,e){return n===e?0:n<e?-1:1},sc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+en(e))},K1=function(n){if(typeof n!="object"||n===null)return en(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=en(e[i]),t+=":",t+=K1(n[e[i]]);return t+="}",t},XP=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function Vn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const ZP=function(n){ce(!BP(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,s,l,u,c;n===0?(s=0,l=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=u+i,l=Math.round(n*Math.pow(2,t-u)-Math.pow(2,t))):(s=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(c=t;c;c-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const d=f.join("");let m="";for(c=0;c<64;c+=8){let g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},BB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZB(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const UB=new RegExp("^-?(0*)\\d{1,10}$"),jB=-2147483648,qB=2147483647,RC=function(n){if(UB.test(n)){const e=Number(n);if(e>=jB&&e<=qB)return e}return null},Fo=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw qn("Exception was thrown by user callback.",t),e},Math.floor(0))}},VB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Ni(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)==null||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){qn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qn(e)}}class np{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}np.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="5",UP="v",jP="s",qP="r",VP="f",YP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WP="ls",HP="p",ub="ac",GP="websocket",FP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t,i,r,s=!1,l="",u=!1,c=!1,f=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function HB(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function JP(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let i;if(e===GP)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===FP)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HB(n)&&(t.ns=n.namespace);const r=[];return Vn(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.counters_={}}incrementCounter(e,t=1){cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return H3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={},Ny={};function eS(n){const e=n.toString();return Ly[e]||(Ly[e]=new GB),Ly[e]}function FB(n,e){const t=n.toString();return Ny[t]||(Ny[t]=e()),Ny[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Fo(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="start",JB="close",eX="pLPCommand",tX="pRTLPCB",eR="id",tR="pw",nR="ser",nX="cb",iX="seg",rX="ts",sX="d",lX="dframe",iR=1870,rR=30,aX=iR-rR,oX=25e3,uX=3e4;class ro{constructor(e,t,i,r,s,l,u){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$h(e),this.stats_=eS(t),this.urlFn=c=>(this.appCheckToken&&(c[ub]=this.appCheckToken),JP(t,FP,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new KB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uX)),NB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tS((...s)=>{const[l,u,c,f,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===MC)this.id=u,this.password=c;else if(l===JB)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[MC]="t",i[nR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[nX]=this.scriptTagHolder.uniqueCallbackIdentifier),i[UP]=J1,this.transportSessionId&&(i[jP]=this.transportSessionId),this.lastSessionId&&(i[WP]=this.lastSessionId),this.applicationId&&(i[HP]=this.applicationId),this.appCheckToken&&(i[ub]=this.appCheckToken),typeof location<"u"&&location.hostname&&YP.test(location.hostname)&&(i[qP]=VP);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ro.forceAllow_=!0}static forceDisallow(){ro.forceDisallow_=!0}static isAvailable(){return ro.forceAllow_?!0:!ro.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BB()&&!XB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=en(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=xP(t),r=XP(i,aX);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[lX]="t",i[eR]=e,i[tR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=en(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class tS{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DB(),window[eX+this.uniqueCallbackIdentifier]=e,window[tX+this.uniqueCallbackIdentifier]=t,this.myIFrame=tS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){gn("frame writing exception"),u.stack&&gn(u.stack),gn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[eR]=this.myID,e[tR]=this.myPW,e[nR]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rR+i.length<=iR;){const l=this.pendingSegs.shift();i=i+"&"+iX+r+"="+l.seg+"&"+rX+r+"="+l.ts+"&"+sX+r+"="+l.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(oX)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{gn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=16384,hX=45e3;let _p=null;typeof MozWebSocket<"u"?_p=MozWebSocket:typeof WebSocket<"u"&&(_p=WebSocket);class zi{constructor(e,t,i,r,s,l,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$h(this.connId),this.stats_=eS(t),this.connURL=zi.connectionURL_(t,l,u,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,s){const l={};return l[UP]=J1,typeof location<"u"&&location.hostname&&YP.test(location.hostname)&&(l[qP]=VP),t&&(l[jP]=t),i&&(l[WP]=i),r&&(l[ub]=r),s&&(l[HP]=s),JP(e,GP,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bl.set("previous_websocket_failure",!0);try{let i;o4(),this.mySock=new _p(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){zi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&_p!==null&&!zi.forceDisallow_}static previouslyFailed(){return Bl.isInMemoryStorage||Bl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Yc(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=en(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=XP(t,cX);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hX))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zi.responsesRequiredToBeHealthy=2;zi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{static get ALL_TRANSPORTS(){return[ro,zi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=zi&&zi.isAvailable();let i=t&&!zi.previouslyFailed();if(e.webSocketOnly&&(t||qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zi];else{const r=this.transports_=[];for(const s of Hc.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Hc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX=6e4,dX=5e3,pX=10*1024,mX=100*1024,zy="t",$C="d",gX="s",DC="r",OX="e",IC="o",LC="a",NC="n",zC="p",yX="h";class bX{constructor(e,t,i,r,s,l,u,c,f,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$h("c:"+this.id+":"),this.transportManager_=new Hc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Qc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zy in e){const t=e[zy];t===LC?this.upgradeIfSecondaryHealthy_():t===DC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===IC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=sc("t",e),i=sc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:LC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:NC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=sc("t",e),i=sc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=sc(zy,e);if($C in e){const i=e[$C];if(t===yX){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===NC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===gX?this.onConnectionShutdown_(i):t===DC?this.onReset_(i):t===OX?ob("Server Error: "+i):t===IC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ob("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),J1!==i&&qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Qc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends lR{static getInstance(){return new Cp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Y1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=32,XC=768;class yt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function tt(){return new yt("")}function Le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function tl(n){return n.pieces_.length-n.pieceNum_}function xt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new yt(n.pieces_,e)}function aR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function SX(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function oR(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function uR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new yt(e,0)}function Yt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof yt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new yt(t,0)}function Ze(n){return n.pieceNum_>=n.pieces_.length}function Xn(n,e){const t=Le(n),i=Le(e);if(t===null)return e;if(t===i)return Xn(xt(n),xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function nS(n,e){if(tl(n)!==tl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Xi(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(tl(n)>tl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class vX{constructor(e,t){this.errorPrefix_=t,this.parts_=oR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Am(this.parts_[i]);cR(this)}}function xX(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Am(e),cR(n)}function wX(n){const e=n.parts_.pop();n.byteLength_-=Am(e),n.parts_.length>0&&(n.byteLength_-=1)}function cR(n){if(n.byteLength_>XC)throw new Error(n.errorPrefix_+"has a key path longer than "+XC+" bytes ("+n.byteLength_+").");if(n.parts_.length>BC)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BC+") or object contains a cycle "+Dl(n))}function Dl(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends lR{static getInstance(){return new iS}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=1e3,kX=300*1e3,ZC=30*1e3,_X=1.3,CX=3e4,TX="server_kill",UC=3;class es extends sR{constructor(e,t,i,r,s,l,u,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=es.nextPersistentConnectionId_++,this.log_=$h("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lc,this.maxReconnectDelay_=kX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,s={r,a:e,b:t};this.log_(en(s)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new Qm,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?t.resolve(u):t.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,i,r){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(l).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},l="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,u=>{const c=u.d,f=u.s;es.warnOnListenWarnings_(c,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&cs(e,"w")){const i=ko(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||m4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ZC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=p4(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const s=r.s,l=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e},l="n";r&&(s.q=i,s.t=r),this.sendRequest(l,s)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const s={p:t,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,s){this.initConnection_();const l={p:t,d:i};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+en(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):ob("Unrecognized action received from server: "+en(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CX&&(this.reconnectDelay_=lc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_X)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+es.nextConnectionId_++,s=this.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,i())},f=function(m){ce(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(m)};this.realtime_={close:c,sendRequest:f};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);l?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,u=new bX(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,y=>{qn(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(TX)},s))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&qn(m),c())}}}interrupt(e){gn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nb(this.interruptReasons_)&&(this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(s=>K1(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new yt(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(t),s.delete(t),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){gn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UC&&(this.reconnectDelay_=ZC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){gn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+LP.replace(/\./g,"-")]=1,Y1()?e["framework.cordova"]=1:QP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cp.getInstance().currentlyOnline();return nb(this.interruptReasons_)&&e}}es.nextPersistentConnectionId_=0;es.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ne(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Ne(Co,e),r=new Ne(Co,t);return this.compare(i,r)!==0}minPost(){return Ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;class hR extends Pm{static get __EMPTY_NODE(){return xd}static set __EMPTY_NODE(e){xd=e}compare(e,t){return Go(e.name,t.name)}isDefinedOn(e){throw Vo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ne.MIN}maxPost(){return new Ne(Fl,xd)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new Ne(e,xd)}toString(){return".key"}}const uo=new hR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=r??Zn.EMPTY_NODE,this.right=s??Zn.EMPTY_NODE}copy(e,t,i,r,s){return new Jt(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Jt.RED=!0;Jt.BLACK=!1;class EX{copy(e,t,i,r,s){return this}insert(e,t,i){return new Jt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zn{constructor(e,t=Zn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Zn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Zn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new wd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new wd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new wd(this.root_,null,this.comparator_,!0,e)}}Zn.EMPTY_NODE=new EX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(n,e){return Go(n.name,e.name)}function rS(n,e){return Go(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cb;function AX(n){cb=n}const fR=function(n){return typeof n=="number"?"number:"+ZP(n):"string:"+n},dR=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cs(e,".sv"),"Priority must be a string or number.")}else ce(n===cb||n.isEmpty(),"priority of unexpected type.");ce(n===cb||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jC;class Kt{static set __childrenNodeConstructor(e){jC=e}static get __childrenNodeConstructor(){return jC}constructor(e,t=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ze(e)?this:Le(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Le(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ce(i!==".priority"||tl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=ZP(this.value_):e+=this.value_,this.lazyHash_=zP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=Kt.VALUE_TYPE_ORDER.indexOf(t),s=Kt.VALUE_TYPE_ORDER.indexOf(i);return ce(r>=0,"Unknown leaf type: "+t),ce(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pR,mR;function PX(n){pR=n}function RX(n){mR=n}class MX extends Pm{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?Go(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ne.MIN}maxPost(){return new Ne(Fl,new Kt("[PRIORITY-POST]",mR))}makePost(e,t){const i=pR(e);return new Ne(t,new Kt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Rt=new MX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X=Math.log(2);class DX{constructor(e){const t=s=>parseInt(Math.log(s)/$X,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tp=function(n,e,t,i){n.sort(e);const r=function(c,f){const d=f-c;let m,g;if(d===0)return null;if(d===1)return m=n[c],g=t?t(m):m,new Jt(g,m.node,Jt.BLACK,null,null);{const y=parseInt(d/2,10)+c,S=r(c,y),x=r(y+1,f);return m=n[y],g=t?t(m):m,new Jt(g,m.node,Jt.BLACK,S,x)}},s=function(c){let f=null,d=null,m=n.length;const g=function(S,x){const w=m-S,k=m;m-=S;const A=r(w+1,k),T=n[w],Z=t?t(T):T;y(new Jt(Z,T.node,x,null,A))},y=function(S){f?(f.left=S,f=S):(d=S,f=S)};for(let S=0;S<c.count;++S){const x=c.nextBitIsOne(),w=Math.pow(2,c.count-(S+1));x?g(w,Jt.BLACK):(g(w,Jt.BLACK),g(w,Jt.RED))}return d},l=new DX(n.length),u=s(l);return new Zn(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By;const Fa={};class Hr{static get Default(){return ce(Fa&&Rt,"ChildrenNode.ts has not been loaded"),By=By||new Hr({".priority":Fa},{".priority":Rt}),By}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ko(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zn?t:null}hasIndex(e){return cs(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Ne.Wrap);let l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();let u;r?u=Tp(i,e.getCompare()):u=Fa;const c=e.toString(),f={...this.indexSet_};f[c]=e;const d={...this.indexes_};return d[c]=u,new Hr(d,f)}addToIndexes(e,t){const i=wp(this.indexes_,(r,s)=>{const l=ko(this.indexSet_,s);if(ce(l,"Missing index implementation for "+s),r===Fa)if(l.isDefinedOn(e.node)){const u=[],c=t.getIterator(Ne.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&u.push(f),f=c.getNext();return u.push(e),Tp(u,l.getCompare())}else return Fa;else{const u=t.get(e.name);let c=r;return u&&(c=c.remove(new Ne(e.name,u))),c.insert(e,e.node)}});return new Hr(i,this.indexSet_)}removeFromIndexes(e,t){const i=wp(this.indexes_,r=>{if(r===Fa)return r;{const s=t.get(e.name);return s?r.remove(new Ne(e.name,s)):r}});return new Hr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;class Ee{static get EMPTY_NODE(){return ac||(ac=new Ee(new Zn(rS),null,Hr.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&dR(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ac}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?ac:t}}getChild(e){const t=Le(e);return t===null?this:this.getImmediateChild(t).getChild(xt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Ne(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?ac:this.priorityNode_;return new Ee(r,l,s)}}updateChild(e,t){const i=Le(e);if(i===null)return t;{ce(Le(e)!==".priority"||tl(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(xt(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,s=!0;if(this.forEachChild(Rt,(l,u)=>{t[l]=u.val(e),i++,s&&Ee.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):s=!1}),!e&&s&&r<2*i){const l=[];for(const u in t)l[u]=t[u];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fR(this.getPriority().val())+":"),this.forEachChild(Rt,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":zP(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Ne(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ne(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ne(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Ne.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dh?-1:0}withIndex(e){if(e===uo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===uo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Rt),r=t.getIterator(Rt);let s=i.getNext(),l=r.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=i.getNext(),l=r.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===uo?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class IX extends Ee{constructor(){super(new Zn(rS),Ee.EMPTY_NODE,Hr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const Dh=new IX;Object.defineProperties(Ne,{MIN:{value:new Ne(Co,Ee.EMPTY_NODE)},MAX:{value:new Ne(Fl,Dh)}});hR.__EMPTY_NODE=Ee.EMPTY_NODE;Kt.__childrenNodeConstructor=Ee;AX(Dh);RX(Dh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX=!0;function cn(n,e=null){if(n===null)return Ee.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Kt(t,cn(e))}if(!(n instanceof Array)&&LX){const t=[];let i=!1;if(Vn(n,(l,u)=>{if(l.substring(0,1)!=="."){const c=cn(u);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new Ne(l,c)))}}),t.length===0)return Ee.EMPTY_NODE;const s=Tp(t,QX,l=>l.name,rS);if(i){const l=Tp(t,Rt.getCompare());return new Ee(s,cn(e),new Hr({".priority":l},{".priority":Rt}))}else return new Ee(s,cn(e),Hr.Default)}else{let t=Ee.EMPTY_NODE;return Vn(n,(i,r)=>{if(cs(n,i)&&i.substring(0,1)!=="."){const s=cn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(cn(e))}}PX(cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX extends Pm{constructor(e){super(),this.indexPath_=e,ce(!Ze(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?Go(e.name,t.name):s}makePost(e,t){const i=cn(e),r=Ee.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ne(t,r)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,Dh);return new Ne(Fl,e)}toString(){return oR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX extends Pm{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Go(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ne.MIN}maxPost(){return Ne.MAX}makePost(e,t){const i=cn(e);return new Ne(t,i)}toString(){return".value"}}const BX=new zX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){return{type:"value",snapshotNode:n}}function To(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Gc(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Fc(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function XX(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){ce(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(t);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(Gc(t,u)):ce(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(To(t,i)):l.trackChildChange(Fc(t,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Rt,(r,s)=>{t.hasChild(r)||i.trackChildChange(Gc(r,s))}),t.isLeafNode()||t.forEachChild(Rt,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(Fc(r,s,l))}else i.trackChildChange(To(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.indexedFilter_=new sS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Kc.getStartPost_(e),this.endPost_=Kc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new Ne(t,i))||(i=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ee.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ee.EMPTY_NODE);const s=this;return t.forEachChild(Rt,(l,u)=>{s.matches(new Ne(l,u))||(r=r.updateImmediateChild(l,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Kc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new Ne(t,i))||(i=Ee.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=Ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(Ee.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const m=this.index_.getCompare();l=(g,y)=>m(y,g)}else l=this.index_.getCompare();const u=e;ce(u.numChildren()===this.limit_,"");const c=new Ne(t,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(u.hasChild(t)){const m=u.getImmediateChild(t);let g=r.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===t||u.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:l(g,c);if(d&&!i.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Fc(t,i,m)),u.updateImmediateChild(t,i);{s!=null&&s.trackChildChange(Gc(t,m));const x=u.updateImmediateChild(t,Ee.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(To(g.name,g.node)),x.updateImmediateChild(g.name,g.node)):x}}else return i.isEmpty()?e:d&&l(f,c)>=0?(s!=null&&(s.trackChildChange(Gc(f.name,f.node)),s.trackChildChange(To(t,i))),u.updateImmediateChild(t,i).updateImmediateChild(f.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Co}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const e=new lS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UX(n){return n.loadsAllData()?new sS(n.getIndex()):n.hasLimit()?new ZX(n):new Kc(n)}function qC(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Rt?t="$priority":n.index_===BX?t="$value":n.index_===uo?t="$key":(ce(n.index_ instanceof NX,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=en(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=en(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+en(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=en(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+en(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function VC(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Rt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends sR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$h("p:rest:"),this.listens_={}}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=Ep.getListenId_(e,i),u={};this.listens_[l]=u;const c=qC(e._queryParams);this.restRequest_(s+".json",c,(f,d)=>{let m=d;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,i),ko(this.listens_,l)===u){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",r(g,null)}})}unlisten(e,t){const i=Ep.getListenId_(e,t);delete this.listens_[i]}get(e){const t=qC(e._queryParams),i=e._path.toString(),r=new Qm;return this.restRequest_(i+".json",t,(s,l)=>{let u=l;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wo(t);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=Yc(u.responseText)}catch{qn("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,c)}else u.status!==401&&u.status!==404&&qn("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){return{value:null,children:new Map}}function OR(n,e,t){if(Ze(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Le(e);n.children.has(i)||n.children.set(i,Qp());const r=n.children.get(i);e=xt(e),OR(r,e,t)}}function hb(n,e,t){n.value!==null?t(e,n.value):qX(n,(i,r)=>{const s=new yt(e.toString()+"/"+i);hb(r,s,t)})}function qX(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Vn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=10*1e3,YX=30*1e3,WX=300*1e3;class HX{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new VX(e);const i=YC+(YX-YC)*Math.random();Qc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Vn(e,(r,s)=>{s>0&&cs(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Qc(this.reportStats_.bind(this),Math.floor(Math.random()*2*WX))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zi||(Zi={}));function yR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Zi.ACK_USER_WRITE,this.source=yR()}operationForChild(e){if(Ze(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yt(e));return new Ap(tt(),t,this.revert)}}else return ce(Le(this.path)===e,"operationForChild called for unrelated child."),new Ap(xt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.source=e,this.path=t,this.type=Zi.LISTEN_COMPLETE}operationForChild(e){return Ze(this.path)?new Jc(this.source,tt()):new Jc(this.source,xt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Zi.OVERWRITE}operationForChild(e){return Ze(this.path)?new Kl(this.source,tt(),this.snap.getImmediateChild(e)):new Kl(this.source,xt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Zi.MERGE}operationForChild(e){if(Ze(this.path)){const t=this.children.subtree(new yt(e));return t.isEmpty()?null:t.value?new Kl(this.source,tt(),t.value):new eh(this.source,tt(),t)}else return ce(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new eh(this.source,xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ze(e))return this.isFullyInitialized()&&!this.filtered_;const t=Le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FX(n,e,t,i){const r=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(XX(l.childName,l.snapshotNode))}),oc(n,r,"child_removed",e,i,t),oc(n,r,"child_added",e,i,t),oc(n,r,"child_moved",s,i,t),oc(n,r,"child_changed",e,i,t),oc(n,r,"value",e,i,t),r}function oc(n,e,t,i,r,s){const l=i.filter(u=>u.type===t);l.sort((u,c)=>JX(n,u,c)),l.forEach(u=>{const c=KX(n,u,s);r.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(c,n.query_))})})}function KX(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function JX(n,e,t){if(e.childName==null||t.childName==null)throw Vo("Should only compare child_ events.");const i=new Ne(e.childName,e.snapshotNode),r=new Ne(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n,e){return{eventCache:n,serverCache:e}}function Ac(n,e,t,i){return Rm(new Jl(e,t,i),n.serverCache)}function bR(n,e,t,i){return Rm(n.eventCache,new Jl(e,t,i))}function fb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ea(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;const eZ=()=>(Xy||(Xy=new Zn(zB)),Xy);class _t{static fromObject(e){let t=new _t(null);return Vn(e,(i,r)=>{t=t.set(new yt(i),r)}),t}constructor(e,t=eZ()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:tt(),value:this.value};if(Ze(e))return null;{const i=Le(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(xt(e),t);return s!=null?{path:Yt(new yt(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ze(e))return this;{const t=Le(e),i=this.children.get(t);return i!==null?i.subtree(xt(e)):new _t(null)}}set(e,t){if(Ze(e))return new _t(t,this.children);{const i=Le(e),s=(this.children.get(i)||new _t(null)).set(xt(e),t),l=this.children.insert(i,s);return new _t(this.value,l)}}remove(e){if(Ze(e))return this.children.isEmpty()?new _t(null):new _t(null,this.children);{const t=Le(e),i=this.children.get(t);if(i){const r=i.remove(xt(e));let s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new _t(null):new _t(this.value,s)}else return this}}get(e){if(Ze(e))return this.value;{const t=Le(e),i=this.children.get(t);return i?i.get(xt(e)):null}}setTree(e,t){if(Ze(e))return t;{const i=Le(e),s=(this.children.get(i)||new _t(null)).setTree(xt(e),t);let l;return s.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,s),new _t(this.value,l)}}fold(e){return this.fold_(tt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Yt(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,tt(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(Ze(e))return null;{const s=Le(e),l=this.children.get(s);return l?l.findOnPath_(xt(e),Yt(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,tt(),t)}foreachOnPath_(e,t,i){if(Ze(e))return this;{this.value&&i(t,this.value);const r=Le(e),s=this.children.get(r);return s?s.foreachOnPath_(xt(e),Yt(t,r),i):new _t(null)}}foreach(e){this.foreach_(tt(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Yt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.writeTree_=e}static empty(){return new qi(new _t(null))}}function Pc(n,e,t){if(Ze(e))return new qi(new _t(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const l=Xn(r,e);return s=s.updateChild(l,t),new qi(n.writeTree_.set(r,s))}else{const r=new _t(t),s=n.writeTree_.setTree(e,r);return new qi(s)}}}function WC(n,e,t){let i=n;return Vn(t,(r,s)=>{i=Pc(i,Yt(e,r),s)}),i}function HC(n,e){if(Ze(e))return qi.empty();{const t=n.writeTree_.setTree(e,new _t(null));return new qi(t)}}function db(n,e){return aa(n,e)!=null}function aa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Xn(t.path,e)):null}function GC(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Rt,(i,r)=>{e.push(new Ne(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ne(i,r.value))}),e}function Ks(n,e){if(Ze(e))return n;{const t=aa(n,e);return t!=null?new qi(new _t(t)):new qi(n.writeTree_.subtree(e))}}function pb(n){return n.writeTree_.isEmpty()}function Eo(n,e){return SR(tt(),n.writeTree_,e)}function SR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(ce(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=SR(Yt(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Yt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n,e){return kR(e,n)}function tZ(n,e,t,i,r){ce(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Pc(n.visibleWrites,e,t)),n.lastWriteId=i}function nZ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function iZ(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const u=n.allWrites[l];u.visible&&(l>=t&&rZ(u,i.path)?r=!1:Xi(i.path,u.path)&&(s=!0)),l--}if(r){if(s)return sZ(n),!0;if(i.snap)n.visibleWrites=HC(n.visibleWrites,i.path);else{const u=i.children;Vn(u,c=>{n.visibleWrites=HC(n.visibleWrites,Yt(i.path,c))})}return!0}else return!1}function rZ(n,e){if(n.snap)return Xi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Xi(Yt(n.path,t),e))return!0;return!1}function sZ(n){n.visibleWrites=vR(n.allWrites,lZ,tt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function lZ(n){return n.visible}function vR(n,e,t){let i=qi.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let u;if(s.snap)Xi(t,l)?(u=Xn(t,l),i=Pc(i,u,s.snap)):Xi(l,t)&&(u=Xn(l,t),i=Pc(i,tt(),s.snap.getChild(u)));else if(s.children){if(Xi(t,l))u=Xn(t,l),i=WC(i,u,s.children);else if(Xi(l,t))if(u=Xn(l,t),Ze(u))i=WC(i,tt(),s.children);else{const c=ko(s.children,Le(u));if(c){const f=c.getChild(xt(u));i=Pc(i,tt(),f)}}}else throw Vo("WriteRecord should have .snap or .children")}}return i}function xR(n,e,t,i,r){if(!i&&!r){const s=aa(n.visibleWrites,e);if(s!=null)return s;{const l=Ks(n.visibleWrites,e);if(pb(l))return t;if(t==null&&!db(l,tt()))return null;{const u=t||Ee.EMPTY_NODE;return Eo(l,u)}}}else{const s=Ks(n.visibleWrites,e);if(!r&&pb(s))return t;if(!r&&t==null&&!db(s,tt()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Xi(f.path,e)||Xi(e,f.path))},u=vR(n.allWrites,l,e),c=t||Ee.EMPTY_NODE;return Eo(u,c)}}}function aZ(n,e,t){let i=Ee.EMPTY_NODE;const r=aa(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Rt,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=Ks(n.visibleWrites,e);return t.forEachChild(Rt,(l,u)=>{const c=Eo(Ks(s,new yt(l)),u);i=i.updateImmediateChild(l,c)}),GC(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const s=Ks(n.visibleWrites,e);return GC(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function oZ(n,e,t,i,r){ce(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Yt(e,t);if(db(n.visibleWrites,s))return null;{const l=Ks(n.visibleWrites,s);return pb(l)?r.getChild(t):Eo(l,r.getChild(t))}}function uZ(n,e,t,i){const r=Yt(e,t),s=aa(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){const l=Ks(n.visibleWrites,r);return Eo(l,i.getNode().getImmediateChild(t))}else return null}function cZ(n,e){return aa(n.visibleWrites,e)}function hZ(n,e,t,i,r,s,l){let u;const c=Ks(n.visibleWrites,e),f=aa(c,tt());if(f!=null)u=f;else if(t!=null)u=Eo(c,t);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const d=[],m=l.getCompare(),g=s?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let y=g.getNext();for(;y&&d.length<r;)m(y,i)!==0&&d.push(y),y=g.getNext();return d}else return[]}function fZ(){return{visibleWrites:qi.empty(),allWrites:[],lastWriteId:-1}}function Pp(n,e,t,i){return xR(n.writeTree,n.treePath,e,t,i)}function cS(n,e){return aZ(n.writeTree,n.treePath,e)}function FC(n,e,t,i){return oZ(n.writeTree,n.treePath,e,t,i)}function Rp(n,e){return cZ(n.writeTree,Yt(n.treePath,e))}function dZ(n,e,t,i,r,s){return hZ(n.writeTree,n.treePath,e,t,i,r,s)}function hS(n,e,t){return uZ(n.writeTree,n.treePath,e,t)}function wR(n,e){return kR(Yt(n.treePath,e),n.writeTree)}function kR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,Fc(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,Gc(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,To(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,Fc(i,e.snapshotNode,r.oldSnap));else throw Vo("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const _R=new mZ;class fS{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Jl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hS(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ea(this.viewCache_),s=dZ(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(n){return{filter:n}}function OZ(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function yZ(n,e,t,i,r){const s=new pZ;let l,u;if(t.type===Zi.OVERWRITE){const f=t;f.source.fromUser?l=mb(n,e,f.path,f.snap,i,r,s):(ce(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!Ze(f.path),l=Mp(n,e,f.path,f.snap,i,r,u,s))}else if(t.type===Zi.MERGE){const f=t;f.source.fromUser?l=SZ(n,e,f.path,f.children,i,r,s):(ce(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),l=gb(n,e,f.path,f.children,i,r,u,s))}else if(t.type===Zi.ACK_USER_WRITE){const f=t;f.revert?l=wZ(n,e,f.path,i,r,s):l=vZ(n,e,f.path,f.affectedTree,i,r,s)}else if(t.type===Zi.LISTEN_COMPLETE)l=xZ(n,e,t.path,i,s);else throw Vo("Unknown operation type: "+t.type);const c=s.getChanges();return bZ(e,l,c),{viewCache:l,changes:c}}function bZ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=fb(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(gR(fb(e)))}}function CR(n,e,t,i,r,s){const l=e.eventCache;if(Rp(i,t)!=null)return e;{let u,c;if(Ze(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=ea(e),d=f instanceof Ee?f:Ee.EMPTY_NODE,m=cS(i,d);u=n.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=Pp(i,ea(e));u=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=Le(t);if(f===".priority"){ce(tl(t)===1,"Can't have a priority with additional path components");const d=l.getNode();c=e.serverCache.getNode();const m=FC(i,t,d,c);m!=null?u=n.filter.updatePriority(d,m):u=l.getNode()}else{const d=xt(t);let m;if(l.isCompleteForChild(f)){c=e.serverCache.getNode();const g=FC(i,t,l.getNode(),c);g!=null?m=l.getNode().getImmediateChild(f).updateChild(d,g):m=l.getNode().getImmediateChild(f)}else m=hS(i,f,e.serverCache);m!=null?u=n.filter.updateChild(l.getNode(),f,m,d,r,s):u=l.getNode()}}return Ac(e,u,l.isFullyInitialized()||Ze(t),n.filter.filtersNodes())}}function Mp(n,e,t,i,r,s,l,u){const c=e.serverCache;let f;const d=l?n.filter:n.filter.getIndexedFilter();if(Ze(t))f=d.updateFullNode(c.getNode(),i,null);else if(d.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(t,i);f=d.updateFullNode(c.getNode(),y,null)}else{const y=Le(t);if(!c.isCompleteForPath(t)&&tl(t)>1)return e;const S=xt(t),w=c.getNode().getImmediateChild(y).updateChild(S,i);y===".priority"?f=d.updatePriority(c.getNode(),w):f=d.updateChild(c.getNode(),y,w,S,_R,null)}const m=bR(e,f,c.isFullyInitialized()||Ze(t),d.filtersNodes()),g=new fS(r,m,s);return CR(n,m,t,r,g,u)}function mb(n,e,t,i,r,s,l){const u=e.eventCache;let c,f;const d=new fS(r,e,s);if(Ze(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),c=Ac(e,f,!0,n.filter.filtersNodes());else{const m=Le(t);if(m===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),c=Ac(e,f,u.isFullyInitialized(),u.isFiltered());else{const g=xt(t),y=u.getNode().getImmediateChild(m);let S;if(Ze(g))S=i;else{const x=d.getCompleteChild(m);x!=null?aR(g)===".priority"&&x.getChild(uR(g)).isEmpty()?S=x:S=x.updateChild(g,i):S=Ee.EMPTY_NODE}if(y.equals(S))c=e;else{const x=n.filter.updateChild(u.getNode(),m,S,g,d,l);c=Ac(e,x,u.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function KC(n,e){return n.eventCache.isCompleteForChild(e)}function SZ(n,e,t,i,r,s,l){let u=e;return i.foreach((c,f)=>{const d=Yt(t,c);KC(e,Le(d))&&(u=mb(n,u,d,f,r,s,l))}),i.foreach((c,f)=>{const d=Yt(t,c);KC(e,Le(d))||(u=mb(n,u,d,f,r,s,l))}),u}function JC(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function gb(n,e,t,i,r,s,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;Ze(t)?f=i:f=new _t(null).setTree(t,i);const d=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(d.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),S=JC(n,y,g);c=Mp(n,c,new yt(m),S,r,s,l,u)}}),f.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!d.hasChild(m)&&!y){const S=e.serverCache.getNode().getImmediateChild(m),x=JC(n,S,g);c=Mp(n,c,new yt(m),x,r,s,l,u)}}),c}function vZ(n,e,t,i,r,s,l){if(Rp(r,t)!=null)return e;const u=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(Ze(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Mp(n,e,t,c.getNode().getChild(t),r,s,u,l);if(Ze(t)){let f=new _t(null);return c.getNode().forEachChild(uo,(d,m)=>{f=f.set(new yt(d),m)}),gb(n,e,t,f,r,s,u,l)}else return e}else{let f=new _t(null);return i.foreach((d,m)=>{const g=Yt(t,d);c.isCompleteForPath(g)&&(f=f.set(d,c.getNode().getChild(g)))}),gb(n,e,t,f,r,s,u,l)}}function xZ(n,e,t,i,r){const s=e.serverCache,l=bR(e,s.getNode(),s.isFullyInitialized()||Ze(t),s.isFiltered());return CR(n,l,t,i,_R,r)}function wZ(n,e,t,i,r,s){let l;if(Rp(i,t)!=null)return e;{const u=new fS(i,e,r),c=e.eventCache.getNode();let f;if(Ze(t)||Le(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Pp(i,ea(e));else{const m=e.serverCache.getNode();ce(m instanceof Ee,"serverChildren would be complete if leaf node"),d=cS(i,m)}d=d,f=n.filter.updateFullNode(c,d,s)}else{const d=Le(t);let m=hS(i,d,e.serverCache);m==null&&e.serverCache.isCompleteForChild(d)&&(m=c.getImmediateChild(d)),m!=null?f=n.filter.updateChild(c,d,m,xt(t),u,s):e.eventCache.getNode().hasChild(d)?f=n.filter.updateChild(c,d,Ee.EMPTY_NODE,xt(t),u,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Pp(i,ea(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,s)))}return l=e.serverCache.isFullyInitialized()||Rp(i,tt())!=null,Ac(e,f,l,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new sS(i.getIndex()),s=UX(i);this.processor_=gZ(s);const l=t.serverCache,u=t.eventCache,c=r.updateFullNode(Ee.EMPTY_NODE,l.getNode(),null),f=s.updateFullNode(Ee.EMPTY_NODE,u.getNode(),null),d=new Jl(c,l.isFullyInitialized(),r.filtersNodes()),m=new Jl(f,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rm(m,d),this.eventGenerator_=new GX(this.query_)}get query(){return this.query_}}function _Z(n){return n.viewCache_.serverCache.getNode()}function CZ(n,e){const t=ea(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ze(e)&&!t.getImmediateChild(Le(e)).isEmpty())?t.getChild(e):null}function eT(n){return n.eventRegistrations_.length===0}function TZ(n,e){n.eventRegistrations_.push(e)}function tT(n,e,t){const i=[];if(t){ce(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function nT(n,e,t,i){e.type===Zi.MERGE&&e.source.queryId!==null&&(ce(ea(n.viewCache_),"We should always have a full cache before handling merges"),ce(fb(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=yZ(n.processor_,r,e,t,i);return OZ(n.processor_,s.viewCache),ce(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,TR(n,s.changes,s.viewCache.eventCache.getNode(),null)}function EZ(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Rt,(s,l)=>{i.push(To(s,l))}),t.isFullyInitialized()&&i.push(gR(t.getNode())),TR(n,i,t.getNode(),e)}function TR(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return FX(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p;class QZ{constructor(){this.views=new Map}}function AZ(n){ce(!$p,"__referenceConstructor has already been defined"),$p=n}function PZ(){return ce($p,"Reference.ts has not been loaded"),$p}function RZ(n){return n.views.size===0}function dS(n,e,t,i){const r=e.source.queryId;if(r!==null){const s=n.views.get(r);return ce(s!=null,"SyncTree gave us an op for an invalid query."),nT(s,e,t,i)}else{let s=[];for(const l of n.views.values())s=s.concat(nT(l,e,t,i));return s}}function MZ(n,e,t,i,r){const s=e._queryIdentifier,l=n.views.get(s);if(!l){let u=Pp(t,r?i:null),c=!1;u?c=!0:i instanceof Ee?(u=cS(t,i),c=!1):(u=Ee.EMPTY_NODE,c=!1);const f=Rm(new Jl(u,c,!1),new Jl(i,r,!1));return new kZ(e,f)}return l}function $Z(n,e,t,i,r,s){const l=MZ(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),TZ(l,t),EZ(l,t)}function DZ(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const u=nl(n);if(r==="default")for(const[c,f]of n.views.entries())l=l.concat(tT(f,t,i)),eT(f)&&(n.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=n.views.get(r);c&&(l=l.concat(tT(c,t,i)),eT(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||s.push(c.query)))}return u&&!nl(n)&&s.push(new(PZ())(e._repo,e._path)),{removed:s,events:l}}function ER(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function co(n,e){let t=null;for(const i of n.views.values())t=t||CZ(i,e);return t}function QR(n,e){if(e._queryParams.loadsAllData())return Mm(n);{const i=e._queryIdentifier;return n.views.get(i)}}function AR(n,e){return QR(n,e)!=null}function nl(n){return Mm(n)!=null}function Mm(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp;function IZ(n){ce(!Dp,"__referenceConstructor has already been defined"),Dp=n}function LZ(){return ce(Dp,"Reference.ts has not been loaded"),Dp}let NZ=1;class iT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _t(null),this.pendingWriteTree_=fZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function PR(n,e,t,i,r){return tZ(n.pendingWriteTree_,e,t,i,r),r?Ih(n,new Kl(yR(),e,t)):[]}function Xl(n,e,t=!1){const i=nZ(n.pendingWriteTree_,e);if(iZ(n.pendingWriteTree_,e)){let s=new _t(null);return i.snap!=null?s=s.set(tt(),!0):Vn(i.children,l=>{s=s.set(new yt(l),!0)}),Ih(n,new Ap(i.path,s,t))}else return[]}function $m(n,e,t){return Ih(n,new Kl(aS(),e,t))}function zZ(n,e,t){const i=_t.fromObject(t);return Ih(n,new eh(aS(),e,i))}function BZ(n,e){return Ih(n,new Jc(aS(),e))}function XZ(n,e,t){const i=mS(n,t);if(i){const r=gS(i),s=r.path,l=r.queryId,u=Xn(s,e),c=new Jc(oS(l),u);return OS(n,s,c)}else return[]}function Ob(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let u=[];if(l&&(e._queryIdentifier==="default"||AR(l,e))){const c=DZ(l,e,t,i);RZ(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=c.removed;if(u=c.events,!r){const d=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=n.syncPointTree_.findOnPath(s,(g,y)=>nl(y));if(d&&!m){const g=n.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=jZ(g);for(let S=0;S<y.length;++S){const x=y[S],w=x.query,k=$R(n,x);n.listenProvider_.startListening(Rc(w),Ip(n,w),k.hashFn,k.onComplete)}}}!m&&f.length>0&&!i&&(d?n.listenProvider_.stopListening(Rc(e),null):f.forEach(g=>{const y=n.queryToTagMap.get(Dm(g));n.listenProvider_.stopListening(Rc(g),y)}))}qZ(n,f)}return u}function ZZ(n,e,t,i){const r=mS(n,i);if(r!=null){const s=gS(r),l=s.path,u=s.queryId,c=Xn(l,e),f=new Kl(oS(u),c,t);return OS(n,l,f)}else return[]}function UZ(n,e,t,i){const r=mS(n,i);if(r){const s=gS(r),l=s.path,u=s.queryId,c=Xn(l,e),f=_t.fromObject(t),d=new eh(oS(u),c,f);return OS(n,l,d)}else return[]}function rT(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(g,y)=>{const S=Xn(g,r);s=s||co(y,S),l=l||nl(y)});let u=n.syncPointTree_.get(r);u?(l=l||nl(u),s=s||co(u,tt())):(u=new QZ,n.syncPointTree_=n.syncPointTree_.set(r,u));let c;s!=null?c=!0:(c=!1,s=Ee.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((y,S)=>{const x=co(S,tt());x&&(s=s.updateImmediateChild(y,x))}));const f=AR(u,e);if(!f&&!e._queryParams.loadsAllData()){const g=Dm(e);ce(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=VZ();n.queryToTagMap.set(g,y),n.tagToQueryMap.set(y,g)}const d=uS(n.pendingWriteTree_,r);let m=$Z(u,e,t,d,s,c);if(!f&&!l&&!i){const g=QR(u,e);m=m.concat(YZ(n,e,g))}return m}function pS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,u)=>{const c=Xn(l,e),f=co(u,c);if(f)return f});return xR(r,e,s,t,!0)}function Ih(n,e){return RR(e,n.syncPointTree_,null,uS(n.pendingWriteTree_,tt()))}function RR(n,e,t,i){if(Ze(n.path))return MR(n,e,t,i);{const r=e.get(tt());t==null&&r!=null&&(t=co(r,tt()));let s=[];const l=Le(n.path),u=n.operationForChild(l),c=e.children.get(l);if(c&&u){const f=t?t.getImmediateChild(l):null,d=wR(i,l);s=s.concat(RR(u,c,f,d))}return r&&(s=s.concat(dS(r,n,i,t))),s}}function MR(n,e,t,i){const r=e.get(tt());t==null&&r!=null&&(t=co(r,tt()));let s=[];return e.children.inorderTraversal((l,u)=>{const c=t?t.getImmediateChild(l):null,f=wR(i,l),d=n.operationForChild(l);d&&(s=s.concat(MR(d,u,c,f)))}),r&&(s=s.concat(dS(r,n,i,t))),s}function $R(n,e){const t=e.query,i=Ip(n,t);return{hashFn:()=>(_Z(e)||Ee.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?XZ(n,t._path,i):BZ(n,t._path);{const s=ZB(r,t);return Ob(n,t,null,s)}}}}function Ip(n,e){const t=Dm(e);return n.queryToTagMap.get(t)}function Dm(n){return n._path.toString()+"$"+n._queryIdentifier}function mS(n,e){return n.tagToQueryMap.get(e)}function gS(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new yt(n.substr(0,e))}}function OS(n,e,t){const i=n.syncPointTree_.get(e);ce(i,"Missing sync point for query tag that we're tracking");const r=uS(n.pendingWriteTree_,e);return dS(i,t,r,null)}function jZ(n){return n.fold((e,t,i)=>{if(t&&nl(t))return[Mm(t)];{let r=[];return t&&(r=ER(t)),Vn(i,(s,l)=>{r=r.concat(l)}),r}})}function Rc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(LZ())(n._repo,n._path):n}function qZ(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=Dm(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}function VZ(){return NZ++}function YZ(n,e,t){const i=e._path,r=Ip(n,e),s=$R(n,t),l=n.listenProvider_.startListening(Rc(e),r,s.hashFn,s.onComplete),u=n.syncPointTree_.subtree(i);if(r)ce(!nl(u.value),"If we're adding a query, it shouldn't be shadowed");else{const c=u.fold((f,d,m)=>{if(!Ze(f)&&d&&nl(d))return[Mm(d).query];{let g=[];return d&&(g=g.concat(ER(d).map(y=>y.query))),Vn(m,(y,S)=>{g=g.concat(S)}),g}});for(let f=0;f<c.length;++f){const d=c[f];n.listenProvider_.stopListening(Rc(d),Ip(n,d))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new yS(t)}node(){return this.node_}}class bS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Yt(this.path_,e);return new bS(this.syncTree_,t)}node(){return pS(this.syncTree_,this.path_)}}const WZ=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},sT=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return HZ(n[".sv"],e,t);if(typeof n[".sv"]=="object")return GZ(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},HZ=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},GZ=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ce(!1,"Unexpected increment value: "+i);const r=e.node();if(ce(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},FZ=function(n,e,t,i){return SS(e,new bS(t,n),i)},DR=function(n,e,t){return SS(n,new yS(e),t)};function SS(n,e,t){const i=n.getPriority().val(),r=sT(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,u=sT(l.getValue(),e,t);return u!==l.getValue()||r!==l.getPriority().val()?new Kt(u,cn(r)):n}else{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Kt(r))),l.forEachChild(Rt,(u,c)=>{const f=SS(c,e.getImmediateChild(u),t);f!==c&&(s=s.updateImmediateChild(u,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function xS(n,e){let t=e instanceof yt?e:new yt(e),i=n,r=Le(t);for(;r!==null;){const s=ko(i.node.children,r)||{children:{},childCount:0};i=new vS(r,i,s),t=xt(t),r=Le(t)}return i}function Ko(n){return n.node.value}function IR(n,e){n.node.value=e,yb(n)}function LR(n){return n.node.childCount>0}function KZ(n){return Ko(n)===void 0&&!LR(n)}function Im(n,e){Vn(n.node.children,(t,i)=>{e(new vS(t,n,i))})}function NR(n,e,t,i){t&&e(n),Im(n,r=>{NR(r,e,!0)})}function JZ(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Lh(n){return new yt(n.parent===null?n.name:Lh(n.parent)+"/"+n.name)}function yb(n){n.parent!==null&&e6(n.parent,n.name,n)}function e6(n,e,t){const i=KZ(t),r=cs(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,yb(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,yb(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=/[\[\].#$\/\u0000-\u001F\u007F]/,n6=/[\[\].#$\u0000-\u001F\u007F]/,Zy=10*1024*1024,zR=function(n){return typeof n=="string"&&n.length!==0&&!t6.test(n)},BR=function(n){return typeof n=="string"&&n.length!==0&&!n6.test(n)},i6=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),BR(n)},r6=function(n,e,t,i){wS(W1(n,"value"),e,t)},wS=function(n,e,t){const i=t instanceof yt?new vX(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Dl(i));if(typeof e=="function")throw new Error(n+"contains a function "+Dl(i)+" with contents = "+e.toString());if(BP(e))throw new Error(n+"contains "+e.toString()+" "+Dl(i));if(typeof e=="string"&&e.length>Zy/3&&Am(e)>Zy)throw new Error(n+"contains a string greater than "+Zy+" utf8 bytes "+Dl(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Vn(e,(l,u)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!zR(l)))throw new Error(n+" contains an invalid key ("+l+") "+Dl(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xX(i,l),wS(n,u,i),wX(i)}),r&&s)throw new Error(n+' contains ".value" child '+Dl(i)+" in addition to actual children.")}},XR=function(n,e,t,i){if(!BR(t))throw new Error(W1(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},s6=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),XR(n,e,t)},l6=function(n,e){if(Le(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},a6=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!i6(t))throw new Error(W1(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();t!==null&&!nS(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function ZR(n,e,t){kS(n,t),UR(n,i=>nS(i,e))}function ss(n,e,t){kS(n,t),UR(n,i=>Xi(i,e)||Xi(e,i))}function UR(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const s=r.path;e(s)?(u6(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function u6(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Ec&&gn("event: "+t.toString()),Fo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="repo_interrupt",h6=25;class f6{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qp(),this.transactionQueueTree_=new vS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d6(n,e,t){if(n.stats_=eS(n.repoInfo_),n.forceRestClient_||VB())n.server_=new Ep(n.repoInfo_,(i,r,s,l)=>{lT(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>aT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new es(n.repoInfo_,e,(i,r,s,l)=>{lT(n,i,r,s,l)},i=>{aT(n,i)},i=>{m6(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=FB(n.repoInfo_,()=>new HX(n.stats_,n.server_)),n.infoData_=new jX,n.infoSyncTree_=new iT({startListening:(i,r,s,l)=>{let u=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(u=$m(n.infoSyncTree_,i._path,c),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),CS(n,"connected",!1),n.serverSyncTree_=new iT({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(u,c)=>{const f=l(u,c);ss(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function p6(n){const t=n.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function _S(n){return WZ({timestamp:p6(n)})}function lT(n,e,t,i,r){n.dataUpdateCount++;const s=new yt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const c=wp(t,f=>cn(f));l=UZ(n.serverSyncTree_,s,c,r)}else{const c=cn(t);l=ZZ(n.serverSyncTree_,s,c,r)}else if(i){const c=wp(t,f=>cn(f));l=zZ(n.serverSyncTree_,s,c)}else{const c=cn(t);l=$m(n.serverSyncTree_,s,c)}let u=s;l.length>0&&(u=Lm(n,s)),ss(n.eventQueue_,u,l)}function aT(n,e){CS(n,"connected",e),e===!1&&O6(n)}function m6(n,e){Vn(e,(t,i)=>{CS(n,t,i)})}function CS(n,e,t){const i=new yt("/.info/"+e),r=cn(t);n.infoData_.updateSnapshot(i,r);const s=$m(n.infoSyncTree_,i,r);ss(n.eventQueue_,i,s)}function jR(n){return n.nextWriteId_++}function g6(n,e,t,i,r){TS(n,"set",{path:e.toString(),value:t,priority:i});const s=_S(n),l=cn(t,i),u=pS(n.serverSyncTree_,e),c=DR(l,u,s),f=jR(n),d=PR(n.serverSyncTree_,e,c,f,!0);kS(n.eventQueue_,d),n.server_.put(e.toString(),l.val(!0),(g,y)=>{const S=g==="ok";S||qn("set at "+e+" failed: "+g);const x=Xl(n.serverSyncTree_,f,!S);ss(n.eventQueue_,e,x),v6(n,r,g,y)});const m=HR(n,e);Lm(n,m),ss(n.eventQueue_,m,[])}function O6(n){TS(n,"onDisconnectEvents");const e=_S(n),t=Qp();hb(n.onDisconnect_,tt(),(r,s)=>{const l=FZ(r,s,n.serverSyncTree_,e);OR(t,r,l)});let i=[];hb(t,tt(),(r,s)=>{i=i.concat($m(n.serverSyncTree_,r,s));const l=HR(n,r);Lm(n,l)}),n.onDisconnect_=Qp(),ss(n.eventQueue_,tt(),i)}function y6(n,e,t){let i;Le(e._path)===".info"?i=rT(n.infoSyncTree_,e,t):i=rT(n.serverSyncTree_,e,t),ZR(n.eventQueue_,e._path,i)}function b6(n,e,t){let i;Le(e._path)===".info"?i=Ob(n.infoSyncTree_,e,t):i=Ob(n.serverSyncTree_,e,t),ZR(n.eventQueue_,e._path,i)}function S6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(c6)}function TS(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),gn(t,...e)}function v6(n,e,t,i){e&&Fo(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function qR(n,e,t){return pS(n.serverSyncTree_,e,t)||Ee.EMPTY_NODE}function ES(n,e=n.transactionQueueTree_){if(e||Nm(n,e),Ko(e)){const t=YR(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&x6(n,Lh(e),t)}else LR(e)&&Im(e,t=>{ES(n,t)})}function x6(n,e,t){const i=t.map(f=>f.currentWriteId),r=qR(n,e,i);let s=r;const l=r.hash();for(let f=0;f<t.length;f++){const d=t[f];ce(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const m=Xn(e,d.path);s=s.updateChild(m,d.currentOutputSnapshotRaw)}const u=s.val(!0),c=e;n.server_.put(c.toString(),u,f=>{TS(n,"transaction put response",{path:c.toString(),status:f});let d=[];if(f==="ok"){const m=[];for(let g=0;g<t.length;g++)t[g].status=2,d=d.concat(Xl(n.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&m.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();Nm(n,xS(n.transactionQueueTree_,e)),ES(n,n.transactionQueueTree_),ss(n.eventQueue_,e,d);for(let g=0;g<m.length;g++)Fo(m[g])}else{if(f==="datastale")for(let m=0;m<t.length;m++)t[m].status===3?t[m].status=4:t[m].status=0;else{qn("transaction at "+c.toString()+" failed: "+f);for(let m=0;m<t.length;m++)t[m].status=4,t[m].abortReason=f}Lm(n,e)}},l)}function Lm(n,e){const t=VR(n,e),i=Lh(t),r=YR(n,t);return w6(n,r,i),i}function w6(n,e,t){if(e.length===0)return;const i=[];let r=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const c=e[u],f=Xn(t,c.path);let d=!1,m;if(ce(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,m=c.abortReason,r=r.concat(Xl(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=h6)d=!0,m="maxretry",r=r.concat(Xl(n.serverSyncTree_,c.currentWriteId,!0));else{const g=qR(n,c.path,l);c.currentInputSnapshot=g;const y=e[u].update(g.val());if(y!==void 0){wS("transaction failed: Data returned ",y,c.path);let S=cn(y);typeof y=="object"&&y!=null&&cs(y,".priority")||(S=S.updatePriority(g.getPriority()));const w=c.currentWriteId,k=_S(n),A=DR(S,g,k);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=A,c.currentWriteId=jR(n),l.splice(l.indexOf(w),1),r=r.concat(PR(n.serverSyncTree_,c.path,A,c.currentWriteId,c.applyLocally)),r=r.concat(Xl(n.serverSyncTree_,w,!0))}else d=!0,m="nodata",r=r.concat(Xl(n.serverSyncTree_,c.currentWriteId,!0))}ss(n.eventQueue_,t,r),r=[],d&&(e[u].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[u].unwatcher),e[u].onComplete&&(m==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(m),!1,null))))}Nm(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Fo(i[u]);ES(n,n.transactionQueueTree_)}function VR(n,e){let t,i=n.transactionQueueTree_;for(t=Le(e);t!==null&&Ko(i)===void 0;)i=xS(i,t),e=xt(e),t=Le(e);return i}function YR(n,e){const t=[];return WR(n,e,t),t.sort((i,r)=>i.order-r.order),t}function WR(n,e,t){const i=Ko(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Im(e,r=>{WR(n,r,t)})}function Nm(n,e){const t=Ko(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,IR(e,t.length>0?t:void 0)}Im(e,i=>{Nm(n,i)})}function HR(n,e){const t=Lh(VR(n,e)),i=xS(n.transactionQueueTree_,e);return JZ(i,r=>{Uy(n,r)}),Uy(n,i),NR(i,r=>{Uy(n,r)}),t}function Uy(n,e){const t=Ko(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(Xl(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?IR(e,void 0):t.length=s+1,ss(n.eventQueue_,Lh(e),r);for(let l=0;l<i.length;l++)Fo(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function _6(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):qn(`Invalid query segment '${t}' in query '${n}'`)}return e}const oT=function(n,e){const t=C6(n),i=t.namespace;t.domain==="firebase.com"&&rs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&rs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||LB();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new KP(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new yt(t.pathString)}},C6=function(n){let e="",t="",i="",r="",s="",l=!0,u="https",c=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(u=n.substring(0,f-1),n=n.substring(f+2));let d=n.indexOf("/");d===-1&&(d=n.length);let m=n.indexOf("?");m===-1&&(m=n.length),e=n.substring(0,Math.min(d,m)),d<m&&(r=k6(n.substring(d,m)));const g=_6(n.substring(Math.min(n.length,m)));f=e.indexOf(":"),f>=0?(l=u==="https"||u==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),t=e.substring(S+1),s=i}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:l,scheme:u,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+en(this.snapshot.exportVal())}}class E6{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Ze(this._path)?null:aR(this._path)}get ref(){return new hl(this._repo,this._path)}get _queryIdentifier(){const e=VC(this._queryParams),t=K1(e);return t==="{}"?"default":t}get _queryObject(){return VC(this._queryParams)}isEqual(e){if(e=hi(e),!(e instanceof QS))return!1;const t=this._repo===e._repo,i=nS(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+SX(this._path)}}class hl extends QS{constructor(e,t){super(e,t,new lS,!1)}get parent(){const e=uR(this._path);return e===null?null:new hl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Lp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new yt(e),i=bb(this.ref,e);return new Lp(this._node.getChild(t),i,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Lp(r,bb(this.ref,i),Rt)))}hasChild(e){const t=new yt(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function GR(n,e){return n=hi(n),n._checkNotDeleted("ref"),e!==void 0?bb(n._root,e):n._root}function bb(n,e){return n=hi(n),Le(n._path)===null?s6("child","path",e):XR("child","path",e),new hl(n._repo,Yt(n._path,e))}function A6(n,e){n=hi(n),l6("set",n._path),r6("set",e,n._path);const t=new Qm;return g6(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class AS{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new T6("value",this,new Lp(e.snapshotNode,new hl(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new E6(this,e,t):null}matches(e){return e instanceof AS?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function P6(n,e,t,i,r){const s=new Q6(t,void 0),l=new AS(s);return y6(n._repo,n,l),()=>b6(n._repo,n,l)}function R6(n,e,t,i){return P6(n,"value",e)}AZ(hl);IZ(hl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="FIREBASE_DATABASE_EMULATOR_HOST",Sb={};let $6=!1;function D6(n,e,t,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),l=Yo(s);n.repoInfo_=new KP(e,l,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function I6(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||rs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=oT(s,r),u=l.repoInfo,c;typeof process<"u"&&EC&&(c=EC[M6]),c?(s=`http://${c}?ns=${u.namespace}`,l=oT(s,r),u=l.repoInfo):l.repoInfo.secure;const f=new WB(n.name,n.options,e);a6("Invalid Firebase Database URL",l),Ze(l.path)||rs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=N6(u,n,f,new YB(n,t));return new z6(d,n)}function L6(n,e){const t=Sb[e];(!t||t[n.key]!==n)&&rs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),S6(n),delete t[n.key]}function N6(n,e,t,i){let r=Sb[e.name];r||(r={},Sb[e.name]=r);let s=r[n.toURLString()];return s&&rs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new f6(n,$6,t,i),r[n.toURLString()]=s,s}class z6{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hl(this._repo,tt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(L6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rs("Cannot call "+e+" on a deleted database.")}}function B6(n=$P(),e){const t=F1(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=t4("database");i&&X6(t,...i)}return t}function X6(n,e,t,i={}){n=hi(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&Hl(i,s.repoInfo_.emulatorOptions))return;rs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&rs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new np(np.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:n4(i.mockUserToken,n.app.options.projectId);l=new np(u)}Yo(e)&&(TP(e),EP("Database",!0)),D6(s,r,i,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n){PB(Ho),_o(new Gl("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return I6(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),Fs(QC,AC,n),Fs(QC,AC,"esm2020")}es.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};es.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Z6();function FR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U6=FR,KR=new Rh("auth","Firebase",FR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new H1("@firebase/auth");function j6(n,...e){Np.logLevel<=ft.WARN&&Np.warn(`Auth (${Ho}): ${n}`,...e)}function ip(n,...e){Np.logLevel<=ft.ERROR&&Np.error(`Auth (${Ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n,...e){throw RS(n,...e)}function Vi(n,...e){return RS(n,...e)}function PS(n,e,t){const i={...U6(),[e]:t};return new Rh("auth","Firebase",i).create(e,{appName:n.name})}function Yl(n){return PS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q6(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&br(n,"argument-error"),PS(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function RS(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return KR.create(n,...e)}function Qe(n,e,...t){if(!n)throw RS(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ip(e),new Error(e)}function ls(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function V6(){return uT()==="http:"||uT()==="https:"}function uT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V6()||l4()||"connection"in navigator)?navigator.onLine:!0}function W6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ls(t>e,"Short delay should be less than long delay!"),this.isMobile=Y1()||QP()}get(){return Y6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e){ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F6=new Nh(3e4,6e4);function $S(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Jo(n,e,t,i,r={}){return e2(n,r,async()=>{let s={},l={};i&&(e==="GET"?l=i:s={body:JSON.stringify(i)});const u=Wo({key:n.config.apiKey,...l}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:c,...s};return s4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(f.credentials="include"),JR.fetch()(await t2(n,n.config.apiHost,t,u),f)})}async function e2(n,e,t){n._canInitEmulator=!1;const i={...H6,...e};try{const r=new J6(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw kd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(n,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw kd(n,"email-already-in-use",l);if(c==="USER_DISABLED")throw kd(n,"user-disabled",l);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw PS(n,d,f);br(n,d)}}catch(r){if(r instanceof cl)throw r;br(n,"network-request-failed",{message:String(r)})}}async function K6(n,e,t,i,r={}){const s=await Jo(n,e,t,i,r);return"mfaPendingCredential"in s&&br(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function t2(n,e,t,i){const r=`${e}${t}?${i}`,s=n,l=s.config.emulator?MS(n.config,r):`${n.config.apiScheme}://${r}`;return G6.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class J6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vi(this.auth,"network-request-failed")),F6.get())})}}function kd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Vi(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(n,e){return Jo(n,"POST","/v1/accounts:delete",e)}async function zp(n,e){return Jo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tU(n,e=!1){const t=hi(n),i=await t.getIdToken(e),r=DS(i);Qe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Mc(jy(r.auth_time)),issuedAtTime:Mc(jy(r.iat)),expirationTime:Mc(jy(r.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jy(n){return Number(n)*1e3}function DS(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const r=xp(t);return r?JSON.parse(r):(ip("Failed to decode base64 JWT payload"),null)}catch(r){return ip("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function cT(n){const e=DS(n);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof cl&&nU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function nU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(n){var m;const e=n.auth,t=await n.getIdToken(),i=await th(n,zp(e,{idToken:t}));Qe(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?n2(r.providerUserInfo):[],l=sU(n.providerData,s),u=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new xb(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,d)}async function rU(n){const e=hi(n);await Bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function n2(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(n,e){const t=await e2(n,{},async()=>{const i=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,l=await t2(n,r,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:i};return n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(c.credentials="include"),JR.fetch()(l,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aU(n,e){return Jo(n,"POST","/v2/accounts:revokeToken",$S(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const t=cT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await lU(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,l=new ho;return i&&(Qe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Qe(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),s&&(Qe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n,e){Qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ui{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new iU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new xb(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await th(this,this.stsTokenManager.getToken(this.auth,e));return Qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tU(this,e)}reload(){return rU(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(Yl(this.auth));const e=await this.getIdToken();return await th(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,c=t._redirectEventId??void 0,f=t.createdAt??void 0,d=t.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:y,providerData:S,stsTokenManager:x}=t;Qe(m&&x,e,"internal-error");const w=ho.fromJSON(this.name,x);Qe(typeof m=="string",e,"internal-error"),Ns(i,e.name),Ns(r,e.name),Qe(typeof g=="boolean",e,"internal-error"),Qe(typeof y=="boolean",e,"internal-error"),Ns(s,e.name),Ns(l,e.name),Ns(u,e.name),Ns(c,e.name),Ns(f,e.name),Ns(d,e.name);const k=new Ui({uid:m,auth:e,email:r,emailVerified:g,displayName:i,isAnonymous:y,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:w,createdAt:f,lastLoginAt:d});return S&&Array.isArray(S)&&(k.providerData=S.map(A=>({...A}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,t,i=!1){const r=new ho;r.updateFromServerResponse(t);const s=new Ui({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Bp(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Qe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?n2(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),u=new ho;u.updateFromIdToken(i);const c=new Ui({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new xb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Fr(n){ls(n instanceof Function,"Expected a class definition");let e=hT.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}i2.type="NONE";const fT=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n,e,t){return`firebase:${n}:${e}:${t}`}class fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=rp(this.userKey,r.apiKey,s),this.fullPersistenceKey=rp("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zp(this.auth,{idToken:e}).catch(()=>{});return t?Ui._fromGetAccountInfoResponse(this.auth,t,e):null}return Ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new fo(Fr(fT),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||Fr(fT);const l=rp(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const d=await f._get(l);if(d){let m;if(typeof d=="string"){const g=await zp(e,{idToken:d}).catch(()=>{});if(!g)break;m=await Ui._fromGetAccountInfoResponse(e,g,d)}else m=Ui._fromJSON(e,d);f!==s&&(u=m),s=f;break}}catch{}const c=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new fo(s,e,i):(s=c[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new fo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u2(e))return"Blackberry";if(c2(e))return"Webos";if(s2(e))return"Safari";if((e.includes("chrome/")||l2(e))&&!e.includes("edge/"))return"Chrome";if(o2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function r2(n=Tn()){return/firefox\//i.test(n)}function s2(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l2(n=Tn()){return/crios\//i.test(n)}function a2(n=Tn()){return/iemobile/i.test(n)}function o2(n=Tn()){return/android/i.test(n)}function u2(n=Tn()){return/blackberry/i.test(n)}function c2(n=Tn()){return/webos/i.test(n)}function IS(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oU(n=Tn()){var e;return IS(n)&&!!((e=window.navigator)!=null&&e.standalone)}function uU(){return a4()&&document.documentMode===10}function h2(n=Tn()){return IS(n)||o2(n)||c2(n)||u2(n)||/windows phone/i.test(n)||a2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n,e=[]){let t;switch(n){case"Browser":t=dT(Tn());break;case"Worker":t=`${dT(Tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((l,u)=>{try{const c=e(s);l(c)}catch(c){u(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(n,e={}){return Jo(n,"GET","/v2/passwordPolicy",$S(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=6;class dU{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pT(this),this.idTokenSubscription=new pT(this),this.beforeStateQueue=new cU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zp(this,{idToken:e}),i=await Ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===u)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(Yl(this));const t=e?hi(e):null;return t&&Qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(Yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(Yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hU(this),t=new dU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await aU(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;Qe(t,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{l=!0,c()}}else{const c=e.addObserver(t);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&j6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zm(n){return hi(n)}class pT{constructor(e){this.auth=e,this.observer=null,this.addObserver=O4(t=>this.observer=t)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mU(n){LS=n}function gU(n){return LS.loadJS(n)}function OU(){return LS.gapiScript}function yU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(n,e){const t=F1(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Hl(s,e??{}))return r;br(r,"already-initialized")}return t.initialize({options:e})}function SU(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Fr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vU(n,e,t){const i=zm(n);Qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=d2(e),{host:l,port:u}=xU(e),c=u===null?"":`:${u}`,f={url:`${s}//${l}${c}/`},d=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Qe(Hl(f,i.config.emulator)&&Hl(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Yo(l)?(TP(`${s}//${l}${c}`),EP("Auth",!0)):wU()}function d2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xU(n){const e=d2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:mT(i.substr(s.length+1))}}else{const[s,l]=i.split(":");return{host:s,port:mT(l)}}}function mT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(n,e){return K6(n,"POST","/v1/accounts:signInWithIdp",$S(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="http://localhost";class ta extends p2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=t;if(!i||!r)return null;const l=new ta(i,r);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return po(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,po(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:kU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends NS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends zh{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ta._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Yr.credential(t,i)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends zh{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends zh{constructor(){super("twitter.com")}static credential(e,t){return ta._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vs.credential(t,i)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Ui._fromIdTokenResponse(e,i,r),l=gT(i);return new Qo({user:s,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=gT(i);return new Qo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function gT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends cl{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Xp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Xp(e,t,i,r)}}function m2(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xp._fromErrorAndOperation(n,s,e,i):s})}async function _U(n,e,t=!1){const i=await th(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(n,e,t=!1){const{auth:i}=n;if(Ni(i.app))return Promise.reject(Yl(i));const r="reauthenticate";try{const s=await th(n,m2(i,r,e,n),t);Qe(s.idToken,i,"internal-error");const l=DS(s.idToken);Qe(l,i,"internal-error");const{sub:u}=l;return Qe(n.uid===u,i,"user-mismatch"),Qo._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&br(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(n,e,t=!1){if(Ni(n.app))return Promise.reject(Yl(n));const i="signIn",r=await m2(n,i,e),s=await Qo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function EU(n,e,t,i){return hi(n).onIdTokenChanged(e,t,i)}function QU(n,e,t){return hi(n).beforeAuthStateChanged(e,t)}function AU(n,e,t,i){return hi(n).onAuthStateChanged(e,t,i)}function PU(n){return hi(n).signOut()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=1e3,MU=10;class O2 extends g2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,c)=>{this.notifyListeners(l,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},s=this.storage.getItem(i);uU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,MU):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},RU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O2.type="LOCAL";const $U=O2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2 extends g2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}y2.type="SESSION";const b2=y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Bm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,s)),c=await DU(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,l;return new Promise((u,c)=>{const f=zS("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function LU(n){mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function NU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function BU(){return S2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebaseLocalStorageDb",XU=1,Up="firebaseLocalStorage",x2="fbase_key";class Bh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xm(n,e){return n.transaction([Up],e?"readwrite":"readonly").objectStore(Up)}function ZU(){const n=indexedDB.deleteDatabase(v2);return new Bh(n).toPromise()}function wb(){const n=indexedDB.open(v2,XU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Up,{keyPath:x2})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Up)?e(i):(i.close(),await ZU(),e(await wb()))})})}async function OT(n,e,t){const i=Xm(n,!0).put({[x2]:e,value:t});return new Bh(i).toPromise()}async function UU(n,e){const t=Xm(n,!1).get(e),i=await new Bh(t).toPromise();return i===void 0?null:i.value}function yT(n,e){const t=Xm(n,!0).delete(e);return new Bh(t).toPromise()}const jU=800,qU=3;class w2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>qU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bm._getInstance(BU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await NU(),!this.activeServiceWorker)return;this.sender=new IU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wb();return await OT(e,Zp,"1"),await yT(e,Zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>OT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>UU(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Xm(r,!1).getAll();return new Bh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w2.type="LOCAL";const VU=w2;new Nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,e){return e?Fr(e):(Qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends p2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YU(n){return TU(n.auth,new BS(n),n.bypassAuthState)}function WU(n){const{auth:e,user:t}=n;return Qe(t,e,"internal-error"),CU(t,new BS(n),n.bypassAuthState)}async function HU(n){const{auth:e,user:t}=n;return Qe(t,e,"internal-error"),_U(t,new BS(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YU;case"linkViaPopup":case"linkViaRedirect":return HU;case"reauthViaPopup":case"reauthViaRedirect":return WU;default:br(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new Nh(2e3,1e4);async function FU(n,e,t){if(Ni(n.app))return Promise.reject(Vi(n,"operation-not-supported-in-this-environment"));const i=zm(n);q6(n,e,NS);const r=k2(i,t);return new Zl(i,"signInViaPopup",e,r).executeNotNull()}class Zl extends _2{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=zS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GU.get())};e()}}Zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="pendingRedirect",sp=new Map;class JU extends _2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const i=await ej(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ej(n,e){const t=ij(e),i=nj(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function tj(n,e){sp.set(n._key(),e)}function nj(n){return Fr(n._redirectPersistence)}function ij(n){return rp(KU,n.config.apiKey,n.name)}async function rj(n,e,t=!1){if(Ni(n.app))return Promise.reject(Yl(n));const i=zm(n),r=k2(i,e),l=await new JU(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=600*1e3;class lj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!C2(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sj&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(e))}saveEventToCache(e){this.cachedEventUids.add(bT(e)),this.lastProcessedEventTime=Date.now()}}function bT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(n,e={}){return Jo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cj=/^https?/;async function hj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oj(n);for(const t of e)try{if(fj(t))return}catch{}br(n,"unauthorized-domain")}function fj(n){const e=vb(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!cj.test(t))return!1;if(uj.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Nh(3e4,6e4);function ST(){const n=mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pj(n){return new Promise((e,t)=>{var r,s,l;function i(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),t(Vi(n,"network-request-failed"))},timeout:dj.get()})}if((s=(r=mr().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=mr().gapi)!=null&&l.load)i();else{const u=yU("iframefcb");return mr()[u]=()=>{gapi.load?i():t(Vi(n,"network-request-failed"))},gU(`${OU()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw lp=null,e})}let lp=null;function mj(n){return lp=lp||pj(n),lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new Nh(5e3,15e3),Oj="__/auth/iframe",yj="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vj(n){const e=n.config;Qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?MS(e,yj):`https://${n.config.authDomain}/${Oj}`,i={apiKey:e.apiKey,appName:n.name,v:Ho},r=Sj.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Wo(i).slice(1)}`}async function xj(n){const e=await mj(n),t=mr().gapi;return Qe(t,n,"internal-error"),e.open({where:document.body,url:vj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const l=Vi(n,"network-request-failed"),u=mr().setTimeout(()=>{s(l)},gj.get());function c(){mr().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kj=500,_j=600,Cj="_blank",Tj="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ej(n,e,t,i=kj,r=_j){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c={...wj,width:i.toString(),height:r.toString(),top:s,left:l},f=Tn().toLowerCase();t&&(u=l2(f)?Cj:t),r2(f)&&(e=e||Tj,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(oU(f)&&u!=="_self")return Qj(e||"",u),new vT(null);const m=window.open(e||"",u,d);Qe(m,n,"popup-blocked");try{m.focus()}catch{}return new vT(m)}function Qj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="__/auth/handler",Pj="emulator/auth/handler",Rj=encodeURIComponent("fac");async function xT(n,e,t,i,r,s){Qe(n.config.authDomain,n,"auth-domain-config-required"),Qe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ho,eventId:r};if(e instanceof NS){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",nb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))l[d]=m}if(e instanceof zh){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(l.scopes=d.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const c=await n._getAppCheckToken(),f=c?`#${Rj}=${encodeURIComponent(c)}`:"";return`${Mj(n)}?${Wo(u).slice(1)}${f}`}function Mj({config:n}){return n.emulator?MS(n,Pj):`https://${n.authDomain}/${Aj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="webStorageSupport";class $j{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b2,this._completeRedirectFn=rj,this._overrideRedirectResult=tj}async _openPopup(e,t,i,r){var l;ls((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await xT(e,t,i,vb(),r);return Ej(e,s,zS())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await xT(e,t,i,vb(),r);return LU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(ls(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await xj(e),i=new lj(e);return t.register("authEvent",r=>(Qe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qy,{type:qy},r=>{var l;const s=(l=r==null?void 0:r[0])==null?void 0:l[qy];s!==void 0&&t(!!s),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return h2()||s2()||IS()}}const Dj=$j;var wT="@firebase/auth",kT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nj(n){_o(new Gl("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Qe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f2(n)},f=new pU(i,r,s,c);return SU(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_o(new Gl("auth-internal",e=>{const t=zm(e.getProvider("auth").getImmediate());return(i=>new Ij(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(wT,kT,Lj(n)),Fs(wT,kT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=300,Bj=CP("authIdTokenMaxAge")||zj;let _T=null;const Xj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Bj)return;const r=t==null?void 0:t.token;_T!==r&&(_T=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Zj(n=$P()){const e=F1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bU(n,{popupRedirectResolver:Dj,persistence:[VU,$U,b2]}),i=CP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const l=Xj(s.toString());QU(t,l,()=>l(t.currentUser)),EU(t,u=>l(u))}}const r=kP("auth");return r&&vU(t,`http://${r}`),t}function Uj(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}mU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Vi("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Uj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nj("Browser");const jj={apiKey:"AIzaSyBfif2L4Cz11AYTP_OEsJZQJrNWe06a6CY",authDomain:"markdownflare.firebaseapp.com",databaseURL:"https://markdownflare-default-rtdb.firebaseio.com",projectId:"markdownflare",storageBucket:"markdownflare.firebasestorage.app",messagingSenderId:"658985431247",appId:"1:658985431247:web:07966fe83f40b1a7de07ba",measurementId:"G-VNWSZDGXV8"},T2=MP(jj),E2=B6(T2);function qj(n,e,{size:t,hash:i}){const r=e.replace(/\./g,"_dot_").replace(/\//g,"_slash_"),s=GR(E2,`mdflare/${n}/files/${r}`);return A6(s,{path:e,size:t,modified:Date.now(),hash:i})}function Vj(n,e){const t=GR(E2,`mdflare/${n}/files`);return R6(t,i=>{const r=i.val();r&&e(Object.values(r))})}function CT(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);e=(e<<5)-e+i,e|=0}return e.toString(36)}const nh=Zj(T2),Yj=new Yr;function Wj(){return FU(nh,Yj)}function Hj(){return PU(nh)}function Gj(n){return AU(nh,n)}function TT({user:n,username:e}){const t=Ah(),i=async()=>{try{const r=await Wj(),l=await(await fetch(`/api/username/resolve?uid=${r.user.uid}`)).json();l.found?t(`/${l.username}`):t("/setup")}catch(r){console.error("Login failed:",r)}};return X.useEffect(()=>{n&&e&&t(`/${e}`)},[n,e,t]),n&&e?null:z.jsxs("div",{className:"landing",children:[z.jsxs("nav",{className:"landing-nav",children:[z.jsx("h1",{children:" MDFlare"}),z.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[z.jsx("button",{className:"nav-link",onClick:()=>t("/download"),children:""}),z.jsx("button",{className:"login-btn",onClick:i,children:""})]})]}),z.jsxs("div",{className:"hero",children:[z.jsxs("h2",{children:["  ",z.jsx("br",{})," ."]}),z.jsxs("p",{className:"hero-sub",children:["    .",z.jsx("br",{}),"  ,   ."]}),z.jsx("button",{className:"cta-btn",onClick:i,children:"Google  "})]}),z.jsxs("div",{className:"features",children:[z.jsxs("div",{className:"feature-card",children:[z.jsx("span",{className:"feature-icon",children:""}),z.jsx("h3",{children:"  = DB"}),z.jsx("p",{children:"      "})]}),z.jsxs("div",{className:"feature-card",children:[z.jsx("span",{className:"feature-icon",children:""}),z.jsx("h3",{children:" "}),z.jsx("p",{children:"    "})]}),z.jsxs("div",{className:"feature-card",children:[z.jsx("span",{className:"feature-icon",children:""}),z.jsx("h3",{children:"  "}),z.jsx("p",{children:"  ,  "})]}),z.jsxs("div",{className:"feature-card",children:[z.jsx("span",{className:"feature-icon",children:""}),z.jsx("h3",{children:"   "}),z.jsx("p",{children:"   "})]})]}),z.jsxs("footer",{className:"landing-footer",children:[z.jsx("p",{children:" 2026 MDFlare  Built with Cloudflare"}),z.jsxs("p",{style:{marginTop:4,fontSize:11,color:"#30363d"},children:["v","0.1.0","  ","2026. 2. 5. PM 8:01:52"]})]})]})}function kb(){return kb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kb.apply(null,arguments)}function Fj(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}let _b=[],Q2=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?Q2:_b).push(t=t+n[e])})();function Kj(n){if(n<768)return!1;for(let e=0,t=_b.length;;){let i=e+t>>1;if(n<_b[i])t=i;else if(n>=Q2[i])e=i+1;else return!0;if(e==t)return!1}}function ET(n){return n>=127462&&n<=127487}const QT=8205;function Jj(n,e,t=!0,i=!0){return(t?A2:eq)(n,e,i)}function A2(n,e,t){if(e==n.length)return e;e&&P2(n.charCodeAt(e))&&R2(n.charCodeAt(e-1))&&e--;let i=Vy(n,e);for(e+=AT(i);e<n.length;){let r=Vy(n,e);if(i==QT||r==QT||t&&Kj(r))e+=AT(r),i=r;else if(ET(r)){let s=0,l=e-2;for(;l>=0&&ET(Vy(n,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function eq(n,e,t){for(;e>0;){let i=A2(n,e-2,t);if(i<e)return i;e--}return 0}function Vy(n,e){let t=n.charCodeAt(e);if(!R2(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return P2(i)?(t-55296<<10)+(i-56320)+65536:t}function P2(n){return n>=56320&&n<57344}function R2(n){return n>=55296&&n<56320}function AT(n){return n<65536?1:2}class Fe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Ao(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),ur.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ao(this,e,t);let i=[];return this.decompose(e,t,i,0),ur.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new $c(this),s=new $c(e);for(let l=t,u=t;;){if(r.next(l),s.next(l),l=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(u+=r.value.length,r.done||u>=i)return!0}}iter(e=1){return new $c(this,e)}iterRange(e,t=this.length){return new M2(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new $2(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Fe.empty:e.length<=32?new Dt(e):ur.from(Dt.split(e,[]))}}class Dt extends Fe{constructor(e,t=tq(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let l=this.text[s],u=r+l.length;if((t?i:u)>=e)return new nq(r,u,i,l);r=u+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new Dt(PT(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let l=i.pop(),u=ap(s.text,l.text.slice(),0,s.length);if(u.length<=32)i.push(new Dt(u,l.length+s.length));else{let c=u.length>>1;i.push(new Dt(u.slice(0,c)),new Dt(u.slice(c)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Dt))return super.replace(e,t,i);[e,t]=Ao(this,e,t);let r=ap(this.text,ap(i.text,PT(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new Dt(r,s):ur.from(Dt.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=Ao(this,e,t);let r="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let u=this.text[l],c=s+u.length;s>e&&l&&(r+=i),e<c&&t>s&&(r+=u.slice(Math.max(0,e-s),t-s)),s=c+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new Dt(i,r)),i=[],r=-1);return r>-1&&t.push(new Dt(i,r)),t}}class ur extends Fe{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let l=this.children[s],u=r+l.length,c=i+l.lines-1;if((t?c:u)>=e)return l.lineInner(e,t,i,r);r=u+1,i=c+1}}decompose(e,t,i,r){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let u=this.children[s],c=l+u.length;if(e<=c&&t>=l){let f=r&((l<=e?1:0)|(c>=t?2:0));l>=e&&c<=t&&!f?i.push(u):u.decompose(e-l,t-l,i,f)}l=c+1}}replace(e,t,i){if([e,t]=Ao(this,e,t),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let l=this.children[r],u=s+l.length;if(e>=s&&t<=u){let c=l.replace(e-s,t-s,i),f=this.lines-l.lines+c.lines;if(c.lines<f>>4&&c.lines>f>>6){let d=this.children.slice();return d[r]=c,new ur(d,this.length-(t-e)+i.length)}return super.replace(s,u,c)}s=u+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Ao(this,e,t);let r="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let u=this.children[s],c=l+u.length;l>e&&s&&(r+=i),e<c&&t>l&&(r+=u.sliceString(e-l,t-l,i)),l=c+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ur))return 0;let i=0,[r,s,l,u]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==l||s==u)return i;let c=this.children[r],f=e.children[s];if(c!=f)return i+c.scanIdentical(f,t);i+=c.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let y of e)i+=y.lines;if(i<32){let y=[];for(let S of e)S.flatten(y);return new Dt(y,t)}let r=Math.max(32,i>>5),s=r<<1,l=r>>1,u=[],c=0,f=-1,d=[];function m(y){let S;if(y.lines>s&&y instanceof ur)for(let x of y.children)m(x);else y.lines>l&&(c>l||!c)?(g(),u.push(y)):y instanceof Dt&&c&&(S=d[d.length-1])instanceof Dt&&y.lines+S.lines<=32?(c+=y.lines,f+=y.length+1,d[d.length-1]=new Dt(S.text.concat(y.text),S.length+1+y.length)):(c+y.lines>r&&g(),c+=y.lines,f+=y.length+1,d.push(y))}function g(){c!=0&&(u.push(d.length==1?d[0]:ur.from(d,f)),f=-1,c=d.length=0)}for(let y of e)m(y);return g(),u.length==1?u[0]:new ur(u,t)}}Fe.empty=new Dt([""],0);function tq(n){let e=-1;for(let t of n)e+=t.length+1;return e}function ap(n,e,t=0,i=1e9){for(let r=0,s=0,l=!0;s<n.length&&r<=i;s++){let u=n[s],c=r+u.length;c>=t&&(c>i&&(u=u.slice(0,i-r)),r<t&&(u=u.slice(t-r)),l?(e[e.length-1]+=u,l=!1):e.push(u)),r=c+1}return e}function PT(n,e,t){return ap(n,[""],e,t)}class $c{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Dt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],l=s>>1,u=r instanceof Dt?r.text.length:r.children.length;if(l==(t>0?u:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Dt){let c=r.text[l+(t<0?-1:0)];if(this.offsets[i]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=r.children[l+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof Dt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class M2{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new $c(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class $2{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Fe.prototype[Symbol.iterator]=function(){return this.iter()},$c.prototype[Symbol.iterator]=M2.prototype[Symbol.iterator]=$2.prototype[Symbol.iterator]=function(){return this});let nq=class{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}};function Ao(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Wt(n,e,t=!0,i=!0){return Jj(n,e,t,i)}function iq(n){return n>=56320&&n<57344}function rq(n){return n>=55296&&n<56320}function Nn(n,e){let t=n.charCodeAt(e);if(!rq(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return iq(i)?(t-55296<<10)+(i-56320)+65536:t}function XS(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function cr(n){return n<65536?1:2}const Cb=/\r\n?|\n/;var fn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(fn||(fn={}));class gr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(i,r,s),r+=s):r+=l,i+=s}}iterChangedRanges(e,t=!1){Tb(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new gr(e)}composeDesc(e){return this.empty?e:e.empty?this:D2(this,e)}mapDesc(e,t=!1){return e.empty?this:Eb(this,e,t)}mapPos(e,t=-1,i=fn.Simple){let r=0,s=0;for(let l=0;l<this.sections.length;){let u=this.sections[l++],c=this.sections[l++],f=r+u;if(c<0){if(f>e)return s+(e-r);s+=u}else{if(i!=fn.Simple&&f>=e&&(i==fn.TrackDel&&r<e&&f>e||i==fn.TrackBefore&&r<e||i==fn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!u)return e==r||t<0?s:s+c;s+=c}r=f}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],l=this.sections[i++],u=r+s;if(l>=0&&r<=t&&u>=e)return r<e&&u>t?"cover":!0;r=u}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new gr(e)}static create(e){return new gr(e)}}class Vt extends gr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Tb(this,(t,i,r,s,l)=>e=e.replace(r,r+(i-t),l),!1),e}mapDesc(e,t=!1){return Eb(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let l=t[r],u=t[r+1];if(u>=0){t[r]=u,t[r+1]=l;let c=r>>1;for(;i.length<c;)i.push(Fe.empty);i.push(l?e.slice(s,s+l):Fe.empty)}s+=l}return new Vt(t,i)}compose(e){return this.empty?e:e.empty?this:D2(this,e,!0)}map(e,t=!1){return e.empty?this:Eb(this,e,t,!0)}iterChanges(e,t=!1){Tb(this,e,t)}get desc(){return gr.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new ih(this);e:for(let l=0,u=0;;){let c=l==e.length?1e9:e[l++];for(;u<c||u==c&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,c-u);mn(r,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;mn(t,d,m),m>0&&Ws(i,t,s.text),s.forward(d),u+=d}let f=e[l++];for(;u<f;){if(s.done)break e;let d=Math.min(s.len,f-u);mn(t,d,-1),mn(r,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),u+=d}}return{changes:new Vt(t,i),filtered:gr.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],l=0,u=null;function c(d=!1){if(!d&&!r.length)return;l<t&&mn(r,t-l,-1);let m=new Vt(r,s);u=u?u.compose(m.map(u)):m,r=[],s=[],l=0}function f(d){if(Array.isArray(d))for(let m of d)f(m);else if(d instanceof Vt){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);c(),u=u?u.compose(d.map(u)):d}else{let{from:m,to:g=m,insert:y}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let S=y?typeof y=="string"?Fe.of(y.split(i||Cb)):y:Fe.empty,x=S.length;if(m==g&&x==0)return;m<l&&c(),m>l&&mn(r,m-l,-1),mn(r,g-m,x),Ws(s,r,S),l=g}}return f(e),c(!u),u}static empty(e){return new Vt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,u)=>u&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(Fe.empty);i[r]=Fe.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Vt(t,i)}static createSet(e,t){return new Vt(e,t)}}function mn(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:r>=0&&e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function Ws(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Fe.empty);n.push(t)}}function Tb(n,e,t){let i=n.inserted;for(let r=0,s=0,l=0;l<n.sections.length;){let u=n.sections[l++],c=n.sections[l++];if(c<0)r+=u,s+=u;else{let f=r,d=s,m=Fe.empty;for(;f+=u,d+=c,c&&i&&(m=m.append(i[l-2>>1])),!(t||l==n.sections.length||n.sections[l+1]<0);)u=n.sections[l++],c=n.sections[l++];e(r,f,s,d,m),r=f,s=d}}}function Eb(n,e,t,i=!1){let r=[],s=i?[]:null,l=new ih(n),u=new ih(e);for(let c=-1;;){if(l.done&&u.len||u.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&u.ins==-1){let f=Math.min(l.len,u.len);mn(r,f,-1),l.forward(f),u.forward(f)}else if(u.ins>=0&&(l.ins<0||c==l.i||l.off==0&&(u.len<l.len||u.len==l.len&&!t))){let f=u.len;for(mn(r,u.ins,-1);f;){let d=Math.min(l.len,f);l.ins>=0&&c<l.i&&l.len<=d&&(mn(r,0,l.ins),s&&Ws(s,r,l.text),c=l.i),l.forward(d),f-=d}u.next()}else if(l.ins>=0){let f=0,d=l.len;for(;d;)if(u.ins==-1){let m=Math.min(d,u.len);f+=m,d-=m,u.forward(m)}else if(u.ins==0&&u.len<d)d-=u.len,u.next();else break;mn(r,f,c<l.i?l.ins:0),s&&c<l.i&&Ws(s,r,l.text),c=l.i,l.forward(l.len-d)}else{if(l.done&&u.done)return s?Vt.createSet(r,s):gr.create(r);throw new Error("Mismatched change set lengths")}}}function D2(n,e,t=!1){let i=[],r=t?[]:null,s=new ih(n),l=new ih(e);for(let u=!1;;){if(s.done&&l.done)return r?Vt.createSet(i,r):gr.create(i);if(s.ins==0)mn(i,s.len,0,u),s.next();else if(l.len==0&&!l.done)mn(i,0,l.ins,u),r&&Ws(r,i,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let c=Math.min(s.len2,l.len),f=i.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;mn(i,c,d,u),r&&d&&Ws(r,i,l.text)}else l.ins==-1?(mn(i,s.off?0:s.len,c,u),r&&Ws(r,i,s.textBit(c))):(mn(i,s.off?0:s.len,l.off?0:l.ins,u),r&&!l.off&&Ws(r,i,l.text));u=(s.ins>c||l.ins>=0&&l.len>c)&&(u||i.length>f),s.forward2(c),l.forward(c)}}}}class ih{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Fe.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Fe.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ul{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Ul(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return G.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return G.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return G.range(e.anchor,e.head)}static create(e,t,i){return new Ul(e,t,i)}}class G{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:G.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new G([this.main],0)}addRange(e,t=!0){return G.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,G.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new G(e.ranges.map(t=>Ul.fromJSON(t)),e.main)}static single(e,t=e){return new G([G.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return G.normalized(e.slice(),t);i=s.to}return new G(e,t)}static cursor(e,t=0,i,r){return Ul.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?Ul.create(t,e,48|s):Ul.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],l=e[r-1];if(s.empty?s.from<=l.to:s.from<l.to){let u=l.from,c=Math.max(s.to,l.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?G.range(c,u):G.range(u,c))}}return new G(e,t)}}function I2(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let ZS=0;class ge{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=ZS++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ge(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:US),!!e.static,e.enables)}of(e){return new op([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new op(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new op(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function US(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class op{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=ZS++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,l=e[s]>>1,u=this.type==2,c=!1,f=!1,d=[];for(let m of this.dependencies)m=="doc"?c=!0:m=="selection"?f=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=i(m),1},update(m,g){if(c&&g.docChanged||f&&(g.docChanged||g.selection)||Qb(m,d)){let y=i(m);if(u?!RT(y,m.values[l],r):!r(y,m.values[l]))return m.values[l]=y,1}return 0},reconfigure:(m,g)=>{let y,S=g.config.address[s];if(S!=null){let x=qp(g,S);if(this.dependencies.every(w=>w instanceof ge?g.facet(w)===m.facet(w):w instanceof nn?g.field(w,!1)==m.field(w,!1):!0)||(u?RT(y=i(m),x,r):r(y=i(m),x)))return m.values[l]=x,0}else y=i(m);return m.values[l]=y,1}}}}function RT(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Qb(n,e){let t=!1;for(let i of e)Dc(n,i)&1&&(t=!0);return t}function sq(n,e,t){let i=t.map(c=>n[c.id]),r=t.map(c=>c.type),s=i.filter(c=>!(c&1)),l=n[e.id]>>1;function u(c){let f=[];for(let d=0;d<i.length;d++){let m=qp(c,i[d]);if(r[d]==2)for(let g of m)f.push(g);else f.push(m)}return e.combine(f)}return{create(c){for(let f of i)Dc(c,f);return c.values[l]=u(c),1},update(c,f){if(!Qb(c,s))return 0;let d=u(c);return e.compare(d,c.values[l])?0:(c.values[l]=d,1)},reconfigure(c,f){let d=Qb(c,i),m=f.config.facets[e.id],g=f.facet(e);if(m&&!d&&US(t,m))return c.values[l]=g,0;let y=u(c);return e.compare(y,g)?(c.values[l]=g,0):(c.values[l]=y,1)}}}const _d=ge.define({static:!0});class nn{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new nn(ZS++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(_d).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],l=this.updateF(s,r);return this.compareF(s,l)?0:(i.values[t]=l,1)},reconfigure:(i,r)=>{let s=i.facet(_d),l=r.facet(_d),u;return(u=s.find(c=>c.field==this))&&u!=l.find(c=>c.field==this)?(i.values[t]=u.create(i),1):r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,_d.of({field:this,create:e})]}get extension(){return this}}const Ll={lowest:4,low:3,default:2,high:1,highest:0};function uc(n){return e=>new L2(e,n)}const hs={highest:uc(Ll.highest),high:uc(Ll.high),default:uc(Ll.default),low:uc(Ll.low),lowest:uc(Ll.lowest)};class L2{constructor(e,t){this.inner=e,this.prec=t}}class Zm{of(e){return new Ab(this,e)}reconfigure(e){return Zm.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ab{constructor(e,t){this.compartment=e,this.inner=t}}class jp{constructor(e,t,i,r,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),l=new Map;for(let g of lq(e,t,l))g instanceof nn?r.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let u=Object.create(null),c=[],f=[];for(let g of r)u[g.id]=f.length<<1,f.push(y=>g.slot(y));let d=i==null?void 0:i.config.facets;for(let g in s){let y=s[g],S=y[0].facet,x=d&&d[g]||[];if(y.every(w=>w.type==0))if(u[S.id]=c.length<<1|1,US(x,y))c.push(i.facet(S));else{let w=S.combine(y.map(k=>k.value));c.push(i&&S.compare(w,i.facet(S))?i.facet(S):w)}else{for(let w of y)w.type==0?(u[w.id]=c.length<<1|1,c.push(w.value)):(u[w.id]=f.length<<1,f.push(k=>w.dynamicSlot(k)));u[S.id]=f.length<<1,f.push(w=>sq(w,S,y))}}let m=f.map(g=>g(u));return new jp(e,l,m,u,c,s)}}function lq(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(l,u){let c=r.get(l);if(c!=null){if(c<=u)return;let f=i[c].indexOf(l);f>-1&&i[c].splice(f,1),l instanceof Ab&&t.delete(l.compartment)}if(r.set(l,u),Array.isArray(l))for(let f of l)s(f,u);else if(l instanceof Ab){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(l.compartment)||l.inner;t.set(l.compartment,f),s(f,u)}else if(l instanceof L2)s(l.inner,l.prec);else if(l instanceof nn)i[u].push(l),l.provides&&s(l.provides,u);else if(l instanceof op)i[u].push(l),l.facet.extensions&&s(l.facet.extensions,Ll.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,u)}}return s(n,Ll.default),i.reduce((l,u)=>l.concat(u))}function Dc(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function qp(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const N2=ge.define(),Pb=ge.define({combine:n=>n.some(e=>e),static:!0}),z2=ge.define({combine:n=>n.length?n[0]:void 0,static:!0}),B2=ge.define(),X2=ge.define(),Z2=ge.define(),U2=ge.define({combine:n=>n.length?n[0]:!1});class vr{constructor(e,t){this.type=e,this.value=t}static define(){return new aq}}class aq{of(e){return new vr(this,e)}}class oq{constructor(e){this.map=e}of(e){return new Ae(this,e)}}class Ae{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ae(this.type,t)}is(e){return this.type==e}static define(e={}){return new oq(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}Ae.reconfigure=Ae.define();Ae.appendConfig=Ae.define();class Zt{constructor(e,t,i,r,s,l){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,i&&I2(i,t.newLength),s.some(u=>u.type==Zt.time)||(this.annotations=s.concat(Zt.time.of(Date.now())))}static create(e,t,i,r,s,l){return new Zt(e,t,i,r,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Zt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Zt.time=vr.define();Zt.userEvent=vr.define();Zt.addToHistory=vr.define();Zt.remote=vr.define();function uq(n,e){let t=[];for(let i=0,r=0;;){let s,l;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],l=n[i++];else if(r<e.length)s=e[r++],l=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function j2(n,e,t){var i;let r,s,l;return t?(r=e.changes,s=Vt.empty(e.changes.length),l=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),l=n.changes.compose(r)),{changes:l,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:Ae.mapEffects(n.effects,r).concat(Ae.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Rb(n,e,t){let i=e.selection,r=mo(e.annotations);return e.userEvent&&(r=r.concat(Zt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Vt?e.changes:Vt.of(e.changes||[],t,n.facet(z2)),selection:i&&(i instanceof G?i:G.single(i.anchor,i.head)),effects:mo(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function q2(n,e,t){let i=Rb(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;i=j2(i,Rb(n,e[s],l?i.changes.newLength:n.doc.length),l)}let r=Zt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return hq(t?cq(r):r)}function cq(n){let e=n.startState,t=!0;for(let r of e.facet(B2)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:uq(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=Vt.empty(e.doc.length);else{let l=n.changes.filter(t);r=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}n=Zt.create(e,r,n.selection&&n.selection.map(s),Ae.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(X2);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Zt?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Zt?n=s[0]:n=q2(e,mo(s),!1)}return n}function hq(n){let e=n.startState,t=e.facet(Z2),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=j2(i,Rb(e,s,n.changes.newLength),!0))}return i==n?n:Zt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const fq=[];function mo(n){return n==null?fq:Array.isArray(n)?n:[n]}var Et=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(Et||(Et={}));const dq=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Mb;try{Mb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function pq(n){if(Mb)return Mb.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||dq.test(t)))return!0}return!1}function mq(n){return e=>{if(!/\S/.test(e))return Et.Space;if(pq(e))return Et.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Et.Word;return Et.Other}}class Ye{constructor(e,t,i,r,s,l){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)Dc(this,u<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Dc(this,i),qp(this,i)}update(...e){return q2(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let u of e.effects)u.is(Zm.reconfigure)?(t&&(r=new Map,t.compartments.forEach((c,f)=>r.set(f,c)),t=null),r.set(u.value.compartment,u.value.extension)):u.is(Ae.reconfigure)?(t=null,i=u.value):u.is(Ae.appendConfig)&&(t=null,i=mo(i).concat(u.value));let s;t?s=e.startState.values.slice():(t=jp.resolve(i,r,this),s=new Ye(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let l=e.startState.facet(Pb)?e.newSelection:e.newSelection.asSingle();new Ye(t,e.newDoc,l,s,(u,c)=>c.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:G.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],l=mo(i.effects);for(let u=1;u<t.ranges.length;u++){let c=e(t.ranges[u]),f=this.changes(c.changes),d=f.map(r);for(let g=0;g<u;g++)s[g]=s[g].map(d);let m=r.mapDesc(f,!0);s.push(c.range.map(m)),r=r.compose(d),l=Ae.mapEffects(l,d).concat(Ae.mapEffects(mo(c.effects),m))}return{changes:r,selection:G.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof Vt?e:Vt.of(e,this.doc.length,this.facet(Ye.lineSeparator))}toText(e){return Fe.of(e.split(this.facet(Ye.lineSeparator)||Cb))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Dc(this,t),qp(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof nn&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let l=i[s],u=e[s];r.push(l.init(c=>l.spec.fromJSON(u,c)))}}return Ye.create({doc:e.doc,selection:G.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=jp.resolve(e.extensions||[],new Map),i=e.doc instanceof Fe?e.doc:Fe.of((e.doc||"").split(t.staticFacet(Ye.lineSeparator)||Cb)),r=e.selection?e.selection instanceof G?e.selection:G.single(e.selection.anchor,e.selection.head):G.single(0);return I2(r,i.length),t.staticFacet(Pb)||(r=r.asSingle()),new Ye(t,i,r,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Ye.tabSize)}get lineBreak(){return this.facet(Ye.lineSeparator)||`
`}get readOnly(){return this.facet(U2)}phrase(e,...t){for(let i of this.facet(Ye.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(N2))for(let l of s(this,t,i))Object.prototype.hasOwnProperty.call(l,e)&&r.push(l[e]);return r}charCategorizer(e){let t=this.languageDataAt("wordChars",e);return mq(t.length?t[0]:"")}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-i,u=e-i;for(;l>0;){let c=Wt(t,l,!1);if(s(t.slice(c,l))!=Et.Word)break;l=c}for(;u<r;){let c=Wt(t,u);if(s(t.slice(u,c))!=Et.Word)break;u=c}return l==u?null:G.range(l+i,u+i)}}Ye.allowMultipleSelections=Pb;Ye.tabSize=ge.define({combine:n=>n.length?n[0]:4});Ye.lineSeparator=z2;Ye.readOnly=U2;Ye.phrases=ge.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});Ye.languageData=N2;Ye.changeFilter=B2;Ye.transactionFilter=X2;Ye.transactionExtender=Z2;Zm.reconfigure=Ae.define();function xr(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let l=r[s],u=i[s];if(u===void 0)i[s]=l;else if(!(u===l||l===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](u,l);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class il{eq(e){return this==e}range(e,t=e){return $b.create(e,t,this)}}il.prototype.startSide=il.prototype.endSide=0;il.prototype.point=!1;il.prototype.mapMode=fn.TrackDel;function jS(n,e){return n==e||n.constructor==e.constructor&&n.eq(e)}let $b=class V2{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new V2(e,t,i)}};function Db(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class qS{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let l=r,u=s.length;;){if(l==u)return l;let c=l+u>>1,f=s[c]-e||(i?this.value[c].endSide:this.value[c].startSide)-t;if(c==l)return f>=0?l:u;f>=0?u=c:l=c+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(i,1e9,!1,s);s<l;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],l=-1,u=-1;for(let c=0;c<this.value.length;c++){let f=this.value[c],d=this.from[c]+e,m=this.to[c]+e,g,y;if(d==m){let S=t.mapPos(d,f.startSide,f.mapMode);if(S==null||(g=y=S,f.startSide!=f.endSide&&(y=t.mapPos(d,f.endSide),y<g)))continue}else if(g=t.mapPos(d,f.startSide),y=t.mapPos(m,f.endSide),g>y||g==y&&f.startSide>0&&f.endSide<=0)continue;(y-g||f.endSide-f.startSide)<0||(l<0&&(l=g),f.point&&(u=Math.max(u,y-g)),i.push(f),r.push(g-l),s.push(y-l))}return{mapped:i.length?new qS(r,s,i,u):null,pos:l}}}class Ue{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Ue(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(i&&(t=t.slice().sort(Db)),this.isEmpty)return t.length?Ue.of(t):this;let u=new Y2(this,null,-1).goto(0),c=0,f=[],d=new as;for(;u.value||c<t.length;)if(c<t.length&&(u.from-t[c].from||u.startSide-t[c].value.startSide)>=0){let m=t[c++];d.addInner(m.from,m.to,m.value)||f.push(m)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(u.chunkIndex)<t[c].from)&&(!l||r>this.chunkEnd(u.chunkIndex)||s<this.chunkPos[u.chunkIndex])&&d.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!l||r>u.to||s<u.from||l(u.from,u.to,u.value))&&(d.addInner(u.from,u.to,u.value)||f.push($b.create(u.from,u.to,u.value))),u.next());return d.finishInner(this.nextLayer.isEmpty&&!f.length?Ue.empty:this.nextLayer.update({add:f,filter:l,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let l=0;l<this.chunk.length;l++){let u=this.chunkPos[l],c=this.chunk[l],f=e.touchesRange(u,u+c.length);if(f===!1)r=Math.max(r,c.maxPoint),t.push(c),i.push(e.mapPos(u));else if(f===!0){let{mapped:d,pos:m}=c.map(u,e);d&&(r=Math.max(r,d.maxPoint),t.push(d),i.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new Ue(i,t,s||Ue.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],l=this.chunk[r];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return rh.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return rh.from(e).goto(t)}static compare(e,t,i,r,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),u=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=MT(l,u,i),f=new cc(l,c,s),d=new cc(u,c,s);i.iterGaps((m,g,y)=>$T(f,m,d,g,y,r)),i.empty&&i.length==0&&$T(f,0,d,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let u=MT(s,l),c=new cc(s,u,0).goto(i),f=new cc(l,u,0).goto(i);for(;;){if(c.to!=f.to||!Ib(c.active,f.active)||c.point&&(!f.point||!jS(c.point,f.point)))return!1;if(c.to>r)return!0;c.next(),f.next()}}static spans(e,t,i,r,s=-1){let l=new cc(e,null,s).goto(t),u=t,c=l.openStart;for(;;){let f=Math.min(l.to,i);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,c);r.point(u,f,l.point,d,m,l.pointRank),c=Math.min(l.openEnd(f),d.length)}else f>u&&(r.span(u,f,l.active,c),c=l.openEnd(f));if(l.to>i)return c+(l.point&&l.to>i?1:0);u=l.to,l.next()}}static of(e,t=!1){let i=new as;for(let r of e instanceof $b?[e]:t?gq(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return Ue.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=Ue.empty;r=r.nextLayer)t=new Ue(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}Ue.empty=new Ue([],[],null,-1);function gq(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Db(e,i)>0)return n.slice().sort(Db);e=i}return n}Ue.empty.nextLayer=Ue.empty;class as{finishChunk(e){this.chunks.push(new qS(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new as)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Ue.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ue.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function MT(n,e,t){let i=new Map;for(let s of n)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&i.set(s.chunk[l],s.chunkPos[l]);let r=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let u=i.get(s.chunk[l]);u!=null&&(t?t.mapPos(u):u)==s.chunkPos[l]&&!(t!=null&&t.touchesRange(u,u+s.chunk[l].length))&&r.add(s.chunk[l])}return r}class Y2{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class rh{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=i&&r.push(new Y2(l,t,i,s));return r.length==1?r[0]:new rh(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Yy(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Yy(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Yy(this.heap,0)}}}function Yy(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class cc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=rh.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Cd(this.active,e),Cd(this.activeTo,e),Cd(this.activeRank,e),this.minActive=DT(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Td(this.active,t,i),Td(this.activeTo,t,r),Td(this.activeRank,t,s),e&&Td(e,t,this.cursor.from),this.minActive=DT(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Cd(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function $T(n,e,t,i,r,s){n.goto(e),t.goto(i);let l=i+r,u=i,c=i-e,f=!!s.boundChange;for(let d=!1;;){let m=n.to+c-t.to,g=m||n.endSide-t.endSide,y=g<0?n.to+c:t.to,S=Math.min(y,l);if(n.point||t.point?(n.point&&t.point&&jS(n.point,t.point)&&Ib(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(u,S,n.point,t.point),d=!1):(d&&s.boundChange(u),S>u&&!Ib(n.active,t.active)&&s.compareRange(u,S,n.active,t.active),f&&S<l&&(m||n.openEnd(y)!=t.openEnd(y))&&(d=!0)),y>l)break;u=y,g<=0&&n.next(),g>=0&&t.next()}}function Ib(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!jS(n[t],e[t]))return!1;return!0}function Cd(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Td(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function DT(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function Wi(n,e,t=n.length){let i=0;for(let r=0;r<t&&r<n.length;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Wt(n,r));return i}function Lb(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=Wt(n,r)}return i===!0?-1:n.length}const Nb="",IT=typeof Symbol>"u"?"__"+Nb:Symbol.for(Nb),zb=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class rl{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,u,c,f){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&u==null)return c.push(l[0]+";");for(let y in u){let S=u[y];if(/&/.test(y))s(y.split(/,\s*/).map(x=>l.map(w=>x.replace(/&/,w))).reduce((x,w)=>x.concat(w)),S,c);else if(S&&typeof S=="object"){if(!m)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(r(y),S,d,g)}else S!=null&&d.push(y.replace(/_.*/,"").replace(/[A-Z]/g,x=>"-"+x.toLowerCase())+": "+S+";")}(d.length||g)&&c.push((i&&!m&&!f?l.map(i):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(r(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=LT[IT]||1;return LT[IT]=e+1,Nb+e.toString(36)}static mount(e,t,i){let r=e[zb],s=i&&i.nonce;r?s&&r.setNonce(s):r=new Oq(e,s),r.mount(Array.isArray(t)?t:[t],e)}}let NT=new Map;class Oq{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=NT.get(i);if(s)return e[zb]=s;this.sheet=new r.CSSStyleSheet,NT.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[zb]=this}mount(e,t){let i=this.sheet,r=0,s=0;for(let l=0;l<e.length;l++){let u=e[l],c=this.modules.indexOf(u);if(c<s&&c>-1&&(this.modules.splice(c,1),s--,c=-1),c==-1){if(this.modules.splice(s++,0,u),i)for(let f=0;f<u.rules.length;f++)i.insertRule(u.rules[f],r++)}else{for(;s<c;)r+=this.modules[s++].rules.length;r+=u.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+`
`;this.styleTag.textContent=l;let u=t.head||t;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yq=typeof navigator<"u"&&/Mac/.test(navigator.platform),bq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var hn=0;hn<10;hn++)sl[48+hn]=sl[96+hn]=String(hn);for(var hn=1;hn<=24;hn++)sl[hn+111]="F"+hn;for(var hn=65;hn<=90;hn++)sl[hn]=String.fromCharCode(hn+32),sh[hn]=String.fromCharCode(hn);for(var Wy in sl)sh.hasOwnProperty(Wy)||(sh[Wy]=sl[Wy]);function Sq(n){var e=yq&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||bq&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?sh:sl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function ht(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)W2(n,arguments[e]);return n}function W2(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)W2(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let kn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Bb=typeof document<"u"?document:{documentElement:{style:{}}};const Xb=/Edge\/(\d+)/.exec(kn.userAgent),H2=/MSIE \d/.test(kn.userAgent),Zb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kn.userAgent),Um=!!(H2||Zb||Xb),zT=!Um&&/gecko\/(\d+)/i.test(kn.userAgent),Hy=!Um&&/Chrome\/(\d+)/.exec(kn.userAgent),vq="webkitFontSmoothing"in Bb.documentElement.style,Ub=!Um&&/Apple Computer/.test(kn.vendor),BT=Ub&&(/Mobile\/\w+/.test(kn.userAgent)||kn.maxTouchPoints>2);var Oe={mac:BT||/Mac/.test(kn.platform),windows:/Win/.test(kn.platform),linux:/Linux|X11/.test(kn.platform),ie:Um,ie_version:H2?Bb.documentMode||6:Zb?+Zb[1]:Xb?+Xb[1]:0,gecko:zT,gecko_version:zT?+(/Firefox\/(\d+)/.exec(kn.userAgent)||[0,0])[1]:0,chrome:!!Hy,chrome_version:Hy?+Hy[1]:0,ios:BT,android:/Android\b/.test(kn.userAgent),webkit_version:vq?+(/\bAppleWebKit\/(\d+)/.exec(kn.userAgent)||[0,0])[1]:0,safari:Ub,safari_version:Ub?+(/\bVersion\/(\d+(\.\d+)?)/.exec(kn.userAgent)||[0,0])[1]:0,tabSize:Bb.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function VS(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Vp=Object.create(null);function YS(n,e,t){if(n==e)return!0;n||(n=Vp),e||(e=Vp);let i=Object.keys(n),r=Object.keys(e);if(i.length-0!=r.length-0)return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function xq(n,e){for(let t=n.attributes.length-1;t>=0;t--){let i=n.attributes[t].name;e[i]==null&&n.removeAttribute(i)}for(let t in e){let i=e[t];t=="style"?n.style.cssText=i:n.getAttribute(t)!=i&&n.setAttribute(t,i)}}function XT(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function wq(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Gi{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var dn=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(dn||(dn={}));class xe extends il{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Xh(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new na(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:l}=G2(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(l?t?2e8:1:-6e8)+1}return new na(e,i,r,t,e.widget||null,!0)}static line(e){return new Zh(e)}static set(e,t=!1){return Ue.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}xe.none=Ue.empty;class Xh extends xe{constructor(e){let{start:t,end:i}=G2(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?VS(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Vp}eq(e){return this==e||e instanceof Xh&&this.tagName==e.tagName&&YS(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Xh.prototype.point=!1;class Zh extends xe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Zh&&this.spec.class==e.spec.class&&YS(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Zh.prototype.mapMode=fn.TrackBefore;Zh.prototype.point=!0;class na extends xe{constructor(e,t,i,r,s,l){super(t,i,s,e),this.block=r,this.isReplace=l,this.mapMode=r?t<=0?fn.TrackBefore:fn.TrackAfter:fn.TrackDel}get type(){return this.startSide!=this.endSide?dn.WidgetRange:this.startSide<=0?dn.WidgetBefore:dn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof na&&kq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}na.prototype.point=!0;function G2(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function kq(n,e){return n==e||!!(n&&e&&n.compare(e))}function go(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class lh extends il{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof lh&&this.tagName==e.tagName&&YS(this.attributes,e.attributes)}static create(e){return new lh(e.tagName,e.attributes||Vp)}static set(e,t=!1){return Ue.of(e,t)}}lh.prototype.startSide=lh.prototype.endSide=-1;function Po(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function jb(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Ic(n,e){if(!e.anchorNode)return!1;try{return jb(n,e.anchorNode)}catch{return!1}}function Lc(n){return n.nodeType==3?oh(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Nc(n,e,t,i){return t?ZT(n,e,t,i,-1)||ZT(n,e,t,i,1):!1}function ll(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Yp(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function ZT(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:os(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=ll(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?os(n):0}else return!1}}function os(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ah(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function _q(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function F2(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function Cq(n,e,t,i,r,s,l,u){let c=n.ownerDocument,f=c.defaultView||window;for(let d=n,m=!1;d&&!m;)if(d.nodeType==1){let g,y=d==c.body,S=1,x=1;if(y)g=_q(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let A=d.getBoundingClientRect();({scaleX:S,scaleY:x}=F2(d,A)),g={left:A.left,right:A.left+d.clientWidth*S,top:A.top,bottom:A.top+d.clientHeight*x}}let w=0,k=0;if(r=="nearest")e.top<g.top?(k=e.top-(g.top+l),t>0&&e.bottom>g.bottom+k&&(k=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(k=e.bottom-g.bottom+l,t<0&&e.top-k<g.top&&(k=e.top-(g.top+l)));else{let A=e.bottom-e.top,T=g.bottom-g.top;k=(r=="center"&&A<=T?e.top+A/2-T/2:r=="start"||r=="center"&&t<0?e.top-l:e.bottom-T+l)-g.top}if(i=="nearest"?e.left<g.left?(w=e.left-(g.left+s),t>0&&e.right>g.right+w&&(w=e.right-g.right+s)):e.right>g.right&&(w=e.right-g.right+s,t<0&&e.left<g.left+w&&(w=e.left-(g.left+s))):w=(i=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:i=="start"==u?e.left-s:e.right-(g.right-g.left)+s)-g.left,w||k)if(y)f.scrollBy(w,k);else{let A=0,T=0;if(k){let Z=d.scrollTop;d.scrollTop+=k/x,T=(d.scrollTop-Z)*x}if(w){let Z=d.scrollLeft;d.scrollLeft+=w/S,A=(d.scrollLeft-Z)*S}e={left:e.left-A,top:e.top-T,right:e.right-A,bottom:e.bottom-T},A&&Math.abs(A-w)<1&&(i="nearest"),T&&Math.abs(T-k)<1&&(r="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function Tq(n){let e=n.ownerDocument,t,i;for(let r=n.parentNode;r&&!(r==e.body||t&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:i}}class Eq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?os(t):0),i,Math.min(e.focusOffset,i?os(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Il=null;Oe.safari&&Oe.safari_version>=26&&(Il=!1);function K2(n){if(n.setActive)return n.setActive();if(Il)return n.focus(Il);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Il==null?{get preventScroll(){return Il={preventScroll:!0},!0}}:void 0),!Il){Il=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let UT;function oh(n,e,t=e){let i=UT||(UT=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Oo(n,e,t,i){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",r);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function Qq(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Aq(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,os(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=os(t))}else{if(t==n)return!0;i=ll(t),t=t.parentNode}}function J2(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function eM(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=os(t)}else if(t.parentNode&&!Yp(t))i=ll(t),t=t.parentNode;else return null}}function tM(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Yp(t))i=ll(t)+1,t=t.parentNode;else return null}}class ji{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new ji(e.parentNode,ll(e),t)}static after(e,t){return new ji(e.parentNode,ll(e)+1,t)}}var gt=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(gt||(gt={}));const ia=gt.LTR,WS=gt.RTL;function nM(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Pq=nM("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Rq=nM("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),qb=Object.create(null),ir=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);qb[e]=t,qb[t]=-e}function iM(n){return n<=247?Pq[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Rq[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Mq=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Kr{get dir(){return this.level%2?WS:ia}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let s=-1;for(let l=0;l<e.length;l++){let u=e[l];if(u.from<=t&&u.to>=t){if(u.level==i)return l;(s<0||(r!=0?r<0?u.from<t:u.to>t:e[s].level>u.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function rM(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!rM(i.inner,r.inner))return!1}return!0}const mt=[];function $q(n,e,t,i,r){for(let s=0;s<=i.length;s++){let l=s?i[s-1].to:e,u=s<i.length?i[s].from:t,c=s?256:r;for(let f=l,d=c,m=c;f<u;f++){let g=iM(n.charCodeAt(f));g==512?g=d:g==8&&m==4&&(g=16),mt[f]=g==4?2:g,g&7&&(m=g),d=g}for(let f=l,d=c,m=c;f<u;f++){let g=mt[f];if(g==128)f<u-1&&d==mt[f+1]&&d&24?g=mt[f]=d:mt[f]=256;else if(g==64){let y=f+1;for(;y<u&&mt[y]==64;)y++;let S=f&&d==8||y<t&&mt[y]==8?m==1?1:8:256;for(let x=f;x<y;x++)mt[x]=S;f=y-1}else g==8&&m==1&&(mt[f]=1);d=g,g&7&&(m=g)}}}function Dq(n,e,t,i,r){let s=r==1?2:1;for(let l=0,u=0,c=0;l<=i.length;l++){let f=l?i[l-1].to:e,d=l<i.length?i[l].from:t;for(let m=f,g,y,S;m<d;m++)if(y=qb[g=n.charCodeAt(m)])if(y<0){for(let x=u-3;x>=0;x-=3)if(ir[x+1]==-y){let w=ir[x+2],k=w&2?r:w&4?w&1?s:r:0;k&&(mt[m]=mt[ir[x]]=k),u=x;break}}else{if(ir.length==189)break;ir[u++]=m,ir[u++]=g,ir[u++]=c}else if((S=mt[m])==2||S==1){let x=S==r;c=x?0:1;for(let w=u-3;w>=0;w-=3){let k=ir[w+2];if(k&2)break;if(x)ir[w+2]|=2;else{if(k&4)break;ir[w+2]|=4}}}}}function Iq(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let l=r?t[r-1].to:n,u=r<t.length?t[r].from:e;for(let c=l;c<u;){let f=mt[c];if(f==256){let d=c+1;for(;;)if(d==u){if(r==t.length)break;d=t[r++].to,u=r<t.length?t[r].from:e}else if(mt[d]==256)d++;else break;let m=s==1,g=(d<e?mt[d]:i)==1,y=m==g?m?1:2:i;for(let S=d,x=r,w=x?t[x-1].to:n;S>c;)S==w&&(S=t[--x].from,w=x?t[x-1].to:n),mt[--S]=y;c=d}else s=f,c++}}}function Vb(n,e,t,i,r,s,l){let u=i%2?2:1;if(i%2==r%2)for(let c=e,f=0;c<t;){let d=!0,m=!1;if(f==s.length||c<s[f].from){let x=mt[c];x!=u&&(d=!1,m=x==16)}let g=!d&&u==1?[]:null,y=d?i:i+1,S=c;e:for(;;)if(f<s.length&&S==s[f].from){if(m)break e;let x=s[f];if(!d)for(let w=x.to,k=f+1;;){if(w==t)break e;if(k<s.length&&s[k].from==w)w=s[k++].to;else{if(mt[w]==u)break e;break}}if(f++,g)g.push(x);else{x.from>c&&l.push(new Kr(c,x.from,y));let w=x.direction==ia!=!(y%2);Yb(n,w?i+1:i,r,x.inner,x.from,x.to,l),c=x.to}S=x.to}else{if(S==t||(d?mt[S]!=u:mt[S]==u))break;S++}g?Vb(n,c,S,i+1,r,g,l):c<S&&l.push(new Kr(c,S,y)),c=S}else for(let c=t,f=s.length;c>e;){let d=!0,m=!1;if(!f||c>s[f-1].to){let x=mt[c-1];x!=u&&(d=!1,m=x==16)}let g=!d&&u==1?[]:null,y=d?i:i+1,S=c;e:for(;;)if(f&&S==s[f-1].to){if(m)break e;let x=s[--f];if(!d)for(let w=x.from,k=f;;){if(w==e)break e;if(k&&s[k-1].to==w)w=s[--k].from;else{if(mt[w-1]==u)break e;break}}if(g)g.push(x);else{x.to<c&&l.push(new Kr(x.to,c,y));let w=x.direction==ia!=!(y%2);Yb(n,w?i+1:i,r,x.inner,x.from,x.to,l),c=x.from}S=x.from}else{if(S==e||(d?mt[S-1]!=u:mt[S-1]==u))break;S--}g?Vb(n,S,c,i+1,r,g,l):S<c&&l.push(new Kr(S,c,y)),c=S}}function Yb(n,e,t,i,r,s,l){let u=e%2?2:1;$q(n,r,s,i,u),Dq(n,r,s,i,u),Iq(r,s,i,u),Vb(n,r,s,e,t,i,l)}function Lq(n,e,t){if(!n)return[new Kr(0,0,e==WS?1:0)];if(e==ia&&!t.length&&!Mq.test(n))return sM(n.length);if(t.length)for(;n.length>mt.length;)mt[mt.length]=256;let i=[],r=e==ia?0:1;return Yb(n,r,r,t,0,n.length,i),i}function sM(n){return[new Kr(0,n,0)]}let lM="";function Nq(n,e,t,i,r){var s;let l=i.head-n.from,u=Kr.find(e,l,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),c=e[u],f=c.side(r,t);if(l==f){let g=u+=r?1:-1;if(g<0||g>=e.length)return null;c=e[u=g],l=c.side(!r,t),f=c.side(r,t)}let d=Wt(n.text,l,c.forward(r,t));(d<c.from||d>c.to)&&(d=f),lM=n.text.slice(Math.min(l,d),Math.max(l,d));let m=u==(r?e.length-1:0)?null:e[u+(r?1:-1)];return m&&d==f&&m.level+(r?0:1)<c.level?G.cursor(m.side(!r,t)+n.from,m.forward(r,t)?1:-1,m.level):G.cursor(d+n.from,c.forward(r,t)?-1:1,c.level)}function zq(n,e,t){for(let i=e;i<t;i++){let r=iM(n.charCodeAt(i));if(r==1)return ia;if(r==2||r==4)return WS}return ia}const aM=ge.define(),oM=ge.define(),uM=ge.define(),cM=ge.define(),Wb=ge.define(),hM=ge.define(),fM=ge.define(),HS=ge.define(),GS=ge.define(),dM=ge.define({combine:n=>n.some(e=>e)}),pM=ge.define({combine:n=>n.some(e=>e)}),mM=ge.define();class yo{constructor(e,t="nearest",i="nearest",r=5,s=5,l=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new yo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new yo(G.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ed=Ae.define({map:(n,e)=>n.map(e)}),gM=Ae.define();function Un(n,e,t){let i=n.facet(cM);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Wr=ge.define({combine:n=>n.length?n[0]:!0});let Bq=0;const so=ge.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class It{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(so.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(so.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:l}=t||{};return new It(Bq++,e,i,r,u=>{let c=[];return l&&c.push(jm.of(f=>{let d=f.plugin(u);return d?l(d):xe.none})),s&&c.push(s(u)),c})}static fromClass(e,t){return It.define((i,r)=>new e(i,r),t)}}class Gy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Un(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Un(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Un(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const OM=ge.define(),FS=ge.define(),jm=ge.define(),yM=ge.define(),KS=ge.define(),Uh=ge.define(),bM=ge.define();function jT(n,e){let t=n.state.facet(bM);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(n):s),r=[];return Ue.spans(i,e.from,e.to,{point(){},span(s,l,u,c){let f=s-e.from,d=l-e.from,m=r;for(let g=u.length-1;g>=0;g--,c--){let y=u[g].spec.bidiIsolate,S;if(y==null&&(y=zq(e.text,f,d)),c>0&&m.length&&(S=m[m.length-1]).to==f&&S.direction==y)S.to=d,m=S.inner;else{let x={from:f,to:d,direction:y,inner:[]};m.push(x),m=x.inner}}}}),r}const SM=ge.define();function JS(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(SM)){let l=s(n);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(i=Math.max(i,l.top)),l.bottom!=null&&(r=Math.max(r,l.bottom)))}return{left:e,right:t,top:i,bottom:r}}const xc=ge.define();class _i{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new _i(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,l=0;;){let u=r<e.length?e[r].fromB:1e9,c=s<t.length?t[s]:1e9,f=Math.min(u,c);if(f==1e9)break;let d=f+l,m=f,g=d;for(;;)if(s<t.length&&t[s]<=m){let y=t[s+1];s+=2,m=Math.max(m,y);for(let S=r;S<e.length&&e[S].fromB<=m;S++)l=e[S].toA-e[S].toB;g=Math.max(g,y+l)}else if(r<e.length&&e[r].fromB<=m){let y=e[r++];m=Math.max(m,y.toB),g=Math.max(g,y.toA),l=y.toA-y.toB}else break;i.push(new _i(d,g,f,m))}return i}}class Wp{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Vt.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,l,u,c)=>r.push(new _i(s,l,u,c))),this.changedRanges=r}static create(e,t,i){return new Wp(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Xq=[];class Ut{constructor(e,t,i=0){this.dom=e,this.length=t,this.flags=i,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Xq}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&xq(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let i=t;for(let r of this.children){if(r==e)return i;i+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let i=ll(this.dom),r=this.length?e>0:t>0;return new ji(this.parent.dom,i+(r?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Vm)return e;return null}static get(e){return e.cmTile}}class qm extends Ut{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,i=null,r,s=(e==null?void 0:e.node)==t?e:null,l=0;for(let u of this.children){if(u.sync(e),l+=u.length+u.breakAfter,r=i?i.nextSibling:t.firstChild,s&&r!=u.dom&&(s.written=!0),u.dom.parentNode==t)for(;r&&r!=u.dom;)r=qT(r);else t.insertBefore(u.dom,r);i=u.dom}for(r=i?i.nextSibling:t.firstChild,s&&r&&(s.written=!0);r;)r=qT(r);this.length=l}}function qT(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Vm extends qm{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=Ut.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],i=this,r=0,s=0;;)if(r==i.children.length){if(!t.length)return;i=i.parent,i.breakAfter&&s++,r=t.pop()}else{let l=i.children[r++];if(l instanceof Js)t.push(r),i=l,r=0;else{let u=s+l.length,c=e(l,s);if(c!==void 0)return c;s=u+l.breakAfter}}}resolveBlock(e,t){let i,r=-1,s,l=-1;if(this.blockTiles((u,c)=>{let f=c+u.length;if(e>=c&&e<=f){if(u.isWidget()&&t>=-1&&t<=1){if(u.flags&32)return!0;u.flags&16&&(i=void 0)}(c<e||e==f&&(t<-1?u.length:u.covers(1)))&&(!i||!u.isWidget()&&i.isWidget())&&(i=u,r=e-c),(f>e||e==c&&(t>1?u.length:u.covers(-1)))&&(!s||!u.isWidget()&&s.isWidget())&&(s=u,l=e-c)}}),!i&&!s)throw new Error("No tile at position "+e);return i&&t<0||!s?{tile:i,offset:r}:{tile:s,offset:l}}}class Js extends qm{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let i=new Js(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class Ro extends qm{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,i){let r=new Ro(t||document.createElement("div"),e);return(!t||!i)&&(r.flags|=4),r}get domAttrs(){return this.attrs}resolveInline(e,t,i){let r=null,s=-1,l=null,u=-1;function c(d,m){for(let g=0,y=0;g<d.children.length&&y<=m;g++){let S=d.children[g],x=y+S.length;x>=m&&(S.isComposite()?c(S,m-y):(!l||l.isHidden&&(t>0||i&&Uq(l,S)))&&(x>m||S.flags&32)?(l=S,u=m-y):(y<m||S.flags&16&&!S.isHidden)&&(r=S,s=m-y)),y=x}}c(this,e);let f=(t<0?r:l)||r||l;return f?{tile:f,offset:f==r?s:u}:null}coordsIn(e,t){let i=this.resolveInline(e,t,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),t):Zq(this)}domIn(e,t){let i=this.resolveInline(e,t);if(i){let{tile:r,offset:s}=i;if(this.dom.contains(r.dom))return r.isText()?new ji(r.dom,Math.min(r.dom.nodeValue.length,s)):r.domPosFor(s,r.flags&16?1:r.flags&32?-1:t);let l=i.tile.parent,u=!1;for(let c of l.children){if(u)return new ji(c.dom,0);c==i.tile&&(u=!0)}}return new ji(this.dom,0)}}function Zq(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Lc(e);return t[t.length-1]||null}function Uq(n,e){let t=n.coordsIn(0,1),i=e.coordsIn(0,1);return t&&i&&i.top<t.bottom}class Bn extends qm{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let i=new Bn(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class jl extends Ut{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let i=this.dom.nodeValue.length;e>i&&(e=i);let r=e,s=e,l=0;e==0&&t<0||e==i&&t>=0?Oe.chrome||Oe.gecko||(e?(r--,l=1):s<i&&(s++,l=-1)):t<0?r--:s<i&&s++;let u=oh(this.dom,r,s).getClientRects();if(!u.length)return null;let c=u[(l?l<0:t>=0)?0:u.length-1];return Oe.safari&&!l&&c.width==0&&(c=Array.prototype.find.call(u,f=>f.width)||c),l?ah(c,l<0):c||null}static of(e,t){let i=new jl(t||document.createTextNode(e),e);return t||(i.flags|=2),i}}class ra extends Ut{constructor(e,t,i,r){super(e,t,r),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,i){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;if(i)return ah(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let u=this.flags&16?!0:this.flags&32?!1:e>0;for(let c=u?s.length-1:0;l=s[c],!(e>0?c==0:c==s.length-1||l.top<l.bottom);c+=u?-1:1);return ah(l,!u)}}get overrideDOMText(){if(!this.length)return Fe.empty;let{root:e}=this;if(!e)return Fe.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,i,r,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new ra(s,i,e,r)}}class Hp extends Ut{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!0}get overrideDOMText(){return Fe.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class jq{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,i){let{tile:r,index:s,beforeBreak:l,parents:u}=this;for(;e||t>0;)if(r.isComposite())if(l){if(!e)break;i&&i.break(),e--,l=!1}else if(s==r.children.length){if(!e&&!u.length)break;i&&i.leave(r),l=!!r.breakAfter,{tile:r,index:s}=u.pop(),s++}else{let c=r.children[s],f=c.breakAfter;(t>0?c.length<=e:c.length<e)&&(!i||i.skip(c,0,c.length)!==!1||!c.isComposite)?(l=!!f,s++,e-=c.length):(u.push({tile:r,index:s}),r=c,s=0,i&&c.isComposite()&&i.enter(c))}else if(s==r.length)l=!!r.breakAfter,{tile:r,index:s}=u.pop(),s++;else if(e){let c=Math.min(e,r.length-s);i&&i.skip(r,s,s+c),e-=c,s+=c}else break;return this.tile=r,this.index=s,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class qq{constructor(e,t,i,r){this.from=e,this.to=t,this.wrapper=i,this.rank=r}}class Vq{constructor(e,t,i){this.cache=e,this.root=t,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,i,r){var s;this.flushBuffer();let l=this.ensureMarks(t,i),u=l.lastChild;if(u&&u.isText()&&!(u.flags&8)&&u.length+e.length<512){this.cache.reused.set(u,2);let c=l.children[l.children.length-1]=new jl(u.dom,u.text+e);c.parent=l}else l.append(r||jl.of(e,(s=this.cache.find(jl))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let i=this.curLine;i.dom!=t.line.dom&&(i.setDOM(this.cache.reused.has(t.line)?Fy(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let r=i;for(let u=t.marks.length-1;u>=0;u--){let c=t.marks[u],f=r.lastChild;if(f instanceof Bn&&f.mark.eq(c.mark))f.dom!=c.dom&&f.setDOM(Fy(c.dom)),r=f;else{if(this.cache.reused.get(c)){let m=Ut.get(c.dom);m&&m.setDOM(Fy(c.dom))}let d=Bn.of(c.mark,c.dom);r.append(d),r=d}this.cache.reused.set(c,2)}let s=Ut.get(e.text);s&&this.cache.reused.set(s,2);let l=new jl(e.text,e.text.nodeValue);l.flags|=8,r.append(l)}addInlineWidget(e,t,i){let r=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);r||this.flushBuffer();let s=this.ensureMarks(t,i);!r&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,i){this.flushBuffer(),this.ensureMarks(t,i).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var i;e||(e=vM);let r=Ro.start(e,t||((i=this.cache.find(Ro))===null||i===void 0?void 0:i.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=r)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var i;let r=this.curLine;for(let s=e.length-1;s>=0;s--){let l=e[s],u;if(t>0&&(u=r.lastChild)&&u instanceof Bn&&u.mark.eq(l))r=u,t--;else{let c=Bn.of(l,(i=this.cache.find(Bn,f=>f.mark.eq(l)))===null||i===void 0?void 0:i.dom);r.append(c),r=c,t=0}}return r}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!VT(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(Oe.ios&&VT(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Ky,0,32)||new ra(Ky.toDOM(),0,Ky,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new qq(e.from,e.to,e.value,e.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-t.rank||this.wrappers[i-1].to-t.to)<0;)i--;this.wrappers.splice(i,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let i of this.wrappers){let r=t.lastChild;if(i.from<this.pos&&r instanceof Js&&r.wrapper.eq(i.wrapper))t=r;else{let s=Js.of(i.wrapper,(e=this.cache.find(Js,l=>l.wrapper.eq(i.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),i=this.cache.find(Hp,void 0,1);return i&&(i.flags=t),i||new Hp(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Yq{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:r,lineBreak:s,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=r;let u=this.textOff=Math.min(e,r.length);return s?null:r.slice(0,u)}let t=Math.min(this.text.length,this.textOff+e),i=this.text.slice(this.textOff,t);return this.textOff=t,i}}const Gp=[ra,Ro,jl,Bn,Hp,Js,Vm];for(let n=0;n<Gp.length;n++)Gp[n].bucket=n;class Wq{constructor(e){this.view=e,this.buckets=Gp.map(()=>[]),this.index=Gp.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,i=this.buckets[t];i.length<6?i.push(e):i[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,i=2){let r=e.bucket,s=this.buckets[r],l=this.index[r];for(let u=s.length-1;u>=0;u--){let c=(u+l)%s.length,f=s[c];if((!t||t(f))&&!this.reused.has(f))return s.splice(c,1),c<l&&this.index[r]--,this.reused.set(f,i),f}return null}findWidget(e,t,i){let r=this.buckets[0];if(r.length)for(let s=0,l=0;;s++){if(s==r.length){if(l)return null;l=1,s=0}let u=r[s];if(!this.reused.has(u)&&(l==0?u.widget.compare(e):u.widget.constructor==e.constructor&&e.updateDOM(u.dom,this.view)))return r.splice(s,1),s<this.index[0]&&this.index[0]--,u.widget==e&&u.length==t&&(u.flags&497)==i?(this.reused.set(u,1),u):(this.reused.set(u,2),new ra(u.dom,t,e,u.flags&-498|i))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class Hq{constructor(e,t,i,r,s){this.view=e,this.decorations=r,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new Wq(e),this.text=new Yq(e.state.doc),this.builder=new Vq(this.cache,new Vm(e,e.contentDOM),Ue.iter(i)),this.cache.reused.set(t,2),this.old=new jq(t),this.reuseWalker={skip:(l,u,c)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,t){let i=t&&this.getCompositionContext(t.text);for(let r=0,s=0,l=0;;){let u=l<e.length?e[l++]:null,c=u?u.fromA:this.old.root.length;if(c>r){let f=c-r;this.preserve(f,!l,!u),r=c,s+=f}if(!u)break;t&&u.fromA<=t.range.fromA&&u.toA>=t.range.toA?(this.forward(u.fromA,t.range.fromA,t.range.fromA<t.range.toA?1:-1),this.emit(s,t.range.fromB),this.cache.clear(),this.builder.addComposition(t,i),this.text.skip(t.range.toB-t.range.fromB),this.forward(t.range.fromA,u.toA),this.emit(t.range.toB,u.toB)):(this.forward(u.fromA,u.toA),this.emit(s,u.toB)),s=u.toB,r=u.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,i){let r=Kq(this.old),s=this.openMarks;this.old.advance(e,i?1:-1,{skip:(l,u,c)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(c-u);else{let f=c>0||u<l.length?ra.of(l.widget,this.view,c-u,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,r,s),s=r.length)}else if(l.isText())this.builder.ensureLine(null),!u&&c==l.length?this.builder.addText(l.text,r,s,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(u,c),r,s)),s=r.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof Hp)this.cache.add(l);else if(l instanceof Bn)this.builder.ensureLine(null),this.builder.addMark(l,r,s),this.cache.reused.set(l,1),s=r.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Bn&&r.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?r.length&&(r.length=s=0):l instanceof Bn&&(r.shift(),s=Math.min(s,r.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let i=null,r=this.builder,s=0,l=Ue.spans(this.decorations,e,t,{point:(u,c,f,d,m,g)=>{if(f instanceof na){if(this.disallowBlockEffectsFor[g]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(c>this.view.state.doc.lineAt(u).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,m>d.length)r.continueWidget(c-u);else{let y=f.widget||(f.block?Mo.block:Mo.inline),S=Gq(f),x=this.cache.findWidget(y,c-u,S)||ra.of(y,this.view,c-u,S);f.block?(f.startSide>0&&r.addLineStartIfNotCovered(i),r.addBlockWidget(x)):(r.ensureLine(i),r.addInlineWidget(x,d,m))}i=null}else i=Fq(i,f);c>u&&this.text.skip(c-u)},span:(u,c,f,d)=>{for(let m=u;m<c;){let g=this.text.next(Math.min(512,c-m));g==null?(r.addLineStartIfNotCovered(i),r.addBreak(),m++):(r.ensureLine(i),r.addText(g,f,m==u?d:f.length),m+=g.length),i=null}}});r.addLineStartIfNotCovered(i),this.openWidget=l>s,this.openMarks=l}forward(e,t,i=1){t-e<=10?this.old.advance(t-e,i,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,i,this.reuseWalker))}getCompositionContext(e){let t=[],i=null;for(let r=e.parentNode;;r=r.parentNode){let s=Ut.get(r);if(r==this.view.contentDOM)break;s instanceof Bn?t.push(s):s!=null&&s.isLine()?i=s:r.nodeName=="DIV"&&!i&&r!=this.view.contentDOM?i=new Ro(r,vM):t.push(Bn.of(new Xh({tagName:r.nodeName.toLowerCase(),attributes:wq(r)}),r))}return{line:i,marks:t}}}function VT(n,e){let t=i=>{for(let r of i.children)if((e?r.isText():r.length)||t(r))return!0;return!1};return t(n)}function Gq(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const vM={class:"cm-line"};function Fq(n,e){let t=e.spec.attributes,i=e.spec.class;return!t&&!i||(n||(n={class:"cm-line"}),t&&VS(t,n),i&&(n.class+=" "+i)),n}function Kq(n){let e=[];for(let t=n.parents.length;t>1;t--){let i=t==n.parents.length?n.tile:n.parents[t].tile;i instanceof Bn&&e.push(i.mark)}return e}function Fy(n){let e=Ut.get(n);return e&&e.setDOM(n.cloneNode()),n}class Mo extends Gi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Mo.inline=new Mo("span");Mo.block=new Mo("div");const Ky=new class extends Gi{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class YT{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=xe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Vm(e,e.contentDOM),this.updateInner([new _i(0,0,0,e.state.doc.length)],null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!aV(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?eV(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;i=new _i(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Oe.ie||Oe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,u=this.blockWrappers;this.updateDeco();let c=iV(l,this.decorations,e.changes);c.length&&(i=_i.extendWithRanges(i,c));let f=sV(u,this.blockWrappers,e.changes);return f.length&&(i=_i.extendWithRanges(i,f)),s&&!i.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(i=s.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(t||e.length){let l=this.tile,u=new Hq(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=u.run(e,t),Hb(l,u.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Oe.chrome||Oe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||i.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof Jy&&r.push(s.dom);i.updateGaps(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(gM)&&(this.editContextFormatting=i.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,r=this.view.root.activeElement,s=r==i,l=!s&&!(this.view.state.facet(Wr)||i.tabIndex>-1)&&Ic(i,this.view.observer.selectionRange)&&!(r&&i.contains(r));if(!(s||t||l))return;let u=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f,d;if(c.empty?d=f=this.inlineDOMNearPos(c.anchor,c.assoc||1):(d=this.inlineDOMNearPos(c.head,c.head==c.from?1:-1),f=this.inlineDOMNearPos(c.anchor,c.anchor==c.from?1:-1)),Oe.gecko&&c.empty&&!this.hasComposition&&Jq(f)){let g=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(g,f.node.childNodes[f.offset]||null)),f=d=new ji(g,0),u=!0}let m=this.view.observer.selectionRange;(u||!m.focusNode||(!Nc(f.node,f.offset,m.anchorNode,m.anchorOffset)||!Nc(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,c))&&(this.view.observer.ignore(()=>{Oe.android&&Oe.chrome&&i.contains(m.focusNode)&&lV(m.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let g=Po(this.view.root);if(g)if(c.empty){if(Oe.gecko){let y=tV(f.node,f.offset);if(y&&y!=3){let S=(y==1?eM:tM)(f.node,f.offset);S&&(f=new ji(S.node,S.offset))}}g.collapse(f.node,f.offset),c.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=c.bidiLevel)}else if(g.extend){g.collapse(f.node,f.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();c.anchor>c.head&&([f,d]=[d,f]),y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==i&&(i.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new ji(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new ji(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Nc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Po(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let l=this.lineAt(t.head,t.assoc);if(!l)return;let u=l.posAtStart;if(t.head==u||t.head==u+l.length)return;let c=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!c||!f||c.bottom>f.top)return;let d=this.domAtPos(t.head+t.assoc,t.assoc);i.collapse(d.node,d.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&i.collapse(r,s)}posFromDOM(e,t){let i=this.tile.nearest(e);if(!i)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let r=i.posAtStart;if(i.isComposite()){let s;if(e==i.dom)s=i.dom.childNodes[t];else{let l=os(e)==0?0:t==0?-1:1;for(;;){let u=e.parentNode;if(u==i.dom)break;l==0&&u.firstChild!=u.lastChild&&(e==u.firstChild?l=-1:l=1),e=u}l<0?s=e:s=e.nextSibling}if(s==i.dom.firstChild)return r;for(;s&&!Ut.get(s);)s=s.nextSibling;if(!s)return r+i.length;for(let l=0,u=r;;l++){let c=i.children[l];if(c.dom==s)return u;u+=c.length+c.breakAfter}}else return i.isText()?e==i.dom?r+t:r+(t?i.length:0):r}domAtPos(e,t){let{tile:i,offset:r}=this.tile.resolveBlock(e,t);return i.isWidget()?i.domPosFor(e,t):i.domIn(r,t)}inlineDOMNearPos(e,t){let i,r=-1,s=!1,l,u=-1,c=!1;return this.tile.blockTiles((f,d)=>{if(f.isWidget()){if(f.flags&32&&d>=e)return!0;f.flags&16&&(s=!0)}else{let m=d+f.length;if(d<=e&&(i=f,r=e-d,s=m<e),m>=e&&!l&&(l=f,u=e-d,c=d>e),d>e&&l)return!0}}),!i&&!l?this.domAtPos(e,t):(s&&l?i=null:c&&i&&(l=null),i&&t<0||!l?i.domIn(r,t):l.domIn(u,t))}coordsAt(e,t){let{tile:i,offset:r}=this.tile.resolveBlock(e,t);return i.isWidget()?i.widget instanceof Jy?null:i.coordsInWidget(r,t,!0):i.coordsIn(r,t)}lineAt(e,t){let{tile:i}=this.tile.resolveBlock(e,t);return i.isLine()?i:null}coordsForChar(e){let{tile:t,offset:i}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function r(s,l){if(s.isComposite())for(let u of s.children){if(u.length>=l){let c=r(u,l);if(c)return c}if(l-=u.length,l<0)break}else if(s.isText()&&l<s.length){let u=Wt(s.text,l);if(u==l)return null;let c=oh(s.dom,l,u).getClientRects();for(let f=0;f<c.length;f++){let d=c[f];if(f==c.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return r(t,i)}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==gt.LTR,f=0,d=(m,g,y)=>{for(let S=0;S<m.children.length&&!(g>r);S++){let x=m.children[S],w=g+x.length,k=x.dom.getBoundingClientRect(),{height:A}=k;if(y&&!S&&(f+=k.top-y.top),x instanceof Js)w>i&&d(x,g,k);else if(g>=i&&(f>0&&t.push(-f),t.push(A+f),f=0,l)){let T=x.dom.lastChild,Z=T?Lc(T):[];if(Z.length){let D=Z[Z.length-1],R=c?D.right-k.left:k.right-D.left;R>u&&(u=R,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=w)}}y&&S==m.children.length-1&&(f+=y.bottom-k.bottom),g=w+x.breakAfter}};return d(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?gt.RTL:gt.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let u=0,c;for(let f of l.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let d=Lc(f.dom);if(d.length!=1)return;u+=d[0].width,c=d[0].height}if(u)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:u/l.length,textHeight:c}}});if(e)return e;let t=document.createElement("div"),i,r,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let l=Lc(t.firstChild)[0];i=t.getBoundingClientRect().height,r=l&&l.width?l.width/27:7,s=l&&l.height?l.height:i,t.remove()}),{lineHeight:i,charWidth:r,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],l=s?s.from-1:this.view.state.doc.length;if(l>i){let u=(t.lineBlockAt(l).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(xe.replace({widget:new Jy(u),block:!0,inclusive:!0,isBlockGap:!0}).range(i,l))}if(!s)break;i=s.to+1}return xe.set(e)}updateDeco(){let e=1,t=this.view.state.facet(jm).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(KS).map((s,l)=>{let u=typeof s=="function";return u&&(i=!0),u?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(Ue.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(yM).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(mM))try{if(f(this.view,e.range,e))return!0}catch(d){Un(this.view.state,d,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=JS(this.view),l={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:u,offsetHeight:c}=this.view.scrollDOM;Cq(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==gt.LTR)}lineHasWidget(e){let t=i=>i.isWidget()||i.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){Hb(this.tile)}}function Hb(n,e){let t=e==null?void 0:e.get(n);if(t!=1){t==null&&n.destroy();for(let i of n.children)Hb(i,e)}}function Jq(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function xM(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=eM(t.focusNode,t.focusOffset),r=tM(t.focusNode,t.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let u=Ut.get(r.node);if(!u||u.isText()&&u.text!=r.node.nodeValue)s=r;else if(n.docView.lastCompositionAfterCursor){let c=Ut.get(i.node);!c||c.isText()&&c.text!=i.node.nodeValue||(s=r)}}if(n.docView.lastCompositionAfterCursor=s!=i,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function eV(n,e,t){let i=xM(n,t);if(!i)return null;let{node:r,from:s,to:l}=i,u=r.nodeValue;if(/[\n\r]/.test(u)||n.state.doc.sliceString(i.from,i.to)!=u)return null;let c=e.invertedDesc;return{range:new _i(c.mapPos(s),c.mapPos(l),s,l),text:r}}function tV(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let nV=class{constructor(){this.changes=[]}compareRange(e,t){go(e,t,this.changes)}comparePoint(e,t){go(e,t,this.changes)}boundChange(e){go(e,e,this.changes)}};function iV(n,e,t){let i=new nV;return Ue.compare(n,e,t,i),i.changes}class rV{constructor(){this.changes=[]}compareRange(e,t){go(e,t,this.changes)}comparePoint(){}boundChange(e){go(e,e,this.changes)}}function sV(n,e,t){let i=new rV;return Ue.compare(n,e,t,i),i.changes}function lV(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function aV(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}class Jy extends Gi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function oV(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return G.cursor(e);s==0?t=1:s==r.length&&(t=-1);let l=s,u=s;t<0?l=Wt(r.text,s,!1):u=Wt(r.text,s);let c=i(r.text.slice(l,u));for(;l>0;){let f=Wt(r.text,l,!1);if(i(r.text.slice(f,l))!=c)break;l=f}for(;u<r.length;){let f=Wt(r.text,u);if(i(r.text.slice(u,f))!=c)break;u=f}return G.range(l+r.from,u+r.from)}function uV(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let u=n.viewState.heightOracle.textHeight,c=Math.floor((r-t.top-(n.defaultLineHeight-u)*.5)/u);s+=c*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(t.from,t.to);return t.from+Lb(l,s,n.state.tabSize)}function Gb(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let r;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!r||s.type==dn.Text&&(r.type!=s.type||(t<0?s.from<e:s.to>e)))&&(r=s)}}return r||i}return i}function cV(n,e,t,i){let r=Gb(n,e.head,e.assoc||-1),s=!i||r.type!=dn.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let l=n.dom.getBoundingClientRect(),u=n.textDirectionAt(r.from),c=n.posAtCoords({x:t==(u==gt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return G.cursor(c,t?-1:1)}return G.cursor(t?r.to:r.from,t?-1:1)}function WT(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),l=n.textDirectionAt(r.from);for(let u=e,c=null;;){let f=Nq(r,s,l,u,t),d=lM;if(!f){if(r.number==(t?n.state.doc.lines:1))return u;d=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),f=n.visualLineSide(r,!t)}if(c){if(!c(d))return u}else{if(!i)return f;c=i(d)}u=f}}function hV(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let l=i(s);return r==Et.Space&&(r=l),r==l}}function fV(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return G.cursor(r,e.assoc);let l=e.goalColumn,u,c=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(r,e.assoc||-1),d=n.documentTop;if(f)l==null&&(l=f.left-c.left),u=s<0?f.top:f.bottom;else{let S=n.viewState.lineBlockAt(r);l==null&&(l=Math.min(c.right-c.left,n.defaultCharacterWidth*(r-S.from))),u=(s<0?S.top:S.bottom)+d}let m=c.left+l,g=i??n.viewState.heightOracle.textHeight>>1,y=Fb(n,{x:m,y:u+g*s},!1,s);return G.cursor(y.pos,y.assoc,void 0,l)}function zc(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,l,u)=>{if(e>s&&e<l){let c=i||t||(e-s<l-e?-1:1);e=c<0?s:l,i=c}});if(!i)return e}}function wM(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let l=zc(n,r.from,0);l!=r.from&&(s=G.cursor(l,-1))}else{let l=zc(n,r.from,-1),u=zc(n,r.to,1);(l!=r.from||u!=r.to)&&(s=G.range(r.from==r.anchor?l:u,r.from==r.head?l:u))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?G.create(t,e.mainIndex):e}function e0(n,e,t){let i=zc(n.state.facet(Uh).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:G.cursor(i,i<t.from?1:-1)}class hr{constructor(e,t){this.pos=e,this.assoc=t}}function Fb(n,e,t,i){let r=n.contentDOM.getBoundingClientRect(),s=r.top+n.viewState.paddingTop,{x:l,y:u}=e,c=u-s,f;for(;;){if(c<0)return new hr(0,1);if(c>n.viewState.docHeight)return new hr(n.state.doc.length,-1);if(f=n.elementAtHeight(c),i==null)break;if(f.type==dn.Text){if(i<0?f.to<n.viewport.from:f.from>n.viewport.to)break;let g=n.docView.coordsAt(i<0?f.from:f.to,i);if(g&&(i<0?g.top<=c+s:g.bottom>=c+s))break}let m=n.viewState.heightOracle.textHeight/2;c=i>0?f.bottom+m:f.top-m}if(n.viewport.from>=f.to||n.viewport.to<=f.from){if(t)return null;if(f.type==dn.Text){let m=uV(n,r,f,l,u);return new hr(m,m==f.from?1:-1)}}if(f.type!=dn.Text)return c<(f.top+f.bottom)/2?new hr(f.from,1):new hr(f.to,-1);let d=n.docView.lineAt(f.from,2);return(!d||d.length!=f.length)&&(d=n.docView.lineAt(f.from,-2)),kM(n,d,f.from,l,u)}function kM(n,e,t,i,r){let s=-1,l=null,u=1e9,c=1e9,f=r,d=r,m=(g,y)=>{for(let S=0;S<g.length;S++){let x=g[S];if(x.top==x.bottom)continue;let w=x.left>i?x.left-i:x.right<i?i-x.right:0,k=x.top>r?x.top-r:x.bottom<r?r-x.bottom:0;x.top<=d&&x.bottom>=f&&(f=Math.min(x.top,f),d=Math.max(x.bottom,d),k=0),(s<0||(k-c||w-u)<0)&&(s>=0&&c&&u<w&&l.top<=d-2&&l.bottom>=f+2?c=0:(s=y,u=w,c=k,l=x))}};if(e.isText()){for(let y=0;y<e.length;){let S=Wt(e.text,y);if(m(oh(e.dom,y,S).getClientRects(),y),!u&&!c)break;y=S}return i>(l.left+l.right)/2==(HT(n,s+t)==gt.LTR)?new hr(t+Wt(e.text,s),-1):new hr(t+s,1)}else{if(!e.length)return new hr(t,1);for(let x=0;x<e.children.length;x++){let w=e.children[x];if(w.flags&48)continue;let k=(w.dom.nodeType==1?w.dom:oh(w.dom,0,w.length)).getClientRects();if(m(k,x),!u&&!c)break}let g=e.children[s],y=e.posBefore(g,t);return g.isComposite()||g.isText()?kM(n,g,y,Math.max(l.left,Math.min(l.right,i)),r):i>(l.left+l.right)/2==(HT(n,s+t)==gt.LTR)?new hr(y+g.length,-1):new hr(y,1)}}function HT(n,e){let t=n.state.doc.lineAt(e);return n.bidiSpans(t)[Kr.find(n.bidiSpans(t),e-t.from,-1,1)].dir}const wc="";class dV{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineSeparator=t.state.facet(Ye.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=wc}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let l=Ut.get(r),u=r.nextSibling;if(u==t){l!=null&&l.breakAfter&&!u&&i!=this.view.contentDOM&&this.lineBreak();break}let c=Ut.get(u);(l&&c?l.breakAfter:(l?l.breakAfter:Yp(r))||Yp(u)&&(r.nodeName!="BR"||l!=null&&l.isWidget())&&this.text.length>s)&&!mV(u,t)&&this.lineBreak(),r=u}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,u;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),l=this.lineSeparator.length):(u=r.exec(t))&&(s=u.index,l=u[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=l-1);i=s+l}}readNode(e){let t=Ut.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(pV(e,i.node,i.offset)?t:0))}}function pV(n,e,t){for(;;){if(!e||t<os(e))return!1;if(e==n)return!0;t=ll(e)+1,e=e.parentNode}}function mV(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=Ut.get(n);if(!(i!=null&&i.isWidget()))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let r=i.overrideDOMText;if(r!=null&&r.length)return!1}return!0}class GT{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class gV{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=_M(e.docView.tile,t,i,0))){let u=s||l?[]:yV(e),c=new dV(u,e);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=bV(u,this.bounds.from)}else{let u=e.observer.selectionRange,c=s&&s.node==u.focusNode&&s.offset==u.focusOffset||!jb(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),f=l&&l.node==u.anchorNode&&l.offset==u.anchorOffset||!jb(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),d=e.viewport;if((Oe.ios||Oe.chrome)&&e.state.selection.main.empty&&c!=f&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(c,f),g=Math.max(c,f),y=d.from-m,S=d.to-g;(y==0||y==1||m==0)&&(S==0||S==-1||g==e.state.doc.length)&&(c=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(G.range(f,c)):this.newSel=G.single(f,c)}}}function _M(n,e,t,i){if(n.isComposite()){let r=-1,s=-1,l=-1,u=-1;for(let c=0,f=i,d=i;c<n.children.length;c++){let m=n.children[c],g=f+m.length;if(f<e&&g>t)return _M(m,e,t,f);if(g>=e&&r==-1&&(r=c,s=f),f>t&&m.dom.parentNode==n.dom){l=c,u=d;break}d=g,f=g+m.breakAfter}return{from:s,to:u<0?i+n.length:u,startDOM:(r?n.children[r-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:l<n.children.length&&l>=0?n.children[l].dom:null}}else return n.isText()?{from:i,to:i+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function CM(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:u}=e.bounds,c=r.from,f=null;(s===8||Oe.android&&e.text.length<u-l)&&(c=r.to,f="end");let d=TM(n.state.doc.sliceString(l,u,wc),e.text,c-l,f);d&&(Oe.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==wc+wc&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:Fe.of(e.text.slice(d.from,d.toB).split(wc))})}else i&&(!n.hasFocus&&n.state.facet(Wr)||Fp(i,r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:(Oe.mac||Oe.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=G.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:Fe.of([t.insert.toString().replace("."," ")])}):t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:n.state.doc.lineAt(r.from).to<r.to&&n.docView.lineHasWidget(r.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:r.from,to:r.to,insert:n.state.toText(n.inputState.insertingText)}:Oe.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=G.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:Fe.of([" "])}),t)return ev(n,t,i,s);if(i&&!Fp(i,r)){let l=!1,u="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),u=n.inputState.lastSelectionOrigin,u=="select.pointer"&&(i=wM(n.state.facet(Uh).map(c=>c(n)),i))),n.dispatch({selection:i,scrollIntoView:l,userEvent:u}),!0}else return!1}function ev(n,e,t,i=-1){if(Oe.ios&&n.inputState.flushIOSKey(e))return!0;let r=n.state.selection.main;if(Oe.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&n.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Oo(n.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Oo(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Oo(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,u=()=>l||(l=OV(n,e,t));return n.state.facet(hM).some(c=>c(n,e.from,e.to,s,u))||n.dispatch(u()),!0}function OV(n,e,t){let i,r=n.state,s=r.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let c=e.from<s.from?-1:1,f=c<0?s.from:s.to,d=zc(r.facet(Uh).map(m=>m(n)),f,c);e.from==d&&(l=d)}if(l>-1)i={changes:e,selection:G.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let c=s.from<e.from?r.sliceDoc(s.from,e.from):"",f=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(c+e.insert.sliceString(0,void 0,n.state.lineBreak)+f))}else{let c=r.changes(e),f=t&&t.main.to<=c.newLength?t.main:void 0;if(r.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=n.state.sliceDoc(e.from,e.to),m,g=t&&xM(n,t.main.head);if(g){let S=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-S}}else m=n.state.doc.lineAt(s.head);let y=s.to-e.to;i=r.changeByRange(S=>{if(S.from==s.from&&S.to==s.to)return{changes:c,range:f||S.map(c)};let x=S.to-y,w=x-d.length;if(n.state.sliceDoc(w,x)!=d||x>=m.from&&w<=m.to)return{range:S};let k=r.changes({from:w,to:x,insert:e.insert}),A=S.to-s.to;return{changes:k,range:f?G.range(Math.max(0,f.anchor+A),Math.max(0,f.head+A)):S.map(k)}})}else i={changes:c,selection:f&&r.selection.replaceRange(f)}}let u="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:u,scrollIntoView:!0})}function TM(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let l=n.length,u=e.length;for(;l>0&&u>0&&n.charCodeAt(l-1)==e.charCodeAt(u-1);)l--,u--;if(i=="end"){let c=Math.max(0,s-Math.min(l,u));t-=l+c-s}if(l<s&&n.length<e.length){let c=t<=s&&t>=l?s-t:0;s-=c,u=s+(u-l),l=s}else if(u<s){let c=t<=s&&t>=u?s-t:0;s-=c,l=s+(l-u),u=s}return{from:s,toA:l,toB:u}}function yV(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new GT(t,i)),(r!=t||s!=i)&&e.push(new GT(r,s))),e}function bV(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?G.single(t+e,i+e):null}function Fp(n,e){return e.head==n.main.head&&e.anchor==n.main.anchor}class SV{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Oe.safari&&e.contentDOM.addEventListener("input",()=>null),Oe.gecko&&DV(e.contentDOM.ownerDocument)}handleEvent(e){!EV(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=vV(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,u=i[s];u&&l!=!u.handlers.length&&(r.removeEventListener(s,this.handleEvent),u=null),u||r.addEventListener(s,this.handleEvent,{passive:l})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&QM.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Oe.android&&Oe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Oe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=EM.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||xV.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Oo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Oe.safari&&!Oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function FT(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Un(t.state,r)}}}function vV(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec,s=r&&r.plugin.domEventHandlers,l=r&&r.plugin.domEventObservers;if(s)for(let u in s){let c=s[u];c&&t(u).handlers.push(FT(i.value,c))}if(l)for(let u in l){let c=l[u];c&&t(u).observers.push(FT(i.value,c))}}for(let i in Hi)t(i).handlers.push(Hi[i]);for(let i in Ai)t(i).observers.push(Ai[i]);return e}const EM=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],xV="dthko",QM=[16,17,18,20,91,92,224,225],Qd=6;function Ad(n){return Math.max(0,n)*.7+8}function wV(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class kV{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Tq(e.contentDOM),this.atoms=e.state.facet(Uh).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ye.allowMultipleSelections)&&_V(e,t),this.dragging=TV(e,t)&&RM(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&wV(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,s=0,l=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:u}=this.scrollParents.y.getBoundingClientRect());let c=JS(this.view);e.clientX-c.left<=r+Qd?t=-Ad(r-e.clientX):e.clientX+c.right>=l-Qd&&(t=Ad(e.clientX-l)),e.clientY-c.top<=s+Qd?i=-Ad(s-e.clientY):e.clientY+c.bottom>=u-Qd&&(i=Ad(e.clientY-u)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=wM(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function _V(n,e){let t=n.state.facet(aM);return t.length?t[0](e):Oe.mac?e.metaKey:e.ctrlKey}function CV(n,e){let t=n.state.facet(oM);return t.length?t[0](e):Oe.mac?!e.altKey:!e.ctrlKey}function TV(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Po(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let l=r[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function EV(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Ut.get(t))&&i.isWidget()&&!i.isHidden&&i.widget.ignoreEvent(e))return!1;return!0}const Hi=Object.create(null),Ai=Object.create(null),AM=Oe.ie&&Oe.ie_version<15||Oe.ios&&Oe.webkit_version<604;function QV(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),PM(n,t.value)},50)}function Ym(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function PM(n,e){e=Ym(n.state,HS,e);let{state:t}=n,i,r=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(Kb!=null&&t.selection.ranges.every(c=>c.empty)&&Kb==s.toString()){let c=-1;i=t.changeByRange(f=>{let d=t.doc.lineAt(f.from);if(d.from==c)return{range:f};c=d.from;let m=t.toText((l?s.line(r++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:G.cursor(f.from+m.length)}})}else l?i=t.changeByRange(c=>{let f=s.line(r++);return{changes:{from:c.from,to:c.to,insert:f.text},range:G.cursor(c.from+f.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ai.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Hi.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ai.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ai.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Hi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(uM))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=PV(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new kV(n,e,t,i)),i&&n.observer.ignore(()=>{K2(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function KT(n,e,t,i){if(i==1)return G.cursor(e,t);if(i==2)return oV(n.state,e,t);{let r=n.docView.lineAt(e,t),s=n.state.doc.lineAt(r?r.posAtEnd:e),l=r?r.posAtStart:s.from,u=r?r.posAtEnd:s.to;return u<n.state.doc.length&&u==s.to&&u++,G.range(l,u)}}const AV=Oe.ie&&Oe.ie_version<=11;let JT=null,eE=0,tE=0;function RM(n){if(!AV)return n.detail;let e=JT,t=tE;return JT=n,tE=Date.now(),eE=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(eE+1)%3:1}function PV(n,e){let t=n.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),i=RM(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,l,u){let c=n.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,d=KT(n,c.pos,c.assoc,i);if(t.pos!=c.pos&&!l){let m=KT(n,t.pos,t.assoc,i),g=Math.min(m.from,d.from),y=Math.max(m.to,d.to);d=g<d.from?G.range(g,y):G.range(y,g)}return l?r.replaceRange(r.main.extend(d.from,d.to)):u&&i==1&&r.ranges.length>1&&(f=RV(r,c.pos))?f:u?r.addRange(d):G.create([d])}}}function RV(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return G.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Hi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.tile.nearest(e.target);if(r&&r.isWidget()){let s=r.posAtStart,l=s+r.length;(s>=t.to||l<=t.from)&&(t=G.range(s,l))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Ym(n.state,GS,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Hi.dragend=n=>(n.inputState.draggedContent=null,!1);function nE(n,e,t,i){if(t=Ym(n.state,HS,t),!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,l=i&&s&&CV(n,e)?{from:s.from,to:s.to}:null,u={from:r,insert:t},c=n.state.changes(l?[l,u]:u);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(r,-1),head:c.mapPos(r,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Hi.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&nE(n,e,i.filter(l=>l!=null).join(n.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let u=new FileReader;u.onerror=s,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(i[l]=u.result),s()},u.readAsText(t[l])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return nE(n,e,i,!0),!0}return!1};Hi.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=AM?null:e.clipboardData;return t?(PM(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(QV(n),!1)};function MV(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function $V(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let l=n.doc.lineAt(s);l.number>r&&(e.push(l.text),t.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),r=l.number}i=!0}return{text:Ym(n,GS,e.join(n.lineBreak)),ranges:t,linewise:i}}let Kb=null;Hi.copy=Hi.cut=(n,e)=>{let t=Po(n.root);if(t&&!Ic(n.contentDOM,t))return!1;let{text:i,ranges:r,linewise:s}=$V(n.state);if(!i&&!s)return!1;Kb=s?i:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let l=AM?null:e.clipboardData;return l?(l.clearData(),l.setData("text/plain",i),!0):(MV(n,i),!1)};const MM=vr.define();function $M(n,e){let t=[];for(let i of n.facet(fM)){let r=i(n,e);r&&t.push(r)}return t.length?n.update({effects:t,annotations:MM.of(!0)}):null}function DM(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=$M(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ai.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),DM(n)};Ai.blur=n=>{n.observer.clearSelectionRange(),DM(n)};Ai.compositionstart=Ai.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ai.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Oe.chrome&&Oe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ai.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Hi.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let u=l[0],c=n.posAtDOM(u.startContainer,u.startOffset),f=n.posAtDOM(u.endContainer,u.endOffset);return ev(n,{from:c,to:f,insert:n.state.toText(s)},null),!0}}let r;if(Oe.chrome&&Oe.android&&(r=EM.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Oe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Oe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ai.compositionend(n,e),20),!1};const iE=new Set;function DV(n){iE.has(n)||(iE.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const rE=["pre-wrap","normal","pre-line","break-spaces"];let $o=!1;function sE(){$o=!1}class IV{constructor(e){this.lineWrapping=e,this.doc=Fe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,l){let u=rE.indexOf(e)>-1,c=Math.abs(t-this.lineHeight)>.3||this.lineWrapping!=u||Math.abs(i-this.charWidth)>.1;if(this.lineWrapping=u,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,c){this.heightSamples={};for(let f=0;f<l.length;f++){let d=l[f];d<0?f++:this.heightSamples[Math.floor(d*10)]=!0}}return c}}class LV{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Bi{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?dn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof na?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Bi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var vt=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(vt||(vt={}));const up=.001;class Cn{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>up&&($o=!0),this.height=e)}replace(e,t,i){return Cn.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,l=i.doc;for(let u=r.length-1;u>=0;u--){let{fromA:c,toA:f,fromB:d,toB:m}=r[u],g=s.lineAt(c,vt.ByPosNoHeight,i.setDoc(t),0,0),y=g.to>=f?g:s.lineAt(f,vt.ByPosNoHeight,i,0,0);for(m+=y.to-f,f=y.to;u>0&&g.from<=r[u-1].toA;)c=r[u-1].fromA,d=r[u-1].fromB,u--,c<g.from&&(g=s.lineAt(c,vt.ByPosNoHeight,i,0,0));d+=g.from-c,c=g.from;let S=tv.build(i.setDoc(l),e,d,m);s=Kp(s,s.replace(c,f,S))}return s.updateHeight(i,0)}static empty(){return new li(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let u=e[t-1];u.break?e.splice(--t,1,u.left,null,u.right):e.splice(--t,1,u.left,u.right),i+=1+u.break,r-=u.size}else if(s>r*2){let u=e[i];u.break?e.splice(i,1,u.left,null,u.right):e.splice(i,1,u.left,u.right),i+=2+u.break,s-=u.size}else break;else if(r<s){let u=e[t++];u&&(r+=u.size)}else{let u=e[--i];u&&(s+=u.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,i++),new zV(Cn.of(e.slice(0,t)),l,Cn.of(e.slice(i)))}}function Kp(n,e){return n==e?n:(n.constructor!=e.constructor&&($o=!0),e)}Cn.prototype.size=1;const NV=xe.replace({});class IM extends Cn{constructor(e,t,i){super(e,t),this.deco=i,this.spaceAbove=0}mainBlock(e,t){return new Bi(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,i,r){return this.spaceAbove&&e<i+this.spaceAbove?new Bi(r,0,i,this.spaceAbove,NV):this.mainBlock(i,r)}lineAt(e,t,i,r,s){let l=this.mainBlock(r,s);return this.spaceAbove?this.blockAt(0,i,r,s).join(l):l}forEachLine(e,t,i,r,s,l){e<=s+this.length&&t>=s&&l(this.lineAt(0,vt.ByPos,i,r,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setMeasuredHeight(r),this.outdated=!1,this}toString(){return`block(${this.length})`}}class li extends IM{constructor(e,t,i){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(e,t){return new Bi(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof li||r instanceof un&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof un?r=new li(r.length,this.height,this.spaceAbove):r.height=this.height,this.outdated||(r.outdated=!1),r):Cn.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setMeasuredHeight(r):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class un extends Cn{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,l,u=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*s);l=c/s,this.length>s+1&&(u=(this.height-c)/(this.length-s-1))}else l=this.height/s;return{firstLine:i,lastLine:r,perLine:l,perChar:u}}blockAt(e,t,i,r){let{firstLine:s,lastLine:l,perLine:u,perChar:c}=this.heightMetrics(t,r);if(t.lineWrapping){let f=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),d=t.doc.lineAt(f),m=u+d.length*c,g=Math.max(i,e-m/2);return new Bi(d.from,d.length,g,m,0)}else{let f=Math.max(0,Math.min(l-s,Math.floor((e-i)/u))),{from:d,length:m}=t.doc.line(s+f);return new Bi(d,m,i+u*f,u,0)}}lineAt(e,t,i,r,s){if(t==vt.ByHeight)return this.blockAt(e,i,r,s);if(t==vt.ByPosNoHeight){let{from:y,to:S}=i.doc.lineAt(e);return new Bi(y,S-y,0,0,0)}let{firstLine:l,perLine:u,perChar:c}=this.heightMetrics(i,s),f=i.doc.lineAt(e),d=u+f.length*c,m=f.number-l,g=r+u*m+c*(f.from-s-m);return new Bi(f.from,f.length,Math.max(r,Math.min(g,r+this.height-d)),d,0)}forEachLine(e,t,i,r,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:u,perLine:c,perChar:f}=this.heightMetrics(i,s);for(let d=e,m=r;d<=t;){let g=i.doc.lineAt(d);if(d==e){let S=g.number-u;m+=c*S+f*(e-s-S)}let y=c+f*g.length;l(new Bi(g.from,g.length,m,y,0)),m+=y,d=g.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof un?i[i.length-1]=new un(s.length+r):i.push(null,new un(r-1))}if(e>0){let s=i[0];s instanceof un?i[0]=new un(e+s.length):i.unshift(new un(e-1),null)}return Cn.of(i)}decomposeLeft(e,t){t.push(new un(e-1),null)}decomposeRight(e,t){t.push(null,new un(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let l=[],u=Math.max(t,r.from),c=-1;for(r.from>t&&l.push(new un(r.from-t-1).updateHeight(e,t));u<=s&&r.more;){let d=e.doc.lineAt(u).length;l.length&&l.push(null);let m=r.heights[r.index++],g=0;m<0&&(g=-m,m=r.heights[r.index++]),c==-1?c=m:Math.abs(m-c)>=up&&(c=-2);let y=new li(d,m,g);y.outdated=!1,l.push(y),u+=d+1}u<=s&&l.push(null,new un(s-u).updateHeight(e,u));let f=Cn.of(l);return(c<0||Math.abs(f.height-this.height)>=up||Math.abs(c-this.heightMetrics(e,t).perLine)>=up)&&($o=!0),Kp(this,f)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class zV extends Cn{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let l=r+this.left.height,u=s+this.left.length+this.break,c=t==vt.ByHeight?e<l:e<u,f=c?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,l,u);if(this.break||(c?f.to<u:f.from>u))return f;let d=t==vt.ByPosNoHeight?vt.ByPosNoHeight:vt.ByPos;return c?f.join(this.right.lineAt(u,d,i,l,u)):this.left.lineAt(u,d,i,r,s).join(f)}forEachLine(e,t,i,r,s,l){let u=r+this.left.height,c=s+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,i,r,s,l),t>=c&&this.right.forEachLine(e,t,i,u,c,l);else{let f=this.lineAt(c,vt.ByPos,i,r,s);e<f.from&&this.left.forEachLine(e,f.from-1,i,r,s,l),f.to>=e&&f.from<=t&&l(f),t>f.to&&this.right.forEachLine(f.to+1,t,i,u,c,l)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let u of i)s.push(u);if(e>0&&lE(s,l-1),t<this.length){let u=s.length;this.decomposeRight(t,s),lE(s,u)}return Cn.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Cn.of(this.break?[e,null,t]:[e,t]):(this.left=Kp(this.left,e),this.right=Kp(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:l}=this,u=t+s.length+this.break,c=null;return r&&r.from<=t+s.length&&r.more?c=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=u+l.length&&r.more?c=l=l.updateHeight(e,u,i,r):l.updateHeight(e,u,i),c?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function lE(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof un&&(i=n[e+1])instanceof un&&n.splice(e-1,3,new un(t.length+1+i.length))}const BV=5;class tv{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof li?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new li(i-this.pos,-1,0)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let l=t-e;i.block?this.addBlock(new IM(l,r,i)):(l||s||r>=BV)&&this.addLineDeco(r,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new li(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let i=new un(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof li)return e;let t=new li(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof li)&&!this.isCovered?this.nodes.push(new li(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof li&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new tv(i,e);return Ue.spans(t,i,r,s,0),s.finish(i)}}function XV(n,e,t){let i=new ZV;return Ue.compare(n,e,t,i,0),i.changes}class ZV{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&go(e,t,this.changes,5)}}function UV(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),l=Math.min(r.innerWidth,t.right),u=Math.max(0,t.top),c=Math.min(r.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let d=f,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),u=Math.max(u,g.top),c=Math.min(f==n.parentNode?r.innerHeight:c,g.bottom)}f=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:u-(t.top+e),bottom:Math.max(u,c)-(t.top+e)}}function jV(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function qV(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class t0{constructor(e,t,i,r){this.from=e,this.to=t,this.size=i,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return xe.replace({widget:new VV(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class VV extends Gi{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class aE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=oE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=gt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(FS).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new IV(t),this.stateDeco=uE(e),this.heightMap=Cn.empty().applyChanges(this.stateDeco,Fe.empty,this.heightOracle.setDoc(e.doc),[new _i(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xe.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:l})=>r>=s&&r<=l)){let{from:s,to:l}=this.lineBlockAt(r);e.push(new Pd(s,l))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?oE:new nv(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(kc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=uE(this.state);let r=e.changedRanges,s=_i.extendWithRanges(r,XV(i,this.stateDeco,e?e.changes:Vt.empty(this.state.doc.length))),l=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);sE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||$o)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let c=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let f=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(pM)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?gt.RTL:gt.LTR;let l=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,u=t.getBoundingClientRect(),c=l||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let f=0,d=0;if(u.width&&u.height){let{scaleX:Z,scaleY:D}=F2(t,u);(Z>.005&&Math.abs(this.scaleX-Z)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=Z,this.scaleY=D,f|=16,l=c=!0)}let m=(parseInt(i.paddingTop)||0)*this.scaleY,g=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=J2(e.scrollDOM);let S=(this.printing?qV:UV)(t,this.paddingTop),x=S.top-this.pixelViewport.top,w=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(c=!0)),!this.inView&&!this.scrollTarget&&!jV(e.dom))return 0;let A=u.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),c){let Z=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(Z)&&(l=!0),l||r.lineWrapping&&Math.abs(A-this.contentDOMWidth)>r.charWidth){let{lineHeight:D,charWidth:R,textHeight:B}=e.docView.measureTextSize();l=D>0&&r.refresh(s,D,R,B,Math.max(5,A/R),Z),l&&(e.docView.minWidth=0,f|=16)}x>0&&w>0?d=Math.max(x,w):x<0&&w<0&&(d=Math.min(x,w)),sE();for(let D of this.viewports){let R=D.from==this.viewport.from?Z:e.docView.measureVisibleLineHeights(D);this.heightMap=(l?Cn.empty().applyChanges(this.stateDeco,Fe.empty,this.heightOracle,[new _i(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,l,new LV(D.from,R))}$o&&(f|=2)}let T=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),f|=this.updateForViewport()),(f&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:u}=this,c=new Pd(r.lineAt(l-i*1e3,vt.ByHeight,s,0,0).from,r.lineAt(u+(1-i)*1e3,vt.ByHeight,s,0,0).to);if(t){let{head:f}=t.range;if(f<c.from||f>c.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=r.lineAt(f,vt.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&f<c.from?g=m.top:g=m.bottom-d,c=new Pd(r.lineAt(g-1e3/2,vt.ByHeight,s,0,0).from,r.lineAt(g+d+1e3/2,vt.ByHeight,s,0,0).to)}}return c}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Pd(this.heightMap.lineAt(i,vt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,vt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,vt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,vt.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:u}=this;return(e==0||r<=l-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=u+Math.max(10,Math.min(i,250)))&&r>l-2*1e3&&s<u+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new t0(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,l=r<<1;if(this.defaultTextDirection!=gt.LTR&&!i)return[];let u=[],c=(d,m,g,y)=>{if(m-d<s)return;let S=this.state.selection.main,x=[S.from];S.empty||x.push(S.to);for(let k of x)if(k>d&&k<m){c(d,k-10,g,y),c(k+10,m,g,y);return}let w=WV(e,k=>k.from>=g.from&&k.to<=g.to&&Math.abs(k.from-d)<s&&Math.abs(k.to-m)<s&&!x.some(A=>k.from<A&&k.to>A));if(!w){if(m<g.to&&t&&i&&t.visibleRanges.some(T=>T.from<=m&&T.to>=m)){let T=t.moveToLineBoundary(G.cursor(m),!1,!0).head;T>d&&(m=T)}let k=this.gapSize(g,d,m,y),A=i||k<2e6?k:2e6;w=new t0(d,m,k,A)}u.push(w)},f=d=>{if(d.length<l||d.type!=dn.Text)return;let m=YV(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,S;if(i){let x=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,k;if(g!=null){let A=Md(m,g),T=((this.visibleBottom-this.visibleTop)/2+x)/d.height;w=A-T,k=A+T}else w=(this.visibleTop-d.top-x)/d.height,k=(this.visibleBottom-d.top+x)/d.height;y=Rd(m,w),S=Rd(m,k)}else{let x=m.total*this.heightOracle.charWidth,w=r*this.heightOracle.charWidth,k=0;if(x>2e6)for(let R of e)R.from>=d.from&&R.from<d.to&&R.size!=R.displaySize&&R.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=R.size-R.displaySize);let A=this.pixelViewport.left+k,T=this.pixelViewport.right+k,Z,D;if(g!=null){let R=Md(m,g),B=((T-A)/2+w)/x;Z=R-B,D=R+B}else Z=(A-w)/x,D=(T+w)/x;y=Rd(m,Z),S=Rd(m,D)}y>d.from&&c(d.from,y,d,m),S<d.to&&c(S,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(f):f(d);return u}gapSize(e,t,i,r){let s=Md(r,i)-Md(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){t0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=xe.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Ue.spans(t,this.viewport.from,this.viewport.to,{span(s,l){i.push({from:s,to:l})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let l=this.visibleRanges[s],u=i[s];(l.from!=u.from||l.to!=u.to)&&(r|=4,e&&e.mapPos(l.from,-1)==u.from&&e.mapPos(l.to,1)==u.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||kc(this.heightMap.lineAt(e,vt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||kc(this.heightMap.lineAt(this.scaler.fromDOM(e),vt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return kc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Pd{constructor(e,t){this.from=e,this.to=t}}function YV(n,e,t){let i=[],r=n,s=0;return Ue.spans(t,n,e,{span(){},point(l,u){l>r&&(i.push({from:r,to:l}),s+=l-r),r=u}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Rd({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:l}=e[r],u=l-s;if(i<=u)return s+i;i-=u}}function Md(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function WV(n,e){for(let t of n)if(e(t))return t}const oE={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};function uE(n){let e=n.facet(jm).filter(i=>typeof i!="function"),t=n.facet(KS).filter(i=>typeof i!="function");return t.length&&e.push(Ue.join(t)),e}class nv{constructor(e,t,i){let r=0,s=0,l=0;this.viewports=i.map(({from:u,to:c})=>{let f=t.lineAt(u,vt.ByPos,e,0,0).top,d=t.lineAt(c,vt.ByPos,e,0,0).bottom;return r+=d-f,{from:u,to:c,top:f,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let u of this.viewports)u.domTop=l+(u.top-s)*this.scale,l=u.domBottom=u.domTop+(u.bottom-u.top),s=u.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof nv?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function kc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Bi(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>kc(r,e)):n._content)}const $d=ge.define({combine:n=>n.join(" ")}),Jb=ge.define({combine:n=>n.indexOf(!0)>-1}),e1=rl.newName(),LM=rl.newName(),NM=rl.newName(),zM={"&light":"."+LM,"&dark":"."+NM};function t1(n,e,t){return new rl(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const HV=t1("."+e1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},zM),GV={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},n0=Oe.ie&&Oe.ie_version<=11;class FV{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Eq,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Oe.ie&&Oe.ie_version<=11||Oe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Oe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Oe.chrome&&Oe.chrome_version<126)&&(this.editContext=new JV(e),e.state.facet(Wr)&&(e.contentDOM.editContext=this.editContext.editContext)),n0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Wr)?i.root.activeElement!=this.dom:!Ic(this.dom,r))return;let s=r.anchorNode&&i.docView.tile.nearest(r.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Oe.ie&&Oe.ie_version<=11||Oe.android&&Oe.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Nc(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Po(e.root);if(!t)return!1;let i=Oe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&KV(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=Ic(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Aq(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,GV),n0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),n0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Oo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(r=!0),t==-1?{from:t,to:i}=l:(t=Math.min(l.from,t),i=Math.max(l.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Ic(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new gV(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=CM(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!Fp(this.view.state.selection,t.newSel.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let i=cE(t,e.previousSibling||e.target.previousSibling,-1),r=cE(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Wr)!=e.state.facet(Wr)&&(e.view.contentDOM.editContext=e.state.facet(Wr)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function cE(n,e,t){for(;e;){let i=Ut.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function hE(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor,1);return Nc(l.node,l.offset,r,s)&&([t,i,r,s]=[r,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}}function KV(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return hE(n,r)}let t=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?hE(n,t):null}class JV{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:l}=r,u=this.toEditorPos(i.updateRangeStart),c=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:u,drifted:!1});let f=c-u>i.text.length;u==this.from&&s<this.from?u=s:c==this.to&&s>this.to&&(c=s);let d=TM(e.state.sliceDoc(u,c),i.text,(f?r.from:r.to)-u,f?"end":null);if(!d){let g=G.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));Fp(g,r)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+u,to:d.toA+u,insert:Fe.of(i.text.slice(d.from,d.toB).split(`
`))};if((Oe.mac||Oe.android)&&m.from==l-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:u,to:c,insert:Fe.of([i.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);ev(e,m,G.single(this.toEditorPos(i.selectionStart,g),this.toEditorPos(i.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let l=this.toEditorPos(i.rangeStart),u=this.toEditorPos(i.rangeEnd);l<u;l++){let c=e.coordsForChar(l);s=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let l=s.underlineStyle,u=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(u)){let c=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(c<f){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(u)?1:2}px`;r.push(xe.mark({attributes:{style:d}}).range(c,f))}}}e.dispatch({effects:gM.of(xe.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=Po(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,l,u,c,f)=>{if(i)return;let d=f.length-(l-s);if(r&&l>=r.to)if(r.from==s&&r.to==l&&r.insert.eq(f)){r=this.pendingContextChange=null,t+=d,this.to+=d;return}else r=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+f.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),f.toString()),this.to+=d}t+=d}),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class de{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Qq(e.parent)||document,this.viewState=new aE(e.state||Ye.create(e)),e.scrollTo&&e.scrollTo.is(Ed)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(so).map(r=>new Gy(r));for(let r of this.plugins)r.update(this);this.observer=new FV(this),this.inputState=new SV(this),this.inputState.ensureHandlers(this.plugins),this.docView=new YT(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let t=e.length==1&&e[0]instanceof Zt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,u=0,c=null;e.some(g=>g.annotation(MM))?(this.inputState.notifiedFocused=l,u=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,c=$M(s,l),c||(u=1));let f=this.observer.delayedAndroidKey,d=null;if(f?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(Ye.phrases)!=this.state.facet(Ye.phrases))return this.setState(s);r=Wp.create(this,s,e),r.flags|=u;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;m=new yo(y.empty?y:G.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(Ed)&&(m=y.value.clip(this.state))}this.viewState.update(r,m),this.bidiCache=Jp.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(xc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet($d)!=r.state.facet($d)&&(this.viewState.mustMeasureContent=!0),(t||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let g of this.state.facet(Wb))try{g(r)}catch(y){Un(this.state,y,"update listener")}(c||d)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),d&&!CM(this,d)&&f.force&&Oo(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new aE(e),this.plugins=e.facet(so).map(i=>new Gy(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new YT(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(so),i=e.state.facet(so);if(t!=i){let r=[];for(let s of i){let l=t.indexOf(s);if(l<0)r.push(new Gy(s));else{let u=this.plugins[l];u.mustUpdate=e,r.push(u)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Un(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(l<0)if(J2(i))s=-1,l=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(r);s=y.from,l=y.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];c&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(y=>{try{return y.read(this)}catch(S){return Un(this.state,S),fE}}),m=Wp.create(this,this.state,[]),g=!1;m.flags|=c,t?t.flags|=c:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let y=0;y<f.length;y++)if(d[y]!=fE)try{let S=f[y];S.write&&S.write(d[y],this)}catch(S){Un(this.state,S)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let S=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(S>1||S<-1){r=r+S,i.scrollTop=r/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let u of this.state.facet(Wb))u(t)}get themeClasses(){return e1+" "+(this.state.facet(Jb)?NM:LM)+" "+this.state.facet($d)}updateAttrs(){let e=dE(this,OM,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Wr)?"true":"false",class:"cm-content",style:`${Oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),dE(this,FS,t);let i=this.observer.ignore(()=>{let r=XT(this.contentDOM,this.contentAttrs,t),s=XT(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(de.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(xc);let e=this.state.facet(de.cspNonce);rl.mount(this.root,this.styleModules.concat(HV).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return e0(this,e,WT(this,e,t,i))}moveByGroup(e,t){return e0(this,e,WT(this,e,t,i=>hV(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return G.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return cV(this,e,t,i)}moveVertically(e,t,i){return e0(this,e,fV(this,e,t,i))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let i=Fb(this,e,t);return i&&i.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),Fb(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),l=s[Kr.find(s,e-r.from,-1,t)];return ah(i,l.dir==gt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(dM)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>e8)return sM(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||rM(s.isolates,i=jT(this,e))))return s.order;i||(i=jT(this,e));let r=Lq(e.text,t,i);return this.bidiCache.push(new Jp(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Oe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{K2(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ed.of(new yo(typeof e=="number"?G.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Ed.of(new yo(G.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return It.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return It.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=rl.newName(),r=[$d.of(i),xc.of(t1(`.${i}`,e))];return t&&t.dark&&r.push(Jb.of(!0)),r}static baseTheme(e){return hs.lowest(xc.of(t1("."+e1,e,zM)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&Ut.get(i)||Ut.get(e);return((t=r==null?void 0:r.root)===null||t===void 0?void 0:t.view)||null}}de.styleModule=xc;de.inputHandler=hM;de.clipboardInputFilter=HS;de.clipboardOutputFilter=GS;de.scrollHandler=mM;de.focusChangeEffect=fM;de.perLineTextDirection=dM;de.exceptionSink=cM;de.updateListener=Wb;de.editable=Wr;de.mouseSelectionStyle=uM;de.dragMovesSelection=oM;de.clickAddsSelectionRange=aM;de.decorations=jm;de.blockWrappers=yM;de.outerDecorations=KS;de.atomicRanges=Uh;de.bidiIsolatedRanges=bM;de.scrollMargins=SM;de.darkTheme=Jb;de.cspNonce=ge.define({combine:n=>n.length?n[0]:""});de.contentAttributes=FS;de.editorAttributes=OM;de.lineWrapping=de.contentAttributes.of({class:"cm-lineWrapping"});de.announce=Ae.define();const e8=4096,fE={};class Jp{constructor(e,t,i,r,s,l){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:gt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==r&&!t.touchesRange(l.from,l.to)&&i.push(new Jp(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return i}}function dE(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],l=typeof s=="function"?s(n):s;l&&VS(l,t)}return t}const t8=Oe.mac?"mac":Oe.windows?"win":Oe.linux?"linux":"key";function n8(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,l,u;for(let c=0;c<t.length-1;++c){const f=t[c];if(/^(cmd|meta|m)$/i.test(f))u=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))e=="mac"?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),u&&(i="Meta-"+i),l&&(i="Shift-"+i),i}function Dd(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const i8=hs.default(de.domEventHandlers({keydown(n,e){return XM(BM(e.state),n,e,"editor")}})),eu=ge.define({enables:i8}),pE=new WeakMap;function BM(n){let e=n.facet(eu),t=pE.get(e);return t||pE.set(e,t=l8(e.reduce((i,r)=>i.concat(r),[]))),t}function r8(n,e,t){return XM(BM(n.state),e,n,t)}let Ys=null;const s8=4e3;function l8(n,e=t8){let t=Object.create(null),i=Object.create(null),r=(l,u)=>{let c=i[l];if(c==null)i[l]=u;else if(c!=u)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,u,c,f,d)=>{var m,g;let y=t[l]||(t[l]=Object.create(null)),S=u.split(/ (?!$)/).map(k=>n8(k,e));for(let k=1;k<S.length;k++){let A=S.slice(0,k).join(" ");r(A,!0),y[A]||(y[A]={preventDefault:!0,stopPropagation:!1,run:[T=>{let Z=Ys={view:T,prefix:A,scope:l};return setTimeout(()=>{Ys==Z&&(Ys=null)},s8),!0}]})}let x=S.join(" ");r(x,!1);let w=y[x]||(y[x]={preventDefault:!1,stopPropagation:!1,run:((g=(m=y._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});c&&w.run.push(c),f&&(w.preventDefault=!0),d&&(w.stopPropagation=!0)};for(let l of n){let u=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of u){let d=t[f]||(t[f]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(y=>m(y,n1))}let c=l[e]||l.key;if(c)for(let f of u)s(f,c,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(f,"Shift-"+c,l.shift,l.preventDefault,l.stopPropagation)}return t}let n1=null;function XM(n,e,t,i){n1=e;let r=Sq(e),s=Nn(r,0),l=cr(s)==r.length&&r!=" ",u="",c=!1,f=!1,d=!1;Ys&&Ys.view==t&&Ys.scope==i&&(u=Ys.prefix+" ",QM.indexOf(e.keyCode)<0&&(f=!0,Ys=null));let m=new Set,g=w=>{if(w){for(let k of w.run)if(!m.has(k)&&(m.add(k),k(t)))return w.stopPropagation&&(d=!0),!0;w.preventDefault&&(w.stopPropagation&&(d=!0),f=!0)}return!1},y=n[i],S,x;return y&&(g(y[u+Dd(r,e,!l)])?c=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Oe.windows&&e.ctrlKey&&e.altKey)&&!(Oe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(S=sl[e.keyCode])&&S!=r?(g(y[u+Dd(S,e,!0)])||e.shiftKey&&(x=sh[e.keyCode])!=r&&x!=S&&g(y[u+Dd(x,e,!1)]))&&(c=!0):l&&e.shiftKey&&g(y[u+Dd(r,e,!0)])&&(c=!0),!c&&g(y._any)&&(c=!0)),f&&(c=!0),c&&d&&e.stopPropagation(),n1=null,c}class jh{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=ZM(e);return[new jh(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return a8(e,t,i)}}function ZM(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==gt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function mE(n,e,t,i){let r=n.coordsAtPos(e,t*2);if(!r)return i;let s=n.dom.getBoundingClientRect(),l=(r.top+r.bottom)/2,u=n.posAtCoords({x:s.left+1,y:l}),c=n.posAtCoords({x:s.right-1,y:l});return u==null||c==null?i:{from:Math.max(i.from,Math.min(u,c)),to:Math.min(i.to,Math.max(u,c))}}function a8(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==gt.LTR,l=n.contentDOM,u=l.getBoundingClientRect(),c=ZM(n),f=l.querySelector(".cm-line"),d=f&&window.getComputedStyle(f),m=u.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=u.right-(d?parseInt(d.paddingRight):0),y=Gb(n,i,1),S=Gb(n,r,-1),x=y.type==dn.Text?y:null,w=S.type==dn.Text?S:null;if(x&&(n.lineWrapping||y.widgetLineBreaks)&&(x=mE(n,i,1,x)),w&&(n.lineWrapping||S.widgetLineBreaks)&&(w=mE(n,r,-1,w)),x&&w&&x.from==w.from&&x.to==w.to)return A(T(t.from,t.to,x));{let D=x?T(t.from,null,x):Z(y,!1),R=w?T(null,t.to,w):Z(S,!0),B=[];return(x||y).to<(w||S).from-(x&&w?1:0)||y.widgetLineBreaks>1&&D.bottom+n.defaultLineHeight/2<R.top?B.push(k(m,D.bottom,g,R.top)):D.bottom<R.top&&n.elementAtHeight((D.bottom+R.top)/2).type==dn.Text&&(D.bottom=R.top=(D.bottom+R.top)/2),A(D).concat(B).concat(A(R))}function k(D,R,B,le){return new jh(e,D-c.left,R-c.top,Math.max(0,B-D),le-R)}function A({top:D,bottom:R,horizontal:B}){let le=[];for(let re=0;re<B.length;re+=2)le.push(k(B[re],D,B[re+1],R));return le}function T(D,R,B){let le=1e9,re=-1e9,I=[];function ee(se,te,N,ne,pe){let F=n.coordsAtPos(se,se==B.to?-2:2),E=n.coordsAtPos(N,N==B.from?2:-2);!F||!E||(le=Math.min(F.top,E.top,le),re=Math.max(F.bottom,E.bottom,re),pe==gt.LTR?I.push(s&&te?m:F.left,s&&ne?g:E.right):I.push(!s&&ne?m:E.left,!s&&te?g:F.right))}let W=D??B.from,he=R??B.to;for(let se of n.visibleRanges)if(se.to>W&&se.from<he)for(let te=Math.max(se.from,W),N=Math.min(se.to,he);;){let ne=n.state.doc.lineAt(te);for(let pe of n.bidiSpans(ne)){let F=pe.from+ne.from,E=pe.to+ne.from;if(F>=N)break;E>te&&ee(Math.max(F,te),D==null&&F<=W,Math.min(E,N),R==null&&E>=he,pe.dir)}if(te=ne.to+1,te>=N)break}return I.length==0&&ee(W,D==null,he,R==null,n.textDirection),{top:le,bottom:re,horizontal:I}}function Z(D,R){let B=u.top+(R?D.top:D.bottom);return{top:B,bottom:B,horizontal:[]}}}function o8(n,e){return n.constructor==e.constructor&&n.eq(e)}class u8{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(cp)!=e.state.facet(cp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(cp);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!o8(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e,Oe.safari&&Oe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const cp=ge.define();function UM(n){return[It.define(e=>new u8(e,n)),cp.of(n)]}const uh=ge.define({combine(n){return xr(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function c8(n={}){return[uh.of(n),h8,f8,d8,pM.of(!0)]}function jM(n){return n.startState.facet(uh)!=n.state.facet(uh)}const h8=UM({above:!0,markers(n){let{state:e}=n,t=e.facet(uh),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=r.empty?r:G.cursor(r.head,r.head>r.anchor?-1:1);for(let c of jh.forRange(n,l,u))i.push(c)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=jM(n);return t&&gE(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){gE(e.state,n)},class:"cm-cursorLayer"});function gE(n,e){e.style.animationDuration=n.facet(uh).cursorBlinkRate+"ms"}const f8=UM({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:jh.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||jM(n)},class:"cm-selectionLayer"}),d8=hs.highest(de.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),qM=Ae.define({map(n,e){return n==null?null:e.mapPos(n)}}),_c=nn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(qM)?i.value:t,n)}}),p8=It.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(_c);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(_c)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(_c),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(_c)!=n&&this.view.dispatch({effects:qM.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function m8(){return[_c,p8]}function OE(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),l=t,u;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;u=e.exec(s.value);)r(l+u.index,u)}function g8(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class O8{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(u,c,f,d)=>r(d,f,f+u[0].length,u,c);else if(typeof i=="function")this.addMatch=(u,c,f,d)=>{let m=i(u,c,f);m&&d(f,f+u[0].length,m)};else if(i)this.addMatch=(u,c,f,d)=>d(f,f+u[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new as,i=t.add.bind(t);for(let{from:r,to:s}of g8(e,this.maxLength))OE(e.state.doc,this.regexp,r,s,(l,u)=>this.addMatch(u,e,l,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,l,u,c)=>{c>=e.view.viewport.from&&u<=e.view.viewport.to&&(i=Math.min(u,i),r=Math.max(c,r))}),e.viewportMoved||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let l=Math.max(s.from,i),u=Math.min(s.to,r);if(u>=l){let c=e.state.doc.lineAt(l),f=c.to<u?e.state.doc.lineAt(u):c,d=Math.max(s.from,c.from),m=Math.min(s.to,f.to);if(this.boundary){for(;l>c.from;l--)if(this.boundary.test(c.text[l-1-c.from])){d=l;break}for(;u<f.to;u++)if(this.boundary.test(f.text[u-f.from])){m=u;break}}let g=[],y,S=(x,w,k)=>g.push(k.range(x,w));if(c==f)for(this.regexp.lastIndex=d-c.from;(y=this.regexp.exec(c.text))&&y.index<m-c.from;)this.addMatch(y,e,y.index+c.from,S);else OE(e.state.doc,this.regexp,d,m,(x,w)=>this.addMatch(w,e,x,S));t=t.update({filterFrom:d,filterTo:m,filter:(x,w)=>x<d||w>m,add:g})}}return t}}const i1=/x/.unicode!=null?"gu":"g",y8=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,i1),b8={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let i0=null;function S8(){var n;if(i0==null&&typeof document<"u"&&document.body){let e=document.body.style;i0=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return i0||!1}const hp=ge.define({combine(n){let e=xr(n,{render:null,specialChars:y8,addSpecialChars:null});return(e.replaceTabs=!S8())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,i1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,i1)),e}});function v8(n={}){return[hp.of(n),x8()]}let yE=null;function x8(){return yE||(yE=It.fromClass(class{constructor(n){this.view=n,this.decorations=xe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(hp)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new O8({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=Nn(e[0],0);if(s==9){let l=r.lineAt(i),u=t.state.tabSize,c=Wi(l.text,u,i-l.from);return xe.replace({widget:new C8((u-c%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=xe.replace({widget:new _8(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(hp);n.startState.facet(hp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const w8="";function k8(n){return n>=32?w8:n==10?"":String.fromCharCode(9216+n)}class _8 extends Gi{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=k8(this.code),i=e.state.phrase("Control character")+" "+(b8[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class C8 extends Gi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function T8(){return Q8}const E8=xe.line({class:"cm-activeLine"}),Q8=It.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(E8.range(r.from)),e=r.from)}return xe.set(t)}},{decorations:n=>n.decorations});class A8 extends Gi{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Lc(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=ah(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function P8(n){let e=It.fromClass(class{constructor(t){this.view=t,this.placeholder=n?xe.set([xe.widget({widget:new A8(n),side:1}).range(0)]):xe.none}get decorations(){return this.view.state.doc.length?xe.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,de.contentAttributes.of({"aria-placeholder":n})]:e}const r1=2e3;function R8(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>r1||t.off>r1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),u=Math.max(e.off,t.off);for(let c=i;c<=r;c++){let f=n.doc.line(c);f.length<=u&&s.push(G.range(f.from+l,f.to+u))}}else{let l=Math.min(e.col,t.col),u=Math.max(e.col,t.col);for(let c=i;c<=r;c++){let f=n.doc.line(c),d=Lb(f.text,l,n.tabSize,!0);if(d<0)s.push(G.cursor(f.to));else{let m=Lb(f.text,u,n.tabSize);s.push(G.range(f.from+d,f.from+m))}}}return s}function M8(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function bE(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>r1?-1:r==i.length?M8(n,e.clientX):Wi(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function $8(n,e){let t=bE(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),l=r.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},i=i.map(r.changes)}},get(r,s,l){let u=bE(n,r);if(!u)return i;let c=R8(n.state,t,u);return c.length?l?G.create(c.concat(i.ranges)):G.create(c):i}}:null}function D8(n){let e=(t=>t.altKey&&t.button==0);return de.mouseSelectionStyle.of((t,i)=>e(i)?$8(t,i):null)}const I8={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},L8={style:"cursor: crosshair"};function N8(n={}){let[e,t]=I8[n.key||"Alt"],i=It.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,de.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?L8:null})]}const Id="-10000px";class VM{constructor(e,t,i,r){this.facet=t,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=i(l,s))}update(e,t){var i;let r=e.state.facet(this.facet),s=r.filter(c=>c);if(r===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let l=[],u=t?[]:null;for(let c=0;c<s.length;c++){let f=s[c],d=-1;if(f){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==f.create&&(d=m)}if(d<0)l[c]=this.createTooltipView(f,c?l[c-1]:null),u&&(u[c]=!!f.above);else{let m=l[c]=this.tooltipViews[d];u&&(u[c]=t[d]),m.update&&m.update(e)}}}for(let c of this.tooltipViews)l.indexOf(c)<0&&(this.removeTooltipView(c),(i=c.destroy)===null||i===void 0||i.call(c));return t&&(u.forEach((c,f)=>t[f]=c),t.length=u.length),this.input=r,this.tooltips=s,this.tooltipViews=l,!0}}function z8(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const r0=ge.define({combine:n=>{var e,t,i;return{position:Oe.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||z8}}}),SE=new WeakMap,iv=It.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(r0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new VM(n,rv,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(r0);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top=Id,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Oe.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),r=JS(this.view);return{visible:{left:i.left+r.left,top:i.top+r.top,right:i.right-r.right,bottom:i.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let u=this.manager.tooltipViews[l];return u.getCoords?u.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(r0).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{visible:t,space:i,scaleX:r,scaleY:s}=n,l=[];for(let u=0;u<this.manager.tooltips.length;u++){let c=this.manager.tooltips[u],f=this.manager.tooltipViews[u],{dom:d}=f,m=n.pos[u],g=n.size[u];if(!m||c.clip!==!1&&(m.bottom<=Math.max(t.top,i.top)||m.top>=Math.min(t.bottom,i.bottom)||m.right<Math.max(t.left,i.left)-.1||m.left>Math.min(t.right,i.right)+.1)){d.style.top=Id;continue}let y=c.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,S=y?7:0,x=g.right-g.left,w=(e=SE.get(f))!==null&&e!==void 0?e:g.bottom-g.top,k=f.offset||X8,A=this.view.textDirection==gt.LTR,T=g.width>i.right-i.left?A?i.left:i.right-g.width:A?Math.max(i.left,Math.min(m.left-(y?14:0)+k.x,i.right-x)):Math.min(Math.max(i.left,m.left-x+(y?14:0)-k.x),i.right-x),Z=this.above[u];!c.strictSide&&(Z?m.top-w-S-k.y<i.top:m.bottom+w+S+k.y>i.bottom)&&Z==i.bottom-m.bottom>m.top-i.top&&(Z=this.above[u]=!Z);let D=(Z?m.top-i.top:i.bottom-m.bottom)-S;if(D<w&&f.resize!==!1){if(D<this.view.defaultLineHeight){d.style.top=Id;continue}SE.set(f,w),d.style.height=(w=D)/s+"px"}else d.style.height&&(d.style.height="");let R=Z?m.top-w-S-k.y:m.bottom+S+k.y,B=T+x;if(f.overlap!==!0)for(let le of l)le.left<B&&le.right>T&&le.top<R+w&&le.bottom>R&&(R=Z?le.top-w-2-S:le.bottom+S+2);if(this.position=="absolute"?(d.style.top=(R-n.parent.top)/s+"px",vE(d,(T-n.parent.left)/r)):(d.style.top=R/s+"px",vE(d,T/r)),y){let le=m.left+(A?k.x:-k.x)-(T+14-7);y.style.left=le/r+"px"}f.overlap!==!0&&l.push({left:T,top:R,right:B,bottom:R+w}),d.classList.toggle("cm-tooltip-above",Z),d.classList.toggle("cm-tooltip-below",!Z),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Id}},{eventObservers:{scroll(){this.maybeMeasure()}}});function vE(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const B8=de.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),X8={x:0,y:0},rv=ge.define({enables:[iv,B8]}),em=ge.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Wm{static create(e){return new Wm(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new VM(e,em,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Z8=rv.compute([em],n=>{let e=n.facet(em);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Wm.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class U8{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.tile.nearest(t.target);if(!i)return;let r,s=1;if(i.isWidget())r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let u=e.coordsAtPos(r);if(!u||t.y<u.top||t.y>u.bottom||t.x<u.left-e.defaultCharacterWidth||t.x>u.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(r)).find(d=>d.from<=r&&d.to>=r),f=c&&c.dir==gt.RTL?-1:1;s=t.x<u.left?-f:f}let l=this.source(e,r,s);if(l!=null&&l.then){let u=this.pending={pos:r};l.then(c=>{this.pending==u&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>Un(e.state,c,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(iv),t=e?e.manager.tooltips.findIndex(i=>i.create==Wm.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!j8(s.dom,e)||this.pending){let{pos:l}=r[0]||this.pending,u=(i=(t=r[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:l;(l==u?this.view.posAtCoords(this.lastMove)!=l:!q8(this.view,l,u,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ld=4;function j8(n,e){let{left:t,right:i,top:r,bottom:s}=n.getBoundingClientRect(),l;if(l=n.querySelector(".cm-tooltip-arrow")){let u=l.getBoundingClientRect();r=Math.min(u.top,r),s=Math.max(u.bottom,s)}return e.clientX>=t-Ld&&e.clientX<=i+Ld&&e.clientY>=r-Ld&&e.clientY<=s+Ld}function q8(n,e,t,i,r,s){let l=n.scrollDOM.getBoundingClientRect(),u=n.documentTop+n.documentPadding.top+n.contentHeight;if(l.left>i||l.right<i||l.top>r||Math.min(l.bottom,u)<r)return!1;let c=n.posAtCoords({x:i,y:r},!1);return c>=e&&c<=t}function V8(n,e={}){let t=Ae.define(),i=nn.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let u of r){let c=s.changes.mapPos(u.pos,-1,fn.TrackDel);if(c!=null){let f=Object.assign(Object.create(null),u);f.pos=c,f.end!=null&&(f.end=s.changes.mapPos(f.end)),l.push(f)}}r=l}for(let l of s.effects)l.is(t)&&(r=l.value),l.is(Y8)&&(r=[]);return r},provide:r=>em.from(r)});return{active:i,extension:[i,It.define(r=>new U8(r,n,i,t,e.hoverTime||300)),Z8]}}function YM(n,e){let t=n.plugin(iv);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Y8=Ae.define(),xE=ge.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function sv(n,e){let t=n.plugin(WM),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const WM=It.fromClass(class{constructor(n){this.input=n.state.facet(ch),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(xE);this.top=new Nd(n,!0,e.topContainer),this.bottom=new Nd(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(xE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Nd(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Nd(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(ch);if(t!=this.input){let i=t.filter(c=>c),r=[],s=[],l=[],u=[];for(let c of i){let f=this.specs.indexOf(c),d;f<0?(d=c(n.view),u.push(d)):(d=this.panels[f],d.update&&d.update(n)),r.push(d),(d.top?s:l).push(d)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(l);for(let c of u)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Nd{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=wE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=wE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function wE(n){let e=n.nextSibling;return n.remove(),e}const ch=ge.define({enables:WM});function W8(n,e){let t,i=new Promise(l=>t=l),r=l=>H8(l,e,t);n.state.field(s0,!1)?n.dispatch({effects:HM.of(r)}):n.dispatch({effects:Ae.appendConfig.of(s0.init(()=>[r]))});let s=GM.of(r);return{close:s,result:i.then(l=>((n.win.queueMicrotask||(c=>n.win.setTimeout(c,10)))(()=>{n.state.field(s0).indexOf(r)>-1&&n.dispatch({effects:s})}),l))}}const s0=nn.define({create(){return[]},update(n,e){for(let t of e.effects)t.is(HM)?n=[t.value].concat(n):t.is(GM)&&(n=n.filter(i=>i!=t.value));return n},provide:n=>ch.computeN([n],e=>e.field(n))}),HM=Ae.define(),GM=Ae.define();function H8(n,e,t){let i=e.content?e.content(n,()=>l(null)):null;if(!i){if(i=ht("form"),e.input){let u=ht("input",e.input);/^(text|password|number|email|tel|url)$/.test(u.type)&&u.classList.add("cm-textfield"),u.name||(u.name="input"),i.appendChild(ht("label",(e.label||"")+": ",u))}else i.appendChild(document.createTextNode(e.label||""));i.appendChild(document.createTextNode(" ")),i.appendChild(ht("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let r=i.nodeName=="FORM"?[i]:i.querySelectorAll("form");for(let u=0;u<r.length;u++){let c=r[u];c.addEventListener("keydown",f=>{f.keyCode==27?(f.preventDefault(),l(null)):f.keyCode==13&&(f.preventDefault(),l(c))}),c.addEventListener("submit",f=>{f.preventDefault(),l(c)})}let s=ht("div",i,ht("button",{onclick:()=>l(null),"aria-label":n.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function l(u){s.contains(s.ownerDocument.activeElement)&&n.focus(),t(u)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let u;typeof e.focus=="string"?u=i.querySelector(e.focus):u=i.querySelector("input")||i.querySelector("button"),u&&"select"in u?u.select():u&&"focus"in u&&u.focus()}}}}class us extends il{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}us.prototype.elementClass="";us.prototype.toDOM=void 0;us.prototype.mapMode=fn.TrackBefore;us.prototype.startSide=us.prototype.endSide=-1;us.prototype.point=!0;const fp=ge.define(),G8=ge.define(),F8={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ue.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Bc=ge.define();function K8(n){return[FM(),Bc.of({...F8,...n})]}const kE=ge.define({combine:n=>n.some(e=>e)});function FM(n){return[J8]}const J8=It.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Bc).map(e=>new CE(n,e)),this.fixed=!n.state.facet(kE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(kE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ue.iter(this.view.state.facet(fp),this.view.viewport.from),i=[],r=this.gutters.map(s=>new e9(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let l=!0;for(let u of s.type)if(u.type==dn.Text&&l){s1(t,i,u.from);for(let c of r)c.line(this.view,u,i);l=!1}else if(u.widget)for(let c of r)c.widget(this.view,u)}else if(s.type==dn.Text){s1(t,i,s.from);for(let l of r)l.line(this.view,s,i)}else if(s.widget)for(let l of r)l.widget(this.view,s);for(let s of r)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Bc),t=n.state.facet(Bc),i=n.docChanged||n.heightChanged||n.viewportChanged||!Ue.eq(n.startState.facet(fp),n.state.facet(fp),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let l=e.indexOf(s);l<0?r.push(new CE(this.view,s)):(this.gutters[l].update(n),r.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,r=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==gt.LTR?{left:i,right:r}:{right:i,left:r}})});function _E(n){return Array.isArray(n)?n:[n]}function s1(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class e9{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Ue.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==r.elements.length){let u=new KM(e,l,s,i);r.elements.push(u),r.dom.appendChild(u.dom)}else r.elements[this.i].update(e,l,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];s1(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let l=this.gutter;r.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),r=i?[i]:null;for(let s of e.state.facet(G8)){let l=s(e,t.widget,t);l&&(r||(r=[])).push(l)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class CE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();l=(c.top+c.bottom)/2}else l=r.clientY;let u=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[i](e,u,r)&&r.preventDefault()});this.markers=_E(t.markers(e)),t.initialSpacer&&(this.spacer=new KM(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=_E(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Ue.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class KM{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),t9(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,l=0;;){let u=l,c=s<t.length?t[s++]:null,f=!1;if(c){let d=c.elementClass;d&&(i+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(c)){u=m,f=!0;break}}else u=this.markers.length;for(;l<u;){let d=this.markers[l++];if(d.toDOM){d.destroy(r);let m=r.nextSibling;r.remove(),r=m}}if(!c)break;c.toDOM&&(f?r=r.nextSibling:this.dom.insertBefore(c.toDOM(e),r)),f&&l++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function t9(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const n9=ge.define(),i9=ge.define(),lo=ge.define({combine(n){return xr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],l=t[r];i[r]=s?(u,c,f)=>s(u,c,f)||l(u,c,f):l}return i}})}});class l0 extends us{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function a0(n,e){return n.state.facet(lo).formatNumber(e,n.state)}const r9=Bc.compute([lo],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(n9)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new l0(a0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let r of e.state.facet(i9)){let s=r(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(lo)!=e.state.facet(lo),initialSpacer(e){return new l0(a0(e,TE(e.state.doc.lines)))},updateSpacer(e,t){let i=a0(t.view,TE(t.view.state.doc.lines));return i==e.number?e:new l0(i)},domEventHandlers:n.facet(lo).domEventHandlers,side:"before"}));function s9(n={}){return[lo.of(n),FM(),r9]}function TE(n){let e=9;for(;e<n;)e=e*10+9;return e}const l9=new class extends us{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},a9=fp.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(l9.range(r)))}return Ue.of(e)});function o9(){return a9}const JM=1024;let u9=0;class Ci{constructor(e,t){this.from=e,this.to=t}}class Pe{constructor(e={}){this.id=u9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ht.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Pe.closedBy=new Pe({deserialize:n=>n.split(" ")});Pe.openedBy=new Pe({deserialize:n=>n.split(" ")});Pe.group=new Pe({deserialize:n=>n.split(" ")});Pe.isolate=new Pe({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Pe.contextHash=new Pe({perNode:!0});Pe.lookAhead=new Pe({perNode:!0});Pe.mounted=new Pe({perNode:!0});class bo{constructor(e,t,i,r=!1){this.tree=e,this.overlay=t,this.parser=i,this.bracketed=r}static get(e){return e&&e.props&&e.props[Pe.mounted.id]}}const c9=Object.create(null);class Ht{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):c9,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ht(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Pe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(Pe.group),s=-1;s<(r?r.length:0);s++){let l=t[s<0?i.name:r[s]];if(l)return l}}}}Ht.none=new Ht("",Object.create(null),0,8);class qh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let l=s(i);if(l){r||(r=Object.assign({},i.props));let u=l[1],c=l[0];c.combine&&c.id in r&&(u=c.combine(r[c.id],u)),r[c.id]=u}}t.push(r?new Ht(i.name,r,i.id,i.flags):i)}return new qh(t)}}const zd=new WeakMap,EE=new WeakMap;var rt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n[n.EnterBracketed=16]="EnterBracketed"})(rt||(rt={}));class nt{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,u]of s)this.props[typeof l=="number"?l:l.id]=u}}toString(){let e=bo.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new tm(this.topNode,e)}cursorAt(e,t=0,i=0){let r=zd.get(this)||this.topNode,s=new tm(r);return s.moveTo(e,t),zd.set(this,s._tree),s}get topNode(){return new yn(this,0,0,null)}resolve(e,t=0){let i=hh(zd.get(this)||this.topNode,e,t,!1);return zd.set(this,i),i}resolveInner(e,t=0){let i=hh(EE.get(this)||this.topNode,e,t,!0);return EE.set(this,i),i}resolveStack(e,t=0){return d9(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,l=e.mode||0,u=(l&rt.IncludeAnonymous)>0;for(let c=this.cursor(l|rt.IncludeAnonymous);;){let f=!1;if(c.from<=s&&c.to>=r&&(!u&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;f=!0}for(;f&&i&&(u||!c.type.isAnonymous)&&i(c),!c.nextSibling();){if(!c.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ov(Ht.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new nt(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new nt(Ht.none,t,i,r)))}static build(e){return p9(e)}}nt.empty=new nt(Ht.none,[],[],0);class lv{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new lv(this.buffer,this.index)}}class al{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ht.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let l=[];for(;e<i;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,i,r,s){let{buffer:l}=this,u=-1;for(let c=e;c!=t&&!(e$(s,r,l[c+1],l[c+2])&&(u=c,i>0));c=l[c+3]);return u}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),l=0;for(let u=e,c=0;u<t;){s[c++]=r[u++],s[c++]=r[u++]-i;let f=s[c++]=r[u++]-i;s[c++]=r[u++]-e,l=Math.max(l,f)}return new al(s,l,this.set)}}function e$(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function hh(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let l=!i&&n instanceof yn&&n.index<0?null:n.parent;if(!l)return n;n=l}let s=i?0:rt.IgnoreOverlays;if(i)for(let l=n,u=l.parent;u;l=u,u=l.parent)l instanceof yn&&l.index<0&&((r=u.enter(e,t,s))===null||r===void 0?void 0:r.from)!=l.from&&(n=u);for(;;){let l=n.enter(e,t,s);if(!l)return n;n=l}}class t${cursor(e=0){return new tm(this,e)}getChild(e,t=null,i=null){let r=QE(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return QE(this,e,t,i)}resolve(e,t=0){return hh(this,e,t,!1)}resolveInner(e,t=0){return hh(this,e,t,!0)}matchContext(e){return l1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class yn extends t${constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let l=this;;){for(let{children:u,positions:c}=l._tree,f=t>0?u.length:-1;e!=f;e+=t){let d=u[e],m=c[e]+l.from,g;if(!(!(s&rt.EnterBracketed&&d instanceof nt&&(g=bo.get(d))&&!g.overlay&&g.bracketed&&i>=m&&i<=m+d.length)&&!e$(r,i,m,m+d.length))){if(d instanceof al){if(s&rt.ExcludeBuffers)continue;let y=d.findChild(0,d.buffer.length,t,i-m,r);if(y>-1)return new fr(new h9(l,d,e,m),null,y)}else if(s&rt.IncludeAnonymous||!d.type.isAnonymous||av(d)){let y;if(!(s&rt.IgnoreMounts)&&(y=bo.get(d))&&!y.overlay)return new yn(y.tree,m,e,l);let S=new yn(d,m,e,l);return s&rt.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(t<0?d.children.length-1:0,t,i,r,s)}}}if(s&rt.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let r;if(!(i&rt.IgnoreOverlays)&&(r=bo.get(this._tree))&&r.overlay){let s=e-this.from,l=i&rt.EnterBracketed&&r.bracketed;for(let{from:u,to:c}of r.overlay)if((t>0||l?u<=s:u<s)&&(t<0||l?c>=s:c>s))return new yn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function QE(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=r.type.is(t),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function l1(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class h9{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class fr extends t${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new fr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&rt.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new fr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new fr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new fr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let l=i.buffer[this.index+1];e.push(i.slice(r,s,l)),t.push(0)}return new nt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function n$(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let l=n[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let i=t instanceof yn&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new f9(r,t)}class f9{constructor(e,t){this.heads=e,this.node=t}get next(){return n$(this.heads)}}function d9(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof yn?i:i.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(r||(r=[i])).push(l.resolve(e,t)),s=l}else{let l=bo.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let u=new yn(l.tree,l.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(hh(u,e,t,!1))}}return r?n$(r):i}class tm{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~rt.EnterBracketed,e instanceof yn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof yn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&rt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,l=e<0?-1:i._tree.children.length;s!=l;s+=e){let u=i._tree.children[s];if(this.mode&rt.IncludeAnonymous||u instanceof al||!u.type.isAnonymous||av(u))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==r){if(r==this.index)return l;t=l,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new fr(this.buffer,t,this.stack[r]);return this.bufferNode=new fr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return l1(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return l1(this._tree,e,r);let l=i[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[r]&&e[r]!=l.name)return!1;r--}}return!0}}function av(n){return n.children.some(e=>e instanceof al||!e.type.isAnonymous||av(e))}function p9(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=JM,reused:s=[],minRepeatType:l=i.types.length}=n,u=Array.isArray(t)?new lv(t,t.length):t,c=i.types,f=0,d=0;function m(D,R,B,le,re,I){let{id:ee,start:W,end:he,size:se}=u,te=d,N=f;if(se<0)if(u.next(),se==-1){let P=s[ee];B.push(P),le.push(W-D);return}else if(se==-3){f=ee;return}else if(se==-4){d=ee;return}else throw new RangeError(`Unrecognized record size: ${se}`);let ne=c[ee],pe,F,E=W-D;if(he-W<=r&&(F=w(u.pos-R,re))){let P=new Uint16Array(F.size-F.skip),U=u.pos-F.size,C=P.length;for(;u.pos>U;)C=k(F.start,P,C);pe=new al(P,he-F.start,i),E=F.start-D}else{let P=u.pos-se;u.next();let U=[],C=[],ue=ee>=l?ee:-1,we=0,Se=he;for(;u.pos>P;)ue>=0&&u.id==ue&&u.size>=0?(u.end<=Se-r&&(S(U,C,W,we,u.end,Se,ue,te,N),we=U.length,Se=u.end),u.next()):I>2500?g(W,P,U,C):m(W,P,U,C,ue,I+1);if(ue>=0&&we>0&&we<U.length&&S(U,C,W,we,W,Se,ue,te,N),U.reverse(),C.reverse(),ue>-1&&we>0){let Ie=y(ne,N);pe=ov(ne,U,C,0,U.length,0,he-W,Ie,Ie)}else pe=x(ne,U,C,he-W,te-he,N)}B.push(pe),le.push(E)}function g(D,R,B,le){let re=[],I=0,ee=-1;for(;u.pos>R;){let{id:W,start:he,end:se,size:te}=u;if(te>4)u.next();else{if(ee>-1&&he<ee)break;ee<0&&(ee=se-r),re.push(W,he,se),I++,u.next()}}if(I){let W=new Uint16Array(I*4),he=re[re.length-2];for(let se=re.length-3,te=0;se>=0;se-=3)W[te++]=re[se],W[te++]=re[se+1]-he,W[te++]=re[se+2]-he,W[te++]=te;B.push(new al(W,re[2]-he,i)),le.push(he-D)}}function y(D,R){return(B,le,re)=>{let I=0,ee=B.length-1,W,he;if(ee>=0&&(W=B[ee])instanceof nt){if(!ee&&W.type==D&&W.length==re)return W;(he=W.prop(Pe.lookAhead))&&(I=le[ee]+W.length+he)}return x(D,B,le,re,I,R)}}function S(D,R,B,le,re,I,ee,W,he){let se=[],te=[];for(;D.length>le;)se.push(D.pop()),te.push(R.pop()+B-re);D.push(x(i.types[ee],se,te,I-re,W-I,he)),R.push(re-B)}function x(D,R,B,le,re,I,ee){if(I){let W=[Pe.contextHash,I];ee=ee?[W].concat(ee):[W]}if(re>25){let W=[Pe.lookAhead,re];ee=ee?[W].concat(ee):[W]}return new nt(D,R,B,le,ee)}function w(D,R){let B=u.fork(),le=0,re=0,I=0,ee=B.end-r,W={size:0,start:0,skip:0};e:for(let he=B.pos-D;B.pos>he;){let se=B.size;if(B.id==R&&se>=0){W.size=le,W.start=re,W.skip=I,I+=4,le+=4,B.next();continue}let te=B.pos-se;if(se<0||te<he||B.start<ee)break;let N=B.id>=l?4:0,ne=B.start;for(B.next();B.pos>te;){if(B.size<0)if(B.size==-3||B.size==-4)N+=4;else break e;else B.id>=l&&(N+=4);B.next()}re=ne,le+=se,I+=N}return(R<0||le==D)&&(W.size=le,W.start=re,W.skip=I),W.size>4?W:void 0}function k(D,R,B){let{id:le,start:re,end:I,size:ee}=u;if(u.next(),ee>=0&&le<l){let W=B;if(ee>4){let he=u.pos-(ee-4);for(;u.pos>he;)B=k(D,R,B)}R[--B]=W,R[--B]=I-D,R[--B]=re-D,R[--B]=le}else ee==-3?f=le:ee==-4&&(d=le);return B}let A=[],T=[];for(;u.pos>0;)m(n.start||0,n.bufferStart||0,A,T,-1,0);let Z=(e=n.length)!==null&&e!==void 0?e:A.length?T[0]+A[0].length:0;return new nt(c[n.topID],A.reverse(),T.reverse(),Z)}const AE=new WeakMap;function dp(n,e){if(!n.isAnonymous||e instanceof al||e.type!=n)return 1;let t=AE.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof nt)){t=1;break}t+=dp(n,i)}AE.set(e,t)}return t}function ov(n,e,t,i,r,s,l,u,c){let f=0;for(let S=i;S<r;S++)f+=dp(n,e[S]);let d=Math.ceil(f*1.5/8),m=[],g=[];function y(S,x,w,k,A){for(let T=w;T<k;){let Z=T,D=x[T],R=dp(n,S[T]);for(T++;T<k;T++){let B=dp(n,S[T]);if(R+B>=d)break;R+=B}if(T==Z+1){if(R>d){let B=S[Z];y(B.children,B.positions,0,B.children.length,x[Z]+A);continue}m.push(S[Z])}else{let B=x[T-1]+S[T-1].length-D;m.push(ov(n,S,x,Z,T,D,B,null,c))}g.push(D+A-s)}}return y(e,t,i,r,0),(u||c)(m,g,l)}class i${constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof fr?this.setBuffer(e.context.buffer,e.index,t):e instanceof yn&&this.map.set(e.tree,t)}get(e){return e instanceof fr?this.getBuffer(e.context.buffer,e.index):e instanceof yn?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ts{constructor(e,t,i,r,s=!1,l=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new ts(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,l=e.length?e[0]:null;for(let u=0,c=0,f=0;;u++){let d=u<t.length?t[u]:null,m=d?d.fromA:1e9;if(m-c>=i)for(;l&&l.from<m;){let g=l;if(c>=g.from||m<=g.to||f){let y=Math.max(g.from,c)-f,S=Math.min(g.to,m)-f;g=y>=S?null:new ts(y,S,g.tree,g.offset+f,u>0,!!d)}if(g&&r.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;c=d.toA,f=d.toA-d.toB}return r}}class uv{startParse(e,t,i){return typeof e=="string"&&(e=new m9(e)),i=i?i.length?i.map(r=>new Ci(r.from,r.to)):[new Ci(0,0)]:[new Ci(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class m9{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function r$(n){return(e,t,i,r)=>new O9(e,n,t,i,r)}class PE{constructor(e,t,i,r,s,l){this.parser=e,this.parse=t,this.overlay=i,this.bracketed=r,this.target=s,this.from=l}}function RE(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class g9{constructor(e,t,i,r,s,l,u,c){this.parser=e,this.predicate=t,this.mounts=i,this.index=r,this.start=s,this.bracketed=l,this.target=u,this.prev=c,this.depth=0,this.ranges=[]}}const a1=new Pe({perNode:!0});class O9{constructor(e,t,i,r,s){this.nest=t,this.input=i,this.fragments=r,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new nt(i.type,i.children,i.positions,i.length,i.propValues.concat([[a1,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[Pe.mounted.id]=new bo(t,e.overlay,e.parser,e.bracketed),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new S9(this.fragments),t=null,i=null,r=new tm(new yn(this.baseTree,this.ranges[0].from,0,null),rt.IncludeAnonymous|rt.IgnoreMounts);e:for(let s,l;;){let u=!0,c;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)u=!1;else if(e.hasNode(r)){if(t){let f=t.mounts.find(d=>d.frag.from<=r.from&&d.frag.to>=r.to&&d.mount.overlay);if(f)for(let d of f.mount.overlay){let m=d.from+f.pos,g=d.to+f.pos;m>=r.from&&g<=r.to&&!t.ranges.some(y=>y.from<g&&y.to>m)&&t.ranges.push({from:m,to:g})}}u=!1}else if(i&&(l=y9(i.ranges,r.from,r.to)))u=l!=2;else if(!r.type.isAnonymous&&(s=this.nest(r,this.input))&&(r.from<r.to||!s.overlay)){r.tree||(b9(r),t&&t.depth++,i&&i.depth++);let f=e.findMounts(r.from,s.parser);if(typeof s.overlay=="function")t=new g9(s.parser,s.overlay,f,this.inner.length,r.from,!!s.bracketed,r.tree,t);else{let d=DE(this.ranges,s.overlay||(r.from<r.to?[new Ci(r.from,r.to)]:[]));d.length&&RE(d),(d.length||!s.overlay)&&this.inner.push(new PE(s.parser,d.length?s.parser.startParse(this.input,IE(f,d),d):s.parser.startParse(""),s.overlay?s.overlay.map(m=>new Ci(m.from-r.from,m.to-r.from)):null,!!s.bracketed,r.tree,d.length?d[0].from:r.from)),s.overlay?d.length&&(i={ranges:d,depth:0,prev:i}):u=!1}}else if(t&&(c=t.predicate(r))&&(c===!0&&(c=new Ci(r.from,r.to)),c.from<c.to)){let f=t.ranges.length-1;f>=0&&t.ranges[f].to==c.from?t.ranges[f]={from:t.ranges[f].from,to:c.to}:t.ranges.push(c)}if(u&&r.firstChild())t&&t.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){let f=DE(this.ranges,t.ranges);f.length&&(RE(f),this.inner.splice(t.index,0,new PE(t.parser,t.parser.startParse(this.input,IE(t.mounts,f),f),t.ranges.map(d=>new Ci(d.from-t.start,d.to-t.start)),t.bracketed,t.target,f[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function y9(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function ME(n,e,t,i,r,s){if(e<t){let l=n.buffer[e+1];i.push(n.slice(e,t,l)),r.push(l-s)}}function b9(n){let{node:e}=n,t=[],i=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let r=n.tree,s=r.children.indexOf(i),l=r.children[s],u=l.buffer,c=[s];function f(d,m,g,y,S,x){let w=t[x],k=[],A=[];ME(l,d,w,k,A,y);let T=u[w+1],Z=u[w+2];c.push(k.length);let D=x?f(w+4,u[w+3],l.set.types[u[w]],T,Z-T,x-1):e.toTree();return k.push(D),A.push(T-y),ME(l,u[w+3],m,k,A,y),new nt(g,k,A,S)}r.children[s]=f(0,u.length,Ht.none,0,l.length,t.length-1);for(let d of c){let m=n.tree.children[d],g=n.tree.positions[d];n.yield(new yn(m,g+n.from,d,n._tree))}}class $E{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(rt.IncludeAnonymous|rt.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,rt.IgnoreOverlays|rt.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof nt)t=t.children[0];else break}return!1}}let S9=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(a1))!==null&&t!==void 0?t:i.to,this.inner=new $E(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(a1))!==null&&e!==void 0?e:t.to,this.inner=new $E(t.tree,-t.offset)}}findMounts(e,t){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let l=(i=s.tree)===null||i===void 0?void 0:i.prop(Pe.mounted);if(l&&l.parser==t)for(let u=this.fragI;u<this.fragments.length;u++){let c=this.fragments[u];if(c.from>=s.to)break;c.tree==this.curFrag.tree&&r.push({frag:c,pos:s.from-c.offset,mount:l})}}}return r}};function DE(n,e){let t=null,i=e;for(let r=1,s=0;r<n.length;r++){let l=n[r-1].to,u=n[r].from;for(;s<i.length;s++){let c=i[s];if(c.from>=u)break;c.to<=l||(t||(i=t=e.slice()),c.from<l?(t[s]=new Ci(c.from,l),c.to>u&&t.splice(s+1,0,new Ci(u,c.to))):c.to>u?t[s--]=new Ci(u,c.to):t.splice(s--,1))}}return i}function v9(n,e,t,i){let r=0,s=0,l=!1,u=!1,c=-1e9,f=[];for(;;){let d=r==n.length?1e9:l?n[r].to:n[r].from,m=s==e.length?1e9:u?e[s].to:e[s].from;if(l!=u){let g=Math.max(c,t),y=Math.min(d,m,i);g<y&&f.push(new Ci(g,y))}if(c=Math.min(d,m),c==1e9)break;d==c&&(l?(l=!1,r++):l=!0),m==c&&(u?(u=!1,s++):u=!0)}return f}function IE(n,e){let t=[];for(let{pos:i,mount:r,frag:s}of n){let l=i+(r.overlay?r.overlay[0].from:0),u=l+r.tree.length,c=Math.max(s.from,l),f=Math.min(s.to,u);if(r.overlay){let d=r.overlay.map(g=>new Ci(g.from+i,g.to+i)),m=v9(e,d,c,f);for(let g=0,y=c;;g++){let S=g==m.length,x=S?f:m[g].from;if(x>y&&t.push(new ts(y,x,r.tree,-l,s.from>=y||s.openStart,s.to<=x||s.openEnd)),S)break;y=m[g].to}}else t.push(new ts(c,f,r.tree,-l,s.from>=l||s.openStart,s.to<=u||s.openEnd))}return t}let x9=0;class oi{constructor(e,t,i,r){this.name=e,this.set=t,this.base=i,this.modified=r,this.id=x9++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof oi&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new oi(i,[],null,[]);if(r.set.push(r),t)for(let s of t.set)r.set.push(s);return r}static defineModifier(e){let t=new nm(e);return i=>i.modified.indexOf(t)>-1?i:nm.get(i.base||i,i.modified.concat(t).sort((r,s)=>r.id-s.id))}}let w9=0;class nm{constructor(e){this.name=e,this.instances=[],this.id=w9++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(u=>u.base==e&&k9(t,u.modified));if(i)return i;let r=[],s=new oi(e.name,r,e,t);for(let u of t)u.instances.push(s);let l=_9(t);for(let u of e.set)if(!u.modified.length)for(let c of l)r.push(nm.get(u,c));return s}}function k9(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function _9(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function tu(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],l=2,u=r;for(let m=0;;){if(u=="..."&&m>0&&m+3==r.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!g)throw new RangeError("Invalid path: "+r);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==r.length)break;let y=r[m++];if(m==r.length&&y=="!"){l=0;break}if(y!="/")throw new RangeError("Invalid path: "+r);u=r.slice(m)}let c=s.length-1,f=s[c];if(!f)throw new RangeError("Invalid path: "+r);let d=new fh(i,l,c>0?s.slice(0,c):null);e[f]=d.sort(e[f])}}return s$.add(e)}const s$=new Pe({combine(n,e){let t,i,r;for(;n||e;){if(!n||e&&n.depth>=e.depth?(r=e,e=e.next):(r=n,n=n.next),t&&t.mode==r.mode&&!r.context&&!t.context)continue;let s=new fh(r.tags,r.mode,r.context);t?t.next=s:i=s,t=s}return i}});class fh{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}fh.empty=new fh([],2,null);function l$(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let l=r;for(let u of s)for(let c of u.set){let f=t[c.id];if(f){l=l?l+" "+f:f;break}}return l},scope:i}}function C9(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function T9(n,e,t,i=0,r=n.length){let s=new E9(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class E9{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:l,from:u,to:c}=e;if(u>=i||c<=t)return;l.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(l)));let f=r,d=Q9(e)||fh.empty,m=C9(s,d.tags);if(m&&(f&&(f+=" "),f+=m,d.mode==1&&(r+=(r?" ":"")+m)),this.startSpan(Math.max(t,u),f),d.opaque)return;let g=e.tree&&e.tree.prop(Pe.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+u,1),S=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),x=e.firstChild();for(let w=0,k=u;;w++){let A=w<g.overlay.length?g.overlay[w]:null,T=A?A.from+u:c,Z=Math.max(t,k),D=Math.min(i,T);if(Z<D&&x)for(;e.from<D&&(this.highlightRange(e,Z,D,r,s),this.startSpan(Math.min(D,e.to),f),!(e.to>=T||!e.nextSibling())););if(!A||T>i)break;k=A.to+u,k>t&&(this.highlightRange(y.cursor(),Math.max(t,A.from+u),Math.min(i,k),"",S),this.startSpan(Math.min(i,k),f))}x&&e.parent()}else if(e.firstChild()){g&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),f)}while(e.nextSibling());e.parent()}}}function Q9(n){let e=n.type.prop(s$);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const me=oi.define,Bd=me(),Zs=me(),LE=me(Zs),NE=me(Zs),Us=me(),Xd=me(Us),o0=me(Us),ar=me(),Rl=me(ar),rr=me(),sr=me(),o1=me(),hc=me(o1),Zd=me(),Q={comment:Bd,lineComment:me(Bd),blockComment:me(Bd),docComment:me(Bd),name:Zs,variableName:me(Zs),typeName:LE,tagName:me(LE),propertyName:NE,attributeName:me(NE),className:me(Zs),labelName:me(Zs),namespace:me(Zs),macroName:me(Zs),literal:Us,string:Xd,docString:me(Xd),character:me(Xd),attributeValue:me(Xd),number:o0,integer:me(o0),float:me(o0),bool:me(Us),regexp:me(Us),escape:me(Us),color:me(Us),url:me(Us),keyword:rr,self:me(rr),null:me(rr),atom:me(rr),unit:me(rr),modifier:me(rr),operatorKeyword:me(rr),controlKeyword:me(rr),definitionKeyword:me(rr),moduleKeyword:me(rr),operator:sr,derefOperator:me(sr),arithmeticOperator:me(sr),logicOperator:me(sr),bitwiseOperator:me(sr),compareOperator:me(sr),updateOperator:me(sr),definitionOperator:me(sr),typeOperator:me(sr),controlOperator:me(sr),punctuation:o1,separator:me(o1),bracket:hc,angleBracket:me(hc),squareBracket:me(hc),paren:me(hc),brace:me(hc),content:ar,heading:Rl,heading1:me(Rl),heading2:me(Rl),heading3:me(Rl),heading4:me(Rl),heading5:me(Rl),heading6:me(Rl),contentSeparator:me(ar),list:me(ar),quote:me(ar),emphasis:me(ar),strong:me(ar),link:me(ar),monospace:me(ar),strikethrough:me(ar),inserted:me(),deleted:me(),changed:me(),invalid:me(),meta:Zd,documentMeta:me(Zd),annotation:me(Zd),processingInstruction:me(Zd),definition:oi.defineModifier("definition"),constant:oi.defineModifier("constant"),function:oi.defineModifier("function"),standard:oi.defineModifier("standard"),local:oi.defineModifier("local"),special:oi.defineModifier("special")};for(let n in Q){let e=Q[n];e instanceof oi&&(e.name=n)}l$([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var u0;const ql=new Pe;function cv(n){return ge.define({combine:n?e=>e.concat(n):void 0})}const hv=new Pe;class Ti{constructor(e,t,i=[],r=""){this.data=e,this.name=r,Ye.prototype.hasOwnProperty("tree")||Object.defineProperty(Ye.prototype,"tree",{get(){return bt(this)}}),this.parser=t,this.extension=[ol.of(this),Ye.languageData.of((s,l,u)=>{let c=zE(s,l,u),f=c.type.prop(ql);if(!f)return[];let d=s.facet(f),m=c.type.prop(hv);if(m){let g=c.resolve(l-c.from,u);for(let y of m)if(y.test(g,s)){let S=s.facet(y.facet);return y.type=="replace"?S:S.concat(d)}}return d})].concat(i)}isActiveAt(e,t,i=-1){return zE(e,t,i).type.prop(ql)==this.data}findRegions(e){let t=e.facet(ol);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,l)=>{if(s.prop(ql)==this.data){i.push({from:l,to:l+s.length});return}let u=s.prop(Pe.mounted);if(u){if(u.tree.prop(ql)==this.data){if(u.overlay)for(let c of u.overlay)i.push({from:c.from+l,to:c.to+l});else i.push({from:l,to:l+s.length});return}else if(u.overlay){let c=i.length;if(r(u.tree,u.overlay[0].from+l),i.length>c)return}}for(let c=0;c<s.children.length;c++){let f=s.children[c];f instanceof nt&&r(f,s.positions[c]+l)}};return r(bt(e),0),i}get allowsNesting(){return!0}}Ti.setState=Ae.define();function zE(n,e,t){let i=n.facet(ol),r=bt(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,rt.ExcludeBuffers|rt.EnterBracketed))s.type.isTop&&(r=s);return r}class Do extends Ti{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=cv(e.languageData);return new Do(t,e.parser.configure({props:[ql.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Do(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function bt(n){let e=n.field(Ti.state,!1);return e?e.tree:nt.empty}class A9{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let fc=null;class dh{constructor(e,t,i=[],r,s,l,u,c){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=l,this.skipped=u,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new dh(e,t,[],nt.empty,0,i,[],null)}startParse(){return this.parser.startParse(new A9(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=nt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(ts.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ts.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=fc;fc=this;try{return e()}finally{fc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=BE(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:l,skipped:u}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((f,d,m,g)=>c.push({fromA:f,toA:d,fromB:m,toB:g})),i=ts.applyChanges(i,c),r=nt.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){u=[];for(let f of this.skipped){let d=e.mapPos(f.from,1),m=e.mapPos(f.to,-1);d<m&&u.push({from:d,to:m})}}}return new dh(this.parser,t,i,r,s,l,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=BE(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends uv{createParse(t,i,r){let s=r[0].from,l=r[r.length-1].to;return{parsedPos:s,advance(){let c=fc;if(c){for(let f of r)c.tempSkipped.push(f);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=l,new nt(Ht.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return fc}}function BE(n,e,t){return ts.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Io{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Io(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=dh.create(e.facet(ol).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Io(i)}}Ti.state=nn.define({create:Io.init,update(n,e){for(let t of e.effects)if(t.is(Ti.setState))return t.value;return e.startState.facet(ol)!=e.state.facet(ol)?Io.init(e.state):n.apply(e)}});let a$=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(a$=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const c0=typeof navigator<"u"&&(!((u0=navigator.scheduling)===null||u0===void 0)&&u0.isInputPending)?()=>navigator.scheduling.isInputPending():null,P9=It.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ti.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ti.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=a$(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Ti.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!c0?Math.max(25,e.timeRemaining()-5):1e9),u=s.context.treeLen<r&&i.doc.length>r+1e3,c=s.context.work(()=>c0&&c0()||Date.now()>l,r+(u?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ti.setState.of(new Io(s.context))})),this.chunkBudget>0&&!(c&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Un(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ol=ge.define({combine(n){return n.length?n[0]:null},enables:n=>[Ti.state,P9,de.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class ph{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class im{constructor(e,t,i,r,s,l=void 0){this.name=e,this.alias=t,this.extensions=i,this.filename=r,this.loadFunc=s,this.support=l,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:i}=e;if(!t){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(i)}return new im(e.name,(e.alias||[]).concat(e.name).map(r=>r.toLowerCase()),e.extensions||[],e.filename,t,i)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let i=/\.([^.]+)$/.exec(t);if(i){for(let r of e)if(r.extensions.indexOf(i[1])>-1)return r}return null}static matchLanguageName(e,t,i=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some(s=>s==t))return r;if(i)for(let r of e)for(let s of r.alias){let l=t.indexOf(s);if(l>-1&&(s.length>2||!/\w/.test(t[l-1])&&!/\w/.test(t[l+s.length])))return r}return null}}const R9=ge.define(),nu=ge.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function rm(n){let e=n.facet(nu);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function mh(n,e){let t="",i=n.tabSize,r=n.facet(nu)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function fv(n,e){n instanceof Ye&&(n=new Hm(n));for(let i of n.state.facet(R9)){let r=i(n,e);if(r!==void 0)return r}let t=bt(n.state);return t.length>=e?M9(n,t,e):null}class Hm{constructor(e,t={}){this.state=e,this.options=t,this.unit=rm(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),l=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return l>-1&&(s+=l-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return Wi(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(r);if(l>-1)return l}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Vh=new Pe;function M9(n,e,t){let i=e.resolveStack(t),r=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let l=r;l&&!(l.from<i.node.from||l.to>i.node.to||l.from==i.node.from&&l.type==i.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)i={node:s[l],next:i}}return o$(i,n,t)}function o$(n,e,t){for(let i=n;i;i=i.next){let r=D9(i.node);if(r)return r(dv.create(e,t,i))}return 0}function $9(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function D9(n){let e=n.type.prop(Vh);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Pe.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return l=>u$(l,!0,1,void 0,s&&!$9(l)?r.from:void 0)}return n.parent==null?I9:null}function I9(){return 0}class dv extends Hm{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new dv(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(L9(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return o$(this.context.next,this.base,this.pos)}}function L9(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function N9(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),l=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let u=t.to;;){let c=e.childAfter(u);if(!c||c==i)return null;if(!c.type.isSkipped){if(c.from>=l)return null;let f=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+f}}u=c.to}}function z9({closing:n,align:e=!0,units:t=1}){return i=>u$(i,e,t,n)}function u$(n,e,t,i,r){let s=n.textAfter,l=s.match(/^\s*/)[0].length,u=i&&s.slice(l,l+i.length)==i||r==n.pos+l,c=e?N9(n):null;return c?u?n.column(c.from):n.column(c.to):n.baseIndent+(u?0:n.unit*t)}const B9=n=>n.baseIndent;function pp({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const X9=200;function Z9(){return Ye.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+X9)return n;let s=t.sliceString(r.from,i);if(!e.some(f=>f.test(s)))return n;let{state:l}=n,u=-1,c=[];for(let{head:f}of l.selection.ranges){let d=l.doc.lineAt(f);if(d.from==u)continue;u=d.from;let m=fv(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],y=mh(l,m);g!=y&&c.push({from:d.from,to:d.from+g.length,insert:y})}return c.length?[n,{changes:c,sequential:!0}]:n})}const c$=ge.define(),iu=new Pe;function h$(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function U9(n,e,t){let i=bt(n);if(i.length<t)return null;let r=i.resolveStack(t,1),s=null;for(let l=r;l;l=l.next){let u=l.node;if(u.to<=t||u.from>t)continue;if(s&&u.from<e)break;let c=u.type.prop(iu);if(c&&(u.to<i.length-50||i.length==n.doc.length||!j9(u))){let f=c(u,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(s=f)}}return s}function j9(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function sm(n,e,t){for(let i of n.facet(c$)){let r=i(n,e,t);if(r)return r}return U9(n,e,t)}function f$(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Gm=Ae.define({map:f$}),Yh=Ae.define({map:f$});function d$(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const sa=nn.define({create(){return xe.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=XE(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(Gm)&&!q9(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(g$),r=i?xe.replace({widget:new K9(i(e.state,t.value))}):ZE;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(Yh)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=XE(n,e.selection.main.head)),n},provide:n=>de.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(ZE.range(i,r))}return xe.set(e,!0)}});function XE(n,e,t=e){let i=!1;return n.between(e,t,(r,s)=>{r<t&&s>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(r,s)=>r>=t||s<=e}):n}function lm(n,e,t){var i;let r=null;return(i=n.field(sa,!1))===null||i===void 0||i.between(e,t,(s,l)=>{(!r||r.from>s)&&(r={from:s,to:l})}),r}function q9(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function p$(n,e){return n.field(sa,!1)?e:e.concat(Ae.appendConfig.of(O$()))}const V9=n=>{for(let e of d$(n)){let t=sm(n.state,e.from,e.to);if(t)return n.dispatch({effects:p$(n.state,[Gm.of(t),m$(n,t)])}),!0}return!1},Y9=n=>{if(!n.state.field(sa,!1))return!1;let e=[];for(let t of d$(n)){let i=lm(n.state,t.from,t.to);i&&e.push(Yh.of(i),m$(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function m$(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return de.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const W9=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=sm(e,r.from,r.to);s&&t.push(Gm.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:p$(n.state,t)}),!!t.length},H9=n=>{let e=n.state.field(sa,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(Yh.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},G9=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:V9},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Y9},{key:"Ctrl-Alt-[",run:W9},{key:"Ctrl-Alt-]",run:H9}],F9={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},g$=ge.define({combine(n){return xr(n,F9)}});function O$(n){return[sa,tY]}function y$(n,e){let{state:t}=n,i=t.facet(g$),r=l=>{let u=n.lineBlockAt(n.posAtDOM(l.target)),c=lm(n.state,u.from,u.to);c&&n.dispatch({effects:Yh.of(c)}),l.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const ZE=xe.replace({widget:new class extends Gi{toDOM(n){return y$(n,null)}}});class K9 extends Gi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return y$(e,this.value)}}const J9={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class h0 extends us{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function eY(n={}){let e={...J9,...n},t=new h0(e,!0),i=new h0(e,!1),r=It.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(ol)!=l.state.facet(ol)||l.startState.field(sa,!1)!=l.state.field(sa,!1)||bt(l.startState)!=bt(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let u=new as;for(let c of l.viewportLineBlocks){let f=lm(l.state,c.from,c.to)?i:sm(l.state,c.from,c.to)?t:null;f&&u.add(c.from,c.from,f)}return u.finish()}}),{domEventHandlers:s}=e;return[r,K8({class:"cm-foldGutter",markers(l){var u;return((u=l.plugin(r))===null||u===void 0?void 0:u.markers)||Ue.empty},initialSpacer(){return new h0(e,!1)},domEventHandlers:{...s,click:(l,u,c)=>{if(s.click&&s.click(l,u,c))return!0;let f=lm(l.state,u.from,u.to);if(f)return l.dispatch({effects:Yh.of(f)}),!0;let d=sm(l.state,u.from,u.to);return d?(l.dispatch({effects:Gm.of(d)}),!0):!1}}}),O$()]}const tY=de.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Wh{constructor(e,t){this.specs=e;let i;function r(u){let c=rl.newName();return(i||(i=Object.create(null)))["."+c]=u,c}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,l=t.scope;this.scope=l instanceof Ti?u=>u.prop(ql)==l.data:l?u=>u==l:void 0,this.style=l$(e.map(u=>({tag:u.tag,class:u.class||r(Object.assign({},u,{tag:null}))})),{all:s}).style,this.module=i?new rl(i):null,this.themeType=t.themeType}static define(e,t){return new Wh(e,t||{})}}const u1=ge.define(),b$=ge.define({combine(n){return n.length?[n[0]]:null}});function f0(n){let e=n.facet(u1);return e.length?e:n.facet(b$)}function S$(n,e){let t=[iY],i;return n instanceof Wh&&(n.module&&t.push(de.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(b$.of(n)):i?t.push(u1.computeN([de.darkTheme],r=>r.facet(de.darkTheme)==(i=="dark")?[n]:[])):t.push(u1.of(n)),t}class nY{constructor(e){this.markCache=Object.create(null),this.tree=bt(e.state),this.decorations=this.buildDeco(e,f0(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=bt(e.state),i=f0(e.state),r=i!=f0(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!r&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return xe.none;let i=new as;for(let{from:r,to:s}of e.visibleRanges)T9(this.tree,t,(l,u,c)=>{i.add(l,u,this.markCache[c]||(this.markCache[c]=xe.mark({class:c})))},r,s);return i.finish()}}const iY=hs.high(It.fromClass(nY,{decorations:n=>n.decorations})),rY=Wh.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),sY=de.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),v$=1e4,x$="()[]{}",w$=ge.define({combine(n){return xr(n,{afterCursor:!0,brackets:x$,maxScanDistance:v$,renderMatch:oY})}}),lY=xe.mark({class:"cm-matchingBracket"}),aY=xe.mark({class:"cm-nonmatchingBracket"});function oY(n){let e=[],t=n.matched?lY:aY;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const uY=nn.define({create(){return xe.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(w$);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=dr(e.state,r.head,-1,i)||r.head>0&&dr(e.state,r.head-1,1,i)||i.afterCursor&&(dr(e.state,r.head,1,i)||r.head<e.state.doc.length&&dr(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return xe.set(t,!0)},provide:n=>de.decorations.from(n)}),cY=[uY,sY];function hY(n={}){return[w$.of(n),cY]}const k$=new Pe;function c1(n,e,t){let i=n.prop(e<0?Pe.openedBy:Pe.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function h1(n){let e=n.type.prop(k$);return e?e(n.node):n}function dr(n,e,t,i={}){let r=i.maxScanDistance||v$,s=i.brackets||x$,l=bt(n),u=l.resolveInner(e,t);for(let c=u;c;c=c.parent){let f=c1(c.type,t,s);if(f&&c.from<c.to){let d=h1(c);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return fY(n,e,t,c,d,f,s)}}return dY(n,e,t,l,u.type,r,s)}function fY(n,e,t,i,r,s,l){let u=i.parent,c={from:r.from,to:r.to},f=0,d=u==null?void 0:u.cursor();if(d&&(t<0?d.childBefore(i.from):d.childAfter(i.to)))do if(t<0?d.to<=i.from:d.from>=i.to){if(f==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=h1(d);return{start:c,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(c1(d.type,t,l))f++;else if(c1(d.type,-t,l)){if(f==0){let m=h1(d);return{start:c,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}f--}}while(t<0?d.prevSibling():d.nextSibling());return{start:c,matched:!1}}function dY(n,e,t,i,r,s,l){let u=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),c=l.indexOf(u);if(c<0||c%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},d=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let y=d.value;t<0&&(g+=y.length);let S=e+g*t;for(let x=t>0?0:y.length-1,w=t>0?y.length:-1;x!=w;x+=t){let k=l.indexOf(y[x]);if(!(k<0||i.resolveInner(S+x,1).type!=r))if(k%2==0==t>0)m++;else{if(m==1)return{start:f,end:{from:S+x,to:S+x+1},matched:k>>1==c>>1};m--}}t>0&&(g+=y.length)}return d.done?{start:f,matched:!1}:null}const pY=Object.create(null),UE=[Ht.none],jE=[],qE=Object.create(null),mY=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])mY[n]=gY(pY,e);function d0(n,e){jE.indexOf(n)>-1||(jE.push(n),console.warn(e))}function gY(n,e){let t=[];for(let u of e.split(" ")){let c=[];for(let f of u.split(".")){let d=n[f]||Q[f];d?typeof d=="function"?c.length?c=c.map(d):d0(f,`Modifier ${f} used at start of tag`):c.length?d0(f,`Tag ${f} used as modifier`):c=Array.isArray(d)?d:[d]:d0(f,`Unknown highlighting tag ${f}`)}for(let f of c)t.push(f)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(u=>u.id),s=qE[r];if(s)return s.id;let l=qE[r]=Ht.define({id:UE.length,name:i,props:[tu({[i]:t})]});return UE.push(l),l.id}gt.RTL,gt.LTR;const OY=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=mv(n.state,t.from);return i.line?yY(n):i.block?SY(n):!1};function pv(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const yY=pv(wY,0),bY=pv(_$,0),SY=pv((n,e)=>_$(n,e,xY(e)),0);function mv(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const dc=50;function vY(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-dc,i),l=n.sliceDoc(r,r+dc),u=/\s*$/.exec(s)[0].length,c=/^\s*/.exec(l)[0].length,f=s.length-u;if(s.slice(f-e.length,f)==e&&l.slice(c,c+t.length)==t)return{open:{pos:i-u,margin:u&&1},close:{pos:r+c,margin:c&&1}};let d,m;r-i<=2*dc?d=m=n.sliceDoc(i,r):(d=n.sliceDoc(i,i+dc),m=n.sliceDoc(r-dc,r));let g=/^\s*/.exec(d)[0].length,y=/\s*$/.exec(m)[0].length,S=m.length-y-t.length;return d.slice(g,g+e.length)==e&&m.slice(S,S+t.length)==t?{open:{pos:i+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:r-y-t.length,margin:/\s/.test(m.charAt(S-1))?1:0}}:null}function xY(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to);r.from>i.from&&r.from==t.to&&(r=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function _$(n,e,t=e.selection.ranges){let i=t.map(s=>mv(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,l)=>vY(e,i[l],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,l)=>r[l]?[]:[{from:s.from,insert:i[l].open+" "},{from:s.to,insert:" "+i[l].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let l=0,u;l<r.length;l++)if(u=r[l]){let c=i[l],{open:f,close:d}=u;s.push({from:f.pos-c.open.length,to:f.pos+f.margin},{from:d.pos-d.margin,to:d.pos+c.close.length})}return{changes:s}}return null}function wY(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:l}of t){let u=i.length,c=1e9,f=mv(e,s).line;if(f){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>r&&(s==l||l>m.from)){r=m.from;let g=/^\s*/.exec(m.text)[0].length,y=g==m.length,S=m.text.slice(g,g+f.length)==f?g:-1;g<m.text.length&&g<c&&(c=g),i.push({line:m,comment:S,token:f,indent:g,empty:y,single:!1})}d=m.to+1}if(c<1e9)for(let d=u;d<i.length;d++)i[d].indent<i[d].line.text.length&&(i[d].indent=c);i.length==u+1&&(i[u].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:u,token:c,indent:f,empty:d,single:m}of i)(m||!d)&&s.push({from:u.from+f,insert:c+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:u,token:c}of i)if(u>=0){let f=l.from+u,d=f+c.length;l.text[d-l.from]==" "&&d++,s.push({from:f,to:d})}return{changes:s}}return null}const f1=vr.define(),kY=vr.define(),_Y=ge.define(),C$=ge.define({combine(n){return xr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}}),T$=nn.define({create(){return pr.empty},update(n,e){let t=e.state.facet(C$),i=e.annotation(f1);if(i){let c=jn.fromTransaction(e,i.selection),f=i.side,d=f==0?n.undone:n.done;return c?d=am(d,d.length,t.minDepth,c):d=A$(d,e.startState.selection),new pr(f==0?i.rest:d,f==0?d:i.rest)}let r=e.annotation(kY);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Zt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=jn.fromTransaction(e),l=e.annotation(Zt.time),u=e.annotation(Zt.userEvent);return s?n=n.addChanges(s,l,u,t,e):e.selection&&(n=n.addSelection(e.startState.selection,l,u,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new pr(n.done.map(jn.fromJSON),n.undone.map(jn.fromJSON))}});function CY(n={}){return[T$,C$.of(n),de.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?E$:e.inputType=="historyRedo"?d1:null;return i?(e.preventDefault(),i(t)):!1}})]}function Fm(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(T$,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const E$=Fm(0,!1),d1=Fm(1,!1),TY=Fm(0,!0),EY=Fm(1,!0);class jn{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new jn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new jn(e.changes&&Vt.fromJSON(e.changes),[],e.mapped&&gr.fromJSON(e.mapped),e.startSelection&&G.fromJSON(e.startSelection),e.selectionsAfter.map(G.fromJSON))}static fromTransaction(e,t){let i=Ei;for(let r of e.startState.facet(_Y)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new jn(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Ei)}static selection(e){return new jn(void 0,Ei,void 0,void 0,e)}}function am(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function QY(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,l,u)=>{for(let c=0;c<t.length;){let f=t[c++],d=t[c++];u>=f&&l<=d&&(i=!0)}}),i}function AY(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Q$(n,e){return n.length?e.length?n.concat(e):n:e}const Ei=[],PY=200;function A$(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-PY));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),am(n,n.length-1,1e9,t.setSelAfter(i)))}else return[jn.selection([e])]}function RY(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function p0(n,e){if(!n.length)return n;let t=n.length,i=Ei;for(;t;){let r=MY(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[jn.selection(i)]:Ei}function MY(n,e,t){let i=Q$(n.selectionsAfter.length?n.selectionsAfter.map(u=>u.map(e)):Ei,t);if(!n.changes)return jn.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(s):s;return new jn(r,Ae.mapEffects(n.effects,e),l,n.startSelection.map(s),i)}const $Y=/^(input\.type|delete)($|\.)/;class pr{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new pr(this.done,this.undone):this}addChanges(e,t,i,r,s){let l=this.done,u=l[l.length-1];return u&&u.changes&&!u.changes.empty&&e.changes&&(!i||$Y.test(i))&&(!u.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,QY(u.changes,e.changes))||i=="input.type.compose")?l=am(l,l.length-1,r.minDepth,new jn(e.changes.compose(u.changes),Q$(Ae.mapEffects(e.effects,u.changes),u.effects),u.mapped,u.startSelection,Ei)):l=am(l,l.length,r.minDepth,e),new pr(l,Ei,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ei;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&AY(s[s.length-1],e)?this:new pr(A$(this.done,e),this.undone,t,i)}addMapping(e){return new pr(p0(this.done,e),p0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],l=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:f1.of({side:e,rest:RY(r),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let u=r.length==1?Ei:r.slice(0,r.length-1);return s.mapped&&(u=p0(u,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:f1.of({side:e,rest:u,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}pr.empty=new pr(Ei,Ei);const DY=[{key:"Mod-z",run:E$,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:d1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:d1,preventDefault:!0},{key:"Mod-u",run:TY,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:EY,preventDefault:!0}];function ru(n,e){return G.create(n.ranges.map(e),n.mainIndex)}function Fi(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ki({state:n,dispatch:e},t){let i=ru(n.selection,t);return i.eq(n.selection,!0)?!1:(e(Fi(n,i)),!0)}function Km(n,e){return G.cursor(e?n.to:n.from)}function P$(n,e){return Ki(n,t=>t.empty?n.moveByChar(t,e):Km(t,e))}function bn(n){return n.textDirectionAt(n.state.selection.main.head)==gt.LTR}const R$=n=>P$(n,!bn(n)),M$=n=>P$(n,bn(n));function $$(n,e){return Ki(n,t=>t.empty?n.moveByGroup(t,e):Km(t,e))}const IY=n=>$$(n,!bn(n)),LY=n=>$$(n,bn(n));function NY(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Jm(n,e,t){let i=bt(n).resolveInner(e.head),r=t?Pe.closedBy:Pe.openedBy;for(let c=e.head;;){let f=t?i.childAfter(c):i.childBefore(c);if(!f)break;NY(n,f,r)?i=f:c=t?f.to:f.from}let s=i.type.prop(r),l,u;return s&&(l=t?dr(n,i.from,1):dr(n,i.to,-1))&&l.matched?u=t?l.end.to:l.end.from:u=t?i.to:i.from,G.cursor(u,t?-1:1)}const zY=n=>Ki(n,e=>Jm(n.state,e,!bn(n))),BY=n=>Ki(n,e=>Jm(n.state,e,bn(n)));function D$(n,e){return Ki(n,t=>{if(!t.empty)return Km(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const I$=n=>D$(n,!1),L$=n=>D$(n,!0);function N$(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(de.scrollMargins)){let l=s(n);l!=null&&l.top&&(t=Math.max(l==null?void 0:l.top,t)),l!=null&&l.bottom&&(i=Math.max(l==null?void 0:l.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function z$(n,e){let t=N$(n),{state:i}=n,r=ru(i.selection,l=>l.empty?n.moveVertically(l,e,t.height):Km(l,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let l=n.coordsAtPos(i.selection.main.head),u=n.scrollDOM.getBoundingClientRect(),c=u.top+t.marginTop,f=u.bottom-t.marginBottom;l&&l.top>c&&l.bottom<f&&(s=de.scrollIntoView(r.main.head,{y:"start",yMargin:l.top-c}))}return n.dispatch(Fi(i,r),{effects:s}),!0}const VE=n=>z$(n,!1),p1=n=>z$(n,!0);function fl(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=G.cursor(i.from+s))}return r}const XY=n=>Ki(n,e=>fl(n,e,!0)),ZY=n=>Ki(n,e=>fl(n,e,!1)),UY=n=>Ki(n,e=>fl(n,e,!bn(n))),jY=n=>Ki(n,e=>fl(n,e,bn(n))),qY=n=>Ki(n,e=>G.cursor(n.lineBlockAt(e.head).from,1)),VY=n=>Ki(n,e=>G.cursor(n.lineBlockAt(e.head).to,-1));function YY(n,e,t){let i=!1,r=ru(n.selection,s=>{let l=dr(n,s.head,-1)||dr(n,s.head,1)||s.head>0&&dr(n,s.head-1,1)||s.head<n.doc.length&&dr(n,s.head+1,-1);if(!l||!l.end)return s;i=!0;let u=l.start.from==s.head?l.end.to:l.end.from;return G.cursor(u)});return i?(e(Fi(n,r)),!0):!1}const WY=({state:n,dispatch:e})=>YY(n,e);function Ri(n,e){let t=ru(n.state.selection,i=>{let r=e(i);return G.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Fi(n.state,t)),!0)}function B$(n,e){return Ri(n,t=>n.moveByChar(t,e))}const X$=n=>B$(n,!bn(n)),Z$=n=>B$(n,bn(n));function U$(n,e){return Ri(n,t=>n.moveByGroup(t,e))}const HY=n=>U$(n,!bn(n)),GY=n=>U$(n,bn(n)),FY=n=>Ri(n,e=>Jm(n.state,e,!bn(n))),KY=n=>Ri(n,e=>Jm(n.state,e,bn(n)));function j$(n,e){return Ri(n,t=>n.moveVertically(t,e))}const q$=n=>j$(n,!1),V$=n=>j$(n,!0);function Y$(n,e){return Ri(n,t=>n.moveVertically(t,e,N$(n).height))}const YE=n=>Y$(n,!1),WE=n=>Y$(n,!0),JY=n=>Ri(n,e=>fl(n,e,!0)),e7=n=>Ri(n,e=>fl(n,e,!1)),t7=n=>Ri(n,e=>fl(n,e,!bn(n))),n7=n=>Ri(n,e=>fl(n,e,bn(n))),i7=n=>Ri(n,e=>G.cursor(n.lineBlockAt(e.head).from)),r7=n=>Ri(n,e=>G.cursor(n.lineBlockAt(e.head).to)),HE=({state:n,dispatch:e})=>(e(Fi(n,{anchor:0})),!0),GE=({state:n,dispatch:e})=>(e(Fi(n,{anchor:n.doc.length})),!0),FE=({state:n,dispatch:e})=>(e(Fi(n,{anchor:n.selection.main.anchor,head:0})),!0),KE=({state:n,dispatch:e})=>(e(Fi(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),s7=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),l7=({state:n,dispatch:e})=>{let t=eg(n).map(({from:i,to:r})=>G.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:G.create(t),userEvent:"select"})),!0},a7=({state:n,dispatch:e})=>{let t=ru(n.selection,i=>{let r=bt(n),s=r.resolveStack(i.from,1);if(i.empty){let l=r.resolveStack(i.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:u}=l;if((u.from<i.from&&u.to>=i.to||u.to>i.to&&u.from<=i.from)&&l.next)return G.range(u.to,u.from)}return i});return t.eq(n.selection)?!1:(e(Fi(n,t)),!0)};function W$(n,e){let{state:t}=n,i=t.selection,r=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<n.state.doc.length:l.from>0)for(let u=s;;){let c=n.moveVertically(u,e);if(c.head<l.from||c.head>l.to){r.some(f=>f.head==c.head)||r.push(c);break}else{if(c.head==u.head)break;u=c}}}return r.length==i.ranges.length?!1:(n.dispatch(Fi(t,G.create(r,r.length-1))),!0)}const o7=n=>W$(n,!1),u7=n=>W$(n,!0),c7=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=G.create([t.main]):t.main.empty||(i=G.create([G.cursor(t.main.head)])),i?(e(Fi(n,i)),!0):!1};function Hh(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:l,to:u}=s;if(l==u){let c=e(s);c<l?(t="delete.backward",c=Ud(n,c,!1)):c>l&&(t="delete.forward",c=Ud(n,c,!0)),l=Math.min(l,c),u=Math.max(u,c)}else l=Ud(n,l,!1),u=Ud(n,u,!0);return l==u?{range:s}:{changes:{from:l,to:u},range:G.cursor(l,l<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?de.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Ud(n,e,t){if(n instanceof de)for(let i of n.state.facet(de.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const H$=(n,e,t)=>Hh(n,i=>{let r=i.from,{state:s}=n,l=s.doc.lineAt(r),u,c;if(t&&!e&&r>l.from&&r<l.from+200&&!/[^ \t]/.test(u=l.text.slice(0,r-l.from))){if(u[u.length-1]=="	")return r-1;let f=Wi(u,s.tabSize),d=f%rm(s)||rm(s);for(let m=0;m<d&&u[u.length-1-m]==" ";m++)r--;c=r}else c=Wt(l.text,r-l.from,e,e)+l.from,c==r&&l.number!=(e?s.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(c-l.from,r-l.from))&&(c=Wt(l.text,c-l.from,!1,!1)+l.from);return c}),m1=n=>H$(n,!1,!0),G$=n=>H$(n,!0,!1),F$=(n,e)=>Hh(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),l=r.charCategorizer(i);for(let u=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let c=Wt(s.text,i-s.from,e)+s.from,f=s.text.slice(Math.min(i,c)-s.from,Math.max(i,c)-s.from),d=l(f);if(u!=null&&d!=u)break;(f!=" "||i!=t.head)&&(u=d),i=c}return i}),K$=n=>F$(n,!1),h7=n=>F$(n,!0),f7=n=>Hh(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),d7=n=>Hh(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),p7=n=>Hh(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),m7=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Fe.of(["",""])},range:G.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},g7=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),l=r==s.from?r-1:Wt(s.text,r-s.from,!1)+s.from,u=r==s.to?r+1:Wt(s.text,r-s.from,!0)+s.from;return{changes:{from:l,to:u,insert:n.doc.slice(r,u).append(n.doc.slice(l,r))},range:G.cursor(u)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function eg(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function J$(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of eg(n)){if(t?s.to==n.doc.length:s.from==0)continue;let l=n.doc.lineAt(t?s.to+1:s.from-1),u=l.length+1;if(t){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+n.lineBreak});for(let c of s.ranges)r.push(G.range(Math.min(n.doc.length,c.anchor+u),Math.min(n.doc.length,c.head+u)))}else{i.push({from:l.from,to:s.from},{from:s.to,insert:n.lineBreak+l.text});for(let c of s.ranges)r.push(G.range(c.anchor-u,c.head-u))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:G.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const O7=({state:n,dispatch:e})=>J$(n,e,!1),y7=({state:n,dispatch:e})=>J$(n,e,!0);function eD(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of eg(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});let r=n.changes(i);return e(n.update({changes:r,selection:n.selection.map(r,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const b7=({state:n,dispatch:e})=>eD(n,e,!1),S7=({state:n,dispatch:e})=>eD(n,e,!0),v7=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(eg(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=ru(e.selection,r=>{let s;if(n.lineWrapping){let l=n.lineBlockAt(r.head),u=n.coordsAtPos(r.head,r.assoc||1);u&&(s=l.bottom+n.documentTop-u.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,s)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function x7(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=bt(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(Pe.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const JE=tD(!1),w7=tD(!0);function tD(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:l}=r,u=e.doc.lineAt(s),c=!n&&s==l&&x7(e,s);n&&(s=l=(l<=u.to?u:e.doc.lineAt(l)).to);let f=new Hm(e,{simulateBreak:s,simulateDoubleBreak:!!c}),d=fv(f,s);for(d==null&&(d=Wi(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<u.to&&/\s/.test(u.text[l-u.from]);)l++;c?{from:s,to:l}=c:s>u.from&&s<u.from+100&&!/\S/.test(u.text.slice(0,s))&&(s=u.from);let m=["",mh(e,d)];return c&&m.push(mh(e,f.lineIndent(u.from,-1))),{changes:{from:s,to:l,insert:Fe.of(m)},range:G.cursor(s+1+m[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function gv(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let l=i.from;l<=i.to;){let u=n.doc.lineAt(l);u.number>t&&(i.empty||i.to>u.from)&&(e(u,r,i),t=u.number),l=u.to+1}let s=n.changes(r);return{changes:r,range:G.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const k7=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Hm(n,{overrideIndentation:s=>{let l=t[s];return l??-1}}),r=gv(n,(s,l,u)=>{let c=fv(i,s.from);if(c==null)return;/\S/.test(s.text)||(c=0);let f=/^\s*/.exec(s.text)[0],d=mh(n,c);(f!=d||u.from<s.from+f.length)&&(t[s.from]=c,l.push({from:s.from,to:s.from+f.length,insert:d}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},nD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(gv(n,(t,i)=>{i.push({from:t.from,insert:n.facet(nu)})}),{userEvent:"input.indent"})),!0),iD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(gv(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=Wi(r,n.tabSize),l=0,u=mh(n,Math.max(0,s-rm(n)));for(;l<r.length&&l<u.length&&r.charCodeAt(l)==u.charCodeAt(l);)l++;i.push({from:t.from+l,to:t.from+r.length,insert:u.slice(l)})}),{userEvent:"delete.dedent"})),!0),_7=n=>(n.setTabFocusMode(),!0),C7=[{key:"Ctrl-b",run:R$,shift:X$,preventDefault:!0},{key:"Ctrl-f",run:M$,shift:Z$},{key:"Ctrl-p",run:I$,shift:q$},{key:"Ctrl-n",run:L$,shift:V$},{key:"Ctrl-a",run:qY,shift:i7},{key:"Ctrl-e",run:VY,shift:r7},{key:"Ctrl-d",run:G$},{key:"Ctrl-h",run:m1},{key:"Ctrl-k",run:f7},{key:"Ctrl-Alt-h",run:K$},{key:"Ctrl-o",run:m7},{key:"Ctrl-t",run:g7},{key:"Ctrl-v",run:p1}],T7=[{key:"ArrowLeft",run:R$,shift:X$,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:IY,shift:HY,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:UY,shift:t7,preventDefault:!0},{key:"ArrowRight",run:M$,shift:Z$,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:LY,shift:GY,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jY,shift:n7,preventDefault:!0},{key:"ArrowUp",run:I$,shift:q$,preventDefault:!0},{mac:"Cmd-ArrowUp",run:HE,shift:FE},{mac:"Ctrl-ArrowUp",run:VE,shift:YE},{key:"ArrowDown",run:L$,shift:V$,preventDefault:!0},{mac:"Cmd-ArrowDown",run:GE,shift:KE},{mac:"Ctrl-ArrowDown",run:p1,shift:WE},{key:"PageUp",run:VE,shift:YE},{key:"PageDown",run:p1,shift:WE},{key:"Home",run:ZY,shift:e7,preventDefault:!0},{key:"Mod-Home",run:HE,shift:FE},{key:"End",run:XY,shift:JY,preventDefault:!0},{key:"Mod-End",run:GE,shift:KE},{key:"Enter",run:JE,shift:JE},{key:"Mod-a",run:s7},{key:"Backspace",run:m1,shift:m1,preventDefault:!0},{key:"Delete",run:G$,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:K$,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:h7,preventDefault:!0},{mac:"Mod-Backspace",run:d7,preventDefault:!0},{mac:"Mod-Delete",run:p7,preventDefault:!0}].concat(C7.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),E7=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:zY,shift:FY},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:BY,shift:KY},{key:"Alt-ArrowUp",run:O7},{key:"Shift-Alt-ArrowUp",run:b7},{key:"Alt-ArrowDown",run:y7},{key:"Shift-Alt-ArrowDown",run:S7},{key:"Mod-Alt-ArrowUp",run:o7},{key:"Mod-Alt-ArrowDown",run:u7},{key:"Escape",run:c7},{key:"Mod-Enter",run:w7},{key:"Alt-l",mac:"Ctrl-l",run:l7},{key:"Mod-i",run:a7,preventDefault:!0},{key:"Mod-[",run:iD},{key:"Mod-]",run:nD},{key:"Mod-Alt-\\",run:k7},{key:"Shift-Mod-k",run:v7},{key:"Shift-Mod-\\",run:WY},{key:"Mod-/",run:OY},{key:"Alt-A",run:bY},{key:"Ctrl-m",mac:"Shift-Alt-m",run:_7}].concat(T7),Q7={key:"Tab",run:nD,shift:iD},eQ=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Lo{constructor(e,t,i=0,r=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?u=>s(eQ(u)):eQ,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Nn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=XS(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=cr(e);let r=this.normalize(t);if(r.length)for(let s=0,l=i;;s++){let u=r.charCodeAt(s),c=this.match(u,l,this.bufferPos+this.bufferStart);if(s==r.length-1){if(c)return this.value=c,this;break}l==i&&s<t.length&&t.charCodeAt(s)==u&&l++}}}match(e,t,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],u=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,u=!0)),u||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:i}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(Lo.prototype[Symbol.iterator]=function(){return this});const rD={from:-1,to:-1,match:/.*/.exec("")},Ov="gm"+(/x/.unicode==null?"":"u");class sD{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=rD,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new lD(e,t,i,r,s);this.re=new RegExp(t,Ov+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let l=e.lineAt(r);this.curLineStart=l.from,this.matchPos=om(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=om(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const m0=new WeakMap;class So{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=m0.get(e);if(!r||r.from>=i||r.to<=t){let u=new So(t,e.sliceString(t,i));return m0.set(e,u),u}if(r.from==t&&r.to==i)return r;let{text:s,from:l}=r;return l>t&&(s=e.sliceString(t,l)+s,l=t),r.to<i&&(s+=e.sliceString(r.to,i)),m0.set(e,new So(l,s)),new So(t,s.slice(t-l,i-l))}}class lD{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=rD,this.matchPos=om(e,r),this.re=new RegExp(t,Ov+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=So.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=om(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=So.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(sD.prototype[Symbol.iterator]=lD.prototype[Symbol.iterator]=function(){return this});function A7(n){try{return new RegExp(n,Ov),!0}catch{return!1}}function om(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}const P7=n=>{let{state:e}=n,t=String(e.doc.lineAt(n.state.selection.main.head).number),{close:i,result:r}=W8(n,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:t},focus:!0,submitLabel:e.phrase("go")});return r.then(s=>{let l=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!l){n.dispatch({effects:i});return}let u=e.doc.lineAt(e.selection.main.head),[,c,f,d,m]=l,g=d?+d.slice(1):0,y=f?+f:u.number;if(f&&m){let w=y/100;c&&(w=w*(c=="-"?-1:1)+u.number/e.doc.lines),y=Math.round(e.doc.lines*w)}else f&&c&&(y=y*(c=="-"?-1:1)+u.number);let S=e.doc.line(Math.max(1,Math.min(e.doc.lines,y))),x=G.cursor(S.from+Math.max(0,Math.min(g,S.length)));n.dispatch({effects:[i,de.scrollIntoView(x.from,{y:"center"})],selection:x})}),!0},R7={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},M7=ge.define({combine(n){return xr(n,R7,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function $7(n){return[z7,N7]}const D7=xe.mark({class:"cm-selectionMatch"}),I7=xe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function tQ(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Et.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Et.Word)}function L7(n,e,t,i){return n(e.sliceDoc(t,t+1))==Et.Word&&n(e.sliceDoc(i-1,i))==Et.Word}const N7=It.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(M7),{state:t}=n,i=t.selection;if(i.ranges.length>1)return xe.none;let r=i.main,s,l=null;if(r.empty){if(!e.highlightWordAroundCursor)return xe.none;let c=t.wordAt(r.head);if(!c)return xe.none;l=t.charCategorizer(r.head),s=t.sliceDoc(c.from,c.to)}else{let c=r.to-r.from;if(c<e.minSelectionLength||c>200)return xe.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),l=t.charCategorizer(r.head),!(tQ(l,t,r.from,r.to)&&L7(l,t,r.from,r.to)))return xe.none}else if(s=t.sliceDoc(r.from,r.to),!s)return xe.none}let u=[];for(let c of n.visibleRanges){let f=new Lo(t.doc,s,c.from,c.to);for(;!f.next().done;){let{from:d,to:m}=f.value;if((!l||tQ(l,t,d,m))&&(r.empty&&d<=r.from&&m>=r.to?u.push(I7.range(d,m)):(d>=r.to||m<=r.from)&&u.push(D7.range(d,m)),u.length>e.maxMatches))return xe.none}}return xe.set(u)}},{decorations:n=>n.decorations}),z7=de.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),B7=({state:n,dispatch:e})=>{let{selection:t}=n,i=G.create(t.ranges.map(r=>n.wordAt(r.head)||G.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function X7(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let l=!1,u=new Lo(n.doc,e,i[i.length-1].to);;)if(u.next(),u.done){if(l)return null;u=new Lo(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),l=!0}else{if(l&&i.some(c=>c.from==u.value.from))continue;if(s){let c=n.wordAt(u.value.from);if(!c||c.from!=u.value.from||c.to!=u.value.to)continue}return u.value}}const Z7=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return B7({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=X7(n,i);return r?(e(n.update({selection:n.selection.addRange(G.range(r.from,r.to),!1),effects:de.scrollIntoView(r.to)})),!0):!1},su=ge.define({combine(n){return xr(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new nW(e),scrollToMatch:e=>de.scrollIntoView(e)})}});class aD{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||A7(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new W7(this):new q7(this)}getCursor(e,t=0,i){let r=e.doc?e:Ye.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?no(this,r,t,i):to(this,r,t,i)}}class oD{constructor(e){this.spec=e}}function U7(n,e,t){return(i,r,s,l)=>{if(t&&!t(i,r,s,l))return!1;let u=i>=l&&r<=l+s.length?s.slice(i-l,r-l):e.doc.sliceString(i,r);return n(u,e,i,r)}}function to(n,e,t,i){let r;return n.wholeWord&&(r=j7(e.doc,e.charCategorizer(e.selection.main.head))),n.test&&(r=U7(n.test,e,r)),new Lo(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),r)}function j7(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(um(r,t-s))!=Et.Word||e(cm(r,t-s))!=Et.Word)&&(e(cm(r,i-s))!=Et.Word||e(um(r,i-s))!=Et.Word))}class q7 extends oD{constructor(e){super(e)}nextMatch(e,t,i){let r=to(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);r=to(this.spec,e,0,s).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==i?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),l=to(this.spec,e,s,r),u=null;for(;!l.nextOverlapping().done;)u=l.value;if(u)return u;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=t||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=to(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=to(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function V7(n,e,t){return(i,r,s)=>(!t||t(i,r,s))&&n(s[0],e,i,r)}function no(n,e,t,i){let r;return n.wholeWord&&(r=Y7(e.charCategorizer(e.selection.main.head))),n.test&&(r=V7(n.test,e,r)),new sD(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:r},t,i)}function um(n,e){return n.slice(Wt(n,e,!1),e)}function cm(n,e){return n.slice(e,Wt(n,e))}function Y7(n){return(e,t,i)=>!i[0].length||(n(um(i.input,i.index))!=Et.Word||n(cm(i.input,i.index))!=Et.Word)&&(n(cm(i.input,i.index+i[0].length))!=Et.Word||n(um(i.input,i.index+i[0].length))!=Et.Word)}class W7 extends oD{nextMatch(e,t,i){let r=no(this.spec,e,i,e.doc.length).next();return r.done&&(r=no(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),l=no(this.spec,e,s,i),u=null;for(;!l.next().done;)u=l.value;if(u&&(s==t||u.from>s+10))return u;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let r=i.length;r>0;r--){let s=+i.slice(0,r);if(s>0&&s<e.match.length)return e.match[s]+i.slice(r)}return t})}matchAll(e,t){let i=no(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=no(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const gh=Ae.define(),yv=Ae.define(),el=nn.define({create(n){return new g0(g1(n).create(),null)},update(n,e){for(let t of e.effects)t.is(gh)?n=new g0(t.value.create(),n.panel):t.is(yv)&&(n=new g0(n.query,t.value?bv:null));return n},provide:n=>ch.from(n,e=>e.panel)});class g0{constructor(e,t){this.query=e,this.panel=t}}const H7=xe.mark({class:"cm-searchMatch"}),G7=xe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),F7=It.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(el))}update(n){let e=n.state.field(el);(e!=n.startState.field(el)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return xe.none;let{view:t}=this,i=new as;for(let r=0,s=t.visibleRanges,l=s.length;r<l;r++){let{from:u,to:c}=s[r];for(;r<l-1&&c>s[r+1].from-500;)c=s[++r].to;n.highlight(t.state,u,c,(f,d)=>{let m=t.state.selection.ranges.some(g=>g.from==f&&g.to==d);i.add(f,d,m?G7:H7)})}return i.finish()}},{decorations:n=>n.decorations});function Gh(n){return e=>{let t=e.state.field(el,!1);return t&&t.query.spec.valid?n(e,t):hD(e)}}const hm=Gh((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=G.single(i.from,i.to),s=n.state.facet(su);return n.dispatch({selection:r,effects:[Sv(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),cD(n),!0}),fm=Gh((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=G.single(r.from,r.to),l=n.state.facet(su);return n.dispatch({selection:s,effects:[Sv(n,r),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),cD(n),!0}),K7=Gh((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:G.create(t.map(i=>G.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),J7=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],l=0;for(let u=new Lo(n.doc,n.sliceDoc(i,r));!u.next().done;){if(s.length>1e3)return!1;u.value.from==i&&(l=s.length),s.push(G.range(u.value.from,u.value.to))}return e(n.update({selection:G.create(s,l),userEvent:"select.search.matches"})),!0},nQ=Gh((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let l=s,u=[],c,f,d=[];l.from==i&&l.to==r&&(f=t.toText(e.getReplacement(l)),u.push({from:l.from,to:l.to,insert:f}),l=e.nextMatch(t,l.from,l.to),d.push(de.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let m=n.state.changes(u);return l&&(c=G.single(l.from,l.to).map(m),d.push(Sv(n,l)),d.push(t.facet(su).scrollToMatch(c.main,n))),n.dispatch({changes:m,selection:c,effects:d,userEvent:"input.replace"}),!0}),eW=Gh((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:l}=r;return{from:s,to:l,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:de.announce.of(i),userEvent:"input.replace.all"}),!0});function bv(n){return n.state.facet(su).createPanel(n)}function g1(n,e){var t,i,r,s,l;let u=n.selection.main,c=u.empty||u.to>u.from+100?"":n.sliceDoc(u.from,u.to);if(e&&!c)return e;let f=n.facet(su);return new aD({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:f.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:f.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(l=e==null?void 0:e.wholeWord)!==null&&l!==void 0?l:f.wholeWord})}function uD(n){let e=sv(n,bv);return e&&e.dom.querySelector("[main-field]")}function cD(n){let e=uD(n);e&&e==n.root.activeElement&&e.select()}const hD=n=>{let e=n.state.field(el,!1);if(e&&e.panel){let t=uD(n);if(t&&t!=n.root.activeElement){let i=g1(n.state,e.query.spec);i.valid&&n.dispatch({effects:gh.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[yv.of(!0),e?gh.of(g1(n.state,e.query.spec)):Ae.appendConfig.of(rW)]});return!0},fD=n=>{let e=n.state.field(el,!1);if(!e||!e.panel)return!1;let t=sv(n,bv);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:yv.of(!1)}),!0},tW=[{key:"Mod-f",run:hD,scope:"editor search-panel"},{key:"F3",run:hm,shift:fm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:hm,shift:fm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:fD,scope:"editor search-panel"},{key:"Mod-Shift-l",run:J7},{key:"Mod-Alt-g",run:P7},{key:"Mod-d",run:Z7,preventDefault:!0}];class nW{constructor(e){this.view=e;let t=this.query=e.state.field(el).query.spec;this.commit=this.commit.bind(this),this.searchField=ht("input",{value:t.search,placeholder:ni(e,"Find"),"aria-label":ni(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ht("input",{value:t.replace,placeholder:ni(e,"Replace"),"aria-label":ni(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ht("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ht("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ht("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,l){return ht("button",{class:"cm-button",name:r,onclick:s,type:"button"},l)}this.dom=ht("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>hm(e),[ni(e,"next")]),i("prev",()=>fm(e),[ni(e,"previous")]),i("select",()=>K7(e),[ni(e,"all")]),ht("label",null,[this.caseField,ni(e,"match case")]),ht("label",null,[this.reField,ni(e,"regexp")]),ht("label",null,[this.wordField,ni(e,"by word")]),...e.state.readOnly?[]:[ht("br"),this.replaceField,i("replace",()=>nQ(e),[ni(e,"replace")]),i("replaceAll",()=>eW(e),[ni(e,"replace all")])],ht("button",{name:"close",onclick:()=>fD(e),"aria-label":ni(e,"close"),type:"button"},[""])])}commit(){let e=new aD({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:gh.of(e)}))}keydown(e){r8(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?fm:hm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),nQ(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(gh)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(su).top}}function ni(n,e){return n.state.phrase(e)}const jd=30,qd=/[\s\.,:;?!]/;function Sv(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-jd),l=Math.min(r,t+jd),u=n.state.sliceDoc(s,l);if(s!=i.from){for(let c=0;c<jd;c++)if(!qd.test(u[c+1])&&qd.test(u[c])){u=u.slice(c);break}}if(l!=r){for(let c=u.length-1;c>u.length-jd;c--)if(!qd.test(u[c-1])&&qd.test(u[c])){u=u.slice(0,c);break}}return de.announce.of(`${n.state.phrase("current match")}. ${u} ${n.state.phrase("on line")} ${i.number}.`)}const iW=de.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),rW=[el,hs.low(F7),iW];class vv{constructor(e,t,i,r){this.state=e,this.pos=t,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=bt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(pD(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function iQ(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function sW(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=iQ(e)+iQ(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function dD(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:sW(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function lW(n,e){return t=>{for(let i=bt(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class rQ{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function Wl(n){return n.selection.main.from}function pD(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const xv=vr.define();function aW(n,e,t,i){let{main:r}=n.selection,s=t-r.from,l=i-r.from;return{...n.changeByRange(u=>{if(u!=r&&t!=i&&n.sliceDoc(u.from+s,u.from+l)!=n.sliceDoc(t,i))return{range:u};let c=n.toText(e);return{changes:{from:u.from+s,to:i==r.from?u.to:u.from+l,insert:c},range:G.cursor(u.from+s+c.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const sQ=new WeakMap;function oW(n){if(!Array.isArray(n))return n;let e=sQ.get(n);return e||sQ.set(n,e=dD(n)),e}const dm=Ae.define(),Oh=Ae.define();class uW{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Nn(e,t),r=cr(i);this.chars.push(i);let s=e.slice(t,t+r),l=s.toUpperCase();this.folded.push(Nn(l==s?s.toLowerCase():l,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:l}=this;if(t.length==1){let A=Nn(e,0),T=cr(A),Z=T==e.length?0:-100;if(A!=t[0])if(A==i[0])Z+=-200;else return null;return this.ret(Z,[0,T])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,f=0;if(u<0){for(let A=0,T=Math.min(e.length,200);A<T&&f<c;){let Z=Nn(e,A);(Z==t[f]||Z==i[f])&&(r[f++]=A),A+=cr(Z)}if(f<c)return null}let d=0,m=0,g=!1,y=0,S=-1,x=-1,w=/[a-z]/.test(e),k=!0;for(let A=0,T=Math.min(e.length,200),Z=0;A<T&&m<c;){let D=Nn(e,A);u<0&&(d<c&&D==t[d]&&(s[d++]=A),y<c&&(D==t[y]||D==i[y]?(y==0&&(S=A),x=A+1,y++):y=0));let R,B=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(R=XS(D))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!A||B==1&&w||Z==0&&B!=0)&&(t[m]==D||i[m]==D&&(g=!0)?l[m++]=A:l.length&&(k=!1)),Z=B,A+=cr(D)}return m==c&&l[0]==0&&k?this.result(-100+(g?-200:0),l,e):y==c&&S==0?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):y==c?this.ret(-900-e.length,[S,x]):m==c?this.result(-100+(g?-200:0)+-700+(k?0:-1100),l,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let l of t){let u=l+(this.astral?cr(Nn(i,l)):1);s&&r[s-1]==l?r[s-1]=u:(r[s++]=l,r[s++]=u)}return this.ret(e-i.length,r)}}class cW{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const tn=ge.define({combine(n){return xr(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:hW,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>lQ(e(i),t(i)),optionClass:(e,t)=>i=>lQ(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function lQ(n,e){return n?e?n+" "+e:n:e}function hW(n,e,t,i,r,s){let l=n.textDirection==gt.RTL,u=l,c=!1,f="top",d,m,g=e.left-r.left,y=r.right-e.right,S=i.right-i.left,x=i.bottom-i.top;if(u&&g<Math.min(S,y)?u=!1:!u&&y<Math.min(S,g)&&(u=!0),S<=(u?g:y))d=Math.max(r.top,Math.min(t.top,r.bottom-x))-e.top,m=Math.min(400,u?g:y);else{c=!0,m=Math.min(400,(l?e.right:r.right-e.left)-30);let A=r.bottom-e.bottom;A>=x||A>e.top?d=t.bottom-e.top:(f="bottom",d=e.bottom-t.top)}let w=(e.bottom-e.top)/s.offsetHeight,k=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${d/w}px; max-width: ${m/k}px`,class:"cm-completionInfo-"+(c?l?"left-narrow":"right-narrow":u?"left":"right")}}function fW(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r,s){let l=document.createElement("span");l.className="cm-completionLabel";let u=t.displayLabel||t.label,c=0;for(let f=0;f<s.length;){let d=s[f++],m=s[f++];d>c&&l.appendChild(document.createTextNode(u.slice(c,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(u.slice(d,m))),g.className="cm-completionMatchedText",c=m}return c<u.length&&l.appendChild(document.createTextNode(u.slice(c))),l},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function O0(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class dW{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:l}=r.open,u=e.state.facet(tn);this.optionContent=fW(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=O0(s.length,l,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:f}=e.state.field(t).open;for(let d=c.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<f.length){this.applyCompletion(e,f[+m[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(tn).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:Oh.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:l,disabled:u}=i.open;(!r.open||r.open.options!=s)&&(this.range=O0(s.length,l,e.state.facet(tn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),u!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=O0(t.options.length,t.selected,this.view.state.facet(tn).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:s}=r;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(r);if(!l)return;"then"in l?l.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,r)}).catch(u=>Un(this.view.state,u,"completion info")):(this.addInfoPane(l,r),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&mW(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(tn).positionInfo(this.view,t,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",l=>{l.target==r&&l.preventDefault()});let s=null;for(let l=i.from;l<i.to;l++){let{completion:u,match:c}=e[l],{section:f}=u;if(f){let g=typeof f=="string"?f:f.name;if(g!=s&&(l>i.from||i.from==0))if(s=g,typeof f!="string"&&f.header)r.appendChild(f.header(f));else{let y=r.appendChild(document.createElement("completion-section"));y.textContent=g}}const d=r.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(u);m&&(d.className=m);for(let g of this.optionContent){let y=g(u,this.view.state,this.view,c);y&&d.appendChild(y)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function pW(n,e){return t=>new dW(t,n,e)}function mW(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function aQ(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function gW(n,e){let t=[],i=null,r=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){i||(i=[]);let g=typeof m=="string"?m:m.name;i.some(y=>y.name==g)||i.push(typeof m=="string"?{name:g}:m)}},l=e.facet(tn);for(let d of n)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new rQ(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),y,S=l.filterStrict?new cW(g):new uW(g);for(let x of d.result.options)if(y=S.match(x.label)){let w=x.displayLabel?m?m(x,y.matched):[]:y.matched,k=y.score+(x.boost||0);if(s(new rQ(x,d.source,w,k)),typeof x.section=="object"&&x.section.rank==="dynamic"){let{name:A}=x.section;r||(r=Object.create(null)),r[A]=Math.max(k,r[A]||-1e9)}}}}if(i){let d=Object.create(null),m=0,g=(y,S)=>(y.rank==="dynamic"&&S.rank==="dynamic"?r[S.name]-r[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof S.rank=="number"?S.rank:1e9)||(y.name<S.name?-1:1);for(let y of i.sort(g))m-=1e5,d[y.name]=m;for(let y of t){let{section:S}=y.completion;S&&(y.score+=d[typeof S=="string"?S:S.name])}}let u=[],c=null,f=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||f(m.completion,g.completion))){let m=d.completion;!c||c.label!=m.label||c.detail!=m.detail||c.type!=null&&m.type!=null&&c.type!=m.type||c.apply!=m.apply||c.boost!=m.boost?u.push(d):aQ(d.completion)>aQ(c)&&(u[u.length-1]=d),c=d.completion}return u}class ao{constructor(e,t,i,r,s,l){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new ao(this.options,oQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s,l){if(r&&!l&&e.some(f=>f.isPending))return r.setDisabled();let u=gW(e,t);if(!u.length)return r&&e.some(f=>f.isPending)?r.setDisabled():null;let c=t.facet(tn).selectOnOpen?0:-1;if(r&&r.selected!=c&&r.selected!=-1){let f=r.options[r.selected].completion;for(let d=0;d<u.length;d++)if(u[d].completion==f){c=d;break}}return new ao(u,oQ(i,c),{pos:e.reduce((f,d)=>d.hasResult()?Math.min(f,d.from):f,1e8),create:xW,above:s.aboveCursor},r?r.timestamp:Date.now(),c,!1)}map(e){return new ao(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new ao(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class pm{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new pm(SW,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(tn),s=(i.override||t.languageDataAt("autocomplete",Wl(t)).map(oW)).map(c=>(this.active.find(d=>d.source==c)||new Qi(c,this.active.some(d=>d.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((c,f)=>c==this.active[f])&&(s=this.active);let l=this.open,u=e.effects.some(c=>c.is(wv));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!OW(s,this.active)||u?l=ao.build(s,t,this.id,l,i,u):l&&l.disabled&&!s.some(c=>c.isPending)&&(l=null),!l&&s.every(c=>!c.isPending)&&s.some(c=>c.hasResult())&&(s=s.map(c=>c.hasResult()?new Qi(c.source,0):c));for(let c of e.effects)c.is(gD)&&(l=l&&l.setSelected(c.value,this.id));return s==this.active&&l==this.open?this:new pm(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?yW:bW}}function OW(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const yW={"aria-autocomplete":"list"},bW={};function oQ(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const SW=[];function mD(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(xv);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Qi{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=mD(e,t),r=this;(i&8||i&16&&this.touches(e))&&(r=new Qi(r.source,0)),i&4&&r.state==0&&(r=new Qi(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is(dm))r=new Qi(r.source,1,s.value);else if(s.is(Oh))r=new Qi(r.source,0);else if(s.is(wv))for(let l of s.value)l.source==r.source&&(r=l);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Wl(e.state))}}class vo extends Qi{constructor(e,t,i,r,s,l){super(e,3,t),this.limit=i,this.result=r,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),u=Wl(e.state);if(u>l||!r||t&2&&(Wl(e.startState)==this.from||u<this.limit))return new Qi(this.source,t&4?1:0);let c=e.changes.mapPos(this.limit);return vW(r.validFor,e.state,s,l)?new vo(this.source,this.explicit,c,r,s,l):r.update&&(r=r.update(r,s,l,new vv(e.state,u,!1)))?new vo(this.source,this.explicit,c,r,r.from,(i=r.to)!==null&&i!==void 0?i:Wl(e.state)):new Qi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new vo(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Qi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function vW(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):pD(n,!0).test(r)}const wv=Ae.define({map(n,e){return n.map(t=>t.map(e))}}),gD=Ae.define(),zn=nn.define({create(){return pm.start()},update(n,e){return n.update(e)},provide:n=>[rv.from(n,e=>e.tooltip),de.contentAttributes.from(n,e=>e.attrs)]});function kv(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(zn).active.find(r=>r.source==e.source);return i instanceof vo?(typeof t=="string"?n.dispatch({...aW(n.state,t,i.from,i.to),annotations:xv.of(e.completion)}):t(n,e.completion,i.from,i.to),!0):!1}const xW=pW(zn,kv);function Vd(n,e="option"){return t=>{let i=t.state.field(zn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(tn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=YM(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=i.open.options,u=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:l-1;return u<0?u=e=="page"?0:l-1:u>=l&&(u=e=="page"?l-1:0),t.dispatch({effects:gD.of(u)}),!0}}const wW=n=>{let e=n.state.field(zn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(tn).interactionDelay?!1:kv(n,e.open.options[e.open.selected])},y0=n=>n.state.field(zn,!1)?(n.dispatch({effects:dm.of(!0)}),!0):!1,kW=n=>{let e=n.state.field(zn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Oh.of(null)}),!0)};class _W{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const CW=50,TW=1e3,EW=It.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(zn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(zn),t=n.state.facet(tn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(zn)==e)return;let i=n.transactions.some(s=>{let l=mD(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(i||l.context.abortOnDocChange&&n.docChanged||l.updates.length+n.transactions.length>CW&&Date.now()-l.time>TW){for(let u of l.context.abortListeners)try{u()}catch(c){Un(this.view.state,c)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(l=>l.is(dm)))&&(this.pendingStart=!0);let r=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(zn);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Wl(e),i=new vv(e,t,n.explicit,this.view),r=new _W(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Oh.of(null)}),Un(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(tn),i=this.view.state.field(zn);for(let r=0;r<this.running.length;r++){let s=this.running[r];if(s.done===void 0)continue;if(this.running.splice(r--,1),s.done){let u=Wl(s.updates.length?s.updates[0].startState:this.view.state),c=Math.min(u,s.done.from+(s.active.explicit?0:1)),f=new vo(s.active.source,s.active.explicit,c,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:u);for(let d of s.updates)f=f.update(d,t);if(f.hasResult()){e.push(f);continue}}let l=i.active.find(u=>u.source==s.active.source);if(l&&l.isPending)if(s.done==null){let u=new Qi(s.active.source,0);for(let c of s.updates)u=u.update(c,t);u.isPending||e.push(u)}else this.startQuery(l)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:wv.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(zn,!1);if(e&&e.tooltip&&this.view.state.facet(tn).closeOnBlur){let t=e.open&&YM(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Oh.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:dm.of(!1)}),20),this.composing=0}}}),QW=typeof navigator=="object"&&/Win/.test(navigator.platform),AW=hs.highest(de.domEventHandlers({keydown(n,e){let t=e.state.field(zn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(QW&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],r=t.active.find(l=>l.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&kv(e,i),!1}})),OD=de.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class PW{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class _v{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,fn.TrackDel),i=e.mapPos(this.to,1,fn.TrackDel);return t==null||i==null?null:new _v(this.field,t,i)}}class Cv{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),l=/^\s*/.exec(s.text)[0];for(let c of this.lines){if(i.length){let f=l,d=/^\t*/.exec(c)[0].length;for(let m=0;m<d;m++)f+=e.facet(nu);r.push(t+f.length-d),c=f+c.slice(d)}i.push(c),t+=c.length+1}let u=this.fieldPositions.map(c=>new _v(c.field,r[c.line]+c.from,r[c.line]+c.to));return{text:i,ranges:u}}static parse(e){let t=[],i=[],r=[],s;for(let l of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(l);){let u=s[1]?+s[1]:null,c=s[2]||s[3]||"",f=-1,d=c.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<t.length;m++)(u!=null?t[m].seq==u:d&&t[m].name==d)&&(f=m);if(f<0){let m=0;for(;m<t.length&&(u==null||t[m].seq!=null&&t[m].seq<u);)m++;t.splice(m,0,{seq:u,name:d}),f=m;for(let g of r)g.field>=f&&g.field++}for(let m of r)if(m.line==i.length&&m.from>s.index){let g=s[2]?3+(s[1]||"").length:2;m.from-=g,m.to-=g}r.push(new PW(f,i.length,s.index,s.index+d.length)),l=l.slice(0,s.index)+c+l.slice(s.index+s[0].length)}l=l.replace(/\\([{}])/g,(u,c,f)=>{for(let d of r)d.line==i.length&&d.from>f&&(d.from--,d.to--);return c}),i.push(l)}return new Cv(i,r)}}let RW=xe.widget({widget:new class extends Gi{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),MW=xe.mark({class:"cm-snippetField"});class lu{constructor(e,t){this.ranges=e,this.active=t,this.deco=xe.set(e.map(i=>(i.from==i.to?RW:MW).range(i.from,i.to)),!0)}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new lu(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const Fh=Ae.define({map(n,e){return n&&n.map(e)}}),$W=Ae.define(),yh=nn.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Fh))return t.value;if(t.is($W)&&n)return new lu(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>de.decorations.from(n,e=>e?e.deco:xe.none)});function Tv(n,e){return G.create(n.filter(t=>t.field==e).map(t=>G.range(t.from,t.to)))}function DW(n){let e=Cv.parse(n);return(t,i,r,s)=>{let{text:l,ranges:u}=e.instantiate(t.state,r),{main:c}=t.state.selection,f={changes:{from:r,to:s==c.from?c.to:s,insert:Fe.of(l)},scrollIntoView:!0,annotations:i?[xv.of(i),Zt.userEvent.of("input.complete")]:void 0};if(u.length&&(f.selection=Tv(u,0)),u.some(d=>d.field>0)){let d=new lu(u,0),m=f.effects=[Fh.of(d)];t.state.field(yh,!1)===void 0&&m.push(Ae.appendConfig.of([yh,BW,XW,OD]))}t.dispatch(t.state.update(f))}}function yD(n){return({state:e,dispatch:t})=>{let i=e.field(yh,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(l=>l.field==r+n);return t(e.update({selection:Tv(i.ranges,r),effects:Fh.of(s?null:new lu(i.ranges,r)),scrollIntoView:!0})),!0}}const IW=({state:n,dispatch:e})=>n.field(yh,!1)?(e(n.update({effects:Fh.of(null)})),!0):!1,LW=yD(1),NW=yD(-1),zW=[{key:"Tab",run:LW,shift:NW},{key:"Escape",run:IW}],uQ=ge.define({combine(n){return n.length?n[0]:zW}}),BW=hs.highest(eu.compute([uQ],n=>n.facet(uQ)));function Ln(n,e){return{...e,apply:DW(n)}}const XW=de.domEventHandlers({mousedown(n,e){let t=e.state.field(yh,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:Tv(t.ranges,r.field),effects:Fh.of(t.ranges.some(s=>s.field>r.field)?new lu(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),bh={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Vl=Ae.define({map(n,e){let t=e.mapPos(n,-1,fn.TrackAfter);return t??void 0}}),Ev=new class extends il{};Ev.startSide=1;Ev.endSide=-1;const bD=nn.define({create(){return Ue.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(Vl)&&(n=n.update({add:[Ev.range(t.value,t.value+1)]}));return n}});function ZW(){return[jW,bD]}const b0="()[]{}<>";function SD(n){for(let e=0;e<b0.length;e+=2)if(b0.charCodeAt(e)==n)return b0.charAt(e+1);return XS(n<128?n:n+1)}function vD(n,e){return n.languageDataAt("closeBrackets",e)[0]||bh}const UW=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),jW=de.inputHandler.of((n,e,t,i)=>{if((UW?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&cr(Nn(i,0))==1||e!=r.from||t!=r.to)return!1;let s=YW(n.state,i);return s?(n.dispatch(s),!0):!1}),qW=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=vD(n,n.selection.main.head).brackets||bh.brackets,r=null,s=n.changeByRange(l=>{if(l.empty){let u=WW(n.doc,l.head);for(let c of i)if(c==u&&tg(n.doc,l.head)==SD(Nn(c,0)))return{changes:{from:l.head-c.length,to:l.head+c.length},range:G.cursor(l.head-c.length)}}return{range:r=l}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},VW=[{key:"Backspace",run:qW}];function YW(n,e){let t=vD(n,n.selection.main.head),i=t.brackets||bh.brackets;for(let r of i){let s=SD(Nn(r,0));if(e==r)return s==r?FW(n,r,i.indexOf(r+r+r)>-1,t):HW(n,r,s,t.before||bh.before);if(e==s&&xD(n,n.selection.main.from))return GW(n,r,s)}return null}function xD(n,e){let t=!1;return n.field(bD).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function tg(n,e){let t=n.sliceString(e,e+2);return t.slice(0,cr(Nn(t,0)))}function WW(n,e){let t=n.sliceString(e-2,e);return cr(Nn(t,0))==t.length?t:t.slice(1)}function HW(n,e,t,i){let r=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:Vl.of(l.to+e.length),range:G.range(l.anchor+e.length,l.head+e.length)};let u=tg(n.doc,l.head);return!u||/\s/.test(u)||i.indexOf(u)>-1?{changes:{insert:e+t,from:l.head},effects:Vl.of(l.head+e.length),range:G.cursor(l.head+e.length)}:{range:r=l}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function GW(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&tg(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:G.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function FW(n,e,t,i){let r=i.stringPrefixes||bh.stringPrefixes,s=null,l=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:Vl.of(u.to+e.length),range:G.range(u.anchor+e.length,u.head+e.length)};let c=u.head,f=tg(n.doc,c),d;if(f==e){if(cQ(n,c))return{changes:{insert:e+e,from:c},effects:Vl.of(c+e.length),range:G.cursor(c+e.length)};if(xD(n,c)){let g=t&&n.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+g.length,insert:g},range:G.cursor(c+g.length)}}}else{if(t&&n.sliceDoc(c-2*e.length,c)==e+e&&(d=hQ(n,c-2*e.length,r))>-1&&cQ(n,d))return{changes:{insert:e+e+e+e,from:c},effects:Vl.of(c+e.length),range:G.cursor(c+e.length)};if(n.charCategorizer(c)(f)!=Et.Word&&hQ(n,c,r)>-1&&!KW(n,c,e,r))return{changes:{insert:e+e,from:c},effects:Vl.of(c+e.length),range:G.cursor(c+e.length)}}return{range:s=u}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function cQ(n,e){let t=bt(n).resolveInner(e+1);return t.parent&&t.from==e}function KW(n,e,t,i){let r=bt(n).resolveInner(e,-1),s=i.reduce((l,u)=>Math.max(l,u.length),0);for(let l=0;l<5;l++){let u=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),c=u.indexOf(t);if(!c||c>-1&&i.indexOf(u.slice(0,c))>-1){let d=r.firstChild;for(;d&&d.from==r.from&&d.to-d.from>t.length+c;){if(n.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let f=r.to==e&&r.parent;if(!f)break;r=f}return!1}function hQ(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Et.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=Et.Word)return s}return-1}function JW(n={}){return[AW,zn,tn.of(n),EW,eH,OD]}const wD=[{key:"Ctrl-Space",run:y0},{mac:"Alt-`",run:y0},{mac:"Alt-i",run:y0},{key:"Escape",run:kW},{key:"ArrowDown",run:Vd(!0)},{key:"ArrowUp",run:Vd(!1)},{key:"PageDown",run:Vd(!0,"page")},{key:"PageUp",run:Vd(!1,"page")},{key:"Enter",run:wW}],eH=hs.highest(eu.computeN([tn],n=>n.facet(tn).defaultKeymap?[wD]:[]));class fQ{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Nl{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=i.facet(Sh).markerFilter;r&&(e=r(e,i));let s=e.slice().sort((y,S)=>y.from-S.from||y.to-S.to),l=new as,u=[],c=0,f=i.doc.iter(),d=0,m=i.doc.length;for(let y=0;;){let S=y==s.length?null:s[y];if(!S&&!u.length)break;let x,w;if(u.length)x=c,w=u.reduce((T,Z)=>Math.min(T,Z.to),S&&S.from>x?S.from:1e8);else{if(x=S.from,x>m)break;w=S.to,u.push(S),y++}for(;y<s.length;){let T=s[y];if(T.from==x&&(T.to>T.from||T.to==x))u.push(T),y++,w=Math.min(T.to,w);else{w=Math.min(T.from,w);break}}w=Math.min(w,m);let k=!1;if(u.some(T=>T.from==x&&(T.to==w||w==m))&&(k=x==w,!k&&w-x<10)){let T=x-(d+f.value.length);T>0&&(f.next(T),d=x);for(let Z=x;;){if(Z>=w){k=!0;break}if(!f.lineBreak&&d+f.value.length>Z)break;Z=d+f.value.length,d+=f.value.length,f.next()}}let A=dH(u);if(k)l.add(x,x,xe.widget({widget:new uH(A),diagnostics:u.slice()}));else{let T=u.reduce((Z,D)=>D.markClass?Z+" "+D.markClass:Z,"");l.add(x,w,xe.mark({class:"cm-lintRange cm-lintRange-"+A+T,diagnostics:u.slice(),inclusiveEnd:u.some(Z=>Z.to>w)}))}if(c=w,c==m)break;for(let T=0;T<u.length;T++)u[T].to<=c&&u.splice(T--,1)}let g=l.finish();return new Nl(g,t,No(g))}}function No(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!i)i=new fQ(r,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new fQ(i.from,s,i.diagnostic)}}),i}function tH(n,e){let t=e.pos,i=e.end||t,r=n.state.facet(Sh).hideOn(n,t,i);if(r!=null)return r;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(l=>l.is(kD))||n.changes.touchesRange(s.from,Math.max(s.to,i)))}function nH(n,e){return n.field(ui,!1)?e:e.concat(Ae.appendConfig.of(pH))}const kD=Ae.define(),Qv=Ae.define(),_D=Ae.define(),ui=nn.define({create(){return new Nl(xe.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,r=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);i=No(t,n.selected.diagnostic,s)||No(t,null,s)}!t.size&&r&&e.state.facet(Sh).autoPanel&&(r=null),n=new Nl(t,r,i)}for(let t of e.effects)if(t.is(kD)){let i=e.state.facet(Sh).autoPanel?t.value.length?vh.open:null:n.panel;n=Nl.init(t.value,i,e.state)}else t.is(Qv)?n=new Nl(n.diagnostics,t.value?vh.open:null,n.selected):t.is(_D)&&(n=new Nl(n.diagnostics,n.panel,t.value));return n},provide:n=>[ch.from(n,e=>e.panel),de.decorations.from(n,e=>e.diagnostics)]}),iH=xe.mark({class:"cm-lintRange cm-lintRange-active"});function rH(n,e,t){let{diagnostics:i}=n.state.field(ui),r,s=-1,l=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(c,f,{spec:d})=>{if(e>=c&&e<=f&&(c==f||(e>c||t>0)&&(e<f||t<0)))return r=d.diagnostics,s=c,l=f,!1});let u=n.state.facet(Sh).tooltipFilter;return r&&u&&(r=u(r,n.state)),r?{pos:s,end:l,above:n.state.doc.lineAt(s).to<l,create(){return{dom:sH(n,r)}}}:null}function sH(n,e){return ht("ul",{class:"cm-tooltip-lint"},e.map(t=>TD(n,t,!1)))}const lH=n=>{let e=n.state.field(ui,!1);(!e||!e.panel)&&n.dispatch({effects:nH(n.state,[Qv.of(!0)])});let t=sv(n,vh.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},dQ=n=>{let e=n.state.field(ui,!1);return!e||!e.panel?!1:(n.dispatch({effects:Qv.of(!1)}),!0)},aH=n=>{let e=n.state.field(ui,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},oH=[{key:"Mod-Shift-m",run:lH,preventDefault:!0},{key:"F8",run:aH}],Sh=ge.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...xr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:pQ,tooltipFilter:pQ,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,r,s)=>e(i,r,s)||t(i,r,s):e:t,autoPanel:(e,t)=>e||t})}}});function pQ(n,e){return n?e?(t,i)=>e(n(t,i),i):n:e}function CD(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function TD(n,e,t){var i;let r=t?CD(e.actions):[];return ht("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ht("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,l)=>{let u=!1,c=y=>{if(y.preventDefault(),u)return;u=!0;let S=No(n.state.field(ui).diagnostics,e);S&&s.apply(n,S.from,S.to)},{name:f}=s,d=r[l]?f.indexOf(r[l]):-1,m=d<0?f:[f.slice(0,d),ht("u",f.slice(d,d+1)),f.slice(d+1)],g=s.markClass?" "+s.markClass:"";return ht("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:c,onmousedown:c,"aria-label":` Action: ${f}${d<0?"":` (access key "${r[l]})"`}.`},m)}),e.source&&ht("div",{class:"cm-diagnosticSource"},e.source))}class uH extends Gi{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ht("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class mQ{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=TD(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vh{constructor(e){this.view=e,this.items=[];let t=r=>{if(!(r.ctrlKey||r.altKey||r.metaKey)){if(r.keyCode==27)dQ(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=CD(s.actions);for(let u=0;u<l.length;u++)if(l[u].toUpperCase().charCodeAt(0)==r.keyCode){let c=No(this.view.state.field(ui).diagnostics,s);c&&s.actions[u].apply(e,c.from,c.to)}}else return;r.preventDefault()}},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=ht("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=ht("div",{class:"cm-panel-lint"},this.list,ht("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>dQ(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(ui).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ui),i=0,r=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(u,c,{spec:f})=>{for(let d of f.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let y=i;y<this.items.length;y++)if(this.items[y].diagnostic==d){m=y;break}m<0?(g=new mQ(this.view,d),this.items.splice(i,0,g),r=!0):(g=this.items[m],m>i&&(this.items.splice(i,m-i),r=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new mQ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:u,panel:c})=>{let f=c.height/this.list.offsetHeight;u.top<c.top?this.list.scrollTop-=(c.top-u.top)/f:u.bottom>c.bottom&&(this.list.scrollTop+=(u.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ui),i=No(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:_D.of(i)})}static open(e){return new vh(e)}}function cH(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Yd(n){return cH(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const hH=de.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Yd("#d11")},".cm-lintRange-warning":{backgroundImage:Yd("orange")},".cm-lintRange-info":{backgroundImage:Yd("#999")},".cm-lintRange-hint":{backgroundImage:Yd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function fH(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function dH(n){let e="hint",t=1;for(let i of n){let r=fH(i.severity);r>t&&(t=r,e=i.severity)}return e}const pH=[ui,de.decorations.compute([ui],n=>{let{selected:e,panel:t}=n.field(ui);return!e||!t||e.from==e.to?xe.none:xe.set([iH.range(e.from,e.to)])}),V8(rH,{hideOn:tH}),hH];var gQ=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(VW)),e.defaultKeymap!==!1&&(i=i.concat(E7)),e.searchKeymap!==!1&&(i=i.concat(tW)),e.historyKeymap!==!1&&(i=i.concat(DY)),e.foldKeymap!==!1&&(i=i.concat(G9)),e.completionKeymap!==!1&&(i=i.concat(wD)),e.lintKeymap!==!1&&(i=i.concat(oH));var r=[];return e.lineNumbers!==!1&&r.push(s9()),e.highlightActiveLineGutter!==!1&&r.push(o9()),e.highlightSpecialChars!==!1&&r.push(v8()),e.history!==!1&&r.push(CY()),e.foldGutter!==!1&&r.push(eY()),e.drawSelection!==!1&&r.push(c8()),e.dropCursor!==!1&&r.push(m8()),e.allowMultipleSelections!==!1&&r.push(Ye.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(Z9()),e.syntaxHighlighting!==!1&&r.push(S$(rY,{fallback:!0})),e.bracketMatching!==!1&&r.push(hY()),e.closeBrackets!==!1&&r.push(ZW()),e.autocompletion!==!1&&r.push(JW()),e.rectangularSelection!==!1&&r.push(D8()),t!==!1&&r.push(N8()),e.highlightActiveLine!==!1&&r.push(T8()),e.highlightSelectionMatches!==!1&&r.push($7()),e.tabSize&&typeof e.tabSize=="number"&&r.push(nu.of(" ".repeat(e.tabSize))),r.concat([eu.of(i.flat())]).filter(Boolean)};const mH="#e5c07b",OQ="#e06c75",gH="#56b6c2",OH="#ffffff",mp="#abb2bf",O1="#7d8799",yH="#61afef",bH="#98c379",yQ="#d19a66",SH="#c678dd",vH="#21252b",bQ="#2c313a",SQ="#282c34",S0="#353a42",xH="#3E4451",vQ="#528bff",wH=de.theme({"&":{color:mp,backgroundColor:SQ},".cm-content":{caretColor:vQ},".cm-cursor, .cm-dropCursor":{borderLeftColor:vQ},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xH},".cm-panels":{backgroundColor:vH,color:mp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:SQ,color:O1,border:"none"},".cm-activeLineGutter":{backgroundColor:bQ},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:S0},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:S0,borderBottomColor:S0},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:bQ,color:mp}}},{dark:!0}),kH=Wh.define([{tag:Q.keyword,color:SH},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:OQ},{tag:[Q.function(Q.variableName),Q.labelName],color:yH},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:yQ},{tag:[Q.definition(Q.name),Q.separator],color:mp},{tag:[Q.typeName,Q.className,Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:mH},{tag:[Q.operator,Q.operatorKeyword,Q.url,Q.escape,Q.regexp,Q.link,Q.special(Q.string)],color:gH},{tag:[Q.meta,Q.comment],color:O1},{tag:Q.strong,fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.link,color:O1,textDecoration:"underline"},{tag:Q.heading,fontWeight:"bold",color:OQ},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:yQ},{tag:[Q.processingInstruction,Q.string,Q.inserted],color:bH},{tag:Q.invalid,color:OH}]),_H=[wH,S$(kH)];var CH=de.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),TH=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:r=!1,theme:s="light",placeholder:l="",basicSetup:u=!0}=e,c=[];switch(t&&c.unshift(eu.of([Q7])),u&&(typeof u=="boolean"?c.unshift(gQ()):c.unshift(gQ(u))),l&&c.unshift(P8(l)),s){case"light":c.push(CH);break;case"dark":c.push(_H);break;case"none":break;default:c.push(s);break}return i===!1&&c.push(de.editable.of(!1)),r&&c.push(Ye.readOnly.of(!0)),[...c]},EH=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class QH{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class xQ{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var v0=null,AH=()=>typeof window>"u"?new xQ:(v0||(v0=new xQ),v0),wQ=vr.define(),PH=200,RH=[];function MH(n){var{value:e,selection:t,onChange:i,onStatistics:r,onCreateEditor:s,onUpdate:l,extensions:u=RH,autoFocus:c,theme:f="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:y=null,minWidth:S=null,maxWidth:x=null,placeholder:w="",editable:k=!0,readOnly:A=!1,indentWithTab:T=!0,basicSetup:Z=!0,root:D,initialState:R}=n,[B,le]=X.useState(),[re,I]=X.useState(),[ee,W]=X.useState(),he=X.useState(()=>({current:null}))[0],se=X.useState(()=>({current:null}))[0],te=de.theme({"&":{height:d,minHeight:m,maxHeight:g,width:y,minWidth:S,maxWidth:x},"& .cm-scroller":{height:"100% !important"}}),N=de.updateListener.of(F=>{if(F.docChanged&&typeof i=="function"&&!F.transactions.some(U=>U.annotation(wQ))){he.current?he.current.reset():(he.current=new QH(()=>{if(se.current){var U=se.current;se.current=null,U()}he.current=null},PH),AH().add(he.current));var E=F.state.doc,P=E.toString();i(P,F)}r&&r(EH(F))}),ne=TH({theme:f,editable:k,readOnly:A,placeholder:w,indentWithTab:T,basicSetup:Z}),pe=[N,te,...ne];return l&&typeof l=="function"&&pe.push(de.updateListener.of(l)),pe=pe.concat(u),X.useLayoutEffect(()=>{if(B&&!ee){var F={doc:e,selection:t,extensions:pe},E=R?Ye.fromJSON(R.json,F,R.fields):Ye.create(F);if(W(E),!re){var P=new de({state:E,parent:B,root:D});I(P),s&&s(P,E)}}return()=>{re&&(W(void 0),I(void 0))}},[B,ee]),X.useEffect(()=>{n.container&&le(n.container)},[n.container]),X.useEffect(()=>()=>{re&&(re.destroy(),I(void 0)),he.current&&(he.current.cancel(),he.current=null)},[re]),X.useEffect(()=>{c&&re&&re.focus()},[c,re]),X.useEffect(()=>{re&&re.dispatch({effects:Ae.reconfigure.of(pe)})},[f,u,d,m,g,y,S,x,w,k,A,T,Z,i,l]),X.useEffect(()=>{if(e!==void 0){var F=re?re.state.doc.toString():"";if(re&&e!==F){var E=he.current&&!he.current.isDone,P=()=>{re&&e!==re.state.doc.toString()&&re.dispatch({changes:{from:0,to:re.state.doc.toString().length,insert:e||""},annotations:[wQ.of(!0)]})};E?se.current=P:P()}}},[e,re]),{state:ee,setState:W,view:re,setView:I,container:B,setContainer:le}}var $H=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ED=X.forwardRef((n,e)=>{var{className:t,value:i="",selection:r,extensions:s=[],onChange:l,onStatistics:u,onCreateEditor:c,onUpdate:f,autoFocus:d,theme:m="light",height:g,minHeight:y,maxHeight:S,width:x,minWidth:w,maxWidth:k,basicSetup:A,placeholder:T,indentWithTab:Z,editable:D,readOnly:R,root:B,initialState:le}=n,re=Fj(n,$H),I=X.useRef(null),{state:ee,view:W,container:he,setContainer:se}=MH({root:B,value:i,autoFocus:d,theme:m,height:g,minHeight:y,maxHeight:S,width:x,minWidth:w,maxWidth:k,basicSetup:A,placeholder:T,indentWithTab:Z,editable:D,readOnly:R,selection:r,onChange:l,onStatistics:u,onCreateEditor:c,onUpdate:f,extensions:s,initialState:le});X.useImperativeHandle(e,()=>({editor:I.current,state:ee,view:W}),[I,he,ee,W]);var te=X.useCallback(ne=>{I.current=ne,se(ne)},[se]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var N=typeof m=="string"?"cm-theme-"+m:"cm-theme";return z.jsx("div",kb({ref:te,className:""+N+(t?" "+t:"")},re))});ED.displayName="CodeMirror";class mm{static create(e,t,i,r,s){let l=r+(r<<8)+e+(t<<4)|0;return new mm(e,t,i,l,s,[],[])}constructor(e,t,i,r,s,l,u){this.type=e,this.value=t,this.from=i,this.hash=r,this.end=s,this.children=l,this.positions=u,this.hashProp=[[Pe.contextHash,r]]}addChild(e,t){e.prop(Pe.contextHash)!=this.hash&&(e=new nt(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let i=this.children.length-1;return i>=0&&(t=Math.max(t,this.positions[i]+this.children[i].length+this.from)),new nt(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(r,s,l)=>new nt(Ht.none,r,s,l,this.hashProp)})}}var oe;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(oe||(oe={}));class DH{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class IH{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Xc(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,i=0){for(let r=t;r<e;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(e){let t=0;for(let i=0;t<this.text.length&&i<e;t++)i+=this.text.charCodeAt(t)==9?4-i%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function kQ(n,e,t){if(t.pos==t.text.length||n!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let i=(n.type==oe.OrderedList?Rv:Pv)(t,e,!1);return i>0&&(n.type!=oe.BulletList||Av(t,e,!1)<0)&&t.text.charCodeAt(t.pos+i-1)==n.value}const QD={[oe.Blockquote](n,e,t){return t.next!=62?!1:(t.markers.push(He(oe.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(Mi(t.text.charCodeAt(t.pos+1))?2:1)),n.end=e.lineStart+t.text.length,!0)},[oe.ListItem](n,e,t){return t.indent<t.baseIndent+n.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+n.value),!0)},[oe.OrderedList]:kQ,[oe.BulletList]:kQ,[oe.Document](){return!0}};function Mi(n){return n==32||n==9||n==10||n==13}function Xc(n,e=0){for(;e<n.length&&Mi(n.charCodeAt(e));)e++;return e}function _Q(n,e,t){for(;e>t&&Mi(n.charCodeAt(e-1));)e--;return e}function AD(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let t=e;t<n.text.length;t++)if(n.text.charCodeAt(t)==96)return-1}return e}function PD(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function Av(n,e,t){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let i=1;for(let r=n.pos+1;r<n.text.length;r++){let s=n.text.charCodeAt(r);if(s==n.next)i++;else if(!Mi(s))return-1}return t&&n.next==45&&$D(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(ND.SetextHeading)>-1||i<3?-1:1}function RD(n,e){for(let t=n.stack.length-1;t>=0;t--)if(n.stack[t].type==e)return!0;return!1}function Pv(n,e,t){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||Mi(n.text.charCodeAt(n.pos+1)))&&(!t||RD(e,oe.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function Rv(n,e,t){let i=n.pos,r=n.next;for(;r>=48&&r<=57;){i++;if(i==n.text.length)return-1;r=n.text.charCodeAt(i)}return i==n.pos||i>n.pos+9||r!=46&&r!=41||i<n.text.length-1&&!Mi(n.text.charCodeAt(i+1))||t&&!RD(e,oe.OrderedList)&&(n.skipSpace(i+1)==n.text.length||i>n.pos+1||n.next!=49)?-1:i+1-n.pos}function MD(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let t=e-n.pos;return t>6?-1:t}function $D(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let t=e;for(;e<n.text.length&&Mi(n.text.charCodeAt(e));)e++;return e==n.text.length?t:-1}const y1=/^[ \t]*$/,DD=/-->/,ID=/\?>/,b1=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,DD],[/^\s*<\?/,ID],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,y1],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,y1]];function LD(n,e,t){if(n.next!=60)return-1;let i=n.text.slice(n.pos);for(let r=0,s=b1.length-(t?1:0);r<s;r++)if(b1[r][0].test(i))return r;return-1}function CQ(n,e){let t=n.countIndent(e,n.pos,n.indent),i=n.countIndent(n.skipSpace(e),e,t);return i>=t+5?t+1:i}function zs(n,e,t){let i=n.length-1;i>=0&&n[i].to==e&&n[i].type==oe.CodeText?n[i].to=t:n.push(He(oe.CodeText,e,t))}const Wd={LinkReference:void 0,IndentedCode(n,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let i=e.findColumn(t),r=n.lineStart+i,s=n.lineStart+e.text.length,l=[],u=[];for(zs(l,r,s);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){zs(u,n.lineStart-1,n.lineStart);for(let c of e.markers)u.push(c)}else{if(e.indent<t)break;{if(u.length){for(let f of u)f.type==oe.CodeText?zs(l,f.from,f.to):l.push(f);u=[]}zs(l,n.lineStart-1,n.lineStart);for(let f of e.markers)l.push(f);s=n.lineStart+e.text.length;let c=n.lineStart+e.findColumn(e.baseIndent+4);c<s&&zs(l,c,s)}}return u.length&&(u=u.filter(c=>c.type!=oe.CodeText),u.length&&(e.markers=u.concat(e.markers))),n.addNode(n.buffer.writeElements(l,-r).finish(oe.CodeBlock,s-r),r),!0},FencedCode(n,e){let t=AD(e);if(t<0)return!1;let i=n.lineStart+e.pos,r=e.next,s=t-e.pos,l=e.skipSpace(t),u=_Q(e.text,e.text.length,l),c=[He(oe.CodeMark,i,i+s)];l<u&&c.push(He(oe.CodeInfo,n.lineStart+l,n.lineStart+u));for(let f=!0,d=!0,m=!1;n.nextLine()&&e.depth>=n.stack.length;f=!1){let g=e.pos;if(e.indent-e.baseIndent<4)for(;g<e.text.length&&e.text.charCodeAt(g)==r;)g++;if(g-e.pos>=s&&e.skipSpace(g)==e.text.length){for(let y of e.markers)c.push(y);d&&m&&zs(c,n.lineStart-1,n.lineStart),c.push(He(oe.CodeMark,n.lineStart+e.pos,n.lineStart+g)),n.nextLine();break}else{m=!0,f||(zs(c,n.lineStart-1,n.lineStart),d=!1);for(let x of e.markers)c.push(x);let y=n.lineStart+e.basePos,S=n.lineStart+e.text.length;y<S&&(zs(c,y,S),d=!1)}}return n.addNode(n.buffer.writeElements(c,-i).finish(oe.FencedCode,n.prevLineEnd()-i),i),!0},Blockquote(n,e){let t=PD(e);return t<0?!1:(n.startContext(oe.Blockquote,e.pos),n.addNode(oe.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(n,e){if(Av(e,n,!1)<0)return!1;let t=n.lineStart+e.pos;return n.nextLine(),n.addNode(oe.HorizontalRule,t),!0},BulletList(n,e){let t=Pv(e,n,!1);if(t<0)return!1;n.block.type!=oe.BulletList&&n.startContext(oe.BulletList,e.basePos,e.next);let i=CQ(e,e.pos+1);return n.startContext(oe.ListItem,e.basePos,i-e.baseIndent),n.addNode(oe.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(i),null},OrderedList(n,e){let t=Rv(e,n,!1);if(t<0)return!1;n.block.type!=oe.OrderedList&&n.startContext(oe.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let i=CQ(e,e.pos+t);return n.startContext(oe.ListItem,e.basePos,i-e.baseIndent),n.addNode(oe.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(i),null},ATXHeading(n,e){let t=MD(e);if(t<0)return!1;let i=e.pos,r=n.lineStart+i,s=_Q(e.text,e.text.length,i),l=s;for(;l>i&&e.text.charCodeAt(l-1)==e.next;)l--;(l==s||l==i||!Mi(e.text.charCodeAt(l-1)))&&(l=e.text.length);let u=n.buffer.write(oe.HeaderMark,0,t).writeElements(n.parser.parseInline(e.text.slice(i+t+1,l),r+t+1),-r);l<e.text.length&&u.write(oe.HeaderMark,l-i,s-i);let c=u.finish(oe.ATXHeading1-1+t,e.text.length-i);return n.nextLine(),n.addNode(c,r),!0},HTMLBlock(n,e){let t=LD(e,n,!1);if(t<0)return!1;let i=n.lineStart+e.pos,r=b1[t][1],s=[],l=r!=y1;for(;!r.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){l=!1;break}for(let f of e.markers)s.push(f)}l&&n.nextLine();let u=r==DD?oe.CommentBlock:r==ID?oe.ProcessingInstructionBlock:oe.HTMLBlock,c=n.prevLineEnd();return n.addNode(n.buffer.writeElements(s,-i).finish(u,c-i),i),!0},SetextHeading:void 0};class LH{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,i){if(this.stage==-1)return!1;let r=i.content+`
`+t.scrub(),s=this.advance(r);return s>-1&&s<r.length?this.complete(e,i,s):!1}finish(e,t){return(this.stage==2||this.stage==3)&&Xc(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,i){return e.addLeafElement(t,He(oe.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(YD(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(He(oe.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(qD(e,Xc(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=Xc(e,this.pos),i=0;if(t>this.pos){let r=VD(e,t,this.start);if(r){let s=x0(e,r.to-this.start);s>0&&(this.nextStage(r),i=s)}}return i||(i=x0(e,this.pos)),i>0&&i<e.length?i:-1}else return x0(e,this.pos)}}}function x0(n,e){for(;e<n.length;e++){let t=n.charCodeAt(e);if(t==10)break;if(!Mi(t))return-1}return e}class NH{nextLine(e,t,i){let r=t.depth<e.stack.length?-1:$D(t),s=t.next;if(r<0)return!1;let l=He(oe.HeaderMark,e.lineStart+t.pos,e.lineStart+r);return e.nextLine(),e.addLeafElement(i,He(s==61?oe.SetextHeading1:oe.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),l])),!0}finish(){return!1}}const ND={LinkReference(n,e){return e.content.charCodeAt(0)==91?new LH(e):null},SetextHeading(){return new NH}},zH=[(n,e)=>MD(e)>=0,(n,e)=>AD(e)>=0,(n,e)=>PD(e)>=0,(n,e)=>Pv(e,n,!0)>=0,(n,e)=>Rv(e,n,!0)>=0,(n,e)=>Av(e,n,!0)>=0,(n,e)=>LD(e,n,!0)>=0],BH={text:"",end:0};class XH{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.line=new IH,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=mm.create(oe.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new jH(i,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let r=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!r||e.markers[i].from<r.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!r)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,e);if(r!=!1){if(r==!0)return null;e.forward();continue e}}break}let t=new DH(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,t);r&&t.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,t))break e}for(let i of t.parsers)if(i.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let i of e.markers)t.marks.push(i)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=WD(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=BH;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<t.end;){r++;let s=this.ranges[r].from,l=this.lineChunkAt(s);t.end=s+l.length,t.text=t.text.slice(0,this.ranges[r-1].to-i)+l,i=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(t);e.depth<this.stack.length;e.depth++){let r=this.stack[e.depth],s=this.parser.skipContextMarkup[r.type];if(!s)throw new Error("Unhandled block context "+oe[r.type]);let l=this.line.markers.length;if(!s(r,this,e)){this.line.markers.length>l&&(r.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),i;if(this.input.lineChunks)i=t==`
`?"":t;else{let r=t.indexOf(`
`);i=r<0?t:t.slice(0,r)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,i=0){this.block=mm.create(e,i,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,i=0){this.startContext(this.parser.getNodeType(e),t,i)}addNode(e,t,i){typeof e=="number"&&(e=new nt(this.parser.nodeSet.types[e],zo,zo,(i??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(v1(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?zD(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let t=v1(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(oe.Paragraph,e.content.length),e.start)}elt(e,t,i,r){return typeof e=="string"?He(this.parser.getNodeType(e),t,i,r):new ZD(e,t)}get buffer(){return new XD(this.parser.nodeSet)}}function zD(n,e,t,i,r){let s=n[e].to,l=[],u=[],c=t.from+i;function f(d,m){for(;m?d>=s:d>s;){let g=n[e+1].from-s;i+=g,d+=g,e++,s=n[e].to}}for(let d=t.firstChild;d;d=d.nextSibling){f(d.from+i,!0);let m=d.from+i,g,y=r.get(d.tree);y?g=y:d.to+i>s?(g=zD(n,e,d,i,r),f(d.to+i,!1)):g=d.toTree(),l.push(g),u.push(m-c)}return f(t.to+i,!1),new nt(t.type,l,u,t.to+i-c,t.tree?t.tree.propValues:void 0)}class ng extends uv{constructor(e,t,i,r,s,l,u,c,f){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=s,this.skipContextMarkup=l,this.inlineParsers=u,this.inlineNames=c,this.wrappers=f,this.nodeTypes=Object.create(null);for(let d of e.types)this.nodeTypes[d.name]=d.id}createParse(e,t,i){let r=new XH(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}configure(e){let t=S1(e);if(!t)return this;let{nodeSet:i,skipContextMarkup:r}=this,s=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),u=this.blockNames.slice(),c=this.inlineParsers.slice(),f=this.inlineNames.slice(),d=this.endLeafBlock.slice(),m=this.wrappers;if(pc(t.defineNodes)){r=Object.assign({},r);let g=i.types.slice(),y;for(let S of t.defineNodes){let{name:x,block:w,composite:k,style:A}=typeof S=="string"?{name:S}:S;if(g.some(D=>D.name==x))continue;k&&(r[g.length]=(D,R,B)=>k(R,B,D.value));let T=g.length,Z=k?["Block","BlockContext"]:w?T>=oe.ATXHeading1&&T<=oe.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;g.push(Ht.define({id:T,name:x,props:Z&&[[Pe.group,Z]]})),A&&(y||(y={}),Array.isArray(A)||A instanceof oi?y[x]=A:Object.assign(y,A))}i=new qh(g),y&&(i=i.extend(tu(y)))}if(pc(t.props)&&(i=i.extend(...t.props)),pc(t.remove))for(let g of t.remove){let y=this.blockNames.indexOf(g),S=this.inlineNames.indexOf(g);y>-1&&(s[y]=l[y]=void 0),S>-1&&(c[S]=void 0)}if(pc(t.parseBlock))for(let g of t.parseBlock){let y=u.indexOf(g.name);if(y>-1)s[y]=g.parse,l[y]=g.leaf;else{let S=g.before?Hd(u,g.before):g.after?Hd(u,g.after)+1:u.length-1;s.splice(S,0,g.parse),l.splice(S,0,g.leaf),u.splice(S,0,g.name)}g.endLeaf&&d.push(g.endLeaf)}if(pc(t.parseInline))for(let g of t.parseInline){let y=f.indexOf(g.name);if(y>-1)c[y]=g.parse;else{let S=g.before?Hd(f,g.before):g.after?Hd(f,g.after)+1:f.length-1;c.splice(S,0,g.parse),f.splice(S,0,g.name)}}return t.wrap&&(m=m.concat(t.wrap)),new ng(i,s,l,u,d,r,c,f,m)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let i=new Mv(this,e,t);e:for(let r=t;r<i.end;){let s=i.char(r);for(let l of this.inlineParsers)if(l){let u=l(i,s,r);if(u>=0){r=u;continue e}}r++}return i.resolveMarkers(0)}}function pc(n){return n!=null&&n.length>0}function S1(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=S1(n[0]);if(n.length==1)return e;let t=S1(n.slice(1));if(!t||!e)return e||t;let i=(l,u)=>(l||zo).concat(u||zo),r=e.wrap,s=t.wrap;return{props:i(e.props,t.props),defineNodes:i(e.defineNodes,t.defineNodes),parseBlock:i(e.parseBlock,t.parseBlock),parseInline:i(e.parseInline,t.parseInline),remove:i(e.remove,t.remove),wrap:r?s?(l,u,c,f)=>r(s(l,u,c,f),u,c,f):r:s}}function Hd(n,e){let t=n.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let BD=[Ht.none];for(let n=1,e;e=oe[n];n++)BD[n]=Ht.define({id:n,name:e,props:n>=oe.Escape?[]:[[Pe.group,n in QD?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const zo=[];class XD{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,i,r=0){return this.content.push(e,t,i,4+r*4),this}writeElements(e,t=0){for(let i of e)i.writeTo(this,t);return this}finish(e,t){return nt.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let xh=class{constructor(e,t,i,r=zo){this.type=e,this.from=t,this.to=i,this.children=r}writeTo(e,t){let i=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-i)}toTree(e){return new XD(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class ZD{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return zo}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function He(n,e,t,i){return new xh(n,e,t,i)}const UD={resolve:"Emphasis",mark:"EmphasisMark"},jD={resolve:"Emphasis",mark:"EmphasisMark"},zl={},gm={};class ai{constructor(e,t,i,r){this.type=e,this.from=t,this.to=i,this.side=r}}const TQ="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let wh=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{wh=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const w0={Escape(n,e,t){if(e!=92||t==n.end-1)return-1;let i=n.char(t+1);for(let r=0;r<TQ.length;r++)if(TQ.charCodeAt(r)==i)return n.append(He(oe.Escape,t,t+2));return-1},Entity(n,e,t){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(t+1,t+31));return i?n.append(He(oe.Entity,t,t+1+i[0].length)):-1},InlineCode(n,e,t){if(e!=96||t&&n.char(t-1)==96)return-1;let i=t+1;for(;i<n.end&&n.char(i)==96;)i++;let r=i-t,s=0;for(;i<n.end;i++)if(n.char(i)==96){if(s++,s==r&&n.char(i+1)!=96)return n.append(He(oe.InlineCode,t,i+1,[He(oe.CodeMark,t,t+r),He(oe.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(n,e,t){if(e!=60||t==n.end-1)return-1;let i=n.slice(t+1,n.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return n.append(He(oe.Autolink,t,t+1+r[0].length,[He(oe.LinkMark,t,t+1),He(oe.URL,t+1,t+r[0].length),He(oe.LinkMark,t+r[0].length,t+1+r[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return n.append(He(oe.Comment,t,t+1+s[0].length));let l=/^\?[^]*?\?>/.exec(i);if(l)return n.append(He(oe.ProcessingInstruction,t,t+1+l[0].length));let u=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return u?n.append(He(oe.HTMLTag,t,t+1+u[0].length)):-1},Emphasis(n,e,t){if(e!=95&&e!=42)return-1;let i=t+1;for(;n.char(i)==e;)i++;let r=n.slice(t-1,t),s=n.slice(i,i+1),l=wh.test(r),u=wh.test(s),c=/\s|^$/.test(r),f=/\s|^$/.test(s),d=!f&&(!u||c||l),m=!c&&(!l||f||u),g=d&&(e==42||!m||l),y=m&&(e==42||!d||u);return n.append(new ai(e==95?UD:jD,t,i,(g?1:0)|(y?2:0)))},HardBreak(n,e,t){if(e==92&&n.char(t+1)==10)return n.append(He(oe.HardBreak,t,t+2));if(e==32){let i=t+1;for(;n.char(i)==32;)i++;if(n.char(i)==10&&i>=t+2)return n.append(He(oe.HardBreak,t,i+1))}return-1},Link(n,e,t){return e==91?n.append(new ai(zl,t,t+1,1)):-1},Image(n,e,t){return e==33&&n.char(t+1)==91?n.append(new ai(gm,t,t+2,1)):-1},LinkEnd(n,e,t){if(e!=93)return-1;for(let i=n.parts.length-1;i>=0;i--){let r=n.parts[i];if(r instanceof ai&&(r.type==zl||r.type==gm)){if(!r.side||n.skipSpace(r.to)==t&&!/[(\[]/.test(n.slice(t+1,t+2)))return n.parts[i]=null,-1;let s=n.takeContent(i),l=n.parts[i]=ZH(n,s,r.type==zl?oe.Link:oe.Image,r.from,t+1);if(r.type==zl)for(let u=0;u<i;u++){let c=n.parts[u];c instanceof ai&&c.type==zl&&(c.side=0)}return l.to}}return-1}};function ZH(n,e,t,i,r){let{text:s}=n,l=n.char(r),u=r;if(e.unshift(He(oe.LinkMark,i,i+(t==oe.Image?2:1))),e.push(He(oe.LinkMark,r-1,r)),l==40){let c=n.skipSpace(r+1),f=qD(s,c-n.offset,n.offset),d;f&&(c=n.skipSpace(f.to),c!=f.to&&(d=VD(s,c-n.offset,n.offset),d&&(c=n.skipSpace(d.to)))),n.char(c)==41&&(e.push(He(oe.LinkMark,r,r+1)),u=c+1,f&&e.push(f),d&&e.push(d),e.push(He(oe.LinkMark,c,u)))}else if(l==91){let c=YD(s,r-n.offset,n.offset,!1);c&&(e.push(c),u=c.to)}return He(t,i,u,e)}function qD(n,e,t){if(n.charCodeAt(e)==60){for(let r=e+1;r<n.length;r++){let s=n.charCodeAt(r);if(s==62)return He(oe.URL,e+t,r+1+t);if(s==60||s==10)return!1}return null}else{let r=0,s=e;for(let l=!1;s<n.length;s++){let u=n.charCodeAt(s);if(Mi(u))break;if(l)l=!1;else if(u==40)r++;else if(u==41){if(!r)break;r--}else u==92&&(l=!0)}return s>e?He(oe.URL,e+t,s+t):s==n.length?null:!1}}function VD(n,e,t){let i=n.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let s=e+1,l=!1;s<n.length;s++){let u=n.charCodeAt(s);if(l)l=!1;else{if(u==r)return He(oe.LinkTitle,e+t,s+1+t);u==92&&(l=!0)}}return null}function YD(n,e,t,i){for(let r=!1,s=e+1,l=Math.min(n.length,s+999);s<l;s++){let u=n.charCodeAt(s);if(r)r=!1;else{if(u==93)return i?!1:He(oe.LinkLabel,e+t,s+1+t);if(i&&!Mi(u)&&(i=!1),u==91)return!1;u==92&&(r=!0)}}return null}class Mv{constructor(e,t,i){this.parser=e,this.text=t,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,i,r,s){return this.append(new ai(e,t,i,(r?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof ai&&(t.type==zl||t.type==gm))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof ai&&r.type.resolve&&r.side&2))continue;let s=r.type==UD||r.type==jD,l=r.to-r.from,u,c=i-1;for(;c>=e;c--){let x=this.parts[c];if(x instanceof ai&&x.side&1&&x.type==r.type&&!(s&&(r.side&1||x.side&2)&&(x.to-x.from+l)%3==0&&((x.to-x.from)%3||l%3))){u=x;break}}if(!u)continue;let f=r.type.resolve,d=[],m=u.from,g=r.to;if(s){let x=Math.min(2,u.to-u.from,l);m=u.to-x,g=r.from+x,f=x==1?"Emphasis":"StrongEmphasis"}u.type.mark&&d.push(this.elt(u.type.mark,m,u.to));for(let x=c+1;x<i;x++)this.parts[x]instanceof xh&&d.push(this.parts[x]),this.parts[x]=null;r.type.mark&&d.push(this.elt(r.type.mark,r.from,g));let y=this.elt(f,m,g,d);this.parts[c]=s&&u.from!=m?new ai(u.type,u.from,m,u.side):null,(this.parts[i]=s&&r.to!=g?new ai(r.type,g,r.to,r.side):null)?this.parts.splice(i,0,y):this.parts[i]=y}let t=[];for(let i=e;i<this.parts.length;i++){let r=this.parts[i];r instanceof xh&&t.push(r)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let i=this.parts[t];if(i instanceof ai&&i.type==e&&i.side&1)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}getDelimiterAt(e){let t=this.parts[e];return t instanceof ai?t:null}skipSpace(e){return Xc(this.text,e-this.offset)+this.offset}elt(e,t,i,r){return typeof e=="string"?He(this.parser.getNodeType(e),t,i,r):new ZD(e,t)}}Mv.linkStart=zl;Mv.imageStart=gm;function v1(n,e){if(!e.length)return n;if(!n.length)return e;let t=n.slice(),i=0;for(let r of e){for(;i<t.length&&t[i].to<r.to;)i++;if(i<t.length&&t[i].from<r.from){let s=t[i];s instanceof xh&&(t[i]=new xh(s.type,s.from,s.to,v1(s.children,[r])))}else t.splice(i++,0,r)}return t}const UH=[oe.CodeBlock,oe.ListItem,oe.OrderedList,oe.BulletList];let jH=class{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=e+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=t;if(!i.childAfter(r))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(Pe.contextHash)==e}takeNodes(e){let t=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,l=s,u=e.block.children.length,c=l,f=u;for(;;){if(t.to-i>r){if(t.type.isAnonymous&&t.firstChild())continue;break}let d=WD(t.from-i,e.ranges);if(t.to-i<=e.ranges[e.rangeI].to)e.addNode(t.tree,d);else{let m=new nt(e.parser.nodeSet.types[oe.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(m,t.tree),e.addNode(m,d)}if(t.type.is("Block")&&(UH.indexOf(t.type.id)<0?(l=t.to-i,u=e.block.children.length):(l=c,u=f),c=t.to-i,f=e.block.children.length),!t.nextSibling())break}for(;e.block.children.length>u;)e.block.children.pop(),e.block.positions.pop();return l-s}};function WD(n,e){let t=n;for(let i=1;i<e.length;i++){let r=e[i-1].to,s=e[i].from;r<n&&(t-=s-r)}return t}const qH=tu({"Blockquote/...":Q.quote,HorizontalRule:Q.contentSeparator,"ATXHeading1/... SetextHeading1/...":Q.heading1,"ATXHeading2/... SetextHeading2/...":Q.heading2,"ATXHeading3/...":Q.heading3,"ATXHeading4/...":Q.heading4,"ATXHeading5/...":Q.heading5,"ATXHeading6/...":Q.heading6,"Comment CommentBlock":Q.comment,Escape:Q.escape,Entity:Q.character,"Emphasis/...":Q.emphasis,"StrongEmphasis/...":Q.strong,"Link/... Image/...":Q.link,"OrderedList/... BulletList/...":Q.list,"BlockQuote/...":Q.quote,"InlineCode CodeText":Q.monospace,"URL Autolink":Q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Q.processingInstruction,"CodeInfo LinkLabel":Q.labelName,LinkTitle:Q.string,Paragraph:Q.content}),VH=new ng(new qh(BD).extend(qH),Object.keys(Wd).map(n=>Wd[n]),Object.keys(Wd).map(n=>ND[n]),Object.keys(Wd),zH,QD,Object.keys(w0).map(n=>w0[n]),Object.keys(w0),[]);function YH(n,e,t){let i=[];for(let r=n.firstChild,s=e;;r=r.nextSibling){let l=r?r.from:t;if(l>s&&i.push({from:s,to:l}),!r)break;s=r.to}return i}function WH(n){let{codeParser:e,htmlParser:t}=n;return{wrap:r$((r,s)=>{let l=r.type.id;if(e&&(l==oe.CodeBlock||l==oe.FencedCode)){let u="";if(l==oe.FencedCode){let f=r.node.getChild(oe.CodeInfo);f&&(u=s.read(f.from,f.to))}let c=e(u);if(c)return{parser:c,overlay:f=>f.type.id==oe.CodeText,bracketed:l==oe.FencedCode}}else if(t&&(l==oe.HTMLBlock||l==oe.HTMLTag||l==oe.CommentBlock))return{parser:t,overlay:YH(r.node,r.from,r.to)};return null})}}const HH={resolve:"Strikethrough",mark:"StrikethroughMark"},GH={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Q.strikethrough}},{name:"StrikethroughMark",style:Q.processingInstruction}],parseInline:[{name:"Strikethrough",parse(n,e,t){if(e!=126||n.char(t+1)!=126||n.char(t+2)==126)return-1;let i=n.slice(t-1,t),r=n.slice(t+2,t+3),s=/\s|^$/.test(i),l=/\s|^$/.test(r),u=wh.test(i),c=wh.test(r);return n.addDelimiter(HH,t,t+2,!l&&(!c||s||u),!s&&(!u||l||c))},after:"Emphasis"}]};function Zc(n,e,t=0,i,r=0){let s=0,l=!0,u=-1,c=-1,f=!1,d=()=>{i.push(n.elt("TableCell",r+u,r+c,n.parser.parseInline(e.slice(u,c),r+u)))};for(let m=t;m<e.length;m++){let g=e.charCodeAt(m);g==124&&!f?((!l||u>-1)&&s++,l=!1,i&&(u>-1&&d(),i.push(n.elt("TableDelimiter",m+r,m+r+1))),u=c=-1):(f||g!=32&&g!=9)&&(u<0&&(u=m),c=m+1),f=!f&&g==92}return u>-1&&(s++,i&&d()),s}function EQ(n,e){for(let t=e;t<n.length;t++){let i=n.charCodeAt(t);if(i==124)return!0;i==92&&t++}return!1}const HD=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class QQ{constructor(){this.rows=null}nextLine(e,t,i){if(this.rows==null){this.rows=!1;let r;if((t.next==45||t.next==58||t.next==124)&&HD.test(r=t.text.slice(t.pos))){let s=[];Zc(e,i.content,0,s,i.start)==Zc(e,r,t.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let r=[];Zc(e,t.text,t.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,r))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}const FH={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Q.heading}},"TableRow",{name:"TableCell",style:Q.content},{name:"TableDelimiter",style:Q.processingInstruction}],parseBlock:[{name:"Table",leaf(n,e){return EQ(e.content,0)?new QQ:null},endLeaf(n,e,t){if(t.parsers.some(r=>r instanceof QQ)||!EQ(e.text,e.basePos))return!1;let i=n.peekLine();return HD.test(i)&&Zc(n,e.text,e.basePos)==Zc(n,i,e.basePos)},before:"SetextHeading"}]};class KH{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const JH={defineNodes:[{name:"Task",block:!0,style:Q.list},{name:"TaskMarker",style:Q.atom}],parseBlock:[{name:"TaskList",leaf(n,e){return/^\[[ xX]\][ \t]/.test(e.content)&&n.parentType().name=="ListItem"?new KH:null},after:"SetextHeading"}]},AQ=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,PQ=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,eG=/[\w-]+\.[\w-]+($|\/)/,RQ=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,MQ=/\/[a-zA-Z\d@.]+/gy;function $Q(n,e,t,i){let r=0;for(let s=e;s<t;s++)n[s]==i&&r++;return r}function tG(n,e){PQ.lastIndex=e;let t=PQ.exec(n);if(!t||eG.exec(t[0])[0].indexOf("_")>-1)return-1;let i=e+t[0].length;for(;;){let r=n[i-1],s;if(/[?!.,:*_~]/.test(r)||r==")"&&$Q(n,e,i,")")>$Q(n,e,i,"("))i--;else if(r==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(n.slice(e,i))))i=e+s.index;else break}return i}function DQ(n,e){RQ.lastIndex=e;let t=RQ.exec(n);if(!t)return-1;let i=t[0][t[0].length-1];return i=="_"||i=="-"?-1:e+t[0].length-(i=="."?1:0)}const nG={parseInline:[{name:"Autolink",parse(n,e,t){let i=t-n.offset;if(i&&/\w/.test(n.text[i-1]))return-1;AQ.lastIndex=i;let r=AQ.exec(n.text),s=-1;if(!r)return-1;if(r[1]||r[2]){if(s=tG(n.text,i+r[0].length),s>-1&&n.hasOpenLink){let l=/([^\[\]]|\[[^\]]*\])*/.exec(n.text.slice(i,s));s=i+l[0].length}}else r[3]?s=DQ(n.text,i):(s=DQ(n.text,i+r[0].length),s>-1&&r[0]=="xmpp:"&&(MQ.lastIndex=s,r=MQ.exec(n.text),r&&(s=r.index+r[0].length)));return s<0?-1:(n.addElement(n.elt("URL",t,s+n.offset)),s+n.offset)}}]},iG=[FH,JH,GH,nG];function GD(n,e,t){return(i,r,s)=>{if(r!=n||i.char(s+1)==n)return-1;let l=[i.elt(t,s,s+1)];for(let u=s+1;u<i.end;u++){let c=i.char(u);if(c==n)return i.addElement(i.elt(e,s,u+1,l.concat(i.elt(t,u,u+1))));if(c==92&&l.push(i.elt("Escape",u,u+++2)),Mi(c))break}return-1}}const rG={defineNodes:[{name:"Superscript",style:Q.special(Q.content)},{name:"SuperscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Superscript",parse:GD(94,"Superscript","SuperscriptMark")}]},sG={defineNodes:[{name:"Subscript",style:Q.special(Q.content)},{name:"SubscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Subscript",parse:GD(126,"Subscript","SubscriptMark")}]},lG={defineNodes:[{name:"Emoji",style:Q.character}],parseInline:[{name:"Emoji",parse(n,e,t){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(n.slice(t+1,n.end)))?-1:n.addElement(n.elt("Emoji",t,t+1+i[0].length))}}]};var IQ={};class Om{constructor(e,t,i,r,s,l,u,c,f,d=0,m){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=l,this.buffer=u,this.bufferBase=c,this.curContext=f,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new Om(e,[],t,i,i,0,[],0,r?new LQ(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),u=s.dynamicPrecedence(r);if(u&&(this.score+=u),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(r,this.reducePos);return}let c=this.stack.length-(i-1)*3-(e&262144?6:0),f=c?this.stack[c-2]:this.p.ranges[0].from,d=this.reducePos-f;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=d));let m=c?this.stack[c-1]:0,g=this.bufferBase+this.buffer.length-m;if(r<s.minRepeatTerm||e&131072){let y=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,f,y,g+4,!0)}if(e&262144)this.state=this.stack[c];else{let y=this.stack[c-3];this.state=s.getGoto(y,r,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(r,f)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,u=this.buffer.length;if(u==0&&l.parent&&(u=l.bufferBase-l.parent.bufferBase,l=l.parent),u>0&&l.buffer[u-4]==0&&l.buffer[u-1]>-1){if(t==i)return;if(l.buffer[u-2]>=t){l.buffer[u-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let u=!1;for(let c=l;c>0&&this.buffer[c-2]>i;c-=4)if(this.buffer[c-1]>=0){u=!0;break}if(u)for(;l>0&&this.buffer[l-2]>i;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,r>4&&(r-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=i,this.buffer[l+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;this.pos=r;let u=l.stateFlag(s,1);!u&&(r>i||t<=l.maxNode)&&(this.reducePos=r),this.pushState(s,u?i:Math.min(i,this.reducePos)),this.shiftContext(t,i),t<=l.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Om(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new aG(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&r.push(t[s],l);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let l=t[s+1];r.some((u,c)=>c&1&&u==l)||r.push(t[s],l)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[r],this.pos),l.reducePos=this.pos,l.score-=200,i.push(l)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,l=>{if(!(l&393216))if(l&65536){let u=(l>>19)-s;if(u>1){let c=l&65535,f=this.stack.length-u*3;if(f>=0&&e.getGoto(this.stack[f],c,!1)>=0)return u<<19|65536|c}}else{let u=i(l,s+1);if(u!=null)return u}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new LQ(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class LQ{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class aG{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class ym{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ym(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ym(this.stack,this.pos,this.index)}}function Cc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let l=n.charCodeAt(i++),u=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let c=l-32;if(c>=46&&(c-=46,u=!0),s+=c,u)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class gp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const NQ=new gp;class oG{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=NQ,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let l=this.ranges[--r];s-=i.from-l.to,i=l}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let l=this.ranges[++r];s+=l.from-i.to,i=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let l=this.rangeIndex,u=this.range;for(;u.to<=i;)u=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=NQ,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class xo{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;FD(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}xo.prototype.contextual=xo.prototype.fallback=xo.prototype.extend=!1;class bm{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Cc(e):e}token(e,t){let i=e.pos,r=0;for(;;){let s=e.next<0,l=e.resolveOffset(1,1);if(FD(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,l==null)break;e.reset(l,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}bm.prototype.contextual=xo.prototype.fallback=xo.prototype.extend=!1;class fi{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function FD(n,e,t,i,r,s){let l=0,u=1<<i,{dialect:c}=t.p.parser;e:for(;(u&n[l])!=0;){let f=n[l+1];for(let y=l+3;y<f;y+=2)if((n[y+1]&u)>0){let S=n[y];if(c.allows(S)&&(e.token.value==-1||e.token.value==S||uG(S,e.token.value,r,s))){e.acceptToken(S);break}}let d=e.next,m=0,g=n[l+2];if(e.next<0&&g>m&&n[f+g*3-3]==65535){l=n[f+g*3-1];continue e}for(;m<g;){let y=m+g>>1,S=f+y+(y<<1),x=n[S],w=n[S+1]||65536;if(d<x)g=y;else if(d>=w)m=y+1;else{l=n[S+2],e.advance();continue e}}break}}function zQ(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function uG(n,e,t,i){let r=zQ(t,i,e);return r<0||zQ(t,i,n)<r}const ii=typeof process<"u"&&IQ&&/\bparse\b/.test(IQ.LOG);let k0=null;function BQ(n,e,t){let i=n.cursor(rt.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class cG{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?BQ(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?BQ(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],l=this.start[t]+i.positions[r];if(l>e)return this.nextStart=l,null;if(s instanceof nt){if(l==e){if(l<this.safeFrom)return null;let u=l+s.length;if(u<=this.safeTo){let c=s.prop(Pe.lookAhead);if(!c||u+c<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class hG{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new gp)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,l=r.stateSlot(e.state,3),u=e.curContext?e.curContext.hash:0,c=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let d=s[f],m=this.tokens[f];if(!(i&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=u)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=u),m.lookAhead>m.end+25&&(c=Math.max(m.lookAhead,c)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(i=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return c&&e.setLookAhead(c),!i&&e.pos==this.stream.end&&(i=new gp,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new gp,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let u=s.specializers[l](this.stream.read(e.start,e.end),i);if(u>=0&&i.p.parser.dialect.allows(u>>1)){(u&1)==0?e.value=u>>1:e.extended=u>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:l}=e.p,{data:u}=l;for(let c=0;c<2;c++)for(let f=l.stateSlot(s,c?2:1);;f+=3){if(u[f]==65535)if(u[f+1]==1)f=Vr(u,f+2);else{r==0&&u[f+1]==2&&(r=this.putAction(Vr(u,f+2),t,i,r));break}u[f]==t&&(r=this.putAction(Vr(u,f+1),t,i,r))}return r}}class fG{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new oG(t,r),this.tokens=new hG(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[Om.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new cG(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let u=e[l];for(;;){if(this.tokens.mainToken=null,u.pos>t)i.push(u);else{if(this.advanceStack(u,i,e))continue;{r||(r=[],s=[]),r.push(u);let c=this.tokens.getMainToken(u);s.push(c.value,c.end)}}break}}if(!i.length){let l=r&&pG(r);if(l)return ii&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw ii&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let l=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(l)return ii&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(i.length>l)for(i.sort((u,c)=>c.score-u.score);i.length>l;)i.pop();i.some(u=>u.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let l=0;l<i.length-1;l++){let u=i[l];for(let c=l+1;c<i.length;c++){let f=i[c];if(u.sameState(f)||u.buffer.length>500&&f.buffer.length>500)if((u.score-f.score||u.buffer.length-f.buffer.length)>0)i.splice(c--,1);else{i.splice(l--,1);continue e}}}i.length>12&&(i.sort((l,u)=>u.score-l.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let l=1;l<i.length;l++)i[l].pos<this.minStackPos&&(this.minStackPos=i[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,l=ii?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,d=f?e.curContext.hash:0;for(let m=this.fragments.nodeAt(r);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!f||(m.prop(Pe.contextHash)||0)==d))return e.useNode(m,g),ii&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof nt)||m.children.length==0||m.positions[0]>0)break;let y=m.children[0];if(y instanceof nt&&m.positions[0]==0)m=y;else break}}let u=s.stateSlot(e.state,4);if(u>0)return e.reduce(u),ii&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(u&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let f=0;f<c.length;){let d=c[f++],m=c[f++],g=c[f++],y=f==c.length||!i,S=y?e:e.split(),x=this.tokens.mainToken;if(S.apply(d,m,x?x.start:S.pos,g),ii&&console.log(l+this.stackID(S)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${r}${S==e?"":", split"})`),y)return!0;S.pos>r?t.push(S):i.push(S)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return XQ(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let l=0;l<e.length;l++){let u=e[l],c=t[l<<1],f=t[(l<<1)+1],d=ii?this.stackID(u)+" -> ":"";if(u.deadEnd&&(s||(s=!0,u.restart(),ii&&console.log(d+this.stackID(u)+" (restarted)"),this.advanceFully(u,i))))continue;let m=u.split(),g=d;for(let y=0;y<10&&m.forceReduce()&&(ii&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,i));y++)ii&&(g=this.stackID(m)+" -> ");for(let y of u.recoverByInsert(c))ii&&console.log(d+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,i);this.stream.end>u.pos?(f==u.pos&&(f++,c=0),u.recoverByDelete(c,f),ii&&console.log(d+this.stackID(u)+` (via recover-delete ${this.parser.getName(c)})`),XQ(u,i)):(!r||r.score<m.score)&&(r=m)}return r}stackToTree(e){return e.close(),nt.build({buffer:ym.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(k0||(k0=new WeakMap)).get(e);return t||k0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function XQ(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class dG{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const _0=n=>n;class KD{constructor(e){this.start=e.start,this.shift=e.shift||_0,this.reduce=e.reduce||_0,this.reuse=e.reuse||_0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Bo extends uv{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let u=0;u<e.repeatNodeCount;u++)t.push("");let i=Object.keys(e.topRules).map(u=>e.topRules[u][1]),r=[];for(let u=0;u<t.length;u++)r.push([]);function s(u,c,f){r[u].push([c,c.deserialize(String(f))])}if(e.nodeProps)for(let u of e.nodeProps){let c=u[0];typeof c=="string"&&(c=Pe[c]);for(let f=1;f<u.length;){let d=u[f++];if(d>=0)s(d,c,u[f++]);else{let m=u[f+-d];for(let g=-d;g>0;g--)s(u[f++],c,m);f++}}}this.nodeSet=new qh(t.map((u,c)=>Ht.define({name:c>=this.minRepeatTerm?void 0:u,id:c,props:r[c],top:i.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=JM;let l=Cc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(ZQ),this.states=Cc(e.states,Uint32Array),this.data=Cc(e.stateData),this.goto=Cc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(u=>typeof u=="number"?new xo(l,u):u),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new fG(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let l=r[s++],u=l&1,c=r[s++];if(u&&i)return c;for(let f=s+(l>>1);s<f;s++)if(r[s]==e)return c;if(u)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),l;;s+=3){if((l=i[s])==65535)if(i[s+1]==1)l=i[s=Vr(i,s+2)];else{if(i[s+1]==2)return Vr(i,s+2);break}if(l==t||l==0)return Vr(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Vr(this.data,s+2);else break;r=t(Vr(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Vr(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];t.some((s,l)=>l&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(Bo.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(u=>u.from==i.external);if(!s)return i;let l=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=ZQ(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(i[l]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let l=this.dialects[t[s]],u;(u=this.data[l++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[u]=1;return new dG(e,i,r)}static deserialize(e){return new Bo(e)}}function Vr(n,e){return n[e]|n[e+1]<<16}function pG(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function ZQ(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const mG=55,gG=1,OG=56,yG=2,bG=57,SG=3,UQ=4,vG=5,$v=6,JD=7,eI=8,tI=9,nI=10,xG=11,wG=12,kG=13,C0=58,_G=14,CG=15,jQ=59,iI=21,TG=23,rI=24,EG=25,x1=27,sI=28,QG=29,AG=32,PG=35,RG=37,MG=38,$G=0,DG=1,IG={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},LG={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},qQ={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function NG(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}let VQ=null,YQ=null,WQ=0;function w1(n,e){let t=n.pos+e;if(WQ==t&&YQ==n)return VQ;let i=n.peek(e),r="";for(;NG(i);)r+=String.fromCharCode(i),i=n.peek(++e);return YQ=n,WQ=t,VQ=r?r.toLowerCase():i==zG||i==BG?void 0:null}const lI=60,Sm=62,Dv=47,zG=63,BG=33,XG=45;function HQ(n,e){this.name=n,this.parent=e}const ZG=[$v,nI,JD,eI,tI],UG=new KD({start:null,shift(n,e,t,i){return ZG.indexOf(e)>-1?new HQ(w1(i,1)||"",n):n},reduce(n,e){return e==iI&&n?n.parent:n},reuse(n,e,t,i){let r=e.type.id;return r==$v||r==RG?new HQ(w1(i,1)||"",n):n},strict:!1}),jG=new fi((n,e)=>{if(n.next!=lI){n.next<0&&e.context&&n.acceptToken(C0);return}n.advance();let t=n.next==Dv;t&&n.advance();let i=w1(n,0);if(i===void 0)return;if(!i)return n.acceptToken(t?CG:_G);let r=e.context?e.context.name:null;if(t){if(i==r)return n.acceptToken(xG);if(r&&LG[r])return n.acceptToken(C0,-2);if(e.dialectEnabled($G))return n.acceptToken(wG);for(let s=e.context;s;s=s.parent)if(s.name==i)return;n.acceptToken(kG)}else{if(i=="script")return n.acceptToken(JD);if(i=="style")return n.acceptToken(eI);if(i=="textarea")return n.acceptToken(tI);if(IG.hasOwnProperty(i))return n.acceptToken(nI);r&&qQ[r]&&qQ[r][i]?n.acceptToken(C0,-1):n.acceptToken($v)}},{contextual:!0}),qG=new fi(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(jQ);break}if(n.next==XG)e++;else if(n.next==Sm&&e>=2){t>=3&&n.acceptToken(jQ,-2);break}else e=0;n.advance()}});function VG(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const YG=new fi((n,e)=>{if(n.next==Dv&&n.peek(1)==Sm){let t=e.dialectEnabled(DG)||VG(e.context);n.acceptToken(t?vG:UQ,2)}else n.next==Sm&&n.acceptToken(UQ,1)});function Iv(n,e,t){let i=2+n.length;return new fi(r=>{for(let s=0,l=0,u=0;;u++){if(r.next<0){u&&r.acceptToken(e);break}if(s==0&&r.next==lI||s==1&&r.next==Dv||s>=2&&s<i&&r.next==n.charCodeAt(s-2))s++,l++;else if(s==i&&r.next==Sm){u>l?r.acceptToken(e,-l):r.acceptToken(t,-(l-2));break}else if((r.next==10||r.next==13)&&u){r.acceptToken(e,1);break}else s=l=0;r.advance()}})}const WG=Iv("script",mG,gG),HG=Iv("style",OG,yG),GG=Iv("textarea",bG,SG),FG=tu({"Text RawText IncompleteTag IncompleteCloseTag":Q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,"AttributeValue UnquotedAttributeValue":Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta}),KG=Bo.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:UG,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[FG],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[WG,HG,GG,YG,jG,qG,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function aI(n,e){let t=Object.create(null);for(let i of n.getChildren(rI)){let r=i.getChild(EG),s=i.getChild(x1)||i.getChild(sI);r&&(t[e.read(r.from,r.to)]=s?s.type.id==x1?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function GQ(n,e){let t=n.getChild(TG);return t?e.read(t.from,t.to):" "}function T0(n,e,t){let i;for(let r of t)if(!r.attrs||r.attrs(i||(i=aI(n.node.parent.firstChild,e))))return{parser:r.parser,bracketed:!0};return null}function oI(n=[],e=[]){let t=[],i=[],r=[],s=[];for(let u of n)(u.tag=="script"?t:u.tag=="style"?i:u.tag=="textarea"?r:s).push(u);let l=e.length?Object.create(null):null;for(let u of e)(l[u.name]||(l[u.name]=[])).push(u);return r$((u,c)=>{let f=u.type.id;if(f==QG)return T0(u,c,t);if(f==AG)return T0(u,c,i);if(f==PG)return T0(u,c,r);if(f==iI&&s.length){let d=u.node,m=d.firstChild,g=m&&GQ(m,c),y;if(g){for(let S of s)if(S.tag==g&&(!S.attrs||S.attrs(y||(y=aI(m,c))))){let x=d.lastChild,w=x.type.id==MG?x.from:d.to;if(w>m.to)return{parser:S.parser,overlay:[{from:m.to,to:w}]}}}}if(l&&f==rI){let d=u.node,m;if(m=d.firstChild){let g=l[c.read(m.from,m.to)];if(g)for(let y of g){if(y.tagName&&y.tagName!=GQ(d.parent,c))continue;let S=d.lastChild;if(S.type.id==x1){let x=S.from+1,w=S.lastChild,k=S.to-(w&&w.isError?0:1);if(k>x)return{parser:y.parser,overlay:[{from:x,to:k}],bracketed:!0}}else if(S.type.id==sI)return{parser:y.parser,overlay:[{from:S.from,to:S.to}]}}}}return null})}const JG=122,FQ=1,eF=123,tF=124,uI=2,nF=125,iF=3,rF=4,cI=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],sF=58,lF=40,hI=95,aF=91,Op=45,oF=46,uF=35,cF=37,hF=38,fF=92,dF=10,pF=42;function kh(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function Lv(n){return n>=48&&n<=57}function KQ(n){return Lv(n)||n>=97&&n<=102||n>=65&&n<=70}const fI=(n,e,t)=>(i,r)=>{for(let s=!1,l=0,u=0;;u++){let{next:c}=i;if(kh(c)||c==Op||c==hI||s&&Lv(c))!s&&(c!=Op||u>0)&&(s=!0),l===u&&c==Op&&l++,i.advance();else if(c==fF&&i.peek(1)!=dF){if(i.advance(),KQ(i.next)){do i.advance();while(KQ(i.next));i.next==32&&i.advance()}else i.next>-1&&i.advance();s=!0}else{s&&i.acceptToken(l==2&&r.canShift(uI)?e:c==lF?t:n);break}}},mF=new fi(fI(eF,uI,tF)),gF=new fi(fI(nF,iF,rF)),OF=new fi(n=>{if(cI.includes(n.peek(-1))){let{next:e}=n;(kh(e)||e==hI||e==uF||e==oF||e==pF||e==aF||e==sF&&kh(n.peek(1))||e==Op||e==hF)&&n.acceptToken(JG)}}),yF=new fi(n=>{if(!cI.includes(n.peek(-1))){let{next:e}=n;if(e==cF&&(n.advance(),n.acceptToken(FQ)),kh(e)){do n.advance();while(kh(n.next)||Lv(n.next));n.acceptToken(FQ)}}}),bF=tu({"AtKeyword import charset namespace keyframes media supports":Q.definitionKeyword,"from to selector":Q.keyword,NamespaceName:Q.namespace,KeyframeName:Q.labelName,KeyframeRangeName:Q.operatorKeyword,TagName:Q.tagName,ClassName:Q.className,PseudoClassName:Q.constant(Q.className),IdName:Q.labelName,"FeatureName PropertyName":Q.propertyName,AttributeName:Q.attributeName,NumberLiteral:Q.number,KeywordQuery:Q.keyword,UnaryQueryOp:Q.operatorKeyword,"CallTag ValueName":Q.atom,VariableName:Q.variableName,Callee:Q.operatorKeyword,Unit:Q.unit,"UniversalSelector NestingSelector":Q.definitionOperator,"MatchOp CompareOp":Q.compareOperator,"ChildOp SiblingOp, LogicOp":Q.logicOperator,BinOp:Q.arithmeticOperator,Important:Q.modifier,Comment:Q.blockComment,ColorLiteral:Q.color,"ParenthesizedContent StringLiteral":Q.string,":":Q.punctuation,"PseudoOp #":Q.derefOperator,"; ,":Q.separator,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace}),SF={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},vF={__proto__:null,or:98,and:98,not:106,only:106,layer:170},xF={__proto__:null,selector:112,layer:166},wF={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},kF={__proto__:null,to:207},_F=Bo.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[bF],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[OF,yF,mF,gF,1,2,3,4,new bm("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:n=>SF[n]||-1},{term:125,get:n=>vF[n]||-1},{term:4,get:n=>xF[n]||-1},{term:25,get:n=>wF[n]||-1},{term:123,get:n=>kF[n]||-1}],tokenPrec:1963});let E0=null;function Q0(){if(!E0&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let i in n)i!="cssText"&&i!="cssFloat"&&typeof n[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));E0=e.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return E0||[]}const JQ=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),eA=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),CF=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),TF=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),qr=/^(\w[\w-]*|-\w[\w-]*|)$/,EF=/^-(-[\w-]*)?$/;function QF(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let i=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(i==null?void 0:i.name)!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const tA=new i$,AF=["Declaration"];function PF(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function dI(n,e,t){if(e.to-e.from>4096){let i=tA.get(e);if(i)return i;let r=[],s=new Set,l=e.cursor(rt.IncludeAnonymous);if(l.firstChild())do for(let u of dI(n,l.node,t))s.has(u.label)||(s.add(u.label),r.push(u));while(l.nextSibling());return tA.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(s=>{var l;if(t(s)&&s.matchContext(AF)&&((l=s.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let u=n.sliceString(s.from,s.to);r.has(u)||(r.add(u),i.push({label:u,type:"variable"}))}}),i}}const RF=n=>e=>{let{state:t,pos:i}=e,r=bt(t).resolveInner(i,-1),s=r.type.isError&&r.from==r.to-1&&t.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(s||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:Q0(),validFor:qr};if(r.name=="ValueName")return{from:r.from,options:eA,validFor:qr};if(r.name=="PseudoClassName")return{from:r.from,options:JQ,validFor:qr};if(n(r)||(e.explicit||s)&&QF(r,t.doc))return{from:n(r)||s?r.from:i,options:dI(t.doc,PF(r),n),validFor:EF};if(r.name=="TagName"){for(let{parent:c}=r;c;c=c.parent)if(c.name=="Block")return{from:r.from,options:Q0(),validFor:qr};return{from:r.from,options:CF,validFor:qr}}if(r.name=="AtKeyword")return{from:r.from,options:TF,validFor:qr};if(!e.explicit)return null;let l=r.resolve(i),u=l.childBefore(i);return u&&u.name==":"&&l.name=="PseudoClassSelector"?{from:i,options:JQ,validFor:qr}:u&&u.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:i,options:eA,validFor:qr}:l.name=="Block"||l.name=="Styles"?{from:i,options:Q0(),validFor:qr}:null},MF=RF(n=>n.name=="VariableName"),vm=Do.define({name:"css",parser:_F.configure({props:[Vh.add({Declaration:pp()}),iu.add({"Block KeyframeList":h$})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function $F(){return new ph(vm,vm.data.of({autocomplete:MF}))}const DF=316,IF=317,nA=1,LF=2,NF=3,zF=4,BF=318,XF=320,ZF=321,UF=5,jF=6,qF=0,k1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],pI=125,VF=59,_1=47,YF=42,WF=43,HF=45,GF=60,FF=44,KF=63,JF=46,eK=91,tK=new KD({start:!1,shift(n,e){return e==UF||e==jF||e==XF?n:e==ZF},strict:!1}),nK=new fi((n,e)=>{let{next:t}=n;(t==pI||t==-1||e.context)&&n.acceptToken(BF)},{contextual:!0,fallback:!0}),iK=new fi((n,e)=>{let{next:t}=n,i;k1.indexOf(t)>-1||t==_1&&((i=n.peek(1))==_1||i==YF)||t!=pI&&t!=VF&&t!=-1&&!e.context&&n.acceptToken(DF)},{contextual:!0}),rK=new fi((n,e)=>{n.next==eK&&!e.context&&n.acceptToken(IF)},{contextual:!0}),sK=new fi((n,e)=>{let{next:t}=n;if(t==WF||t==HF){if(n.advance(),t==n.next){n.advance();let i=!e.context&&e.canShift(nA);n.acceptToken(i?nA:LF)}}else t==KF&&n.peek(1)==JF&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(NF))},{contextual:!0});function A0(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const lK=new fi((n,e)=>{if(n.next!=GF||!e.dialectEnabled(qF)||(n.advance(),n.next==_1))return;let t=0;for(;k1.indexOf(n.next)>-1;)n.advance(),t++;if(A0(n.next,!0)){for(n.advance(),t++;A0(n.next,!1);)n.advance(),t++;for(;k1.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==FF)return;for(let i=0;;i++){if(i==7){if(!A0(n.next,!0))return;break}if(n.next!="extends".charCodeAt(i))break;n.advance(),t++}}n.acceptToken(zF,-t)}),aK=tu({"get set async static":Q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Q.operatorKeyword,"let var const using function class extends":Q.definitionKeyword,"import export from":Q.moduleKeyword,"with debugger new":Q.keyword,TemplateString:Q.special(Q.string),super:Q.atom,BooleanLiteral:Q.bool,this:Q.self,null:Q.null,Star:Q.modifier,VariableName:Q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Q.function(Q.variableName),VariableDefinition:Q.definition(Q.variableName),Label:Q.labelName,PropertyName:Q.propertyName,PrivatePropertyName:Q.special(Q.propertyName),"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),"FunctionDeclaration/VariableDefinition":Q.function(Q.definition(Q.variableName)),"ClassDeclaration/VariableDefinition":Q.definition(Q.className),"NewExpression/VariableName":Q.className,PropertyDefinition:Q.definition(Q.propertyName),PrivatePropertyDefinition:Q.definition(Q.special(Q.propertyName)),UpdateOp:Q.updateOperator,"LineComment Hashbang":Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,Escape:Q.escape,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,RegExp:Q.regexp,Equals:Q.definitionOperator,Arrow:Q.function(Q.punctuation),": Spread":Q.punctuation,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"InterpolationStart InterpolationEnd":Q.special(Q.brace),".":Q.derefOperator,", ;":Q.separator,"@":Q.meta,TypeName:Q.typeName,TypeDefinition:Q.definition(Q.typeName),"type enum interface implements namespace module declare":Q.definitionKeyword,"abstract global Privacy readonly override":Q.modifier,"is keyof unique infer asserts":Q.operatorKeyword,JSXAttributeValue:Q.attributeValue,JSXText:Q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Q.angleBracket,"JSXIdentifier JSXNameSpacedName":Q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Q.attributeName,"JSXBuiltin/JSXIdentifier":Q.standard(Q.tagName)}),oK={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},uK={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},cK={__proto__:null,"<":193},hK=Bo.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:tK,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[aK],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[iK,rK,sK,lK,2,3,4,5,6,7,8,9,10,11,12,13,14,nK,new bm("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new bm("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:n=>oK[n]||-1},{term:343,get:n=>uK[n]||-1},{term:95,get:n=>cK[n]||-1}],tokenPrec:15201}),mI=[Ln("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ln("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ln("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ln("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ln("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ln(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ln("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ln(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ln(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ln('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ln('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],fK=mI.concat([Ln("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ln("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ln("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),iA=new i$,gI=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function mc(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const dK=["FunctionDeclaration"],pK={FunctionDeclaration:mc("function"),ClassDeclaration:mc("class"),ClassExpression:()=>!0,EnumDeclaration:mc("constant"),TypeAliasDeclaration:mc("type"),NamespaceDeclaration:mc("namespace"),VariableDefinition(n,e){n.matchContext(dK)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function OI(n,e){let t=iA.get(e);if(t)return t;let i=[],r=!0;function s(l,u){let c=n.sliceString(l.from,l.to);i.push({label:c,type:u})}return e.cursor(rt.IncludeAnonymous).iterate(l=>{if(r)r=!1;else if(l.name){let u=pK[l.name];if(u&&u(l,s)||gI.has(l.name))return!1}else if(l.to-l.from>8192){for(let u of OI(n,l.node))i.push(u);return!1}}),iA.set(e,i),i}const rA=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,yI=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function mK(n){let e=bt(n.state).resolveInner(n.pos,-1);if(yI.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&rA.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)gI.has(r.name)&&(i=i.concat(OI(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:rA}}const Or=Do.define({name:"javascript",parser:hK.configure({props:[Vh.add({IfStatement:pp({except:/^\s*({|else\b)/}),TryStatement:pp({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:B9,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:z9({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":pp({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),iu.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":h$,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),bI={test:n=>/^JSX/.test(n.name),facet:cv({commentTokens:{block:{open:"{/*",close:"*/}"}}})},SI=Or.configure({dialect:"ts"},"typescript"),vI=Or.configure({dialect:"jsx",props:[hv.add(n=>n.isTop?[bI]:void 0)]}),xI=Or.configure({dialect:"jsx ts",props:[hv.add(n=>n.isTop?[bI]:void 0)]},"typescript");let wI=n=>({label:n,type:"keyword"});const kI="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(wI),gK=kI.concat(["declare","implements","private","protected","public"].map(wI));function OK(n={}){let e=n.jsx?n.typescript?xI:vI:n.typescript?SI:Or,t=n.typescript?fK.concat(gK):mI.concat(kI);return new ph(e,[Or.data.of({autocomplete:lW(yI,dD(t))}),Or.data.of({autocomplete:mK}),n.jsx?SK:[]])}function yK(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function sA(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const bK=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),SK=de.inputHandler.of((n,e,t,i,r)=>{if((bK?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Or.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:l}=s,u=l.changeByRange(c=>{var f;let{head:d}=c,m=bt(l).resolveInner(d-1,-1),g;if(m.name=="JSXStartTag"&&(m=m.parent),!(l.doc.sliceString(d-1,d)!=i||m.name=="JSXAttributeValue"&&m.to>d)){if(i==">"&&m.name=="JSXFragmentTag")return{range:c,changes:{from:d,insert:"</>"}};if(i=="/"&&m.name=="JSXStartCloseTag"){let y=m.parent,S=y.parent;if(S&&y.from==d-2&&((g=sA(l.doc,S.firstChild,d))||((f=S.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let x=`${g}>`;return{range:G.cursor(d+x.length,-1),changes:{from:d,insert:x}}}}else if(i==">"){let y=yK(m);if(y&&y.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(d,d+2))&&(g=sA(l.doc,y,d)))return{range:c,changes:{from:d,insert:`</${g}>`}}}}return{range:c}});return u.changes.empty?!1:(n.dispatch([s,l.update(u,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),gc=["_blank","_self","_top","_parent"],P0=["ascii","utf-8","utf-16","latin1","latin1"],R0=["get","post","put","delete"],M0=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ri=["true","false"],ve={},vK={a:{attrs:{href:null,ping:null,type:null,media:null,target:gc,hreflang:null}},abbr:ve,address:ve,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:ve,aside:ve,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:ve,base:{attrs:{href:null,target:gc}},bdi:ve,bdo:ve,blockquote:{attrs:{cite:null}},body:ve,br:ve,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:M0,formmethod:R0,formnovalidate:["novalidate"],formtarget:gc,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:ve,center:ve,cite:ve,code:ve,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:ve,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:ve,div:ve,dl:ve,dt:ve,em:ve,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:ve,figure:ve,footer:ve,form:{attrs:{action:null,name:null,"accept-charset":P0,autocomplete:["on","off"],enctype:M0,method:R0,novalidate:["novalidate"],target:gc}},h1:ve,h2:ve,h3:ve,h4:ve,h5:ve,h6:ve,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:ve,hgroup:ve,hr:ve,html:{attrs:{manifest:null}},i:ve,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:M0,formmethod:R0,formnovalidate:["novalidate"],formtarget:gc,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:ve,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:ve,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:ve,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:P0,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:ve,noscript:ve,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:ve,param:{attrs:{name:null,value:null}},pre:ve,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:ve,rt:ve,ruby:ve,samp:ve,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:P0}},section:ve,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:ve,source:{attrs:{src:null,type:null,media:null}},span:ve,strong:ve,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:ve,summary:ve,sup:ve,table:ve,tbody:ve,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:ve,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:ve,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:ve,time:{attrs:{datetime:null}},title:ve,tr:ve,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:ve,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:ve},_I={accesskey:null,class:null,contenteditable:ri,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ri,autocorrect:ri,autocapitalize:ri,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ri,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ri,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ri,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ri,"aria-hidden":ri,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ri,"aria-multiselectable":ri,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ri,"aria-relevant":null,"aria-required":ri,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},CI="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of CI)_I[n]=null;let _h=class{constructor(e,t){this.tags={...vK,...e},this.globalAttrs={..._I,...t},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};_h.default=new _h;function Xo(n,e,t=n.length){if(!e)return"";let i=e.firstChild,r=i&&i.getChild("TagName");return r?n.sliceString(r.from,Math.min(r.to,t)):""}function Zo(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function TI(n,e,t){let i=t.tags[Xo(n,Zo(e))];return(i==null?void 0:i.children)||t.allTags}function Nv(n,e){let t=[];for(let i=Zo(e);i&&!i.type.isTop;i=Zo(i.parent)){let r=Xo(n,i);if(r&&i.lastChild.name=="CloseTag")break;r&&t.indexOf(r)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&t.push(r)}return t}const EI=/^[:\-\.\w\u00b7-\uffff]*$/;function lA(n,e,t,i,r){let s=/\s*>/.test(n.sliceDoc(r,r+5))?"":">",l=Zo(t,t.name=="StartTag"||t.name=="TagName");return{from:i,to:r,options:TI(n.doc,l,e).map(u=>({label:u,type:"type"})).concat(Nv(n.doc,t).map((u,c)=>({label:"/"+u,apply:"/"+u+s,type:"type",boost:99-c}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function aA(n,e,t,i){let r=/\s*>/.test(n.sliceDoc(i,i+5))?"":">";return{from:t,to:i,options:Nv(n.doc,e).map((s,l)=>({label:s,apply:s+r,type:"type",boost:99-l})),validFor:EI}}function xK(n,e,t,i){let r=[],s=0;for(let l of TI(n.doc,t,e))r.push({label:"<"+l,type:"type"});for(let l of Nv(n.doc,t))r.push({label:"</"+l+">",type:"type",boost:99-s++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function wK(n,e,t,i,r){let s=Zo(t),l=s?e.tags[Xo(n.doc,s)]:null,u=l&&l.attrs?Object.keys(l.attrs):[],c=l&&l.globalAttrs===!1?u:u.length?u.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:r,options:c.map(f=>({label:f,type:"property"})),validFor:EI}}function kK(n,e,t,i,r){var s;let l=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),u=[],c;if(l){let f=n.sliceDoc(l.from,l.to),d=e.globalAttrs[f];if(!d){let m=Zo(t),g=m?e.tags[Xo(n.doc,m)]:null;d=(g==null?void 0:g.attrs)&&g.attrs[f]}if(d){let m=n.sliceDoc(i,r).toLowerCase(),g='"',y='"';/^['"]/.test(m)?(c=m[0]=='"'?/^[^"]*$/:/^[^']*$/,g="",y=n.sliceDoc(r,r+1)==m[0]?"":m[0],m=m.slice(1),i++):c=/^[^\s<>='"]*$/;for(let S of d)u.push({label:S,apply:g+S+y,type:"constant"})}}return{from:i,to:r,options:u,validFor:c}}function QI(n,e){let{state:t,pos:i}=e,r=bt(t).resolveInner(i,-1),s=r.resolve(i);for(let l=i,u;s==r&&(u=r.childBefore(l));){let c=u.lastChild;if(!c||!c.type.isError||c.from<c.to)break;s=r=u,l=c.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?aA(t,r,r.from,i):lA(t,n,r,r.from,i):r.name=="StartTag"||r.name=="IncompleteTag"?lA(t,n,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?aA(t,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?wK(t,n,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?kK(t,n,r,r.name=="Is"?i:r.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?xK(t,n,r,i):null}function _K(n){return QI(_h.default,n)}function CK(n){let{extraTags:e,extraGlobalAttributes:t}=n,i=t||e?new _h(e,t):_h.default;return r=>QI(i,r)}const TK=Or.parser.configure({top:"SingleExpression"}),AI=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:SI.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:vI.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:xI.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:TK},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:Or.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:vm.parser}],PI=[{name:"style",parser:vm.parser.configure({top:"Styles"})}].concat(CI.map(n=>({name:n,parser:Or.parser}))),RI=Do.define({name:"html",parser:KG.configure({props:[Vh.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let i=n.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),iu.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),k$.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),yp=RI.configure({wrap:oI(AI,PI)});function EK(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=oI((n.nestedLanguages||[]).concat(AI),(n.nestedAttributes||[]).concat(PI)));let i=t?RI.configure({wrap:t,dialect:e}):e?yp.configure({dialect:e}):yp;return new ph(i,[yp.data.of({autocomplete:CK(n)}),n.autoCloseTags!==!1?QK:[],OK().support,$F().support])}const oA=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),QK=de.inputHandler.of((n,e,t,i,r)=>{if(n.composing||n.state.readOnly||e!=t||i!=">"&&i!="/"||!yp.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:l}=s,u=l.changeByRange(c=>{var f,d,m;let g=l.doc.sliceString(c.from-1,c.to)==i,{head:y}=c,S=bt(l).resolveInner(y,-1),x;if(g&&i==">"&&S.name=="EndTag"){let w=S.parent;if(((d=(f=w.parent)===null||f===void 0?void 0:f.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(x=Xo(l.doc,w.parent,y))&&!oA.has(x)){let k=y+(l.doc.sliceString(y,y+1)===">"?1:0),A=`</${x}>`;return{range:c,changes:{from:y,to:k,insert:A}}}}else if(g&&i=="/"&&S.name=="IncompleteCloseTag"){let w=S.parent;if(S.from==y-2&&((m=w.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(x=Xo(l.doc,w,y))&&!oA.has(x)){let k=y+(l.doc.sliceString(y,y+1)===">"?1:0),A=`${x}>`;return{range:G.cursor(y+A.length,-1),changes:{from:y,to:k,insert:A}}}}return{range:c}});return u.changes.empty?!1:(n.dispatch([s,l.update(u,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),MI=cv({commentTokens:{block:{open:"<!--",close:"-->"}}}),$I=new Pe,DI=VH.configure({props:[iu.add(n=>!n.is("Block")||n.is("Document")||C1(n)!=null||AK(n)?void 0:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})),$I.add(C1),Vh.add({Document:()=>null}),ql.add({Document:MI})]});function C1(n){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(n.name);return e?+e[1]:void 0}function AK(n){return n.name=="OrderedList"||n.name=="BulletList"}function PK(n,e){let t=n;for(;;){let i=t.nextSibling,r;if(!i||(r=C1(i.type))!=null&&r<=e)break;t=i}return t.to}const RK=c$.of((n,e,t)=>{for(let i=bt(n).resolveInner(t,-1);i&&!(i.from<e);i=i.parent){let r=i.type.prop($I);if(r==null)continue;let s=PK(i,r);if(s>t)return{from:t,to:s}}return null});function zv(n){return new Ti(MI,n,[],"markdown")}const MK=zv(DI),$K=DI.configure([iG,sG,rG,lG,{props:[iu.add({Table:(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})})]}]),xm=zv($K);function DK(n,e){return t=>{if(t&&n){let i=null;if(t=/\S*/.exec(t)[0],typeof n=="function"?i=n(t):i=im.matchLanguageName(n,t,!0),i instanceof im)return i.support?i.support.language.parser:dh.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class $0{constructor(e,t,i,r,s,l,u){this.node=e,this.from=t,this.to=i,this.spaceBefore=r,this.spaceAfter=s,this.type=l,this.item=u}blank(e,t=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(t?this.spaceAfter:"")}}marker(e,t){let i=this.node.name=="OrderedList"?String(+LI(this.item,e)[2]+t):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function II(n,e){let t=[],i=[];for(let r=n;r;r=r.parent){if(r.name=="FencedCode")return i;(r.name=="ListItem"||r.name=="Blockquote")&&t.push(r)}for(let r=t.length-1;r>=0;r--){let s=t[r],l,u=e.lineAt(s.from),c=s.from-u.from;if(s.name=="Blockquote"&&(l=/^ *>( ?)/.exec(u.text.slice(c))))i.push(new $0(s,c,c+l[0].length,"",l[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(l=/^( *)\d+([.)])( *)/.exec(u.text.slice(c)))){let f=l[3],d=l[0].length;f.length>=4&&(f=f.slice(0,f.length-4),d-=4),i.push(new $0(s.parent,c,c+d,l[1],f,l[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(l=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(u.text.slice(c)))){let f=l[4],d=l[0].length;f.length>4&&(f=f.slice(0,f.length-4),d-=4);let m=l[2];l[3]&&(m+=l[3].replace(/[xX]/," ")),i.push(new $0(s.parent,c,c+d,l[1],f,m,s))}}return i}function LI(n,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(n.from,n.from+10))}function D0(n,e,t,i=0){for(let r=-1,s=n;;){if(s.name=="ListItem"){let u=LI(s,e),c=+u[2];if(r>=0){if(c!=r+1)return;t.push({from:s.from+u[1].length,to:s.from+u[0].length,insert:String(r+2+i)})}r=c}let l=s.nextSibling;if(!l)break;s=l}}function Bv(n,e){let t=/^[ \t]*/.exec(n)[0].length;if(!t||e.facet(nu)!="	")return n;let i=Wi(n,4,t),r="";for(let s=i;s>0;)s>=4?(r+="	",s-=4):(r+=" ",s--);return r+n.slice(t)}const IK=(n={})=>({state:e,dispatch:t})=>{let i=bt(e),{doc:r}=e,s=null,l=e.changeByRange(u=>{if(!u.empty||!xm.isActiveAt(e,u.from,-1)&&!xm.isActiveAt(e,u.from,1))return s={range:u};let c=u.from,f=r.lineAt(c),d=II(i.resolveInner(c,-1),r);for(;d.length&&d[d.length-1].from>c-f.from;)d.pop();if(!d.length)return s={range:u};let m=d[d.length-1];if(m.to-m.spaceAfter.length>c-f.from)return s={range:u};let g=c>=m.to-m.spaceAfter.length&&!/\S/.test(f.text.slice(m.to));if(m.item&&g){let k=m.node.firstChild,A=m.node.getChild("ListItem","ListItem");if(k.to>=c||A&&A.to<c||f.from>0&&!/[^\s>]/.test(r.lineAt(f.from-1).text)||n.nonTightLists===!1){let T=d.length>1?d[d.length-2]:null,Z,D="";T&&T.item?(Z=f.from+T.from,D=T.marker(r,1)):Z=f.from+(T?T.to:0);let R=[{from:Z,to:c,insert:D}];return m.node.name=="OrderedList"&&D0(m.item,r,R,-2),T&&T.node.name=="OrderedList"&&D0(T.item,r,R),{range:G.cursor(Z+D.length),changes:R}}else{let T=cA(d,e,f);return{range:G.cursor(c+T.length+1),changes:{from:f.from,insert:T+e.lineBreak}}}}if(m.node.name=="Blockquote"&&g&&f.from){let k=r.lineAt(f.from-1),A=/>\s*$/.exec(k.text);if(A&&A.index==m.from){let T=e.changes([{from:k.from+A.index,to:k.to},{from:f.from+m.from,to:f.to}]);return{range:u.map(T),changes:T}}}let y=[];m.node.name=="OrderedList"&&D0(m.item,r,y);let S=m.item&&m.item.from<f.from,x="";if(!S||/^[\s\d.)\-+*>]*/.exec(f.text)[0].length>=m.to)for(let k=0,A=d.length-1;k<=A;k++)x+=k==A&&!S?d[k].marker(r,1):d[k].blank(k<A?Wi(f.text,4,d[k+1].from)-x.length:null);let w=c;for(;w>f.from&&/\s/.test(f.text.charAt(w-f.from-1));)w--;return x=Bv(x,e),NK(m.node,e.doc)&&(x=cA(d,e,f)+e.lineBreak+x),y.push({from:w,to:c,insert:e.lineBreak+x}),{range:G.cursor(w+x.length+1),changes:y}});return s?!1:(t(e.update(l,{scrollIntoView:!0,userEvent:"input"})),!0)},LK=IK();function uA(n){return n.name=="QuoteMark"||n.name=="ListMark"}function NK(n,e){if(n.name!="OrderedList"&&n.name!="BulletList")return!1;let t=n.firstChild,i=n.getChild("ListItem","ListItem");if(!i)return!1;let r=e.lineAt(t.to),s=e.lineAt(i.from),l=/^[\s>]*$/.test(r.text);return r.number+(l?0:1)<s.number}function cA(n,e,t){let i="";for(let r=0,s=n.length-2;r<=s;r++)i+=n[r].blank(r<s?Wi(t.text,4,n[r+1].from)-i.length:null,r<s);return Bv(i,e)}function zK(n,e){let t=n.resolveInner(e,-1),i=e;uA(t)&&(i=t.from,t=t.parent);for(let r;r=t.childBefore(i);)if(uA(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")t=r.lastChild,i=t.to;else break;return t}const BK=({state:n,dispatch:e})=>{let t=bt(n),i=null,r=n.changeByRange(s=>{let l=s.from,{doc:u}=n;if(s.empty&&xm.isActiveAt(n,s.from)){let c=u.lineAt(l),f=II(zK(t,l),u);if(f.length){let d=f[f.length-1],m=d.to-d.spaceAfter.length+(d.spaceAfter?1:0);if(l-c.from>m&&!/\S/.test(c.text.slice(m,l-c.from)))return{range:G.cursor(c.from+m),changes:{from:c.from+m,to:l}};if(l-c.from==m&&(!d.item||c.from<=d.item.from||!/\S/.test(c.text.slice(0,d.to)))){let g=c.from+d.from;if(d.item&&d.node.from<d.item.from&&/\S/.test(c.text.slice(d.from,d.to))){let y=d.blank(Wi(c.text,4,d.to)-Wi(c.text,4,d.from));return g==c.from&&(y=Bv(y,n)),{range:G.cursor(g+y.length),changes:{from:g,to:c.from+d.to,insert:y}}}if(g<l)return{range:G.cursor(g),changes:{from:g,to:l}}}}}return i={range:s}});return i?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},XK=[{key:"Enter",run:LK},{key:"Backspace",run:BK}],NI=EK({matchClosingTags:!1});function ZK(n={}){let{codeLanguages:e,defaultCodeLanguage:t,addKeymap:i=!0,base:{parser:r}=MK,completeHTMLTags:s=!0,pasteURLAsLink:l=!0,htmlTagLanguage:u=NI}=n;if(!(r instanceof ng))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let c=n.extensions?[n.extensions]:[],f=[u.support,RK],d;l&&f.push(VK),t instanceof ph?(f.push(t.support),d=t.language):t&&(d=t);let m=e||d?DK(e,d):void 0;c.push(WH({codeParser:m,htmlParser:u.language.parser})),i&&f.push(hs.high(eu.of(XK)));let g=zv(r.configure(c));return s&&f.push(g.data.of({autocomplete:UK})),new ph(g,f)}function UK(n){let{state:e,pos:t}=n,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(t-25,t));if(!i)return null;let r=bt(e).resolveInner(t,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:t-i[0].length,to:t,options:jK(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let I0=null;function jK(){if(I0)return I0;let n=_K(new vv(Ye.create({extensions:NI}),0,!0));return I0=n?n.options:[]}const qK=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,VK=de.domEventHandlers({paste:(n,e)=>{var t;let{main:i}=e.state.selection;if(i.empty)return!1;let r=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("text/plain");if(!r||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(r)||(/^www\./.test(r)&&(r="https://"+r),!xm.isActiveAt(e.state,i.from,1)))return!1;let s=bt(e.state),l=!1;return s.iterate({from:i.from,to:i.to,enter:u=>{(u.from>i.from||qK.test(u.name))&&(l=!0)},leave:u=>{u.to<i.to&&(l=!0)}}),l?!1:(e.dispatch({changes:[{from:i.from,insert:"["},{from:i.to,insert:`](${r})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}});function YK(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const WK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GK={};function hA(n,e){return(GK.jsx?HK:WK).test(n)}const FK=/[ \t\n\f\r]/g;function KK(n){return typeof n=="object"?n.type==="text"?fA(n.value):!1:fA(n)}function fA(n){return n.replace(FK,"")===""}class Kh{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Kh.prototype.normal={};Kh.prototype.property={};Kh.prototype.space=void 0;function zI(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new Kh(t,i,e)}function T1(n){return n.toLowerCase()}class Yn{constructor(e,t){this.attribute=t,this.property=e}}Yn.prototype.attribute="";Yn.prototype.booleanish=!1;Yn.prototype.boolean=!1;Yn.prototype.commaOrSpaceSeparated=!1;Yn.prototype.commaSeparated=!1;Yn.prototype.defined=!1;Yn.prototype.mustUseProperty=!1;Yn.prototype.number=!1;Yn.prototype.overloadedBoolean=!1;Yn.prototype.property="";Yn.prototype.spaceSeparated=!1;Yn.prototype.space=void 0;let JK=0;const De=oa(),Xt=oa(),E1=oa(),ae=oa(),St=oa(),wo=oa(),si=oa();function oa(){return 2**++JK}const Q1=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:Xt,commaOrSpaceSeparated:si,commaSeparated:wo,number:ae,overloadedBoolean:E1,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),L0=Object.keys(Q1);class Xv extends Yn{constructor(e,t,i,r){let s=-1;if(super(e,t),dA(this,"space",r),typeof i=="number")for(;++s<L0.length;){const l=L0[s];dA(this,L0[s],(i&Q1[l])===Q1[l])}}}Xv.prototype.defined=!0;function dA(n,e,t){t&&(n[e]=t)}function au(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const s=new Xv(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[T1(i)]=i,t[T1(s.attribute)]=i}return new Kh(e,t,n.space)}const BI=au({properties:{ariaActiveDescendant:null,ariaAtomic:Xt,ariaAutoComplete:null,ariaBusy:Xt,ariaChecked:Xt,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:Xt,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:Xt,ariaFlowTo:St,ariaGrabbed:Xt,ariaHasPopup:null,ariaHidden:Xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:ae,ariaLive:null,ariaModal:Xt,ariaMultiLine:Xt,ariaMultiSelectable:Xt,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:Xt,ariaReadOnly:Xt,ariaRelevant:null,ariaRequired:Xt,ariaRoleDescription:St,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:Xt,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function XI(n,e){return e in n?n[e]:e}function ZI(n,e){return XI(n,e.toLowerCase())}const eJ=au({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wo,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:St,autoFocus:De,autoPlay:De,blocking:St,capture:null,charSet:null,checked:De,cite:null,className:St,cols:ae,colSpan:null,content:null,contentEditable:Xt,controls:De,controlsList:St,coords:ae|wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:E1,draggable:Xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:St,height:ae,hidden:E1,high:ae,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:St,itemRef:St,itemScope:De,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:ae,pattern:null,ping:St,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:St,required:De,reversed:De,rows:ae,rowSpan:ae,sandbox:St,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:Xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:Xt,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:Xt,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:ae,security:null,unselectable:null},space:"html",transform:ZI}),tJ=au({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:si,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wo,g2:wo,glyphName:wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:si,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:si,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:si,rev:si,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:si,requiredFeatures:si,requiredFonts:si,requiredFormats:si,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:si,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:si,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:si,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:XI}),UI=au({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),jI=au({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ZI}),qI=au({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),nJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iJ=/[A-Z]/g,pA=/-[a-z]/g,rJ=/^data[-\w.:]+$/i;function sJ(n,e){const t=T1(e);let i=e,r=Yn;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&rJ.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(pA,aJ);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!pA.test(s)){let l=s.replace(iJ,lJ);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}r=Xv}return new r(i,e)}function lJ(n){return"-"+n.toLowerCase()}function aJ(n){return n.charAt(1).toUpperCase()}const oJ=zI([BI,eJ,UI,jI,qI],"html"),Zv=zI([BI,tJ,UI,jI,qI],"svg");function uJ(n){return n.join(" ").trim()}var Ka={},N0,mA;function cJ(){if(mA)return N0;mA=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",d="*",m="",g="comment",y="declaration";function S(w,k){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];k=k||{};var A=1,T=1;function Z(se){var te=se.match(e);te&&(A+=te.length);var N=se.lastIndexOf(c);T=~N?se.length-N:T+se.length}function D(){var se={line:A,column:T};return function(te){return te.position=new R(se),re(),te}}function R(se){this.start=se,this.end={line:A,column:T},this.source=k.source}R.prototype.content=w;function B(se){var te=new Error(k.source+":"+A+":"+T+": "+se);if(te.reason=se,te.filename=k.source,te.line=A,te.column=T,te.source=w,!k.silent)throw te}function le(se){var te=se.exec(w);if(te){var N=te[0];return Z(N),w=w.slice(N.length),te}}function re(){le(t)}function I(se){var te;for(se=se||[];te=ee();)te!==!1&&se.push(te);return se}function ee(){var se=D();if(!(f!=w.charAt(0)||d!=w.charAt(1))){for(var te=2;m!=w.charAt(te)&&(d!=w.charAt(te)||f!=w.charAt(te+1));)++te;if(te+=2,m===w.charAt(te-1))return B("End of comment missing");var N=w.slice(2,te-2);return T+=2,Z(N),w=w.slice(te),T+=2,se({type:g,comment:N})}}function W(){var se=D(),te=le(i);if(te){if(ee(),!le(r))return B("property missing ':'");var N=le(s),ne=se({type:y,property:x(te[0].replace(n,m)),value:N?x(N[0].replace(n,m)):m});return le(l),ne}}function he(){var se=[];I(se);for(var te;te=W();)te!==!1&&(se.push(te),I(se));return se}return re(),he()}function x(w){return w?w.replace(u,m):m}return N0=S,N0}var gA;function hJ(){if(gA)return Ka;gA=1;var n=Ka&&Ka.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.default=t;const e=n(cJ());function t(i,r){let s=null;if(!i||typeof i!="string")return s;const l=(0,e.default)(i),u=typeof r=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:d}=c;u?r(f,d,c):d&&(s=s||{},s[f]=d)}),s}return Ka}var Oc={},OA;function fJ(){if(OA)return Oc;OA=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(f){return!f||t.test(f)||n.test(f)},l=function(f,d){return d.toUpperCase()},u=function(f,d){return"".concat(d,"-")},c=function(f,d){return d===void 0&&(d={}),s(f)?f:(f=f.toLowerCase(),d.reactCompat?f=f.replace(r,u):f=f.replace(i,u),f.replace(e,l))};return Oc.camelCase=c,Oc}var yc,yA;function dJ(){if(yA)return yc;yA=1;var n=yc&&yc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(hJ()),t=fJ();function i(r,s){var l={};return!r||typeof r!="string"||(0,e.default)(r,function(u,c){u&&c&&(l[(0,t.camelCase)(u,s)]=c)}),l}return i.default=i,yc=i,yc}var pJ=dJ();const mJ=N1(pJ),VI=YI("end"),Uv=YI("start");function YI(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function gJ(n){const e=Uv(n),t=VI(n);if(e&&t)return{start:e,end:t}}function Uc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?bA(n.position):"start"in n||"end"in n?bA(n):"line"in n||"column"in n?A1(n):""}function A1(n){return SA(n&&n.line)+":"+SA(n&&n.column)}function bA(n){return A1(n&&n.start)+"-"+A1(n&&n.end)}function SA(n){return n&&typeof n=="number"?n:1}class Sn extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",s={},l=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?r=e:!s.cause&&e&&(l=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?s.ruleId=i:(s.source=i.slice(0,c),s.ruleId=i.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=u?u.line:void 0,this.name=Uc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Sn.prototype.file="";Sn.prototype.name="";Sn.prototype.reason="";Sn.prototype.message="";Sn.prototype.stack="";Sn.prototype.column=void 0;Sn.prototype.line=void 0;Sn.prototype.ancestors=void 0;Sn.prototype.cause=void 0;Sn.prototype.fatal=void 0;Sn.prototype.place=void 0;Sn.prototype.ruleId=void 0;Sn.prototype.source=void 0;const jv={}.hasOwnProperty,OJ=new Map,yJ=/[A-Z]/g,bJ=new Set(["table","tbody","thead","tfoot","tr"]),SJ=new Set(["td","th"]),WI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vJ(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=QJ(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=EJ(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Zv:oJ,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=HI(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function HI(n,e,t){if(e.type==="element")return xJ(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return wJ(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return _J(n,e,t);if(e.type==="mdxjsEsm")return kJ(n,e);if(e.type==="root")return CJ(n,e,t);if(e.type==="text")return TJ(n,e)}function xJ(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Zv,n.schema=r),n.ancestors.push(e);const s=FI(n,e.tagName,!1),l=AJ(n,e);let u=Vv(n,e);return bJ.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!KK(c):!0})),GI(n,l,s,e),qv(l,u),n.ancestors.pop(),n.schema=i,n.create(e,s,l,t)}function wJ(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Ch(n,e.position)}function kJ(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Ch(n,e.position)}function _J(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=Zv,n.schema=r),n.ancestors.push(e);const s=e.name===null?n.Fragment:FI(n,e.name,!0),l=PJ(n,e),u=Vv(n,e);return GI(n,l,s,e),qv(l,u),n.ancestors.pop(),n.schema=i,n.create(e,s,l,t)}function CJ(n,e,t){const i={};return qv(i,Vv(n,e)),n.create(e,n.Fragment,i,t)}function TJ(n,e){return e.value}function GI(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function qv(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function EJ(n,e,t){return i;function i(r,s,l,u){const f=Array.isArray(l.children)?t:e;return u?f(s,l,u):f(s,l)}}function QJ(n,e){return t;function t(i,r,s,l){const u=Array.isArray(s.children),c=Uv(i);return e(r,s,l,u,{columnNumber:c?c.column-1:void 0,fileName:n,lineNumber:c?c.line:void 0},void 0)}}function AJ(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&jv.call(e.properties,r)){const s=RJ(n,r,e.properties[r]);if(s){const[l,u]=s;n.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&SJ.has(e.tagName)?i=u:t[l]=u}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function PJ(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const l=s.expression;l.type;const u=l.properties[0];u.type,Object.assign(t,n.evaluater.evaluateExpression(u.argument))}else Ch(n,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const u=i.value.data.estree.body[0];u.type,s=n.evaluater.evaluateExpression(u.expression)}else Ch(n,e.position);else s=i.value===null?!0:i.value;t[r]=s}return t}function Vv(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:OJ;for(;++i<e.children.length;){const s=e.children[i];let l;if(n.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const f=r.get(c)||0;l=c+"-"+f,r.set(c,f+1)}}const u=HI(n,s,l);u!==void 0&&t.push(u)}return t}function RJ(n,e,t){const i=sJ(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?YK(t):uJ(t)),i.property==="style"){let r=typeof t=="object"?t:MJ(n,String(t));return n.stylePropertyNameCase==="css"&&(r=$J(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?nJ[i.property]||i.property:i.attribute,t]}}function MJ(n,e){try{return mJ(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Sn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=WI+"#cannot-parse-style-attribute",r}}function FI(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,l;for(;++s<r.length;){const u=hA(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}i=l}else i=hA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return jv.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Ch(n)}function Ch(n,e){const t=new Sn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=WI+"#cannot-handle-mdx-estrees-without-createevaluater",t}function $J(n){const e={};let t;for(t in n)jv.call(n,t)&&(e[DJ(t)]=n[t]);return e}function DJ(n){let e=n.replace(yJ,IJ);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function IJ(n){return"-"+n.toLowerCase()}const z0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},LJ={};function Yv(n,e){const t=LJ,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return KI(n,i,r)}function KI(n,e,t){if(NJ(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return vA(n.children,e,t)}return Array.isArray(n)?vA(n,e,t):""}function vA(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=KI(n[r],e,t);return i.join("")}function NJ(n){return!!(n&&typeof n=="object")}const xA=document.createElement("i");function Wv(n){const e="&"+n+";";xA.innerHTML=e;const t=xA.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function ci(n,e,t,i){const r=n.length;let s=0,l;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);s<i.length;)l=i.slice(s,s+1e4),l.unshift(e,0),n.splice(...l),s+=1e4,e+=1e4}function ki(n,e){return n.length>0?(ci(n,n.length,0,e),n):e}const wA={}.hasOwnProperty;function JI(n){const e={};let t=-1;for(;++t<n.length;)zJ(e,n[t]);return e}function zJ(n,e){let t;for(t in e){const r=(wA.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let l;if(s)for(l in s){wA.call(r,l)||(r[l]=[]);const u=s[l];BJ(r[l],Array.isArray(u)?u:u?[u]:[])}}}function BJ(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);ci(n,0,0,i)}function eL(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Yi(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _n=dl(/[A-Za-z]/),On=dl(/[\dA-Za-z]/),XJ=dl(/[#-'*+\--9=?A-Z^-~]/);function wm(n){return n!==null&&(n<32||n===127)}const P1=dl(/\d/),ZJ=dl(/[\dA-Fa-f]/),UJ=dl(/[!-/:-@[-`{-~]/);function _e(n){return n!==null&&n<-2}function Ot(n){return n!==null&&(n<0||n===32)}function je(n){return n===-2||n===-1||n===32}const ig=dl(new RegExp("\\p{P}|\\p{S}","u")),la=dl(/\s/);function dl(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function ou(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const s=n.charCodeAt(t);let l="";if(s===37&&On(n.charCodeAt(t+1))&&On(n.charCodeAt(t+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const u=n.charCodeAt(t+1);s<56320&&u>56319&&u<57344?(l=String.fromCharCode(s,u),r=1):l=""}else l=String.fromCharCode(s);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+r+1,l=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function Ge(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(c){return je(c)?(n.enter(t),u(c)):e(c)}function u(c){return je(c)&&s++<r?(n.consume(c),u):(n.exit(t),e(c))}}const jJ={tokenize:qJ};function qJ(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),Ge(n,e,"linePrefix")}function r(u){return n.enter("paragraph"),s(u)}function s(u){const c=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,l(u)}function l(u){if(u===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(u);return}return _e(u)?(n.consume(u),n.exit("chunkText"),s):(n.consume(u),l)}}const VJ={tokenize:YJ},kA={tokenize:WJ};function YJ(n){const e=this,t=[];let i=0,r,s,l;return u;function u(T){if(i<t.length){const Z=t[i];return e.containerState=Z[1],n.attempt(Z[0].continuation,c,f)(T)}return f(T)}function c(T){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&A();const Z=e.events.length;let D=Z,R;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){R=e.events[D][1].end;break}k(i);let B=Z;for(;B<e.events.length;)e.events[B][1].end={...R},B++;return ci(e.events,D+1,0,e.events.slice(Z)),e.events.length=B,f(T)}return u(T)}function f(T){if(i===t.length){if(!r)return g(T);if(r.currentConstruct&&r.currentConstruct.concrete)return S(T);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(kA,d,m)(T)}function d(T){return r&&A(),k(i),g(T)}function m(T){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,S(T)}function g(T){return e.containerState={},n.attempt(kA,y,S)(T)}function y(T){return i++,t.push([e.currentConstruct,e.containerState]),g(T)}function S(T){if(T===null){r&&A(),k(0),n.consume(T);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),x(T)}function x(T){if(T===null){w(n.exit("chunkFlow"),!0),k(0),n.consume(T);return}return _e(T)?(n.consume(T),w(n.exit("chunkFlow")),i=0,e.interrupt=void 0,u):(n.consume(T),x)}function w(T,Z){const D=e.sliceStream(T);if(Z&&D.push(null),T.previous=s,s&&(s.next=T),s=T,r.defineSkip(T.start),r.write(D),e.parser.lazy[T.start.line]){let R=r.events.length;for(;R--;)if(r.events[R][1].start.offset<l&&(!r.events[R][1].end||r.events[R][1].end.offset>l))return;const B=e.events.length;let le=B,re,I;for(;le--;)if(e.events[le][0]==="exit"&&e.events[le][1].type==="chunkFlow"){if(re){I=e.events[le][1].end;break}re=!0}for(k(i),R=B;R<e.events.length;)e.events[R][1].end={...I},R++;ci(e.events,le+1,0,e.events.slice(B)),e.events.length=R}}function k(T){let Z=t.length;for(;Z-- >T;){const D=t[Z];e.containerState=D[1],D[0].exit.call(e,n)}t.length=T}function A(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function WJ(n,e,t){return Ge(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uo(n){if(n===null||Ot(n)||la(n))return 1;if(ig(n))return 2}function rg(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const R1={name:"attention",resolveAll:HJ,tokenize:GJ};function HJ(n,e){let t=-1,i,r,s,l,u,c,f,d;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;c=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m={...n[i][1].end},g={...n[t][1].start};_A(m,-c),_A(g,c),l={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},n[i][1].end={...l.start},n[t][1].start={...u.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=ki(f,[["enter",n[i][1],e],["exit",n[i][1],e]])),f=ki(f,[["enter",r,e],["enter",l,e],["exit",l,e],["enter",s,e]]),f=ki(f,rg(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),f=ki(f,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(d=2,f=ki(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):d=0,ci(n,i-1,t-i+3,f),t=i+f.length-d-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function GJ(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Uo(i);let s;return l;function l(c){return s=c,n.enter("attentionSequence"),u(c)}function u(c){if(c===s)return n.consume(c),u;const f=n.exit("attentionSequence"),d=Uo(c),m=!d||d===2&&r||t.includes(c),g=!r||r===2&&d||t.includes(i);return f._open=!!(s===42?m:m&&(r||!g)),f._close=!!(s===42?g:g&&(d||!m)),e(c)}}function _A(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const FJ={name:"autolink",tokenize:KJ};function KJ(n,e,t){let i=0;return r;function r(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(y){return _n(y)?(n.consume(y),l):y===64?t(y):f(y)}function l(y){return y===43||y===45||y===46||On(y)?(i=1,u(y)):f(y)}function u(y){return y===58?(n.consume(y),i=0,c):(y===43||y===45||y===46||On(y))&&i++<32?(n.consume(y),u):(i=0,f(y))}function c(y){return y===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):y===null||y===32||y===60||wm(y)?t(y):(n.consume(y),c)}function f(y){return y===64?(n.consume(y),d):XJ(y)?(n.consume(y),f):t(y)}function d(y){return On(y)?m(y):t(y)}function m(y){return y===46?(n.consume(y),i=0,d):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):g(y)}function g(y){if((y===45||On(y))&&i++<63){const S=y===45?g:m;return n.consume(y),S}return t(y)}}const Jh={partial:!0,tokenize:JJ};function JJ(n,e,t){return i;function i(s){return je(s)?Ge(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||_e(s)?e(s):t(s)}}const tL={continuation:{tokenize:tee},exit:nee,name:"blockQuote",tokenize:eee};function eee(n,e,t){const i=this;return r;function r(l){if(l===62){const u=i.containerState;return u.open||(n.enter("blockQuote",{_container:!0}),u.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),s}return t(l)}function s(l){return je(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function tee(n,e,t){const i=this;return r;function r(l){return je(l)?Ge(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return n.attempt(tL,e,t)(l)}}function nee(n){n.exit("blockQuote")}const nL={name:"characterEscape",tokenize:iee};function iee(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return UJ(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const iL={name:"characterReference",tokenize:ree};function ree(n,e,t){const i=this;let r=0,s,l;return u;function u(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),c}function c(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,l=On,d(m))}function f(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,l=ZJ,d):(n.enter("characterReferenceValue"),s=7,l=P1,d(m))}function d(m){if(m===59&&r){const g=n.exit("characterReferenceValue");return l===On&&!Wv(i.sliceSerialize(g))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(m)&&r++<s?(n.consume(m),d):t(m)}}const CA={partial:!0,tokenize:lee},TA={concrete:!0,name:"codeFenced",tokenize:see};function see(n,e,t){const i=this,r={partial:!0,tokenize:D};let s=0,l=0,u;return c;function c(R){return f(R)}function f(R){const B=i.events[i.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,u=R,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),d(R)}function d(R){return R===u?(l++,n.consume(R),d):l<3?t(R):(n.exit("codeFencedFenceSequence"),je(R)?Ge(n,m,"whitespace")(R):m(R))}function m(R){return R===null||_e(R)?(n.exit("codeFencedFence"),i.interrupt?e(R):n.check(CA,x,Z)(R)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(R))}function g(R){return R===null||_e(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(R)):je(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ge(n,y,"whitespace")(R)):R===96&&R===u?t(R):(n.consume(R),g)}function y(R){return R===null||_e(R)?m(R):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(R))}function S(R){return R===null||_e(R)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(R)):R===96&&R===u?t(R):(n.consume(R),S)}function x(R){return n.attempt(r,Z,w)(R)}function w(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),k}function k(R){return s>0&&je(R)?Ge(n,A,"linePrefix",s+1)(R):A(R)}function A(R){return R===null||_e(R)?n.check(CA,x,Z)(R):(n.enter("codeFlowValue"),T(R))}function T(R){return R===null||_e(R)?(n.exit("codeFlowValue"),A(R)):(n.consume(R),T)}function Z(R){return n.exit("codeFenced"),e(R)}function D(R,B,le){let re=0;return I;function I(te){return R.enter("lineEnding"),R.consume(te),R.exit("lineEnding"),ee}function ee(te){return R.enter("codeFencedFence"),je(te)?Ge(R,W,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):W(te)}function W(te){return te===u?(R.enter("codeFencedFenceSequence"),he(te)):le(te)}function he(te){return te===u?(re++,R.consume(te),he):re>=l?(R.exit("codeFencedFenceSequence"),je(te)?Ge(R,se,"whitespace")(te):se(te)):le(te)}function se(te){return te===null||_e(te)?(R.exit("codeFencedFence"),B(te)):le(te)}}}function lee(n,e,t){const i=this;return r;function r(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s)}function s(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const B0={name:"codeIndented",tokenize:oee},aee={partial:!0,tokenize:uee};function oee(n,e,t){const i=this;return r;function r(f){return n.enter("codeIndented"),Ge(n,s,"linePrefix",5)(f)}function s(f){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(f):t(f)}function l(f){return f===null?c(f):_e(f)?n.attempt(aee,l,c)(f):(n.enter("codeFlowValue"),u(f))}function u(f){return f===null||_e(f)?(n.exit("codeFlowValue"),l(f)):(n.consume(f),u)}function c(f){return n.exit("codeIndented"),e(f)}}function uee(n,e,t){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?t(l):_e(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):Ge(n,s,"linePrefix",5)(l)}function s(l){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):_e(l)?r(l):t(l)}}const cee={name:"codeText",previous:fee,resolve:hee,tokenize:dee};function hee(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function fee(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dee(n,e,t){let i=0,r,s;return l;function l(m){return n.enter("codeText"),n.enter("codeTextSequence"),u(m)}function u(m){return m===96?(n.consume(m),i++,u):(n.exit("codeTextSequence"),c(m))}function c(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),c):m===96?(s=n.enter("codeTextSequence"),r=0,d(m)):_e(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),c):(n.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||_e(m)?(n.exit("codeTextData"),c(m)):(n.consume(m),f)}function d(m){return m===96?(n.consume(m),r++,d):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(s.type="codeTextData",f(m))}}class pee{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&bc(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);bc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bc(this.left,t.reverse())}}}function bc(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function rL(n){const e={};let t=-1,i,r,s,l,u,c,f;const d=new pee(n);for(;++t<d.length;){for(;t in e;)t=e[t];if(i=d.get(t),t&&i[1].type==="chunkFlow"&&d.get(t-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,mee(d,t)),t=e[t],f=!0);else if(i[1]._container){for(s=t,r=void 0;s--;)if(l=d.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},u=d.slice(r,t),u.unshift(i),d.splice(r,t-r+1,u))}}return ci(n,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function mee(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const s=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let d,m,g=-1,y=t,S=0,x=0;const w=[x];for(;y;){for(;n.get(++r)[1]!==y;);s.push(r),y._tokenizer||(d=i.sliceStream(y),y.next||d.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=t;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(x=g+1,w.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):w.pop(),g=w.length;g--;){const k=u.slice(w[g],w[g+1]),A=s.pop();c.push([A,A+k.length-1]),n.splice(A,2,k)}for(c.reverse(),g=-1;++g<c.length;)f[S+c[g][0]]=S+c[g][1],S+=c[g][1]-c[g][0]-1;return f}const gee={resolve:yee,tokenize:bee},Oee={partial:!0,tokenize:See};function yee(n){return rL(n),n}function bee(n,e){let t;return i;function i(u){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(u)}function r(u){return u===null?s(u):_e(u)?n.check(Oee,l,s)(u):(n.consume(u),r)}function s(u){return n.exit("chunkContent"),n.exit("content"),e(u)}function l(u){return n.consume(u),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function See(n,e,t){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),Ge(n,s,"linePrefix")}function s(l){if(l===null||_e(l))return t(l);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function sL(n,e,t,i,r,s,l,u,c){const f=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(k){return k===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(k),n.exit(s),g):k===null||k===32||k===41||wm(k)?t(k):(n.enter(i),n.enter(l),n.enter(u),n.enter("chunkString",{contentType:"string"}),x(k))}function g(k){return k===62?(n.enter(s),n.consume(k),n.exit(s),n.exit(r),n.exit(i),e):(n.enter(u),n.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(n.exit("chunkString"),n.exit(u),g(k)):k===null||k===60||_e(k)?t(k):(n.consume(k),k===92?S:y)}function S(k){return k===60||k===62||k===92?(n.consume(k),y):y(k)}function x(k){return!d&&(k===null||k===41||Ot(k))?(n.exit("chunkString"),n.exit(u),n.exit(l),n.exit(i),e(k)):d<f&&k===40?(n.consume(k),d++,x):k===41?(n.consume(k),d--,x):k===null||k===32||k===40||wm(k)?t(k):(n.consume(k),k===92?w:x)}function w(k){return k===40||k===41||k===92?(n.consume(k),x):x(k)}}function lL(n,e,t,i,r,s){const l=this;let u=0,c;return f;function f(y){return n.enter(i),n.enter(r),n.consume(y),n.exit(r),n.enter(s),d}function d(y){return u>999||y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?t(y):y===93?(n.exit(s),n.enter(r),n.consume(y),n.exit(r),n.exit(i),e):_e(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),d):(n.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||_e(y)||u++>999?(n.exit("chunkString"),d(y)):(n.consume(y),c||(c=!je(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(n.consume(y),u++,m):m(y)}}function aL(n,e,t,i,r,s){let l;return u;function u(g){return g===34||g===39||g===40?(n.enter(i),n.enter(r),n.consume(g),n.exit(r),l=g===40?41:g,c):t(g)}function c(g){return g===l?(n.enter(r),n.consume(g),n.exit(r),n.exit(i),e):(n.enter(s),f(g))}function f(g){return g===l?(n.exit(s),c(l)):g===null?t(g):_e(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),Ge(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===l||g===null||_e(g)?(n.exit("chunkString"),f(g)):(n.consume(g),g===92?m:d)}function m(g){return g===l||g===92?(n.consume(g),d):d(g)}}function jc(n,e){let t;return i;function i(r){return _e(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):je(r)?Ge(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const vee={name:"definition",tokenize:wee},xee={partial:!0,tokenize:kee};function wee(n,e,t){const i=this;let r;return s;function s(y){return n.enter("definition"),l(y)}function l(y){return lL.call(i,n,u,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return r=Yi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(n.enter("definitionMarker"),n.consume(y),n.exit("definitionMarker"),c):t(y)}function c(y){return Ot(y)?jc(n,f)(y):f(y)}function f(y){return sL(n,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return n.attempt(xee,m,m)(y)}function m(y){return je(y)?Ge(n,g,"whitespace")(y):g(y)}function g(y){return y===null||_e(y)?(n.exit("definition"),i.parser.defined.push(r),e(y)):t(y)}}function kee(n,e,t){return i;function i(u){return Ot(u)?jc(n,r)(u):t(u)}function r(u){return aL(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return je(u)?Ge(n,l,"whitespace")(u):l(u)}function l(u){return u===null||_e(u)?e(u):t(u)}}const _ee={name:"hardBreakEscape",tokenize:Cee};function Cee(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return _e(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const Tee={name:"headingAtx",resolve:Eee,tokenize:Qee};function Eee(n,e){let t=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},ci(n,i,t-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),n}function Qee(n,e,t){let i=0;return r;function r(d){return n.enter("atxHeading"),s(d)}function s(d){return n.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&i++<6?(n.consume(d),l):d===null||Ot(d)?(n.exit("atxHeadingSequence"),u(d)):t(d)}function u(d){return d===35?(n.enter("atxHeadingSequence"),c(d)):d===null||_e(d)?(n.exit("atxHeading"),e(d)):je(d)?Ge(n,u,"whitespace")(d):(n.enter("atxHeadingText"),f(d))}function c(d){return d===35?(n.consume(d),c):(n.exit("atxHeadingSequence"),u(d))}function f(d){return d===null||d===35||Ot(d)?(n.exit("atxHeadingText"),u(d)):(n.consume(d),f)}}const Aee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],EA=["pre","script","style","textarea"],Pee={concrete:!0,name:"htmlFlow",resolveTo:$ee,tokenize:Dee},Ree={partial:!0,tokenize:Lee},Mee={partial:!0,tokenize:Iee};function $ee(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Dee(n,e,t){const i=this;let r,s,l,u,c;return f;function f(C){return d(C)}function d(C){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(C),m}function m(C){return C===33?(n.consume(C),g):C===47?(n.consume(C),s=!0,x):C===63?(n.consume(C),r=3,i.interrupt?e:E):_n(C)?(n.consume(C),l=String.fromCharCode(C),w):t(C)}function g(C){return C===45?(n.consume(C),r=2,y):C===91?(n.consume(C),r=5,u=0,S):_n(C)?(n.consume(C),r=4,i.interrupt?e:E):t(C)}function y(C){return C===45?(n.consume(C),i.interrupt?e:E):t(C)}function S(C){const ue="CDATA[";return C===ue.charCodeAt(u++)?(n.consume(C),u===ue.length?i.interrupt?e:W:S):t(C)}function x(C){return _n(C)?(n.consume(C),l=String.fromCharCode(C),w):t(C)}function w(C){if(C===null||C===47||C===62||Ot(C)){const ue=C===47,we=l.toLowerCase();return!ue&&!s&&EA.includes(we)?(r=1,i.interrupt?e(C):W(C)):Aee.includes(l.toLowerCase())?(r=6,ue?(n.consume(C),k):i.interrupt?e(C):W(C)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(C):s?A(C):T(C))}return C===45||On(C)?(n.consume(C),l+=String.fromCharCode(C),w):t(C)}function k(C){return C===62?(n.consume(C),i.interrupt?e:W):t(C)}function A(C){return je(C)?(n.consume(C),A):I(C)}function T(C){return C===47?(n.consume(C),I):C===58||C===95||_n(C)?(n.consume(C),Z):je(C)?(n.consume(C),T):I(C)}function Z(C){return C===45||C===46||C===58||C===95||On(C)?(n.consume(C),Z):D(C)}function D(C){return C===61?(n.consume(C),R):je(C)?(n.consume(C),D):T(C)}function R(C){return C===null||C===60||C===61||C===62||C===96?t(C):C===34||C===39?(n.consume(C),c=C,B):je(C)?(n.consume(C),R):le(C)}function B(C){return C===c?(n.consume(C),c=null,re):C===null||_e(C)?t(C):(n.consume(C),B)}function le(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Ot(C)?D(C):(n.consume(C),le)}function re(C){return C===47||C===62||je(C)?T(C):t(C)}function I(C){return C===62?(n.consume(C),ee):t(C)}function ee(C){return C===null||_e(C)?W(C):je(C)?(n.consume(C),ee):t(C)}function W(C){return C===45&&r===2?(n.consume(C),N):C===60&&r===1?(n.consume(C),ne):C===62&&r===4?(n.consume(C),P):C===63&&r===3?(n.consume(C),E):C===93&&r===5?(n.consume(C),F):_e(C)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(Ree,U,he)(C)):C===null||_e(C)?(n.exit("htmlFlowData"),he(C)):(n.consume(C),W)}function he(C){return n.check(Mee,se,U)(C)}function se(C){return n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),te}function te(C){return C===null||_e(C)?he(C):(n.enter("htmlFlowData"),W(C))}function N(C){return C===45?(n.consume(C),E):W(C)}function ne(C){return C===47?(n.consume(C),l="",pe):W(C)}function pe(C){if(C===62){const ue=l.toLowerCase();return EA.includes(ue)?(n.consume(C),P):W(C)}return _n(C)&&l.length<8?(n.consume(C),l+=String.fromCharCode(C),pe):W(C)}function F(C){return C===93?(n.consume(C),E):W(C)}function E(C){return C===62?(n.consume(C),P):C===45&&r===2?(n.consume(C),E):W(C)}function P(C){return C===null||_e(C)?(n.exit("htmlFlowData"),U(C)):(n.consume(C),P)}function U(C){return n.exit("htmlFlow"),e(C)}}function Iee(n,e,t){const i=this;return r;function r(l){return _e(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s):t(l)}function s(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function Lee(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(Jh,e,t)}}const Nee={name:"htmlText",tokenize:zee};function zee(n,e,t){const i=this;let r,s,l;return u;function u(E){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(E),c}function c(E){return E===33?(n.consume(E),f):E===47?(n.consume(E),D):E===63?(n.consume(E),T):_n(E)?(n.consume(E),le):t(E)}function f(E){return E===45?(n.consume(E),d):E===91?(n.consume(E),s=0,S):_n(E)?(n.consume(E),A):t(E)}function d(E){return E===45?(n.consume(E),y):t(E)}function m(E){return E===null?t(E):E===45?(n.consume(E),g):_e(E)?(l=m,ne(E)):(n.consume(E),m)}function g(E){return E===45?(n.consume(E),y):m(E)}function y(E){return E===62?N(E):E===45?g(E):m(E)}function S(E){const P="CDATA[";return E===P.charCodeAt(s++)?(n.consume(E),s===P.length?x:S):t(E)}function x(E){return E===null?t(E):E===93?(n.consume(E),w):_e(E)?(l=x,ne(E)):(n.consume(E),x)}function w(E){return E===93?(n.consume(E),k):x(E)}function k(E){return E===62?N(E):E===93?(n.consume(E),k):x(E)}function A(E){return E===null||E===62?N(E):_e(E)?(l=A,ne(E)):(n.consume(E),A)}function T(E){return E===null?t(E):E===63?(n.consume(E),Z):_e(E)?(l=T,ne(E)):(n.consume(E),T)}function Z(E){return E===62?N(E):T(E)}function D(E){return _n(E)?(n.consume(E),R):t(E)}function R(E){return E===45||On(E)?(n.consume(E),R):B(E)}function B(E){return _e(E)?(l=B,ne(E)):je(E)?(n.consume(E),B):N(E)}function le(E){return E===45||On(E)?(n.consume(E),le):E===47||E===62||Ot(E)?re(E):t(E)}function re(E){return E===47?(n.consume(E),N):E===58||E===95||_n(E)?(n.consume(E),I):_e(E)?(l=re,ne(E)):je(E)?(n.consume(E),re):N(E)}function I(E){return E===45||E===46||E===58||E===95||On(E)?(n.consume(E),I):ee(E)}function ee(E){return E===61?(n.consume(E),W):_e(E)?(l=ee,ne(E)):je(E)?(n.consume(E),ee):re(E)}function W(E){return E===null||E===60||E===61||E===62||E===96?t(E):E===34||E===39?(n.consume(E),r=E,he):_e(E)?(l=W,ne(E)):je(E)?(n.consume(E),W):(n.consume(E),se)}function he(E){return E===r?(n.consume(E),r=void 0,te):E===null?t(E):_e(E)?(l=he,ne(E)):(n.consume(E),he)}function se(E){return E===null||E===34||E===39||E===60||E===61||E===96?t(E):E===47||E===62||Ot(E)?re(E):(n.consume(E),se)}function te(E){return E===47||E===62||Ot(E)?re(E):t(E)}function N(E){return E===62?(n.consume(E),n.exit("htmlTextData"),n.exit("htmlText"),e):t(E)}function ne(E){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),pe}function pe(E){return je(E)?Ge(n,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):F(E)}function F(E){return n.enter("htmlTextData"),l(E)}}const Hv={name:"labelEnd",resolveAll:Uee,resolveTo:jee,tokenize:qee},Bee={tokenize:Vee},Xee={tokenize:Yee},Zee={tokenize:Wee};function Uee(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&ci(n,0,n.length,t),n}function jee(n,e){let t=n.length,i=0,r,s,l,u;for(;t--;)if(r=n[t][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=t);const c={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[s][1].start},end:{...n[l][1].end}},d={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[l-2][1].start}};return u=[["enter",c,e],["enter",f,e]],u=ki(u,n.slice(s+1,s+i+3)),u=ki(u,[["enter",d,e]]),u=ki(u,rg(e.parser.constructs.insideSpan.null,n.slice(s+i+4,l-3),e)),u=ki(u,[["exit",d,e],n[l-2],n[l-1],["exit",f,e]]),u=ki(u,n.slice(l+1)),u=ki(u,[["exit",c,e]]),ci(n,s,n.length,u),n}function qee(n,e,t){const i=this;let r=i.events.length,s,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return u;function u(g){return s?s._inactive?m(g):(l=i.parser.defined.includes(Yi(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),c):t(g)}function c(g){return g===40?n.attempt(Bee,d,l?d:m)(g):g===91?n.attempt(Xee,d,l?f:m)(g):l?d(g):m(g)}function f(g){return n.attempt(Zee,d,m)(g)}function d(g){return e(g)}function m(g){return s._balanced=!0,t(g)}}function Vee(n,e,t){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),r}function r(m){return Ot(m)?jc(n,s)(m):s(m)}function s(m){return m===41?d(m):sL(n,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Ot(m)?jc(n,c)(m):d(m)}function u(m){return t(m)}function c(m){return m===34||m===39||m===40?aL(n,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function f(m){return Ot(m)?jc(n,d)(m):d(m)}function d(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function Yee(n,e,t){const i=this;return r;function r(u){return lL.call(i,n,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return i.parser.defined.includes(Yi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(u):t(u)}function l(u){return t(u)}}function Wee(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const Hee={name:"labelStartImage",resolveAll:Hv.resolveAll,tokenize:Gee};function Gee(n,e,t){const i=this;return r;function r(u){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(u),n.exit("labelImageMarker"),s}function s(u){return u===91?(n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelImage"),l):t(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(u):e(u)}}const Fee={name:"labelStartLink",resolveAll:Hv.resolveAll,tokenize:Kee};function Kee(n,e,t){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const X0={name:"lineEnding",tokenize:Jee};function Jee(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Ge(n,e,"linePrefix")}}const bp={name:"thematicBreak",tokenize:ete};function ete(n,e,t){let i=0,r;return s;function s(f){return n.enter("thematicBreak"),l(f)}function l(f){return r=f,u(f)}function u(f){return f===r?(n.enter("thematicBreakSequence"),c(f)):i>=3&&(f===null||_e(f))?(n.exit("thematicBreak"),e(f)):t(f)}function c(f){return f===r?(n.consume(f),i++,c):(n.exit("thematicBreakSequence"),je(f)?Ge(n,u,"whitespace")(f):u(f))}}const In={continuation:{tokenize:rte},exit:lte,name:"list",tokenize:ite},tte={partial:!0,tokenize:ate},nte={partial:!0,tokenize:ste};function ite(n,e,t){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return u;function u(y){const S=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:P1(y)){if(i.containerState.type||(i.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),y===42||y===45?n.check(bp,t,f)(y):f(y);if(!i.interrupt||y===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(y)}return t(y)}function c(y){return P1(y)&&++l<10?(n.consume(y),c):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(n.exit("listItemValue"),f(y)):t(y)}function f(y){return n.enter("listItemMarker"),n.consume(y),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,n.check(Jh,i.interrupt?t:d,n.attempt(tte,g,m))}function d(y){return i.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return je(y)?(n.enter("listItemPrefixWhitespace"),n.consume(y),n.exit("listItemPrefixWhitespace"),g):t(y)}function g(y){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(y)}}function rte(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(Jh,r,s);function r(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ge(n,e,"listItemIndent",i.containerState.size+1)(u)}function s(u){return i.containerState.furtherBlankLines||!je(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(nte,e,l)(u))}function l(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ge(n,n.attempt(In,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function ste(n,e,t){const i=this;return Ge(n,r,"listItemIndent",i.containerState.size+1);function r(s){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(s):t(s)}}function lte(n){n.exit(this.containerState.type)}function ate(n,e,t){const i=this;return Ge(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const l=i.events[i.events.length-1];return!je(s)&&l&&l[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const QA={name:"setextUnderline",resolveTo:ote,tokenize:ute};function ote(n,e){let t=n.length,i,r,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",l,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function ute(n,e,t){const i=this;let r;return s;function s(f){let d=i.events.length,m;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){m=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),r=f,l(f)):t(f)}function l(f){return n.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===r?(n.consume(f),u):(n.exit("setextHeadingLineSequence"),je(f)?Ge(n,c,"lineSuffix")(f):c(f))}function c(f){return f===null||_e(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const cte={tokenize:hte};function hte(n){const e=this,t=n.attempt(Jh,i,n.attempt(this.parser.constructs.flowInitial,r,Ge(n,n.attempt(this.parser.constructs.flow,r,n.attempt(gee,r)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const fte={resolveAll:uL()},dte=oL("string"),pte=oL("text");function oL(n){return{resolveAll:uL(n==="text"?mte:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],s=t.attempt(r,l,u);return l;function l(d){return f(d)?s(d):u(d)}function u(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),c}function c(d){return f(d)?(t.exit("data"),s(d)):(t.consume(d),c)}function f(d){if(d===null)return!0;const m=r[d];let g=-1;if(m)for(;++g<m.length;){const y=m[g];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function uL(n){return e;function e(t,i){let r=-1,s;for(;++r<=t.length;)s===void 0?t[r]&&t[r][1].type==="data"&&(s=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(t,i):t}}function mte(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let s=r.length,l=-1,u=0,c;for(;s--;){const f=r[s];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(u=0),u){const f={type:t===n.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:i.start._bufferIndex+l,_index:i.start._index+s,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}const gte={42:In,43:In,45:In,48:In,49:In,50:In,51:In,52:In,53:In,54:In,55:In,56:In,57:In,62:tL},Ote={91:vee},yte={[-2]:B0,[-1]:B0,32:B0},bte={35:Tee,42:bp,45:[QA,bp],60:Pee,61:QA,95:bp,96:TA,126:TA},Ste={38:iL,92:nL},vte={[-5]:X0,[-4]:X0,[-3]:X0,33:Hee,38:iL,42:R1,60:[FJ,Nee],91:Fee,92:[_ee,nL],93:Hv,95:R1,96:cee},xte={null:[R1,fte]},wte={null:[42,95]},kte={null:[]},_te=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wte,contentInitial:Ote,disable:kte,document:gte,flow:bte,flowInitial:yte,insideSpan:xte,string:Ste,text:vte},Symbol.toStringTag,{value:"Module"}));function Cte(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},s=[];let l=[],u=[];const c={attempt:B(D),check:B(R),consume:A,enter:T,exit:Z,interrupt:B(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:x,events:[],now:S,parser:n,previous:null,sliceSerialize:g,sliceStream:y,write:m};let d=e.tokenize.call(f,c);return e.resolveAll&&s.push(e),f;function m(ee){return l=ki(l,ee),w(),l[l.length-1]!==null?[]:(le(e,0),f.events=rg(s,f.events,f),f.events)}function g(ee,W){return Ete(y(ee),W)}function y(ee){return Tte(l,ee)}function S(){const{_bufferIndex:ee,_index:W,line:he,column:se,offset:te}=i;return{_bufferIndex:ee,_index:W,line:he,column:se,offset:te}}function x(ee){r[ee.line]=ee.column,I()}function w(){let ee;for(;i._index<l.length;){const W=l[i._index];if(typeof W=="string")for(ee=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===ee&&i._bufferIndex<W.length;)k(W.charCodeAt(i._bufferIndex));else k(W)}}function k(ee){d=d(ee)}function A(ee){_e(ee)?(i.line++,i.column=1,i.offset+=ee===-3?2:1,I()):ee!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=ee}function T(ee,W){const he=W||{};return he.type=ee,he.start=S(),f.events.push(["enter",he,f]),u.push(he),he}function Z(ee){const W=u.pop();return W.end=S(),f.events.push(["exit",W,f]),W}function D(ee,W){le(ee,W.from)}function R(ee,W){W.restore()}function B(ee,W){return he;function he(se,te,N){let ne,pe,F,E;return Array.isArray(se)?U(se):"tokenize"in se?U([se]):P(se);function P(Se){return Ie;function Ie(Ct){const at=Ct!==null&&Se[Ct],di=Ct!==null&&Se.null,kr=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(di)?di:di?[di]:[]];return U(kr)(Ct)}}function U(Se){return ne=Se,pe=0,Se.length===0?N:C(Se[pe])}function C(Se){return Ie;function Ie(Ct){return E=re(),F=Se,Se.partial||(f.currentConstruct=Se),Se.name&&f.parser.constructs.disable.null.includes(Se.name)?we():Se.tokenize.call(W?Object.assign(Object.create(f),W):f,c,ue,we)(Ct)}}function ue(Se){return ee(F,E),te}function we(Se){return E.restore(),++pe<ne.length?C(ne[pe]):N}}}function le(ee,W){ee.resolveAll&&!s.includes(ee)&&s.push(ee),ee.resolve&&ci(f.events,W,f.events.length-W,ee.resolve(f.events.slice(W),f)),ee.resolveTo&&(f.events=ee.resolveTo(f.events,f))}function re(){const ee=S(),W=f.previous,he=f.currentConstruct,se=f.events.length,te=Array.from(u);return{from:se,restore:N};function N(){i=ee,f.previous=W,f.currentConstruct=he,f.events.length=se,u=te,I()}}function I(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Tte(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let l;if(t===r)l=[n[t].slice(i,s)];else{if(l=n.slice(t,r),i>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(i):l.shift()}s>0&&l.push(n[r].slice(0,s))}return l}function Ete(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const s=n[t];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&r)continue;l=" ";break}default:l=String.fromCharCode(s)}r=s===-2,i.push(l)}return i.join("")}function Qte(n){const i={constructs:JI([_te,...(n||{}).extensions||[]]),content:r(jJ),defined:[],document:r(VJ),flow:r(cte),lazy:{},string:r(dte),text:r(pte)};return i;function r(s){return l;function l(u){return Cte(i,s,u)}}}function Ate(n){for(;!rL(n););return n}const AA=/[\0\t\n\r]/g;function Pte(){let n=1,e="",t=!0,i;return r;function r(s,l,u){const c=[];let f,d,m,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,e="",t&&(s.charCodeAt(0)===65279&&m++,t=void 0);m<s.length;){if(AA.lastIndex=m,f=AA.exec(s),g=f&&f.index!==void 0?f.index:s.length,y=s.charCodeAt(g),!f){e=s.slice(m);break}if(y===10&&m===g&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),m<g&&(c.push(s.slice(m,g)),n+=g-m),y){case 0:{c.push(65533),n++;break}case 9:{for(d=Math.ceil(n/4)*4,c.push(-2);n++<d;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:i=!0,n=1}m=g+1}return u&&(i&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Rte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Mte(n){return n.replace(Rte,$te)}function $te(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),s=r===120||r===88;return eL(t.slice(s?2:1),s?16:10)}return Wv(t)||n}const cL={}.hasOwnProperty;function Dte(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Ite(t)(Ate(Qte(t).document().write(Pte()(n,e,!0))))}function Ite(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ha),autolinkProtocol:re,autolinkEmail:re,atxHeading:s(ua),blockQuote:s(di),characterEscape:re,characterReference:re,codeFenced:s(kr),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(kr,l),codeText:s(uu,l),codeTextData:re,data:re,codeFlowValue:re,definition:s(tf),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(_r),hardBreakEscape:s(ca),hardBreakTrailing:s(ca),htmlFlow:s(nf,l),htmlFlowData:re,htmlText:s(nf,l),htmlTextData:re,image:s(rf),label:l,link:s(ha),listItem:s(cu),listItemValue:g,listOrdered:s(fa,m),listUnordered:s(fa),paragraph:s(og),reference:C,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(ua),strong:s(ug),thematicBreak:s(cg)},exit:{atxHeading:c(),atxHeadingSequence:D,autolink:c(),autolinkEmail:at,autolinkProtocol:Ct,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:Se,characterReference:Ie,codeFenced:c(w),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:I,codeIndented:c(k),codeText:c(te),codeTextData:I,data:I,definition:c(),definitionDestinationString:Z,definitionLabelString:A,definitionTitleString:T,emphasis:c(),hardBreakEscape:c(W),hardBreakTrailing:c(W),htmlFlow:c(he),htmlFlowData:I,htmlText:c(se),htmlTextData:I,image:c(ne),label:F,labelText:pe,lineEnding:ee,link:c(N),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ue,resourceDestinationString:E,resourceTitleString:P,resource:U,setextHeading:c(le),setextHeadingLineSequence:B,setextHeadingText:R,strong:c(),thematicBreak:c()}};hL(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(K){let fe={type:"root",children:[]};const Te={stack:[fe],tokenStack:[],config:e,enter:u,exit:f,buffer:l,resume:d,data:t},ze=[];let it=-1;for(;++it<K.length;)if(K[it][1].type==="listOrdered"||K[it][1].type==="listUnordered")if(K[it][0]==="enter")ze.push(it);else{const Wn=ze.pop();it=r(K,Wn,it)}for(it=-1;++it<K.length;){const Wn=e[K[it][0]];cL.call(Wn,K[it][1].type)&&Wn[K[it][1].type].call(Object.assign({sliceSerialize:K[it][2].sliceSerialize},Te),K[it][1])}if(Te.tokenStack.length>0){const Wn=Te.tokenStack[Te.tokenStack.length-1];(Wn[1]||PA).call(Te,void 0,Wn[0])}for(fe.position={start:Bs(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Bs(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<e.transforms.length;)fe=e.transforms[it](fe)||fe;return fe}function r(K,fe,Te){let ze=fe-1,it=-1,Wn=!1,Cr,xn,jt,En;for(;++ze<=Te;){const dt=K[ze];switch(dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dt[0]==="enter"?it++:it--,En=void 0;break}case"lineEndingBlank":{dt[0]==="enter"&&(Cr&&!En&&!it&&!jt&&(jt=ze),En=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:En=void 0}if(!it&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||it===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(Cr){let ds=ze;for(xn=void 0;ds--;){const $i=K[ds];if($i[1].type==="lineEnding"||$i[1].type==="lineEndingBlank"){if($i[0]==="exit")continue;xn&&(K[xn][1].type="lineEndingBlank",Wn=!0),$i[1].type="lineEnding",xn=ds}else if(!($i[1].type==="linePrefix"||$i[1].type==="blockQuotePrefix"||$i[1].type==="blockQuotePrefixWhitespace"||$i[1].type==="blockQuoteMarker"||$i[1].type==="listItemIndent"))break}jt&&(!xn||jt<xn)&&(Cr._spread=!0),Cr.end=Object.assign({},xn?K[xn][1].start:dt[1].end),K.splice(xn||ze,0,["exit",Cr,dt[2]]),ze++,Te++}if(dt[1].type==="listItemPrefix"){const ds={type:"listItem",_spread:!1,start:Object.assign({},dt[1].start),end:void 0};Cr=ds,K.splice(ze,0,["enter",ds,dt[2]]),ze++,Te++,jt=void 0,En=!0}}}return K[fe][1]._spread=Wn,Te}function s(K,fe){return Te;function Te(ze){u.call(this,K(ze),ze),fe&&fe.call(this,ze)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(K,fe,Te){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([fe,Te||void 0]),K.position={start:Bs(fe.start),end:void 0}}function c(K){return fe;function fe(Te){K&&K.call(this,Te),f.call(this,Te)}}function f(K,fe){const Te=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==K.type&&(fe?fe.call(this,K,ze[0]):(ze[1]||PA).call(this,K,ze[0]));else throw new Error("Cannot close `"+K.type+"` ("+Uc({start:K.start,end:K.end})+"): its not open");Te.position.end=Bs(K.end)}function d(){return Yv(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(K){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function y(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=K}function S(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=K}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.value=K.replace(/(\r?\n|\r)$/g,"")}function A(K){const fe=this.resume(),Te=this.stack[this.stack.length-1];Te.label=fe,Te.identifier=Yi(this.sliceSerialize(K)).toLowerCase()}function T(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.title=K}function Z(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.url=K}function D(K){const fe=this.stack[this.stack.length-1];if(!fe.depth){const Te=this.sliceSerialize(K).length;fe.depth=Te}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function B(K){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function le(){this.data.setextHeadingSlurpLineEnding=void 0}function re(K){const Te=this.stack[this.stack.length-1].children;let ze=Te[Te.length-1];(!ze||ze.type!=="text")&&(ze=vn(),ze.position={start:Bs(K.start),end:void 0},Te.push(ze)),this.stack.push(ze)}function I(K){const fe=this.stack.pop();fe.value+=this.sliceSerialize(K),fe.position.end=Bs(K.end)}function ee(K){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=fe.children[fe.children.length-1];Te.position.end=Bs(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(fe.type)&&(re.call(this,K),I.call(this,K))}function W(){this.data.atHardBreak=!0}function he(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.value=K}function se(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.value=K}function te(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.value=K}function N(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=fe,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ne(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=fe,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function pe(K){const fe=this.sliceSerialize(K),Te=this.stack[this.stack.length-2];Te.label=Mte(fe),Te.identifier=Yi(fe).toLowerCase()}function F(){const K=this.stack[this.stack.length-1],fe=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const ze=K.children;Te.children=ze}else Te.alt=fe}function E(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.url=K}function P(){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.title=K}function U(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function ue(K){const fe=this.resume(),Te=this.stack[this.stack.length-1];Te.label=fe,Te.identifier=Yi(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function we(K){this.data.characterReferenceType=K.type}function Se(K){const fe=this.sliceSerialize(K),Te=this.data.characterReferenceType;let ze;Te?(ze=eL(fe,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ze=Wv(fe);const it=this.stack[this.stack.length-1];it.value+=ze}function Ie(K){const fe=this.stack.pop();fe.position.end=Bs(K.end)}function Ct(K){I.call(this,K);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(K)}function at(K){I.call(this,K);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(K)}function di(){return{type:"blockquote",children:[]}}function kr(){return{type:"code",lang:null,meta:null,value:""}}function uu(){return{type:"inlineCode",value:""}}function tf(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _r(){return{type:"emphasis",children:[]}}function ua(){return{type:"heading",depth:0,children:[]}}function ca(){return{type:"break"}}function nf(){return{type:"html",value:""}}function rf(){return{type:"image",title:null,url:"",alt:null}}function ha(){return{type:"link",title:null,url:"",children:[]}}function fa(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function cu(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function og(){return{type:"paragraph",children:[]}}function ug(){return{type:"strong",children:[]}}function vn(){return{type:"text",value:""}}function cg(){return{type:"thematicBreak"}}}function Bs(n){return{line:n.line,column:n.column,offset:n.offset}}function hL(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?hL(n,i):Lte(n,i)}}function Lte(n,e){let t;for(t in e)if(cL.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function PA(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Uc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Uc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Uc({start:e.start,end:e.end})+") is still open")}function Nte(n){const e=this;e.parser=t;function t(i){return Dte(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function zte(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function Bte(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Xte(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function Zte(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Ute(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function jte(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=ou(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let l,u=n.footnoteCounts.get(i);u===void 0?(u=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=s+1,u+=1,n.footnoteCounts.set(i,u);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return n.patch(e,f),n.applyData(e,f)}function qte(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Vte(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function fL(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function Yte(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return fL(n,e);const r={src:ou(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,s),n.applyData(e,s)}function Wte(n,e){const t={src:ou(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function Hte(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function Gte(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return fL(n,e);const r={href:ou(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function Fte(n,e){const t={href:ou(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Kte(n,e,t){const i=n.all(e),r=t?Jte(t):dL(e),s={},l=[];if(typeof e.checked=="boolean"){const d=i[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const d=i[u];(r||u!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?l.push(...d.children):l.push(d)}const c=i[i.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:l};return n.patch(e,f),n.applyData(e,f)}function Jte(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=dL(t[i])}return e}function dL(n){const e=n.spread;return e??n.children.length>1}function ene(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function tne(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function nne(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function ine(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function rne(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),r.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},u=Uv(e.children[1]),c=VI(e.children[e.children.length-1]);u&&c&&(l.position={start:u,end:c}),r.push(l)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function sne(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,u=l?l.length:e.children.length;let c=-1;const f=[];for(;++c<u;){const m=e.children[c],g={},y=l?l[c]:void 0;y&&(g.align=y);let S={type:"element",tagName:s,properties:g,children:[]};m&&(S.children=n.all(m),n.patch(m,S),S=n.applyData(m,S)),f.push(S)}const d={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(e,d),n.applyData(e,d)}function lne(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const RA=9,MA=32;function ane(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const s=[];for(;i;)s.push($A(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return s.push($A(e.slice(r),r>0,!1)),s.join("")}function $A(n,e,t){let i=0,r=n.length;if(e){let s=n.codePointAt(i);for(;s===RA||s===MA;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(r-1);for(;s===RA||s===MA;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function one(n,e){const t={type:"text",value:ane(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function une(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const cne={blockquote:zte,break:Bte,code:Xte,delete:Zte,emphasis:Ute,footnoteReference:jte,heading:qte,html:Vte,imageReference:Yte,image:Wte,inlineCode:Hte,linkReference:Gte,link:Fte,listItem:Kte,list:ene,paragraph:tne,root:nne,strong:ine,table:rne,tableCell:lne,tableRow:sne,text:one,thematicBreak:une,toml:Gd,yaml:Gd,definition:Gd,footnoteDefinition:Gd};function Gd(){}const pL=-1,sg=0,qc=1,km=2,Gv=3,Fv=4,Kv=5,Jv=6,mL=7,gL=8,DA=typeof self=="object"?self:globalThis,hne=(n,e)=>{const t=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,l]=e[r];switch(s){case sg:case pL:return t(l,r);case qc:{const u=t([],r);for(const c of l)u.push(i(c));return u}case km:{const u=t({},r);for(const[c,f]of l)u[i(c)]=i(f);return u}case Gv:return t(new Date(l),r);case Fv:{const{source:u,flags:c}=l;return t(new RegExp(u,c),r)}case Kv:{const u=t(new Map,r);for(const[c,f]of l)u.set(i(c),i(f));return u}case Jv:{const u=t(new Set,r);for(const c of l)u.add(i(c));return u}case mL:{const{name:u,message:c}=l;return t(new DA[u](c),r)}case gL:return t(BigInt(l),r);case"BigInt":return t(Object(BigInt(l)),r);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return t(new DataView(u),l)}}return t(new DA[s](l),r)};return i},IA=n=>hne(new Map,n)(0),Ja="",{toString:fne}={},{keys:dne}=Object,Sc=n=>{const e=typeof n;if(e!=="object"||!n)return[sg,e];const t=fne.call(n).slice(8,-1);switch(t){case"Array":return[qc,Ja];case"Object":return[km,Ja];case"Date":return[Gv,Ja];case"RegExp":return[Fv,Ja];case"Map":return[Kv,Ja];case"Set":return[Jv,Ja];case"DataView":return[qc,t]}return t.includes("Array")?[qc,t]:t.includes("Error")?[mL,t]:[km,t]},Fd=([n,e])=>n===sg&&(e==="function"||e==="symbol"),pne=(n,e,t,i)=>{const r=(l,u)=>{const c=i.push(l)-1;return t.set(u,c),c},s=l=>{if(t.has(l))return t.get(l);let[u,c]=Sc(l);switch(u){case sg:{let d=l;switch(c){case"bigint":u=gL,d=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return r([pL],l)}return r([u,d],l)}case qc:{if(c){let g=l;return c==="DataView"?g=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(l)),r([c,[...g]],l)}const d=[],m=r([u,d],l);for(const g of l)d.push(s(g));return m}case km:{if(c)switch(c){case"BigInt":return r([c,l.toString()],l);case"Boolean":case"Number":case"String":return r([c,l.valueOf()],l)}if(e&&"toJSON"in l)return s(l.toJSON());const d=[],m=r([u,d],l);for(const g of dne(l))(n||!Fd(Sc(l[g])))&&d.push([s(g),s(l[g])]);return m}case Gv:return r([u,l.toISOString()],l);case Fv:{const{source:d,flags:m}=l;return r([u,{source:d,flags:m}],l)}case Kv:{const d=[],m=r([u,d],l);for(const[g,y]of l)(n||!(Fd(Sc(g))||Fd(Sc(y))))&&d.push([s(g),s(y)]);return m}case Jv:{const d=[],m=r([u,d],l);for(const g of l)(n||!Fd(Sc(g)))&&d.push(s(g));return m}}const{message:f}=l;return r([u,{name:c,message:f}],l)};return s},LA=(n,{json:e,lossy:t}={})=>{const i=[];return pne(!(e||t),!!e,new Map,i)(n),i},_m=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?IA(LA(n,e)):structuredClone(n):(n,e)=>IA(LA(n,e));function mne(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function gne(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function One(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||mne,i=n.options.footnoteBackLabel||gne,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[c]);if(!f)continue;const d=n.all(f),m=String(f.identifier).toUpperCase(),g=ou(m.toLowerCase());let y=0;const S=[],x=n.footnoteCounts.get(m);for(;x!==void 0&&++y<=x;){S.length>0&&S.push({type:"text",value:" "});let A=typeof t=="string"?t:t(c,y);typeof A=="string"&&(A={type:"text",value:A}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,y),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const A=w.children[w.children.length-1];A&&A.type==="text"?A.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...S)}else d.push(...S);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:n.wrap(d,!0)};n.patch(f,k),u.push(k)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{..._m(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(u,!0)},{type:"text",value:`
`}]}}const lg=(function(n){if(n==null)return vne;if(typeof n=="function")return ag(n);if(typeof n=="object")return Array.isArray(n)?yne(n):bne(n);if(typeof n=="string")return Sne(n);throw new Error("Expected function, string, or object as test")});function yne(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=lg(n[t]);return ag(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function bne(n){const e=n;return ag(t);function t(i){const r=i;let s;for(s in n)if(r[s]!==e[s])return!1;return!0}}function Sne(n){return ag(e);function e(t){return t&&t.type===n}}function ag(n){return e;function e(t,i,r){return!!(xne(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function vne(){return!0}function xne(n){return n!==null&&typeof n=="object"&&"type"in n}const OL=[],wne=!0,M1=!1,kne="skip";function yL(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const s=lg(r),l=i?-1:1;u(n,void 0,[])();function u(c,f,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=OL,S,x,w;if((!e||s(c,f,d[d.length-1]||void 0))&&(y=_ne(t(c,d)),y[0]===M1))return y;if("children"in c&&c.children){const k=c;if(k.children&&y[0]!==kne)for(x=(i?k.children.length:-1)+l,w=d.concat(k);x>-1&&x<k.children.length;){const A=k.children[x];if(S=u(A,x,w)(),S[0]===M1)return S;x=typeof S[1]=="number"?S[1]:x+l}}return y}}}function _ne(n){return Array.isArray(n)?n:typeof n=="number"?[wne,n]:n==null?OL:[n]}function ex(n,e,t,i){let r,s,l;typeof e=="function"&&typeof t!="function"?(s=void 0,l=e,r=t):(s=e,l=t,r=i),yL(n,s,u,r);function u(c,f){const d=f[f.length-1],m=d?d.children.indexOf(c):void 0;return l(c,m,d)}}const $1={}.hasOwnProperty,Cne={};function Tne(n,e){const t=e||Cne,i=new Map,r=new Map,s=new Map,l={...cne,...t.handlers},u={all:f,applyData:Qne,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:l,one:c,options:t,patch:Ene,wrap:Pne};return ex(n,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?i:r,g=String(d.identifier).toUpperCase();m.has(g)||m.set(g,d)}}),u;function c(d,m){const g=d.type,y=u.handlers[g];if($1.call(u.handlers,g)&&y)return y(u,d,m);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in d){const{children:x,...w}=d,k=_m(w);return k.children=u.all(d),k}return _m(d)}return(u.options.unknownHandler||Ane)(u,d,m)}function f(d){const m=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const S=u.one(g[y],d);if(S){if(y&&g[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=NA(S.value)),!Array.isArray(S)&&S.type==="element")){const x=S.children[0];x&&x.type==="text"&&(x.value=NA(x.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function Ene(n,e){n.position&&(e.position=gJ(n))}function Qne(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&s&&Object.assign(t.properties,_m(s)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function Ane(n,e){const t=e.data||{},i="value"in e&&!($1.call(t,"hProperties")||$1.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Pne(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function NA(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function zA(n,e){const t=Tne(n,e),i=t.one(n,void 0),r=One(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Rne(n,e){return n&&"run"in n?async function(t,i){const r=zA(t,{file:i,...e});await n.run(r,i)}:function(t,i){return zA(t,{file:i,...n||e})}}function BA(n){if(n)throw n}var Z0,XA;function Mne(){if(XA)return Z0;XA=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},s=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var d=n.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!m)return!1;var g;for(g in f);return typeof g>"u"||n.call(f,g)},l=function(f,d){t&&d.name==="__proto__"?t(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},u=function(f,d){if(d==="__proto__")if(n.call(f,d)){if(i)return i(f,d).value}else return;return f[d]};return Z0=function c(){var f,d,m,g,y,S,x=arguments[0],w=1,k=arguments.length,A=!1;for(typeof x=="boolean"&&(A=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<k;++w)if(f=arguments[w],f!=null)for(d in f)m=u(x,d),g=u(f,d),x!==g&&(A&&g&&(s(g)||(y=r(g)))?(y?(y=!1,S=m&&r(m)?m:[]):S=m&&s(m)?m:{},l(x,{name:d,newValue:c(A,S,g)})):typeof g<"u"&&l(x,{name:d,newValue:g}));return x},Z0}var $ne=Mne();const U0=N1($ne);function D1(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Dne(){const n=[],e={run:t,use:i};return e;function t(...r){let s=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...r);function u(c,...f){const d=n[++s];let m=-1;if(c){l(c);return}for(;++m<r.length;)(f[m]===null||f[m]===void 0)&&(f[m]=r[m]);r=f,d?Ine(d,u)(...f):l(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Ine(n,e){let t;return i;function i(...l){const u=n.length>l.length;let c;u&&l.push(r);try{c=n.apply(this,l)}catch(f){const d=f;if(u&&t)throw d;return r(d)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,r):c instanceof Error?r(c):s(c))}function r(l,...u){t||(t=!0,e(l,...u))}function s(l){r(null,l)}}const or={basename:Lne,dirname:Nne,extname:zne,join:Bne,sep:"/"};function Lne(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ef(n);let t=0,i=-1,r=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,u=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else l<0&&(s=!0,l=r+1),u>-1&&(n.codePointAt(r)===e.codePointAt(u--)?u<0&&(i=r):(u=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function Nne(n){if(ef(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function zne(n){ef(n);let e=n.length,t=-1,i=0,r=-1,s=0,l;for(;e--;){const u=n.codePointAt(e);if(u===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),u===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||t<0||s===0||s===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Bne(...n){let e=-1,t;for(;++e<n.length;)ef(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Xne(t)}function Xne(n){ef(n);const e=n.codePointAt(0)===47;let t=Zne(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Zne(n,e){let t="",i=0,r=-1,s=0,l=-1,u,c;for(;++l<=n.length;){if(l<n.length)u=n.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(r===l-1||s===1))if(r!==l-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",i=0):(t=t.slice(0,c),i=t.length-1-t.lastIndexOf("/")),r=l,s=0;continue}}else if(t.length>0){t="",i=0,r=l,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,l):t=n.slice(r+1,l),i=l-r-1;r=l,s=0}else u===46&&s>-1?s++:s=-1}return t}function ef(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Une={cwd:jne};function jne(){return"/"}function I1(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function qne(n){if(typeof n=="string")n=new URL(n);else if(!I1(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Vne(n)}function Vne(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const j0=["history","path","basename","stem","extname","dirname"];class bL{constructor(e){let t;e?I1(e)?t={path:e}:typeof e=="string"||Yne(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Une.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<j0.length;){const s=j0[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let r;for(r in t)j0.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?or.basename(this.path):void 0}set basename(e){V0(e,"basename"),q0(e,"basename"),this.path=or.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?or.dirname(this.path):void 0}set dirname(e){ZA(this.basename,"dirname"),this.path=or.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?or.extname(this.path):void 0}set extname(e){if(q0(e,"extname"),ZA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=or.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){I1(e)&&(e=qne(e)),V0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?or.basename(this.path,this.extname):void 0}set stem(e){V0(e,"stem"),q0(e,"stem"),this.path=or.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Sn(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function q0(n,e){if(n&&n.includes(or.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+or.sep+"`")}function V0(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function ZA(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Yne(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Wne=(function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),Hne={}.hasOwnProperty;class tx extends Wne{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Dne()}copy(){const e=new tx;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(U0(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(H0("data",this.frozen),this.namespace[e]=t,this):Hne.call(this.namespace,e)&&this.namespace[e]||void 0:e?(H0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Kd(e),i=this.parser||this.Parser;return Y0("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Y0("process",this.parser||this.Parser),W0("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(s,l){const u=Kd(e),c=i.parse(u);i.run(c,u,function(d,m,g){if(d||!m||!g)return f(d);const y=m,S=i.stringify(y,g);Kne(S)?g.value=S:g.result=S,f(d,g)});function f(d,m){d||!m?l(d):s?s(m):t(void 0,m)}}}processSync(e){let t=!1,i;return this.freeze(),Y0("processSync",this.parser||this.Parser),W0("processSync",this.compiler||this.Compiler),this.process(e,r),jA("processSync","process",t),i;function r(s,l){t=!0,BA(s),i=l}}run(e,t,i){UA(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(l,u){const c=Kd(t);r.run(e,c,f);function f(d,m,g){const y=m||e;d?u(d):l?l(y):i(void 0,y,g)}}}runSync(e,t){let i=!1,r;return this.run(e,t,s),jA("runSync","run",i),r;function s(l,u){BA(l),r=u,i=!0}}stringify(e,t){this.freeze();const i=Kd(t),r=this.compiler||this.Compiler;return W0("stringify",r),UA(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(H0("use",this.frozen),e!=null)if(typeof e=="function")c(e,t);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...m]=f;c(d,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(r.settings=U0(!0,r.settings,f.settings))}function u(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const m=f[d];s(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,d){let m=-1,g=-1;for(;++m<i.length;)if(i[m][0]===f){g=m;break}if(g===-1)i.push([f,...d]);else if(d.length>0){let[y,...S]=d;const x=i[g][1];D1(x)&&D1(y)&&(y=U0(!0,x,y)),i[g]=[f,y,...S]}}}}const Gne=new tx().freeze();function Y0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function W0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function H0(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UA(n){if(!D1(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function jA(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Kd(n){return Fne(n)?n:new bL(n)}function Fne(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Kne(n){return typeof n=="string"||Jne(n)}function Jne(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const eie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",qA=[],VA={allowDangerousHtml:!0},tie=/^(https?|ircs?|mailto|xmpp)$/i,nie=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function iie(n){const e=rie(n),t=sie(n);return lie(e.runSync(e.parse(t),t),n)}function rie(n){const e=n.rehypePlugins||qA,t=n.remarkPlugins||qA,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...VA}:VA;return Gne().use(Nte).use(t).use(Rne,i).use(e)}function sie(n){const e=n.children||"",t=new bL;return typeof e=="string"&&(t.value=e),t}function lie(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,l=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||aie;for(const d of nie)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+eie+d.id,void 0);return e.className&&(n={type:"element",tagName:"div",properties:{className:e.className},children:n.type==="root"?n.children:[n]}),ex(n,f),vJ(n,{Fragment:z.Fragment,components:r,ignoreInvalidStyle:!0,jsx:z.jsx,jsxs:z.jsxs,passKeys:!0,passNode:!0});function f(d,m,g){if(d.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let y;for(y in z0)if(Object.hasOwn(z0,y)&&Object.hasOwn(d.properties,y)){const S=d.properties[y],x=z0[y];(x===null||x.includes(d.tagName))&&(d.properties[y]=c(String(S||""),y,d))}}if(d.type==="element"){let y=t?!t.includes(d.tagName):s?s.includes(d.tagName):!1;if(!y&&i&&typeof m=="number"&&(y=!i(d,m,g)),y&&g&&typeof m=="number")return u&&d.children?g.children.splice(m,1,...d.children):g.children.splice(m,1),m}}}function aie(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||tie.test(n.slice(0,e))?n:""}function YA(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function oie(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uie(n,e,t){const r=lg((t||{}).ignore||[]),s=cie(e);let l=-1;for(;++l<s.length;)yL(n,"text",u);function u(f,d){let m=-1,g;for(;++m<d.length;){const y=d[m],S=g?g.children:void 0;if(r(y,S?S.indexOf(y):void 0,g))return;g=y}if(g)return c(f,d)}function c(f,d){const m=d[d.length-1],g=s[l][0],y=s[l][1];let S=0;const w=m.children.indexOf(f);let k=!1,A=[];g.lastIndex=0;let T=g.exec(f.value);for(;T;){const Z=T.index,D={index:T.index,input:T.input,stack:[...d,f]};let R=y(...T,D);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?g.lastIndex=Z+1:(S!==Z&&A.push({type:"text",value:f.value.slice(S,Z)}),Array.isArray(R)?A.push(...R):R&&A.push(R),S=Z+T[0].length,k=!0),!g.global)break;T=g.exec(f.value)}return k?(S<f.value.length&&A.push({type:"text",value:f.value.slice(S)}),m.children.splice(w,1,...A)):A=[f],w+A.length}}function cie(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<t.length;){const r=t[i];e.push([hie(r[0]),fie(r[1])])}return e}function hie(n){return typeof n=="string"?new RegExp(oie(n),"g"):n}function fie(n){return typeof n=="function"?n:function(){return n}}const G0="phrasing",F0=["autolink","link","image","label"];function die(){return{transforms:[Sie],enter:{literalAutolink:mie,literalAutolinkEmail:K0,literalAutolinkHttp:K0,literalAutolinkWww:K0},exit:{literalAutolink:bie,literalAutolinkEmail:yie,literalAutolinkHttp:gie,literalAutolinkWww:Oie}}}function pie(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:G0,notInConstruct:F0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:G0,notInConstruct:F0},{character:":",before:"[ps]",after:"\\/",inConstruct:G0,notInConstruct:F0}]}}function mie(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function K0(n){this.config.enter.autolinkProtocol.call(this,n)}function gie(n){this.config.exit.autolinkProtocol.call(this,n)}function Oie(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function yie(n){this.config.exit.autolinkEmail.call(this,n)}function bie(n){this.exit(n)}function Sie(n){uie(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,vie],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),xie]],{ignore:["link","linkReference"]})}function vie(n,e,t,i,r){let s="";if(!SL(r)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!wie(t)))return!1;const l=kie(t+i);if(!l[0])return!1;const u={type:"link",title:null,url:s+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function xie(n,e,t,i){return!SL(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function wie(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function kie(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=YA(n,"(");let s=YA(n,")");for(;i!==-1&&r>s;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),s++;return[n,t]}function SL(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||la(t)||ig(t))&&(!e||t!==47)}vL.peek=Mie;function _ie(){this.buffer()}function Cie(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function Tie(){this.buffer()}function Eie(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function Qie(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Yi(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Aie(n){this.exit(n)}function Pie(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Yi(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Rie(n){this.exit(n)}function Mie(){return"["}function vL(n,e,t,i){const r=t.createTracker(i);let s=r.move("[^");const l=t.enter("footnoteReference"),u=t.enter("reference");return s+=r.move(t.safe(t.associationId(n),{after:"]",before:s})),u(),l(),s+=r.move("]"),s}function $ie(){return{enter:{gfmFootnoteCallString:_ie,gfmFootnoteCall:Cie,gfmFootnoteDefinitionLabelString:Tie,gfmFootnoteDefinition:Eie},exit:{gfmFootnoteCallString:Qie,gfmFootnoteCall:Aie,gfmFootnoteDefinitionLabelString:Pie,gfmFootnoteDefinition:Rie}}}function Die(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:vL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(i,r,s,l){const u=s.createTracker(l);let c=u.move("[^");const f=s.enter("footnoteDefinition"),d=s.enter("label");return c+=u.move(s.safe(s.associationId(i),{before:c,after:"]"})),d(),c+=u.move("]:"),i.children&&i.children.length>0&&(u.shift(4),c+=u.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,u.current()),e?xL:Iie))),f(),c}}function Iie(n,e,t){return e===0?n:xL(n,e,t)}function xL(n,e,t){return(t?"":"    ")+n}const Lie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wL.peek=Zie;function Nie(){return{canContainEols:["delete"],enter:{strikethrough:Bie},exit:{strikethrough:Xie}}}function zie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Lie}],handlers:{delete:wL}}}function Bie(n){this.enter({type:"delete",children:[]},n)}function Xie(n){this.exit(n)}function wL(n,e,t,i){const r=t.createTracker(i),s=t.enter("strikethrough");let l=r.move("~~");return l+=t.containerPhrasing(n,{...r.current(),before:l,after:"~"}),l+=r.move("~~"),s(),l}function Zie(){return"~"}function Uie(n){return n.length}function jie(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||Uie,s=[],l=[],u=[],c=[];let f=0,d=-1;for(;++d<n.length;){const x=[],w=[];let k=-1;for(n[d].length>f&&(f=n[d].length);++k<n[d].length;){const A=qie(n[d][k]);if(t.alignDelimiters!==!1){const T=r(A);w[k]=T,(c[k]===void 0||T>c[k])&&(c[k]=T)}x.push(A)}l[d]=x,u[d]=w}let m=-1;if(typeof i=="object"&&"length"in i)for(;++m<f;)s[m]=WA(i[m]);else{const x=WA(i);for(;++m<f;)s[m]=x}m=-1;const g=[],y=[];for(;++m<f;){const x=s[m];let w="",k="";x===99?(w=":",k=":"):x===108?w=":":x===114&&(k=":");let A=t.alignDelimiters===!1?1:Math.max(1,c[m]-w.length-k.length);const T=w+"-".repeat(A)+k;t.alignDelimiters!==!1&&(A=w.length+A+k.length,A>c[m]&&(c[m]=A),y[m]=A),g[m]=T}l.splice(1,0,g),u.splice(1,0,y),d=-1;const S=[];for(;++d<l.length;){const x=l[d],w=u[d];m=-1;const k=[];for(;++m<f;){const A=x[m]||"";let T="",Z="";if(t.alignDelimiters!==!1){const D=c[m]-(w[m]||0),R=s[m];R===114?T=" ".repeat(D):R===99?D%2?(T=" ".repeat(D/2+.5),Z=" ".repeat(D/2-.5)):(T=" ".repeat(D/2),Z=T):Z=" ".repeat(D)}t.delimiterStart!==!1&&!m&&k.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&A==="")&&(t.delimiterStart!==!1||m)&&k.push(" "),t.alignDelimiters!==!1&&k.push(T),k.push(A),t.alignDelimiters!==!1&&k.push(Z),t.padding!==!1&&k.push(" "),(t.delimiterEnd!==!1||m!==f-1)&&k.push("|")}S.push(t.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return S.join(`
`)}function qie(n){return n==null?"":String(n)}function WA(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Vie(n,e,t,i){const r=t.enter("blockquote"),s=t.createTracker(i);s.move("> "),s.shift(2);const l=t.indentLines(t.containerFlow(n,s.current()),Yie);return r(),l}function Yie(n,e,t){return">"+(t?"":" ")+n}function Wie(n,e){return HA(n,e.inConstruct,!0)&&!HA(n,e.notInConstruct,!1)}function HA(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function GA(n,e,t,i){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&Wie(t.stack,t.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Hie(n,e){const t=String(n);let i=t.indexOf(e),r=i,s=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>l&&(l=s):s=1,r=i+e.length,i=t.indexOf(e,r);return l}function Gie(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function Fie(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Kie(n,e,t,i){const r=Fie(t),s=n.value||"",l=r==="`"?"GraveAccent":"Tilde";if(Gie(n,t)){const m=t.enter("codeIndented"),g=t.indentLines(s,Jie);return m(),g}const u=t.createTracker(i),c=r.repeat(Math.max(Hie(s,r)+1,3)),f=t.enter("codeFenced");let d=u.move(c);if(n.lang){const m=t.enter(`codeFencedLang${l}`);d+=u.move(t.safe(n.lang,{before:d,after:" ",encode:["`"],...u.current()})),m()}if(n.lang&&n.meta){const m=t.enter(`codeFencedMeta${l}`);d+=u.move(" "),d+=u.move(t.safe(n.meta,{before:d,after:`
`,encode:["`"],...u.current()})),m()}return d+=u.move(`
`),s&&(d+=u.move(s+`
`)),d+=u.move(c),f(),d}function Jie(n,e,t){return(t?"":"    ")+n}function nx(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function ere(n,e,t,i){const r=nx(t),s=r==='"'?"Quote":"Apostrophe",l=t.enter("definition");let u=t.enter("label");const c=t.createTracker(i);let f=c.move("[");return f+=c.move(t.safe(t.associationId(n),{before:f,after:"]",...c.current()})),f+=c.move("]: "),u(),!n.url||/[\0- \u007F]/.test(n.url)?(u=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(n.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=t.enter("destinationRaw"),f+=c.move(t.safe(n.url,{before:f,after:n.title?" ":`
`,...c.current()}))),u(),n.title&&(u=t.enter(`title${s}`),f+=c.move(" "+r),f+=c.move(t.safe(n.title,{before:f,after:r,...c.current()})),f+=c.move(r),u()),l(),f}function tre(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Th(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Cm(n,e,t){const i=Uo(n),r=Uo(e);return i===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}kL.peek=nre;function kL(n,e,t,i){const r=tre(t),s=t.enter("emphasis"),l=t.createTracker(i),u=l.move(r);let c=l.move(t.containerPhrasing(n,{after:r,before:u,...l.current()}));const f=c.charCodeAt(0),d=Cm(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(c=Th(f)+c.slice(1));const m=c.charCodeAt(c.length-1),g=Cm(i.after.charCodeAt(0),m,r);g.inside&&(c=c.slice(0,-1)+Th(m));const y=l.move(r);return s(),t.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},u+c+y}function nre(n,e,t){return t.options.emphasis||"*"}function ire(n,e){let t=!1;return ex(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return t=!0,M1}),!!((!n.depth||n.depth<3)&&Yv(n)&&(e.options.setext||t))}function rre(n,e,t,i){const r=Math.max(Math.min(6,n.depth||1),1),s=t.createTracker(i);if(ire(n,t)){const d=t.enter("headingSetext"),m=t.enter("phrasing"),g=t.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return m(),d(),g+`
`+(r===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(r),u=t.enter("headingAtx"),c=t.enter("phrasing");s.move(l+" ");let f=t.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(f)&&(f=Th(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,t.options.closeAtx&&(f+=" "+l),c(),u(),f}_L.peek=sre;function _L(n){return n.value||""}function sre(){return"<"}CL.peek=lre;function CL(n,e,t,i){const r=nx(t),s=r==='"'?"Quote":"Apostrophe",l=t.enter("image");let u=t.enter("label");const c=t.createTracker(i);let f=c.move("![");return f+=c.move(t.safe(n.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),u(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(u=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(n.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(u=t.enter("destinationRaw"),f+=c.move(t.safe(n.url,{before:f,after:n.title?" ":")",...c.current()}))),u(),n.title&&(u=t.enter(`title${s}`),f+=c.move(" "+r),f+=c.move(t.safe(n.title,{before:f,after:r,...c.current()})),f+=c.move(r),u()),f+=c.move(")"),l(),f}function lre(){return"!"}TL.peek=are;function TL(n,e,t,i){const r=n.referenceType,s=t.enter("imageReference");let l=t.enter("label");const u=t.createTracker(i);let c=u.move("![");const f=t.safe(n.alt,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const d=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(n),{before:c,after:"]",...u.current()});return l(),t.stack=d,s(),r==="full"||!f||f!==m?c+=u.move(m+"]"):r==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function are(){return"!"}EL.peek=ore;function EL(n,e,t){let i=n.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<t.unsafe.length;){const l=t.unsafe[s],u=t.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(i);){let f=c.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(c.index+1)}}return r+i+r}function ore(){return"`"}function QL(n,e){const t=Yv(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}AL.peek=ure;function AL(n,e,t,i){const r=nx(t),s=r==='"'?"Quote":"Apostrophe",l=t.createTracker(i);let u,c;if(QL(n,t)){const d=t.stack;t.stack=[],u=t.enter("autolink");let m=l.move("<");return m+=l.move(t.containerPhrasing(n,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),t.stack=d,m}u=t.enter("link"),c=t.enter("label");let f=l.move("[");return f+=l.move(t.containerPhrasing(n,{before:f,after:"](",...l.current()})),f+=l.move("]("),c(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(c=t.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(t.safe(n.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(c=t.enter("destinationRaw"),f+=l.move(t.safe(n.url,{before:f,after:n.title?" ":")",...l.current()}))),c(),n.title&&(c=t.enter(`title${s}`),f+=l.move(" "+r),f+=l.move(t.safe(n.title,{before:f,after:r,...l.current()})),f+=l.move(r),c()),f+=l.move(")"),u(),f}function ure(n,e,t){return QL(n,t)?"<":"["}PL.peek=cre;function PL(n,e,t,i){const r=n.referenceType,s=t.enter("linkReference");let l=t.enter("label");const u=t.createTracker(i);let c=u.move("[");const f=t.containerPhrasing(n,{before:c,after:"]",...u.current()});c+=u.move(f+"]["),l();const d=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(n),{before:c,after:"]",...u.current()});return l(),t.stack=d,s(),r==="full"||!f||f!==m?c+=u.move(m+"]"):r==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function cre(){return"["}function ix(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function hre(n){const e=ix(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function fre(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function RL(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function dre(n,e,t,i){const r=t.enter("list"),s=t.bulletCurrent;let l=n.ordered?fre(t):ix(t);const u=n.ordered?l==="."?")":".":hre(t);let c=e&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!n.ordered){const d=n.children?n.children[0]:void 0;if((l==="*"||l==="-")&&d&&(!d.children||!d.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(c=!0),RL(t)===l&&d){let m=-1;for(;++m<n.children.length;){const g=n.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),t.bulletCurrent=l;const f=t.containerFlow(n,i);return t.bulletLastUsed=l,t.bulletCurrent=s,r(),f}function pre(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function mre(n,e,t,i){const r=pre(t);let s=t.bulletCurrent||ix(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+s);let l=s.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(l=Math.ceil(l/4)*4);const u=t.createTracker(i);u.move(s+" ".repeat(l-s.length)),u.shift(l);const c=t.enter("listItem"),f=t.indentLines(t.containerFlow(n,u.current()),d);return c(),f;function d(m,g,y){return g?(y?"":" ".repeat(l))+m:(y?s:s+" ".repeat(l-s.length))+m}}function gre(n,e,t,i){const r=t.enter("paragraph"),s=t.enter("phrasing"),l=t.containerPhrasing(n,i);return s(),r(),l}const Ore=lg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function yre(n,e,t,i){return(n.children.some(function(l){return Ore(l)})?t.containerPhrasing:t.containerFlow).call(t,n,i)}function bre(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}ML.peek=Sre;function ML(n,e,t,i){const r=bre(t),s=t.enter("strong"),l=t.createTracker(i),u=l.move(r+r);let c=l.move(t.containerPhrasing(n,{after:r,before:u,...l.current()}));const f=c.charCodeAt(0),d=Cm(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(c=Th(f)+c.slice(1));const m=c.charCodeAt(c.length-1),g=Cm(i.after.charCodeAt(0),m,r);g.inside&&(c=c.slice(0,-1)+Th(m));const y=l.move(r+r);return s(),t.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},u+c+y}function Sre(n,e,t){return t.options.strong||"*"}function vre(n,e,t,i){return t.safe(n.value,i)}function xre(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function wre(n,e,t){const i=(RL(t)+(t.options.ruleSpaces?" ":"")).repeat(xre(t));return t.options.ruleSpaces?i.slice(0,-1):i}const $L={blockquote:Vie,break:GA,code:Kie,definition:ere,emphasis:kL,hardBreak:GA,heading:rre,html:_L,image:CL,imageReference:TL,inlineCode:EL,link:AL,linkReference:PL,list:dre,listItem:mre,paragraph:gre,root:yre,strong:ML,text:vre,thematicBreak:wre};function kre(){return{enter:{table:_re,tableData:FA,tableHeader:FA,tableRow:Tre},exit:{codeText:Ere,table:Cre,tableData:J0,tableHeader:J0,tableRow:J0}}}function _re(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function Cre(n){this.exit(n),this.data.inTable=void 0}function Tre(n){this.enter({type:"tableRow",children:[]},n)}function J0(n){this.exit(n)}function FA(n){this.enter({type:"tableCell",children:[]},n)}function Ere(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Qre));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function Qre(n,e){return e==="|"?e:n}function Are(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:c,tableRow:u}};function l(y,S,x,w){return f(d(y,x,w),y.align)}function u(y,S,x,w){const k=m(y,x,w),A=f([k]);return A.slice(0,A.indexOf(`
`))}function c(y,S,x,w){const k=x.enter("tableCell"),A=x.enter("phrasing"),T=x.containerPhrasing(y,{...w,before:s,after:s});return A(),k(),T}function f(y,S){return jie(y,{align:S,alignDelimiters:i,padding:t,stringLength:r})}function d(y,S,x){const w=y.children;let k=-1;const A=[],T=S.enter("table");for(;++k<w.length;)A[k]=m(w[k],S,x);return T(),A}function m(y,S,x){const w=y.children;let k=-1;const A=[],T=S.enter("tableRow");for(;++k<w.length;)A[k]=c(w[k],y,S,x);return T(),A}function g(y,S,x){let w=$L.inlineCode(y,S,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Pre(){return{exit:{taskListCheckValueChecked:KA,taskListCheckValueUnchecked:KA,paragraph:Mre}}}function Rre(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$re}}}function KA(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function Mre(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const i=t.children[0];if(i&&i.type==="text"){const r=e.children;let s=-1,l;for(;++s<r.length;){const u=r[s];if(u.type==="paragraph"){l=u;break}}l===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function $re(n,e,t,i){const r=n.children[0],s=typeof n.checked=="boolean"&&r&&r.type==="paragraph",l="["+(n.checked?"x":" ")+"] ",u=t.createTracker(i);s&&u.move(l);let c=$L.listItem(n,e,t,{...i,...u.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(d){return d+l}}function Dre(){return[die(),$ie(),Nie(),kre(),Pre()]}function Ire(n){return{extensions:[pie(),Die(n),zie(),Are(n),Rre()]}}const Lre={tokenize:Ure,partial:!0},DL={tokenize:jre,partial:!0},IL={tokenize:qre,partial:!0},LL={tokenize:Vre,partial:!0},Nre={tokenize:Yre,partial:!0},NL={name:"wwwAutolink",tokenize:Xre,previous:BL},zL={name:"protocolAutolink",tokenize:Zre,previous:XL},fs={name:"emailAutolink",tokenize:Bre,previous:ZL},wr={};function zre(){return{text:wr}}let Ml=48;for(;Ml<123;)wr[Ml]=fs,Ml++,Ml===58?Ml=65:Ml===91&&(Ml=97);wr[43]=fs;wr[45]=fs;wr[46]=fs;wr[95]=fs;wr[72]=[fs,zL];wr[104]=[fs,zL];wr[87]=[fs,NL];wr[119]=[fs,NL];function Bre(n,e,t){const i=this;let r,s;return l;function l(m){return!L1(m)||!ZL.call(i,i.previous)||rx(i.events)?t(m):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),u(m))}function u(m){return L1(m)?(n.consume(m),u):m===64?(n.consume(m),c):t(m)}function c(m){return m===46?n.check(Nre,d,f)(m):m===45||m===95||On(m)?(s=!0,n.consume(m),c):d(m)}function f(m){return n.consume(m),r=!0,c}function d(m){return s&&r&&_n(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(m)):t(m)}}function Xre(n,e,t){const i=this;return r;function r(l){return l!==87&&l!==119||!BL.call(i,i.previous)||rx(i.events)?t(l):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(Lre,n.attempt(DL,n.attempt(IL,s),t),t)(l))}function s(l){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(l)}}function Zre(n,e,t){const i=this;let r="",s=!1;return l;function l(m){return(m===72||m===104)&&XL.call(i,i.previous)&&!rx(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(m),n.consume(m),u):t(m)}function u(m){if(_n(m)&&r.length<5)return r+=String.fromCodePoint(m),n.consume(m),u;if(m===58){const g=r.toLowerCase();if(g==="http"||g==="https")return n.consume(m),c}return t(m)}function c(m){return m===47?(n.consume(m),s?f:(s=!0,c)):t(m)}function f(m){return m===null||wm(m)||Ot(m)||la(m)||ig(m)?t(m):n.attempt(DL,n.attempt(IL,d),t)(m)}function d(m){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(m)}}function Ure(n,e,t){let i=0;return r;function r(l){return(l===87||l===119)&&i<3?(i++,n.consume(l),r):l===46&&i===3?(n.consume(l),s):t(l)}function s(l){return l===null?t(l):e(l)}}function jre(n,e,t){let i,r,s;return l;function l(f){return f===46||f===95?n.check(LL,c,u)(f):f===null||Ot(f)||la(f)||f!==45&&ig(f)?c(f):(s=!0,n.consume(f),l)}function u(f){return f===95?i=!0:(r=i,i=void 0),n.consume(f),l}function c(f){return r||i||!s?t(f):e(f)}}function qre(n,e){let t=0,i=0;return r;function r(l){return l===40?(t++,n.consume(l),r):l===41&&i<t?s(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?n.check(LL,e,s)(l):l===null||Ot(l)||la(l)?e(l):(n.consume(l),r)}function s(l){return l===41&&i++,n.consume(l),r}}function Vre(n,e,t){return i;function i(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(n.consume(u),i):u===38?(n.consume(u),s):u===93?(n.consume(u),r):u===60||u===null||Ot(u)||la(u)?e(u):t(u)}function r(u){return u===null||u===40||u===91||Ot(u)||la(u)?e(u):i(u)}function s(u){return _n(u)?l(u):t(u)}function l(u){return u===59?(n.consume(u),i):_n(u)?(n.consume(u),l):t(u)}}function Yre(n,e,t){return i;function i(s){return n.consume(s),r}function r(s){return On(s)?t(s):e(s)}}function BL(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Ot(n)}function XL(n){return!_n(n)}function ZL(n){return!(n===47||L1(n))}function L1(n){return n===43||n===45||n===46||n===95||On(n)}function rx(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const Wre={tokenize:nse,partial:!0};function Hre(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Jre,continuation:{tokenize:ese},exit:tse}},text:{91:{name:"gfmFootnoteCall",tokenize:Kre},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Gre,resolveTo:Fre}}}}function Gre(n,e,t){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l;for(;r--;){const c=i.events[r][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return t(c);const f=Yi(i.sliceSerialize({start:l.end,end:i.now()}));return f.codePointAt(0)!==94||!s.includes(f.slice(1))?t(c):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Fre(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},u=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",s,e],["enter",l,e],["exit",l,e],["exit",s,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...u),n}function Kre(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,l;return u;function u(m){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==94?t(m):(n.enter("gfmFootnoteCallMarker"),n.consume(m),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",f)}function f(m){if(s>999||m===93&&!l||m===null||m===91||Ot(m))return t(m);if(m===93){n.exit("chunkString");const g=n.exit("gfmFootnoteCallString");return r.includes(Yi(i.sliceSerialize(g)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(m),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(m)}return Ot(m)||(l=!0),s++,n.consume(m),m===92?d:f}function d(m){return m===91||m===92||m===93?(n.consume(m),s++,f):f(m)}}function Jre(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,l=0,u;return c;function c(S){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",d):t(S)}function d(S){if(l>999||S===93&&!u||S===null||S===91||Ot(S))return t(S);if(S===93){n.exit("chunkString");const x=n.exit("gfmFootnoteDefinitionLabelString");return s=Yi(i.sliceSerialize(x)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),g}return Ot(S)||(u=!0),l++,n.consume(S),S===92?m:d}function m(S){return S===91||S===92||S===93?(n.consume(S),l++,d):d(S)}function g(S){return S===58?(n.enter("definitionMarker"),n.consume(S),n.exit("definitionMarker"),r.includes(s)||r.push(s),Ge(n,y,"gfmFootnoteDefinitionWhitespace")):t(S)}function y(S){return e(S)}}function ese(n,e,t){return n.check(Jh,e,n.attempt(Wre,e,t))}function tse(n){n.exit("gfmFootnoteDefinition")}function nse(n,e,t){const i=this;return Ge(n,r,"gfmFootnoteDefinitionIndent",5);function r(s){const l=i.events[i.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(s):t(s)}}function ise(n){let t=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let f=c;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[c][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[c][1].end)},m={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[c][1].start)},g=[["enter",d,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",m,u]],y=u.parser.constructs.insideSpan.null;y&&ci(g,g.length,0,rg(y,l.slice(f+1,c),u)),ci(g,g.length,0,[["exit",m,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",d,u]]),ci(l,f-1,c-f+3,g),c=f+g.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function s(l,u,c){const f=this.previous,d=this.events;let m=0;return g;function g(S){return f===126&&d[d.length-1][1].type!=="characterEscape"?c(S):(l.enter("strikethroughSequenceTemporary"),y(S))}function y(S){const x=Uo(f);if(S===126)return m>1?c(S):(l.consume(S),m++,y);if(m<2&&!t)return c(S);const w=l.exit("strikethroughSequenceTemporary"),k=Uo(S);return w._open=!k||k===2&&!!x,w._close=!x||x===2&&!!k,u(S)}}}class rse{constructor(){this.map=[]}add(e,t,i){sse(this,e,t,i)}consume(e){if(this.map.sort(function(s,l){return s[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const s of r)e.push(s);r=i.pop()}this.map.length=0}}function sse(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function lse(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}function ase(){return{flow:{null:{name:"table",tokenize:ose,resolveAll:use}}}}function ose(n,e,t){const i=this;let r=0,s=0,l;return u;function u(I){let ee=i.events.length-1;for(;ee>-1;){const se=i.events[ee][1].type;if(se==="lineEnding"||se==="linePrefix")ee--;else break}const W=ee>-1?i.events[ee][1].type:null,he=W==="tableHead"||W==="tableRow"?R:c;return he===R&&i.parser.lazy[i.now().line]?t(I):he(I)}function c(I){return n.enter("tableHead"),n.enter("tableRow"),f(I)}function f(I){return I===124||(l=!0,s+=1),d(I)}function d(I){return I===null?t(I):_e(I)?s>1?(s=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),y):t(I):je(I)?Ge(n,d,"whitespace")(I):(s+=1,l&&(l=!1,r+=1),I===124?(n.enter("tableCellDivider"),n.consume(I),n.exit("tableCellDivider"),l=!0,d):(n.enter("data"),m(I)))}function m(I){return I===null||I===124||Ot(I)?(n.exit("data"),d(I)):(n.consume(I),I===92?g:m)}function g(I){return I===92||I===124?(n.consume(I),m):m(I)}function y(I){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(I):(n.enter("tableDelimiterRow"),l=!1,je(I)?Ge(n,S,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):S(I))}function S(I){return I===45||I===58?w(I):I===124?(l=!0,n.enter("tableCellDivider"),n.consume(I),n.exit("tableCellDivider"),x):D(I)}function x(I){return je(I)?Ge(n,w,"whitespace")(I):w(I)}function w(I){return I===58?(s+=1,l=!0,n.enter("tableDelimiterMarker"),n.consume(I),n.exit("tableDelimiterMarker"),k):I===45?(s+=1,k(I)):I===null||_e(I)?Z(I):D(I)}function k(I){return I===45?(n.enter("tableDelimiterFiller"),A(I)):D(I)}function A(I){return I===45?(n.consume(I),A):I===58?(l=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(I),n.exit("tableDelimiterMarker"),T):(n.exit("tableDelimiterFiller"),T(I))}function T(I){return je(I)?Ge(n,Z,"whitespace")(I):Z(I)}function Z(I){return I===124?S(I):I===null||_e(I)?!l||r!==s?D(I):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(I)):D(I)}function D(I){return t(I)}function R(I){return n.enter("tableRow"),B(I)}function B(I){return I===124?(n.enter("tableCellDivider"),n.consume(I),n.exit("tableCellDivider"),B):I===null||_e(I)?(n.exit("tableRow"),e(I)):je(I)?Ge(n,B,"whitespace")(I):(n.enter("data"),le(I))}function le(I){return I===null||I===124||Ot(I)?(n.exit("data"),B(I)):(n.consume(I),I===92?re:le)}function re(I){return I===92||I===124?(n.consume(I),le):le(I)}}function use(n,e){let t=-1,i=!0,r=0,s=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,f,d,m;const g=new rse;for(;++t<n.length;){const y=n[t],S=y[1];y[0]==="enter"?S.type==="tableHead"?(u=!1,c!==0&&(JA(g,e,c,f,d),d=void 0,c=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(t,0,[["enter",f,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(i=!0,m=void 0,s=[0,0,0,0],l=[0,t+1,0,0],u&&(u=!1,d={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(t,0,[["enter",d,e]])),r=S.type==="tableDelimiterRow"?2:d?3:1):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(i=!1,l[2]===0&&(s[1]!==0&&(l[0]=l[1],m=Jd(g,e,s,r,void 0,m),s=[0,0,0,0]),l[2]=t)):S.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(l[0]=l[1],m=Jd(g,e,s,r,void 0,m)),s=l,l=[s[1],t,0,0])):S.type==="tableHead"?(u=!0,c=t):S.type==="tableRow"||S.type==="tableDelimiterRow"?(c=t,s[1]!==0?(l[0]=l[1],m=Jd(g,e,s,r,t,m)):l[1]!==0&&(m=Jd(g,e,l,r,t,m)),r=0):r&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=t)}for(c!==0&&JA(g,e,c,f,d),g.consume(e.events),t=-1;++t<e.events.length;){const y=e.events[t];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=lse(e.events,t))}return n}function Jd(n,e,t,i,r,s){const l=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",u="tableContent";t[0]!==0&&(s.end=Object.assign({},io(e.events,t[0])),n.add(t[0],0,[["exit",s,e]]));const c=io(e.events,t[1]);if(s={type:l,start:Object.assign({},c),end:Object.assign({},c)},n.add(t[1],0,[["enter",s,e]]),t[2]!==0){const f=io(e.events,t[2]),d=io(e.events,t[3]),m={type:u,start:Object.assign({},f),end:Object.assign({},d)};if(n.add(t[2],0,[["enter",m,e]]),i!==2){const g=e.events[t[2]],y=e.events[t[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",t[3]>t[2]+1){const S=t[2]+1,x=t[3]-t[2]-1;n.add(S,x,[])}}n.add(t[3]+1,0,[["exit",m,e]])}return r!==void 0&&(s.end=Object.assign({},io(e.events,r)),n.add(r,0,[["exit",s,e]]),s=void 0),s}function JA(n,e,t,i,r){const s=[],l=io(e.events,t);r&&(r.end=Object.assign({},l),s.push(["exit",r,e])),i.end=Object.assign({},l),s.push(["exit",i,e]),n.add(t+1,0,s)}function io(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const cse={name:"tasklistCheck",tokenize:fse};function hse(){return{text:{91:cse}}}function fse(n,e,t){const i=this;return r;function r(c){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(c):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),s)}function s(c){return Ot(c)?(n.enter("taskListCheckValueUnchecked"),n.consume(c),n.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(n.enter("taskListCheckValueChecked"),n.consume(c),n.exit("taskListCheckValueChecked"),l):t(c)}function l(c){return c===93?(n.enter("taskListCheckMarker"),n.consume(c),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),u):t(c)}function u(c){return _e(c)?e(c):je(c)?n.check({tokenize:dse},e,t)(c):t(c)}}function dse(n,e,t){return Ge(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function pse(n){return JI([zre(),Hre(),ise(n),ase(),hse()])}const mse={};function gse(n){const e=this,t=n||mse,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),l=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(pse(t)),s.push(Dre()),l.push(Ire(t))}const lr="/api",Ose=1e3,Xs=n=>n.split("/").map(e=>encodeURIComponent(e)).join("/");function eo(){const n={"Content-Type":"application/json"};return nh.currentUser&&(n["X-Firebase-UID"]=nh.currentUser.uid),n}const yse=de.theme({"&":{backgroundColor:"#0d1117",color:"#e6edf3"},".cm-content":{caretColor:"#58a6ff"},".cm-cursor":{borderLeftColor:"#58a6ff"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground":{backgroundColor:"#1f6feb44"},".cm-gutters":{backgroundColor:"#161b22",color:"#484f58",border:"none"},".cm-activeLineGutter":{backgroundColor:"#1f6feb22"},".cm-activeLine":{backgroundColor:"#1f6feb11"}},{dark:!0});function bse({user:n}){const{userId:e,"*":t}=F5(),i=Ah();ul();const[r,s]=X.useState([]),[l,u]=X.useState(null),[c,f]=X.useState(""),[d,m]=X.useState(""),[g,y]=X.useState("edit"),[S,x]=X.useState("idle"),[w,k]=X.useState(null),[A,T]=X.useState(!1),Z=X.useRef(null),D=X.useCallback(()=>{fetch(`${lr}/${e}/files`).then(F=>F.json()).then(F=>s(F.files||[])).catch(F=>console.error("Failed to load files:",F))},[e]);X.useEffect(()=>{D()},[D]),X.useEffect(()=>{if(t){const F=decodeURIComponent(t);fetch(`${lr}/${e}/file/${Xs(F)}`).then(E=>E.json()).then(E=>{E.error||(u(E),f(E.content),m(E.content),x("idle"))}).catch(()=>{})}else u(null),f(""),m("")},[t,e]),X.useEffect(()=>{const F=()=>k(null);return window.addEventListener("click",F),()=>window.removeEventListener("click",F)},[]),X.useEffect(()=>{const F=Vj(e,E=>{if(l){const P=E.find(U=>U.path===l.path);P&&P.hash!==CT(c)&&fetch(`${lr}/${e}/file/${Xs(l.path)}`).then(U=>U.json()).then(U=>{f(U.content),m(U.content),x("idle")}).catch(U=>console.error("Failed to reload:",U))}D()});return()=>F&&F()},[l,c,D,e]);const R=X.useCallback(F=>{i(`/${e}/${F}`),T(!1)},[e,i]),B=X.useCallback(async(F,E)=>{x("saving");try{(await(await fetch(`${lr}/${e}/file/${Xs(F)}`,{method:"PUT",headers:eo(),body:JSON.stringify({content:E})})).json()).saved&&(m(E),x("saved"),qj(e,F,{size:new Blob([E]).size,hash:CT(E)}).catch(C=>console.error("Firebase meta update failed:",C)),setTimeout(()=>x(C=>C==="saved"?"idle":C),2e3))}catch(P){console.error("Failed to save:",P),x("error")}},[e]),le=X.useCallback(F=>{f(F),Z.current&&clearTimeout(Z.current),F!==d&&l&&(x("editing"),Z.current=setTimeout(()=>{B(l.path,F)},Ose))},[d,l,B]);X.useEffect(()=>()=>{Z.current&&clearTimeout(Z.current)},[]);const re=async F=>{const E=prompt("   (.md  )");if(!E)return;const P=E.endsWith(".md")?E:`${E}.md`,U=F?`${F}/${P}`:P;try{await fetch(`${lr}/${e}/file/${Xs(U)}`,{method:"PUT",headers:eo(),body:JSON.stringify({content:`# ${E.replace(".md","")}

`})}),D(),R(U)}catch(C){console.error("Failed to create file:",C)}},I=async F=>{const E=prompt("  ");if(!E)return;const P=F?`${F}/${E}/.gitkeep`:`${E}/.gitkeep`;try{await fetch(`${lr}/${e}/file/${Xs(P)}`,{method:"PUT",headers:eo(),body:JSON.stringify({content:""})}),D()}catch(U){console.error("Failed to create folder:",U)}},ee=async F=>{const E=F.split("/").pop(),P=prompt(" ",E);if(!P||P===E)return;const U=F.includes("/")?F.substring(0,F.lastIndexOf("/")):"",C=U?`${U}/${P}`:P;try{await fetch(`${lr}/${e}/rename`,{method:"POST",headers:eo(),body:JSON.stringify({oldPath:F,newPath:C})}),D(),(l==null?void 0:l.path)===F&&R(C)}catch(ue){console.error("Failed to rename:",ue)}},W=async(F,E)=>{if(confirm(`"${E}" ?`))try{await fetch(`${lr}/${e}/file/${Xs(F)}`,{method:"DELETE",headers:eo()}),D(),(l==null?void 0:l.path)===F&&i(`/${e}`)}catch(P){console.error("Failed to delete:",P)}},he=async F=>{try{const P=await(await fetch(`${lr}/${e}/file/${Xs(F)}`)).json(),U=F.lastIndexOf(".md"),C=U>0?`${F.slice(0,U)} (copy).md`:`${F} (copy)`;await fetch(`${lr}/${e}/file/${Xs(C)}`,{method:"PUT",headers:eo(),body:JSON.stringify({content:P.content})}),D()}catch(E){console.error("Failed to duplicate:",E)}},se=(F,E,P,U)=>{F.preventDefault(),F.stopPropagation(),k({x:F.clientX,y:F.clientY,type:E,path:P,name:U})},te=async()=>{await Hj(),i("/")},N=async()=>{if(n&&confirm(`API  ?
  .`))try{const E=await(await fetch("/api/token/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid,username:e})})).json();E.token?prompt(`API  .
  :`,E.token):alert("  : "+(E.error||"   "))}catch{alert("  ")}},ne={idle:"",editing:"",saving:" ...",saved:" ",error:"  "},pe={idle:"",editing:"unsaved",saving:"saving",saved:"saved",error:"error"};return z.jsxs(z.Fragment,{children:[z.jsxs("header",{className:"header",children:[z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[z.jsx("button",{className:"sidebar-toggle",onClick:()=>T(!A),children:A?"":""}),z.jsx("h1",{onClick:()=>i(`/${e}`),style:{cursor:"pointer"},children:" MDFlare"})]}),z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[z.jsxs("span",{className:"user-badge",children:[" ",(n==null?void 0:n.displayName)||e]}),z.jsx("button",{className:"logout-btn",onClick:N,children:" API "}),z.jsx("button",{className:"logout-btn",onClick:te,children:""})]})]}),z.jsxs("div",{className:"main",children:[z.jsxs("aside",{className:`sidebar ${A?"open":""}`,children:[z.jsxs("div",{className:"sidebar-header",onContextMenu:F=>se(F,"root","","root"),children:[z.jsx("span",{children:" Files"}),z.jsxs("div",{className:"sidebar-actions",children:[z.jsx("button",{className:"sidebar-action-btn",onClick:()=>re(""),title:" ",children:"+"}),z.jsx("button",{className:"sidebar-action-btn",onClick:()=>I(""),title:" ",children:"+"})]})]}),z.jsx("div",{className:"file-tree",onContextMenu:F=>{F.target.closest(".tree-item")||se(F,"root","","root")},children:z.jsx(UL,{items:r,currentPath:l==null?void 0:l.path,onSelect:R,onContextMenu:se})}),z.jsxs("div",{className:"sidebar-footer",children:["v","0.1.0","  ","2026. 2. 5. PM 8:01:52"]})]}),z.jsx("div",{className:"editor-area",children:l?z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"editor-toolbar",children:[z.jsx("span",{className:"file-path",children:l.path}),z.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[z.jsxs("div",{className:"tab-bar",children:[z.jsx("button",{className:`tab-btn ${g==="edit"?"active":""}`,onClick:()=>y("edit"),children:"Edit"}),z.jsx("button",{className:`tab-btn ${g==="split"?"active":""}`,onClick:()=>y("split"),children:"Split"}),z.jsx("button",{className:`tab-btn ${g==="preview"?"active":""}`,onClick:()=>y("preview"),children:"Preview"})]}),z.jsx("span",{className:`save-status ${pe[S]}`,children:ne[S]})]})]}),z.jsxs("div",{className:"editor-content",children:[(g==="edit"||g==="split")&&z.jsx(ED,{value:c,onChange:le,extensions:[ZK(),yse,de.lineWrapping],theme:"none",style:{flex:1,overflow:"auto"}}),(g==="preview"||g==="split")&&z.jsx("div",{className:"preview",children:z.jsx(iie,{remarkPlugins:[gse],children:c})})]})]}):z.jsxs("div",{className:"empty-state",children:[z.jsx("div",{className:"logo",children:""}),z.jsx("p",{children:" "})]})})]}),w&&z.jsx(Sse,{...w,onNewFile:re,onNewFolder:I,onRename:ee,onDelete:W,onDuplicate:he,onClose:()=>k(null)})]})}function Sse({x:n,y:e,type:t,path:i,name:r,onNewFile:s,onNewFolder:l,onRename:u,onDelete:c,onDuplicate:f,onClose:d}){const m=X.useRef(null);X.useEffect(()=>{if(m.current){const y=m.current.getBoundingClientRect();y.right>window.innerWidth&&(m.current.style.left=`${window.innerWidth-y.width-8}px`),y.bottom>window.innerHeight&&(m.current.style.top=`${window.innerHeight-y.height-8}px`)}},[]);const g=t==="folder"?i:t==="root"?"":i.substring(0,i.lastIndexOf("/"));return z.jsxs("div",{className:"context-menu",ref:m,style:{left:n,top:e},children:[z.jsx("div",{className:"context-item",onClick:()=>{s(g),d()},children:"  "}),z.jsx("div",{className:"context-item",onClick:()=>{l(g),d()},children:"  "}),t!=="root"&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"context-divider"}),z.jsx("div",{className:"context-item",onClick:()=>{u(i,t),d()},children:"  "}),t==="file"&&z.jsx("div",{className:"context-item",onClick:()=>{f(i),d()},children:" "}),z.jsx("div",{className:"context-divider"}),z.jsx("div",{className:"context-item danger",onClick:()=>{c(i,r),d()},children:" "})]})]})}function UL({items:n,currentPath:e,onSelect:t,onContextMenu:i,depth:r=0}){return n.map(s=>z.jsx("div",{children:s.type==="folder"?z.jsx(vse,{item:s,currentPath:e,onSelect:t,onContextMenu:i,depth:r}):z.jsxs("div",{className:`tree-item ${s.path===e?"active":""}`,style:{paddingLeft:16+r*16},onClick:()=>t(s.path),onContextMenu:l=>i(l,"file",s.path,s.name),children:[z.jsx("span",{className:"icon",children:""}),s.name]})},s.path))}function vse({item:n,currentPath:e,onSelect:t,onContextMenu:i,depth:r}){const[s,l]=X.useState(!0);return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"tree-item tree-folder",style:{paddingLeft:16+r*16},onClick:()=>l(!s),onContextMenu:u=>i(u,"folder",n.path,n.name),children:[z.jsx("span",{className:"icon",children:s?"":""}),n.name]}),s&&n.children&&z.jsx("div",{style:{paddingLeft:0},children:z.jsx(UL,{items:n.children,currentPath:e,onSelect:t,onContextMenu:i,depth:r+1})})]})}const xse=/^[a-z0-9][a-z0-9-]{1,18}[a-z0-9]$/;function wse({user:n}){const e=Ah(),[t,i]=X.useState(""),[r,s]=X.useState("idle"),[l,u]=X.useState(""),[c,f]=X.useState(!1),d=X.useRef(null),m=X.useCallback(S=>{const x=S.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");if(i(x),d.current&&clearTimeout(d.current),!x||x.length<3){s("idle"),u(x.length>0?"3  ":"");return}if(!xse.test(x)){s("invalid"),u(", ,   (/   )");return}s("checking"),u(" ..."),d.current=setTimeout(async()=>{try{const k=await(await fetch(`/api/username/check?name=${x}`)).json();k.available?(s("available"),u(` ${x}  !`)):(s("taken"),u(k.reason||"   "))}catch{s("error"),u(" .  .")}},400)},[]),g=async S=>{if(S.preventDefault(),!(r!=="available"||c)){f(!0);try{const w=await(await fetch("/api/username/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid,username:t,displayName:n.displayName||""})})).json();w.registered?e(`/${t}`):(s("error"),u(w.error||" "))}catch{s("error"),u(" .  .")}finally{f(!1)}}};X.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const y={idle:"#888",checking:"#888",available:"#3fb950",taken:"#f85149",invalid:"#f85149",error:"#f85149"};return z.jsxs("div",{className:"landing",children:[z.jsx("nav",{className:"landing-nav",children:z.jsx("h1",{children:" MDFlare"})}),z.jsxs("div",{className:"hero",style:{maxWidth:480},children:[z.jsx("h2",{children:"  "}),z.jsxs("p",{className:"hero-sub",children:["URL   .",z.jsx("br",{}),z.jsxs("strong",{children:["mdflare.com/",z.jsx("span",{style:{color:"#58a6ff"},children:t||"your-name"})]})]}),z.jsxs("form",{onSubmit:g,style:{marginTop:24},children:[z.jsx("div",{style:{position:"relative"},children:z.jsx("input",{type:"text",value:t,onChange:m,placeholder:"your-username",maxLength:20,autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:18,background:"#161b22",border:`1px solid ${r==="available"?"#3fb950":r==="taken"||r==="invalid"?"#f85149":"#30363d"}`,borderRadius:8,color:"#e6edf3",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s"}})}),l&&z.jsx("p",{style:{color:y[r],marginTop:8,fontSize:14,textAlign:"left"},children:l}),z.jsx("button",{type:"submit",className:"cta-btn",disabled:r!=="available"||c,style:{marginTop:20,width:"100%",opacity:r==="available"&&!c?1:.5,cursor:r==="available"&&!c?"pointer":"not-allowed"},children:c?" ...":"   "})]})]})]})}function kse(){const n=Ah();return z.jsxs("div",{className:"landing",children:[z.jsxs("nav",{className:"landing-nav",children:[z.jsx("h1",{onClick:()=>n("/"),style:{cursor:"pointer"},children:" MDFlare"}),z.jsx("div",{style:{display:"flex",gap:12},children:z.jsx("button",{className:"login-btn",onClick:()=>n("/"),children:""})})]}),z.jsxs("div",{className:"hero",children:[z.jsx("h2",{children:"  "}),z.jsxs("p",{className:"hero-sub",children:["    MDFlare  .",z.jsx("br",{}),"     ."]})]}),z.jsxs("div",{className:"download-cards",children:[z.jsxs("div",{className:"download-card",children:[z.jsx("span",{className:"download-icon",children:""}),z.jsx("h3",{children:"macOS"}),z.jsx("p",{children:"Apple Silicon & Intel "}),z.jsx("a",{href:"https://firebasestorage.googleapis.com/v0/b/markdownflare.firebasestorage.app/o/downloads%2Fmac%2FMDFlare-Agent-1.0.2-mac.zip?alt=media&token=19c15ce3-e02f-49cb-823c-574ea74bccdc",className:"cta-btn",style:{textDecoration:"none",display:"inline-block"},children:" (88K)"}),z.jsx("span",{className:"download-note",children:"Swift      v1.0.2"}),z.jsxs("span",{className:"download-note",style:{marginTop:4},children:["zip   ",z.jsx("strong",{children:"install.command"})," "]})]}),z.jsxs("div",{className:"download-card",children:[z.jsx("span",{className:"download-icon",children:""}),z.jsx("h3",{children:"Windows"}),z.jsx("p",{children:"Windows 10 "}),z.jsx("button",{className:"cta-btn",disabled:!0,style:{opacity:.5,cursor:"not-allowed"},children:"Coming Soon"}),z.jsx("span",{className:"download-note",children:"    "})]}),z.jsxs("div",{className:"download-card",children:[z.jsx("span",{className:"download-icon",children:""}),z.jsx("h3",{children:"Linux"}),z.jsx("p",{children:"Ubuntu, Fedora, Arch "}),z.jsx("button",{className:"cta-btn",disabled:!0,style:{opacity:.5,cursor:"not-allowed"},children:"Coming Soon"}),z.jsx("span",{className:"download-note",children:"CLI +   AppImage"})]})]}),z.jsxs("div",{className:"how-it-works",children:[z.jsx("h2",{children:" ?"}),z.jsxs("div",{className:"steps",children:[z.jsxs("div",{className:"step",children:[z.jsx("span",{className:"step-num",children:"1"}),z.jsx("h3",{children:" "}),z.jsx("p",{children:"OS    ."})]}),z.jsxs("div",{className:"step",children:[z.jsx("span",{className:"step-num",children:"2"}),z.jsx("h3",{children:" "}),z.jsx("p",{children:"    ."})]}),z.jsxs("div",{className:"step",children:[z.jsx("span",{className:"step-num",children:"3"}),z.jsx("h3",{children:" "}),z.jsx("p",{children:"     ."})]})]})]}),z.jsxs("footer",{className:"landing-footer",children:[z.jsx("p",{children:" 2026 MDFlare  Built with Cloudflare"}),z.jsxs("p",{style:{marginTop:4,fontSize:11,color:"#30363d"},children:["v","0.1.0","  ","2026. 2. 5. PM 8:01:52"]})]})]})}function _se(){const[n,e]=X.useState(null),[t,i]=X.useState(null),[r,s]=X.useState(!0);return X.useEffect(()=>Gj(async u=>{if(e(u),u)try{const f=await(await fetch(`/api/username/resolve?uid=${u.uid}`)).json();f.found?i(f.username):i(null)}catch{i(null)}else i(null);s(!1)}),[]),r?z.jsxs("div",{className:"loading-screen",children:[z.jsx("div",{className:"logo",children:""}),z.jsx("p",{children:"MDFlare"})]}):z.jsxs(f3,{children:[z.jsx(vc,{path:"/",element:z.jsx(TT,{user:n,username:t})}),z.jsx(vc,{path:"/download",element:z.jsx(kse,{})}),z.jsx(vc,{path:"/setup",element:n&&!t?z.jsx(wse,{user:n}):z.jsx(TT,{user:n,username:t})}),z.jsx(vc,{path:"/:userId/*",element:z.jsx(bse,{user:n})})]})}p5.createRoot(document.getElementById("root")).render(z.jsx(I3,{children:z.jsx(_se,{})}));
